!function(e){function r(e,r,o){return 4===arguments.length?t.apply(this,arguments):void n(e,{declarative:!0,deps:r,declare:o})}function t(e,r,t,o){n(e,{declarative:!1,deps:r,executingRequire:t,execute:o})}function n(e,r){r.name=e,e in v||(v[e]=r),r.normalizedDeps=r.deps}function o(e,r){if(r[e.groupIndex]=r[e.groupIndex]||[],-1==g.call(r[e.groupIndex],e)){r[e.groupIndex].push(e);for(var t=0,n=e.normalizedDeps.length;n>t;t++){var a=e.normalizedDeps[t],u=v[a];if(u&&!u.evaluated){var d=e.groupIndex+(u.declarative!=e.declarative);if(void 0===u.groupIndex||u.groupIndex<d){if(void 0!==u.groupIndex&&(r[u.groupIndex].splice(g.call(r[u.groupIndex],u),1),0==r[u.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");u.groupIndex=d}o(u,r)}}}}function a(e){var r=v[e];r.groupIndex=0;var t=[];o(r,t);for(var n=!!r.declarative==t.length%2,a=t.length-1;a>=0;a--){for(var u=t[a],i=0;i<u.length;i++){var s=u[i];n?d(s):l(s)}n=!n}}function u(e){return y[e]||(y[e]={name:e,dependencies:[],exports:{},importers:[]})}function d(r){if(!r.module){var t=r.module=u(r.name),n=r.module.exports,o=r.declare.call(e,function(e,r){if(t.locked=!0,"object"==typeof e)for(var o in e)n[o]=e[o];else n[e]=r;for(var a=0,u=t.importers.length;u>a;a++){var d=t.importers[a];if(!d.locked)for(var i=0;i<d.dependencies.length;++i)d.dependencies[i]===t&&d.setters[i](n)}return t.locked=!1,r},{id:r.name});t.setters=o.setters,t.execute=o.execute;for(var a=0,i=r.normalizedDeps.length;i>a;a++){var l,s=r.normalizedDeps[a],c=v[s],f=y[s];f?l=f.exports:c&&!c.declarative?l=c.esModule:c?(d(c),f=c.module,l=f.exports):l=p(s),f&&f.importers?(f.importers.push(t),t.dependencies.push(f)):t.dependencies.push(null),t.setters[a]&&t.setters[a](l)}}}function i(e){var r,t=v[e];if(t)t.declarative?f(e,[]):t.evaluated||l(t),r=t.module.exports;else if(r=p(e),!r)throw new Error("Unable to load dependency "+e+".");return(!t||t.declarative)&&r&&r.__useDefault?r["default"]:r}function l(r){if(!r.module){var t={},n=r.module={exports:t,id:r.name};if(!r.executingRequire)for(var o=0,a=r.normalizedDeps.length;a>o;o++){var u=r.normalizedDeps[o],d=v[u];d&&l(d)}r.evaluated=!0;var c=r.execute.call(e,function(e){for(var t=0,n=r.deps.length;n>t;t++)if(r.deps[t]==e)return i(r.normalizedDeps[t]);throw new TypeError("Module "+e+" not declared as a dependency.")},t,n);void 0!==c&&(n.exports=c),t=n.exports,t&&t.__esModule?r.esModule=t:r.esModule=s(t)}}function s(r){var t={};if(("object"==typeof r||"function"==typeof r)&&r!==e)if(m)for(var n in r)"default"!==n&&c(t,r,n);else{var o=r&&r.hasOwnProperty;for(var n in r)"default"===n||o&&!r.hasOwnProperty(n)||(t[n]=r[n])}return t["default"]=r,x(t,"__useDefault",{value:!0}),t}function c(e,r,t){try{var n;(n=Object.getOwnPropertyDescriptor(r,t))&&x(e,t,n)}catch(o){return e[t]=r[t],!1}}function f(r,t){var n=v[r];if(n&&!n.evaluated&&n.declarative){t.push(r);for(var o=0,a=n.normalizedDeps.length;a>o;o++){var u=n.normalizedDeps[o];-1==g.call(t,u)&&(v[u]?f(u,t):p(u))}n.evaluated||(n.evaluated=!0,n.module.execute.call(e))}}function p(e){if(I[e])return I[e];if("@node/"==e.substr(0,6))return I[e]=s(D(e.substr(6)));var r=v[e];if(!r)throw"Module "+e+" not present.";return a(e),f(e,[]),v[e]=void 0,r.declarative&&x(r.module.exports,"__esModule",{value:!0}),I[e]=r.declarative?r.module.exports:r.esModule}var v={},g=Array.prototype.indexOf||function(e){for(var r=0,t=this.length;t>r;r++)if(this[r]===e)return r;return-1},m=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(h){m=!1}var x;!function(){try{Object.defineProperty({},"a",{})&&(x=Object.defineProperty)}catch(e){x=function(e,r,t){try{e[r]=t.value||t.get.call(e)}catch(n){}}}}();var y={},D="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&"undefined"!=typeof require.resolve&&"undefined"!=typeof process&&process.platform&&require,I={"@empty":{}};return function(e,n,o,a){return function(u){u(function(u){for(var d={_nodeRequire:D,register:r,registerDynamic:t,get:p,set:function(e,r){I[e]=r},newModule:function(e){return e}},i=0;i<n.length;i++)(function(e,r){r&&r.__esModule?I[e]=r:I[e]=s(r)})(n[i],arguments[i]);a(d);var l=p(e[0]);if(e.length>1)for(var i=1;i<e.length;i++)p(e[i]);return o?l["default"]:l})}}}("undefined"!=typeof self?self:global)

(["1"], [], false, function($__System) {
var require = this.require, exports = this.exports, module = this.module;
!function(e){function n(e,n){e=e.replace(l,"");var r=e.match(u),t=(r[1].split(",")[n]||"require").replace(s,""),i=p[t]||(p[t]=new RegExp(a+t+f,"g"));i.lastIndex=0;for(var o,c=[];o=i.exec(e);)c.push(o[2]||o[3]);return c}function r(e,n,t,o){if("object"==typeof e&&!(e instanceof Array))return r.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if("string"==typeof e&&"function"==typeof n&&(e=[e]),!(e instanceof Array)){if("string"==typeof e){var l=i.get(e);return l.__useDefault?l["default"]:l}throw new TypeError("Invalid require")}for(var a=[],f=0;f<e.length;f++)a.push(i["import"](e[f],o));Promise.all(a).then(function(e){n&&n.apply(null,e)},t)}function t(t,l,a){"string"!=typeof t&&(a=l,l=t,t=null),l instanceof Array||(a=l,l=["require","exports","module"].splice(0,a.length)),"function"!=typeof a&&(a=function(e){return function(){return e}}(a)),void 0===l[l.length-1]&&l.pop();var f,u,s;-1!=(f=o.call(l,"require"))&&(l.splice(f,1),t||(l=l.concat(n(a.toString(),f)))),-1!=(u=o.call(l,"exports"))&&l.splice(u,1),-1!=(s=o.call(l,"module"))&&l.splice(s,1);var p={name:t,deps:l,execute:function(n,t,o){for(var p=[],c=0;c<l.length;c++)p.push(n(l[c]));o.uri=o.id,o.config=function(){},-1!=s&&p.splice(s,0,o),-1!=u&&p.splice(u,0,t),-1!=f&&p.splice(f,0,function(e,t,l){return"string"==typeof e&&"function"!=typeof t?n(e):r.call(i,e,t,l,o.id)});var d=a.apply(-1==u?e:t,p);return"undefined"==typeof d&&o&&(d=o.exports),"undefined"!=typeof d?d:void 0}};if(t)c.anonDefine||c.isBundle?c.anonDefine&&c.anonDefine.name&&(c.anonDefine=null):c.anonDefine=p,c.isBundle=!0,i.registerDynamic(p.name,p.deps,!1,p.execute);else{if(c.anonDefine&&!c.anonDefine.name)throw new Error("Multiple anonymous defines in module "+t);c.anonDefine=p}}var i=$__System,o=Array.prototype.indexOf||function(e){for(var n=0,r=this.length;r>n;n++)if(this[n]===e)return n;return-1},l=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,a="(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])",f="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)",u=/\(([^\)]*)\)/,s=/^\s+|\s+$/g,p={};t.amd={};var c={isBundle:!1,anonDefine:null};i.amdDefine=t,i.amdRequire=r}("undefined"!=typeof self?self:global);
$__System.register('2', ['3'], function (_export) {
	'use strict';

	var Texture;

	_export('createTexture', createTexture);

	function createCanvas(segments) {
		var ctx = document.createElement('canvas').getContext('2d');
		ctx.canvas.width = segments[0].width || 1024;
		ctx.canvas.height = segments[0].height || 1024;
		var font = segments[0].font;
		segments.forEach(function (segment) {
			var options = segment || {};
			var fontSize = options.fontSize || 32;
			options.font = options.font || font;
			ctx.font = fontSize + 'px ' + options.font;
			ctx.fillStyle = options.fillStyle || 'white';
			ctx.textAlign = options.textAlign || 'center';
			ctx.textBaseline = options.textBaseline || 'middle';
			ctx.shadowColor = options.shadowColor || 'rgba(0,0,0,.5)';
			ctx.shadowBlur = options.shadowBlur || 4;

			var words = options.text.split('\n');
			var line = '';

			var anchor = options.anchor || [.5, .5];
			var x = ctx.canvas.width * anchor[0];
			var y = ctx.canvas.height * anchor[1];

			x += options.offsetX || 0;
			y += options.offsetY || 0;

			// y = ctx.canvas.height - fontSize;
			y -= Math.max(0, words.length - 1) * fontSize / 2;

			for (var n = 0; n < words.length; n++) {
				line = words[n];
				ctx.fillText(line, x, y);
				y += fontSize;
			}
		});

		return ctx.canvas;
	}

	function createTexture(segments) {
		var texture = new Texture(createCanvas(segments));
		texture.needsUpdate = true;
		return texture;
	}

	return {
		setters: [function (_) {
			Texture = _.Texture;
		}],
		execute: function () {}
	};
});

$__System.register('4', ['3', '5', '6', '7', '8'], function (_export) {
	var THREE, _createClass, _classCallCheck, closestPowerOfTwo, renderer, _default;

	return {
		setters: [function (_3) {
			THREE = _3;
		}, function (_) {
			_createClass = _['default'];
		}, function (_2) {
			_classCallCheck = _2['default'];
		}, function (_4) {
			closestPowerOfTwo = _4.closestPowerOfTwo;
		}, function (_5) {
			renderer = _5['default'];
		}],
		execute: function () {
			'use strict';

			_default = (function () {
				function _default(options) {
					_classCallCheck(this, _default);

					options = options || {};
					this.renderTextures = [];
					this.currentIndex = 0;
					this.count = options.count || 2;
					for (var i = 0; i < this.count; ++i) {
						this.renderTextures.push(new THREE.WebGLRenderTarget(options.width || window.innerWidth, options.height || window.innerHeight, {
							format: options.format || THREE.RGBAFormat,
							type: options.type || THREE.FloatType,
							minFilter: options.min || THREE.LinearFilter,
							magFilter: options.mag || THREE.LinearFilter,
							stencilBuffer: options.stencil || true,
							depthBuffer: options.depth || true
						}));
					}

					this.scene = new THREE.Mesh(new THREE.PlaneGeometry(1, 1), options.material);
					this.camera = new THREE.PerspectiveCamera(75, 1, 0.01, 100);
					this.camera.position.z = 5;
				}

				_createClass(_default, [{
					key: 'update',
					value: function update() {
						this.swap();
						renderer.render(this.scene, this.camera, this.getRenderTarget(), true);
					}
				}, {
					key: 'record',
					value: function record(scene, camera) {
						renderer.render(scene, camera, this.getRenderTarget(), true);
					}
				}, {
					key: 'getRenderTarget',
					value: function getRenderTarget() {
						return this.renderTextures[this.currentIndex];
					}
				}, {
					key: 'getTexture',
					value: function getTexture() {
						return this.renderTextures[this.currentIndex].texture;
					}
				}, {
					key: 'swap',
					value: function swap() {
						this.currentIndex = (this.currentIndex + 1) % this.count;
					}
				}, {
					key: 'setSize',
					value: function setSize(width, height) {
						for (var i = 0; i < this.count; ++i) {
							this.renderTextures[i].setSize(width, height);
						}
					}
				}, {
					key: 'dispose',
					value: function dispose() {
						for (var i = 0; i < this.count; ++i) {
							this.renderTextures[i].dispose();
						}
					}
				}], [{
					key: 'createDataTexture',
					value: function createDataTexture(dataArray, itemSize) {
						// var dimension = closestPowerOfTwo(Math.sqrt(dataArray.length / itemSize));
						var array = [];
						// var count = dimension * dimension;
						var count = dataArray.length / 3;
						for (var t = 0; t < count; ++t) {
							if (t * itemSize + itemSize - 1 < dataArray.length) {
								for (var i = 0; i < 3; ++i) {
									if (i < itemSize) {
										array.push(dataArray[t * itemSize + i]);
									} else {
										array.push(0);
									}
								}
							} else {
								array.push(0, 0, 0);
							}
						}
						var texture = new THREE.DataTexture(new Float32Array(array), count, 1, THREE.RGBFormat, THREE.FloatType);
						texture.needsUpdate = true;
						return texture;
					}
				}]);

				return _default;
			})();

			_export('default', _default);
		}
	};
});

$__System.register('9', ['7', 'a', 'b', 'c', 'd', 'e'], function (_export) {
	var clamp, lerp, lerpArray, lerpVector, lerpVectorArray, saturate, _Object$keys, parameters, assets, engine, Mouse, keys, deltas, params, uniformsToUpdate, uniforms;

	function initUniforms() {
		keys = _Object$keys(assets.animations.actions);
		keys.forEach(function (name) {
			uniforms[name] = { value: [0, 0, 0] };
			deltas[name] = [0, 0, 0];
		});
		params = _Object$keys(parameters.debug);
		params.forEach(function (name) {
			var param = parameters.debug[name];
			var type = typeof param;
			if (type == 'number') {
				uniforms[name] = { value: param };
			} else if (type == 'boolean') {
				uniforms[name] = { value: param ? 1 : 0 };
			}
		});
		assets.shaders.render.uniforms = uniforms;
		uniforms.frame.value = engine.frametarget.texture;
		uniforms.blur.value = engine.bloom.blurTarget.texture;
		uniforms.bloom.value = engine.bloom.bloomTarget.texture;
	}

	function updateUniforms(elapsed) {
		uniforms.time.value = elapsed;
		uniforms.cameraPos.value = engine.camera.position;
		uniforms.cameraTarget.value = engine.controls.target;
		uniforms.mouse.value[0] = Mouse.x;
		uniforms.mouse.value[1] = Mouse.y;
		keys.forEach(function (name) {
			var pos = assets.animations.getPosition(name, elapsed);
			deltas[name] = lerpArray(deltas[name], pos, .1);
			uniforms[name].value = pos;
		});
		params.forEach(function (name) {
			var param = parameters.debug[name];
			var type = typeof param;
			if (type == 'number') {
				uniforms[name].value = param;
			} else if (type == 'boolean') {
				uniforms[name].value = param ? 1 : 0;
			}
		});
		uniformsToUpdate.forEach(function (item) {
			return item.time.value = elapsed;
		});
	}

	function resizeUniforms(width, height) {
		uniforms.resolution.value[0] = width;
		uniforms.resolution.value[1] = height;
		uniformsToUpdate.forEach(function (item) {
			return item.resolution.value = [width, height];
		});
	}

	return {
		setters: [function (_) {
			clamp = _.clamp;
			lerp = _.lerp;
			lerpArray = _.lerpArray;
			lerpVector = _.lerpVector;
			lerpVectorArray = _.lerpVectorArray;
			saturate = _.saturate;
		}, function (_a) {
			_Object$keys = _a['default'];
		}, function (_b) {
			parameters = _b['default'];
		}, function (_c) {
			assets = _c['default'];
		}, function (_d) {
			engine = _d.engine;
		}, function (_e) {
			Mouse = _e['default'];
		}],
		execute: function () {
			'use strict';

			_export('initUniforms', initUniforms);

			_export('updateUniforms', updateUniforms);

			_export('resizeUniforms', resizeUniforms);

			keys = [];
			deltas = {};
			params = [];
			uniformsToUpdate = [];

			_export('uniformsToUpdate', uniformsToUpdate);

			uniforms = {
				time: { value: 0 },
				resolution: { value: [window.innerWidth, window.innerHeight] },
				mouse: { value: [window.innerWidth / 2, window.innerHeight / 2] },
				cameraPos: { value: [0, 0, 0] },
				cameraTarget: { value: [0, 0, 0] },
				frame: { value: 0 },
				blur: { value: 0 },
				bloom: { value: 0 }
			};

			_export('uniforms', uniforms);
		}
	};
});

$__System.registerDynamic('f', ['10'], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  var $ = $__require('10');
  module.exports = function create(P, D) {
    return $.create(P, D);
  };
});
$__System.registerDynamic("11", ["f"], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  module.exports = { "default": $__require("f"), __esModule: true };
});
$__System.registerDynamic('12', ['10'], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  var $ = $__require('10');
  module.exports = function defineProperties(T, D) {
    return $.setDescs(T, D);
  };
});
$__System.registerDynamic("13", ["12"], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  module.exports = { "default": $__require("12"), __esModule: true };
});
$__System.register('14', ['3', '11', '13'], function (_export) {
		var THREE, _Object$create, _Object$defineProperties, OrbitControls;

		return {
				setters: [function (_3) {
						THREE = _3;
				}, function (_) {
						_Object$create = _['default'];
				}, function (_2) {
						_Object$defineProperties = _2['default'];
				}],
				execute: function () {
						/**
       * @author qiao / https://github.com/qiao
       * @author mrdoob / http://mrdoob.com
       * @author alteredq / http://alteredqualia.com/
       * @author WestLangley / http://github.com/WestLangley
       * @author erich666 / http://erichaines.com
       */

						// This set of controls performs orbiting, dollying (zooming), and panning.
						// Unlike TrackballControls, it maintains the "up" direction object.up (+Y by default).
						//
						//    Orbit - left mouse / touch: one finger move
						//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish
						//    Pan - right mouse, or arrow keys / touch: three finger swipe

						'use strict';

						OrbitControls = function OrbitControls(object, domElement) {

								this.object = object;

								this.domElement = domElement !== undefined ? domElement : document;

								// Set to false to disable this control
								this.enabled = true;

								// "target" sets the location of focus, where the object orbits around
								this.target = new THREE.Vector3();

								// How far you can dolly in and out ( PerspectiveCamera only )
								this.minDistance = 0;
								this.maxDistance = Infinity;

								// How far you can zoom in and out ( OrthographicCamera only )
								this.minZoom = 0;
								this.maxZoom = Infinity;

								// How far you can orbit vertically, upper and lower limits.
								// Range is 0 to Math.PI radians.
								this.minPolarAngle = 0; // radians
								this.maxPolarAngle = Math.PI; // radians

								// How far you can orbit horizontally, upper and lower limits.
								// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].
								this.minAzimuthAngle = -Infinity; // radians
								this.maxAzimuthAngle = Infinity; // radians

								// Set to true to enable damping (inertia)
								// If damping is enabled, you must call controls.update() in your animation loop
								this.enableDamping = false;
								this.dampingFactor = 0.25;

								// This option actually enables dollying in and out; left as "zoom" for backwards compatibility.
								// Set to false to disable zooming
								this.enableZoom = true;
								this.zoomSpeed = 1.0;

								// Set to false to disable rotating
								this.enableRotate = true;
								this.rotateSpeed = 1.0;

								// Set to false to disable panning
								this.enablePan = true;
								this.keyPanSpeed = 7.0; // pixels moved per arrow key push

								// Set to true to automatically rotate around the target
								// If auto-rotate is enabled, you must call controls.update() in your animation loop
								this.autoRotate = false;
								this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60

								// Set to false to disable use of the keys
								this.enableKeys = true;

								// The four arrow keys
								this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };

								// Mouse buttons
								this.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };

								// for reset
								this.target0 = this.target.clone();
								this.position0 = this.object.position.clone();
								this.zoom0 = this.object.zoom;

								//
								// public methods
								//

								this.getPolarAngle = function () {

										return spherical.phi;
								};

								this.getAzimuthalAngle = function () {

										return spherical.theta;
								};

								this.reset = function () {

										scope.target.copy(scope.target0);
										scope.object.position.copy(scope.position0);
										scope.object.zoom = scope.zoom0;

										scope.object.updateProjectionMatrix();
										scope.dispatchEvent(changeEvent);

										scope.update();

										state = STATE.NONE;
								};

								// this method is exposed, but perhaps it would be better if we can make it private...
								this.update = (function () {

										var offset = new THREE.Vector3();

										// so camera.up is the orbit axis
										var quat = new THREE.Quaternion().setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));
										var quatInverse = quat.clone().inverse();

										var lastPosition = new THREE.Vector3();
										var lastQuaternion = new THREE.Quaternion();

										return function update() {

												var position = scope.object.position;

												offset.copy(position).sub(scope.target);

												// rotate offset to "y-axis-is-up" space
												offset.applyQuaternion(quat);

												// angle from z-axis around y-axis
												spherical.setFromVector3(offset);

												if (scope.autoRotate && state === STATE.NONE) {

														rotateLeft(getAutoRotationAngle());
												}

												spherical.theta += sphericalDelta.theta;
												spherical.phi += sphericalDelta.phi;

												// restrict theta to be between desired limits
												spherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta));

												// restrict phi to be between desired limits
												spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));

												spherical.makeSafe();

												spherical.radius *= scale;

												// restrict radius to be between desired limits
												spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));

												// move target to panned location
												scope.target.add(panOffset);

												offset.setFromSpherical(spherical);

												// rotate offset back to "camera-up-vector-is-up" space
												offset.applyQuaternion(quatInverse);

												position.copy(scope.target).add(offset);

												scope.object.lookAt(scope.target);

												if (scope.enableDamping === true) {

														sphericalDelta.theta *= 1 - scope.dampingFactor;
														sphericalDelta.phi *= 1 - scope.dampingFactor;
												} else {

														sphericalDelta.set(0, 0, 0);
												}

												scale = 1;
												panOffset.set(0, 0, 0);

												// update condition is:
												// min(camera displacement, camera rotation in radians)^2 > EPS
												// using small-angle approximation cos(x/2) = 1 - x^2 / 8

												if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {

														scope.dispatchEvent(changeEvent);

														lastPosition.copy(scope.object.position);
														lastQuaternion.copy(scope.object.quaternion);
														zoomChanged = false;

														return true;
												}

												return false;
										};
								})();

								this.dispose = function () {

										scope.domElement.removeEventListener('contextmenu', onContextMenu, false);
										scope.domElement.removeEventListener('mousedown', onMouseDown, false);
										scope.domElement.removeEventListener('wheel', onMouseWheel, false);

										scope.domElement.removeEventListener('touchstart', onTouchStart, false);
										scope.domElement.removeEventListener('touchend', onTouchEnd, false);
										scope.domElement.removeEventListener('touchmove', onTouchMove, false);

										document.removeEventListener('mousemove', onMouseMove, false);
										document.removeEventListener('mouseup', onMouseUp, false);

										// window.removeEventListener( 'keydown', onKeyDown, false );

										//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?
								};

								//
								// internals
								//

								var scope = this;

								var changeEvent = { type: 'change' };
								var startEvent = { type: 'start' };
								var endEvent = { type: 'end' };

								var STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };

								var state = STATE.NONE;

								var EPS = 0.000001;

								// current position in spherical coordinates
								var spherical = new THREE.Spherical();
								var sphericalDelta = new THREE.Spherical();

								var scale = 1;
								var panOffset = new THREE.Vector3();
								var zoomChanged = false;

								var rotateStart = new THREE.Vector2();
								var rotateEnd = new THREE.Vector2();
								var rotateDelta = new THREE.Vector2();

								var panStart = new THREE.Vector2();
								var panEnd = new THREE.Vector2();
								var panDelta = new THREE.Vector2();

								var dollyStart = new THREE.Vector2();
								var dollyEnd = new THREE.Vector2();
								var dollyDelta = new THREE.Vector2();

								function getAutoRotationAngle() {

										return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;
								}

								function getZoomScale() {

										return Math.pow(0.95, scope.zoomSpeed);
								}

								function rotateLeft(angle) {

										sphericalDelta.theta -= angle;
								}

								function rotateUp(angle) {

										sphericalDelta.phi -= angle;
								}

								var panLeft = (function () {

										var v = new THREE.Vector3();

										return function panLeft(distance, objectMatrix) {

												v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix
												v.multiplyScalar(-distance);

												panOffset.add(v);
										};
								})();

								var panUp = (function () {

										var v = new THREE.Vector3();

										return function panUp(distance, objectMatrix) {

												v.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix
												v.multiplyScalar(distance);

												panOffset.add(v);
										};
								})();

								// deltaX and deltaY are in pixels; right and down are positive
								var pan = (function () {

										var offset = new THREE.Vector3();

										return function pan(deltaX, deltaY) {

												var element = scope.domElement === document ? scope.domElement.body : scope.domElement;

												if (scope.object instanceof THREE.PerspectiveCamera) {

														// perspective
														var position = scope.object.position;
														offset.copy(position).sub(scope.target);
														var targetDistance = offset.length();

														// half of the fov is center to top of screen
														targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);

														// we actually don't use screenWidth, since perspective camera is fixed to screen height
														panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);
														panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);
												} else if (scope.object instanceof THREE.OrthographicCamera) {

														// orthographic
														panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);
														panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);
												} else {

														// camera neither orthographic nor perspective
														console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');
														scope.enablePan = false;
												}
										};
								})();

								function dollyIn(dollyScale) {

										if (scope.object instanceof THREE.PerspectiveCamera) {

												scale /= dollyScale;
										} else if (scope.object instanceof THREE.OrthographicCamera) {

												scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));
												scope.object.updateProjectionMatrix();
												zoomChanged = true;
										} else {

												console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');
												scope.enableZoom = false;
										}
								}

								function dollyOut(dollyScale) {

										if (scope.object instanceof THREE.PerspectiveCamera) {

												scale *= dollyScale;
										} else if (scope.object instanceof THREE.OrthographicCamera) {

												scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));
												scope.object.updateProjectionMatrix();
												zoomChanged = true;
										} else {

												console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');
												scope.enableZoom = false;
										}
								}

								//
								// event callbacks - update the object state
								//

								function handleMouseDownRotate(event) {

										//console.log( 'handleMouseDownRotate' );

										rotateStart.set(event.clientX, event.clientY);
								}

								function handleMouseDownDolly(event) {

										//console.log( 'handleMouseDownDolly' );

										dollyStart.set(event.clientX, event.clientY);
								}

								function handleMouseDownPan(event) {

										//console.log( 'handleMouseDownPan' );

										panStart.set(event.clientX, event.clientY);
								}

								function handleMouseMoveRotate(event) {

										//console.log( 'handleMouseMoveRotate' );

										rotateEnd.set(event.clientX, event.clientY);
										rotateDelta.subVectors(rotateEnd, rotateStart);

										var element = scope.domElement === document ? scope.domElement.body : scope.domElement;

										// rotating across whole screen goes 360 degrees around
										rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);

										// rotating up and down along whole screen attempts to go 360, but limited to 180
										rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);

										rotateStart.copy(rotateEnd);

										scope.update();
								}

								function handleMouseMoveDolly(event) {

										//console.log( 'handleMouseMoveDolly' );

										dollyEnd.set(event.clientX, event.clientY);

										dollyDelta.subVectors(dollyEnd, dollyStart);

										if (dollyDelta.y > 0) {

												dollyIn(getZoomScale());
										} else if (dollyDelta.y < 0) {

												dollyOut(getZoomScale());
										}

										dollyStart.copy(dollyEnd);

										scope.update();
								}

								function handleMouseMovePan(event) {

										//console.log( 'handleMouseMovePan' );

										panEnd.set(event.clientX, event.clientY);

										panDelta.subVectors(panEnd, panStart);

										pan(panDelta.x, panDelta.y);

										panStart.copy(panEnd);

										scope.update();
								}

								function handleMouseUp(event) {

										// console.log( 'handleMouseUp' );

								}

								function handleMouseWheel(event) {

										// console.log( 'handleMouseWheel' );

										if (event.deltaY < 0) {

												dollyOut(getZoomScale());
										} else if (event.deltaY > 0) {

												dollyIn(getZoomScale());
										}

										scope.update();
								}

								function handleKeyDown(event) {

										//console.log( 'handleKeyDown' );

										switch (event.keyCode) {

												case scope.keys.UP:
														pan(0, scope.keyPanSpeed);
														scope.update();
														break;

												case scope.keys.BOTTOM:
														pan(0, -scope.keyPanSpeed);
														scope.update();
														break;

												case scope.keys.LEFT:
														pan(scope.keyPanSpeed, 0);
														scope.update();
														break;

												case scope.keys.RIGHT:
														pan(-scope.keyPanSpeed, 0);
														scope.update();
														break;

										}
								}

								function handleTouchStartRotate(event) {

										//console.log( 'handleTouchStartRotate' );

										rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);
								}

								function handleTouchStartDolly(event) {

										//console.log( 'handleTouchStartDolly' );

										var dx = event.touches[0].pageX - event.touches[1].pageX;
										var dy = event.touches[0].pageY - event.touches[1].pageY;

										var distance = Math.sqrt(dx * dx + dy * dy);

										dollyStart.set(0, distance);
								}

								function handleTouchStartPan(event) {

										//console.log( 'handleTouchStartPan' );

										panStart.set(event.touches[0].pageX, event.touches[0].pageY);
								}

								function handleTouchMoveRotate(event) {

										//console.log( 'handleTouchMoveRotate' );

										rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);
										rotateDelta.subVectors(rotateEnd, rotateStart);

										var element = scope.domElement === document ? scope.domElement.body : scope.domElement;

										// rotating across whole screen goes 360 degrees around
										rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);

										// rotating up and down along whole screen attempts to go 360, but limited to 180
										rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);

										rotateStart.copy(rotateEnd);

										scope.update();
								}

								function handleTouchMoveDolly(event) {

										//console.log( 'handleTouchMoveDolly' );

										var dx = event.touches[0].pageX - event.touches[1].pageX;
										var dy = event.touches[0].pageY - event.touches[1].pageY;

										var distance = Math.sqrt(dx * dx + dy * dy);

										dollyEnd.set(0, distance);

										dollyDelta.subVectors(dollyEnd, dollyStart);

										if (dollyDelta.y > 0) {

												dollyOut(getZoomScale());
										} else if (dollyDelta.y < 0) {

												dollyIn(getZoomScale());
										}

										dollyStart.copy(dollyEnd);

										scope.update();
								}

								function handleTouchMovePan(event) {

										//console.log( 'handleTouchMovePan' );

										panEnd.set(event.touches[0].pageX, event.touches[0].pageY);

										panDelta.subVectors(panEnd, panStart);

										pan(panDelta.x, panDelta.y);

										panStart.copy(panEnd);

										scope.update();
								}

								function handleTouchEnd(event) {}

								//console.log( 'handleTouchEnd' );

								//
								// event handlers - FSM: listen for events and reset state
								//

								function onMouseDown(event) {

										if (scope.enabled === false) return;

										event.preventDefault();

										if (event.button === scope.mouseButtons.ORBIT) {

												if (scope.enableRotate === false) return;

												handleMouseDownRotate(event);

												state = STATE.ROTATE;
										} else if (event.button === scope.mouseButtons.ZOOM) {

												if (scope.enableZoom === false) return;

												handleMouseDownDolly(event);

												state = STATE.DOLLY;
										} else if (event.button === scope.mouseButtons.PAN) {

												if (scope.enablePan === false) return;

												handleMouseDownPan(event);

												state = STATE.PAN;
										}

										if (state !== STATE.NONE) {

												document.addEventListener('mousemove', onMouseMove, false);
												document.addEventListener('mouseup', onMouseUp, false);

												scope.dispatchEvent(startEvent);
										}
								}

								function onMouseMove(event) {

										if (scope.enabled === false) return;

										event.preventDefault();

										if (state === STATE.ROTATE) {

												if (scope.enableRotate === false) return;

												handleMouseMoveRotate(event);
										} else if (state === STATE.DOLLY) {

												if (scope.enableZoom === false) return;

												handleMouseMoveDolly(event);
										} else if (state === STATE.PAN) {

												if (scope.enablePan === false) return;

												handleMouseMovePan(event);
										}
								}

								function onMouseUp(event) {

										if (scope.enabled === false) return;

										handleMouseUp(event);

										document.removeEventListener('mousemove', onMouseMove, false);
										document.removeEventListener('mouseup', onMouseUp, false);

										scope.dispatchEvent(endEvent);

										state = STATE.NONE;
								}

								function onMouseWheel(event) {

										if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;

										event.preventDefault();
										event.stopPropagation();

										handleMouseWheel(event);

										scope.dispatchEvent(startEvent); // not sure why these are here...
										scope.dispatchEvent(endEvent);
								}

								function onKeyDown(event) {

										if (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;

										handleKeyDown(event);
								}

								function onTouchStart(event) {

										if (scope.enabled === false) return;

										switch (event.touches.length) {

												case 1:
														// one-fingered touch: rotate

														if (scope.enableRotate === false) return;

														handleTouchStartRotate(event);

														state = STATE.TOUCH_ROTATE;

														break;

												case 2:
														// two-fingered touch: dolly

														if (scope.enableZoom === false) return;

														handleTouchStartDolly(event);

														state = STATE.TOUCH_DOLLY;

														break;

												case 3:
														// three-fingered touch: pan

														if (scope.enablePan === false) return;

														handleTouchStartPan(event);

														state = STATE.TOUCH_PAN;

														break;

												default:

														state = STATE.NONE;

										}

										if (state !== STATE.NONE) {

												scope.dispatchEvent(startEvent);
										}
								}

								function onTouchMove(event) {

										if (scope.enabled === false) return;

										event.preventDefault();
										event.stopPropagation();

										switch (event.touches.length) {

												case 1:
														// one-fingered touch: rotate

														if (scope.enableRotate === false) return;
														if (state !== STATE.TOUCH_ROTATE) return; // is this needed?...

														handleTouchMoveRotate(event);

														break;

												case 2:
														// two-fingered touch: dolly

														if (scope.enableZoom === false) return;
														if (state !== STATE.TOUCH_DOLLY) return; // is this needed?...

														handleTouchMoveDolly(event);

														break;

												case 3:
														// three-fingered touch: pan

														if (scope.enablePan === false) return;
														if (state !== STATE.TOUCH_PAN) return; // is this needed?...

														handleTouchMovePan(event);

														break;

												default:

														state = STATE.NONE;

										}
								}

								function onTouchEnd(event) {

										if (scope.enabled === false) return;

										handleTouchEnd(event);

										scope.dispatchEvent(endEvent);

										state = STATE.NONE;
								}

								function onContextMenu(event) {

										event.preventDefault();
								}

								//

								scope.domElement.addEventListener('contextmenu', onContextMenu, false);

								scope.domElement.addEventListener('mousedown', onMouseDown, false);
								scope.domElement.addEventListener('wheel', onMouseWheel, false);

								scope.domElement.addEventListener('touchstart', onTouchStart, false);
								scope.domElement.addEventListener('touchend', onTouchEnd, false);
								scope.domElement.addEventListener('touchmove', onTouchMove, false);

								// window.addEventListener( 'keydown', onKeyDown, false );

								// force an update at start

								this.update();
						};

						_export('OrbitControls', OrbitControls);

						OrbitControls.prototype = _Object$create(THREE.EventDispatcher.prototype);
						OrbitControls.prototype.constructor = OrbitControls;

						_Object$defineProperties(OrbitControls.prototype, {

								center: {

										get: function get() {

												console.warn('OrbitControls: .center has been renamed to .target');
												return this.target;
										}

								},

								// backward compatibility

								noZoom: {

										get: function get() {

												console.warn('OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');
												return !this.enableZoom;
										},

										set: function set(value) {

												console.warn('OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');
												this.enableZoom = !value;
										}

								},

								noRotate: {

										get: function get() {

												console.warn('OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');
												return !this.enableRotate;
										},

										set: function set(value) {

												console.warn('OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');
												this.enableRotate = !value;
										}

								},

								noPan: {

										get: function get() {

												console.warn('OrbitControls: .noPan has been deprecated. Use .enablePan instead.');
												return !this.enablePan;
										},

										set: function set(value) {

												console.warn('OrbitControls: .noPan has been deprecated. Use .enablePan instead.');
												this.enablePan = !value;
										}

								},

								noKeys: {

										get: function get() {

												console.warn('OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');
												return !this.enableKeys;
										},

										set: function set(value) {

												console.warn('OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');
												this.enableKeys = !value;
										}

								},

								staticMoving: {

										get: function get() {

												console.warn('OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');
												return !this.enableDamping;
										},

										set: function set(value) {

												console.warn('OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');
												this.enableDamping = !value;
										}

								},

								dynamicDampingFactor: {

										get: function get() {

												console.warn('OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');
												return this.dampingFactor;
										},

										set: function set(value) {

												console.warn('OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');
												this.dampingFactor = value;
										}

								}

						});
				}
		};
});

$__System.register('8', ['3'], function (_export) {
	'use strict';

	var THREE, renderer;
	return {
		setters: [function (_) {
			THREE = _;
		}],
		execute: function () {
			renderer = new THREE.WebGLRenderer({
				alpha: true,
				antialias: true
			});

			renderer.scale = 1.;
			renderer.setPixelRatio(window.devicePixelRatio / renderer.scale);
			renderer.setSize(window.innerWidth, window.innerHeight);
			document.body.appendChild(renderer.domElement);

			_export('default', renderer);
		}
	};
});

$__System.register('15', ['3', '5', '6', 'c'], function (_export) {
  var THREE, _createClass, _classCallCheck, assets, PlaneBright;

  return {
    setters: [function (_3) {
      THREE = _3;
    }, function (_) {
      _createClass = _['default'];
    }, function (_2) {
      _classCallCheck = _2['default'];
    }, function (_c) {
      assets = _c['default'];
    }],
    execute: function () {
      'use strict';

      PlaneBright = (function () {
        function PlaneBright(texture) {
          _classCallCheck(this, PlaneBright);

          this.uniforms = null;
          this.minBright = 0.2;
          this.texture = texture;
          this.mesh = this.createMesh();
        }

        _createClass(PlaneBright, [{
          key: 'createMesh',
          value: function createMesh() {
            this.uniforms = {
              minBright: {
                type: 'f',
                value: this.minBright
              },
              texture: {
                type: 't',
                value: this.texture
              }
            };
            var material = assets.shaders.bright.clone();
            material.uniforms = this.uniforms;
            return new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), material);
          }
        }]);

        return PlaneBright;
      })();

      _export('default', PlaneBright);
    }
  };
});

$__System.register('16', ['3', '5', '6', 'c'], function (_export) {
  var THREE, _createClass, _classCallCheck, assets, PlaneBlur;

  return {
    setters: [function (_3) {
      THREE = _3;
    }, function (_) {
      _createClass = _['default'];
    }, function (_2) {
      _classCallCheck = _2['default'];
    }, function (_c) {
      assets = _c['default'];
    }],
    execute: function () {
      'use strict';

      PlaneBlur = (function () {
        function PlaneBlur(texture, direction) {
          _classCallCheck(this, PlaneBlur);

          this.uniforms = null;
          this.texture = texture;
          this.direction = direction;
          this.mesh = this.createMesh();
        }

        _createClass(PlaneBlur, [{
          key: 'createMesh',
          value: function createMesh() {
            this.uniforms = {
              resolution: {
                type: 'v2',
                value: new THREE.Vector2(window.innerWidth / 10, window.innerHeight / 10)
              },
              direction: {
                type: 'v2',
                value: this.direction
              },
              texture: {
                type: 't',
                value: this.texture
              }
            };
            var material = assets.shaders.gaussian_blur.clone();
            material.uniforms = this.uniforms;
            return new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), material);
          }
        }, {
          key: 'resize',
          value: function resize() {
            this.uniforms.resolution.value.set(window.innerWidth / 10, window.innerHeight / 10);
          }
        }]);

        return PlaneBlur;
      })();

      _export('default', PlaneBlur);
    }
  };
});

$__System.registerDynamic("17", [], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  var toString = {}.toString;

  module.exports = function (it) {
    return toString.call(it).slice(8, -1);
  };
});
$__System.registerDynamic('18', ['17'], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  var cof = $__require('17');
  module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
    return cof(it) == 'String' ? it.split('') : Object(it);
  };
});
$__System.registerDynamic('19', ['10', '1a', '18', '1b'], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  var $ = $__require('10'),
      toObject = $__require('1a'),
      IObject = $__require('18');
  module.exports = $__require('1b')(function () {
    var a = Object.assign,
        A = {},
        B = {},
        S = Symbol(),
        K = 'abcdefghijklmnopqrst';
    A[S] = 7;
    K.split('').forEach(function (k) {
      B[k] = k;
    });
    return a({}, A)[S] != 7 || Object.keys(a({}, B)).join('') != K;
  }) ? function assign(target, source) {
    var T = toObject(target),
        $$ = arguments,
        $$len = $$.length,
        index = 1,
        getKeys = $.getKeys,
        getSymbols = $.getSymbols,
        isEnum = $.isEnum;
    while ($$len > index) {
      var S = IObject($$[index++]),
          keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S),
          length = keys.length,
          j = 0,
          key;
      while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];
    }
    return T;
  } : Object.assign;
});
$__System.registerDynamic('1c', ['1d', '19'], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  var $export = $__require('1d');
  $export($export.S + $export.F, 'Object', { assign: $__require('19') });
});
$__System.registerDynamic('1e', ['1c', '1f'], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  $__require('1c');
  module.exports = $__require('1f').Object.assign;
});
$__System.registerDynamic("20", ["1e"], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  module.exports = { "default": $__require("1e"), __esModule: true };
});
$__System.register("21", [], function (_export, _context) {
  "use strict";

  var __useDefault, animations, fonts, textures, geometries, shaders;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = true);

      _export("__useDefault", __useDefault);

      _export("animations", animations = "animation/scene.json");

      _export("animations", animations);

      _export("fonts", fonts = {});

      _export("fonts", fonts);

      _export("textures", textures = {});

      _export("textures", textures);

      _export("geometries", geometries = { "cookie": { "file": "mesh/cookie.ply" } });

      _export("geometries", geometries);

      _export("shaders", shaders = { "wireframe": { "vertexShader": "shader/wireframe.vert", "fragmentShader": "shader/wireframe.frag" }, "desert": { "vertexShader": "shader/desert.vert", "fragmentShader": "shader/desert.frag" }, "star": { "vertexShader": "shader/star.vert", "fragmentShader": "shader/star.frag" }, "chocolat": { "vertexShader": "shader/chocolat.vert", "fragmentShader": "shader/chocolat.frag" }, "shape2D": { "vertexShader": "shader/shape2D.vert", "fragmentShader": "shader/shape2D.frag", "depthTest": false, "transparent": true }, "bloom": { "vertexShader": "shader/bloom/bloom.vert", "fragmentShader": "shader/bloom/bloom.frag" }, "bright": { "vertexShader": "shader/bloom/bright.vert", "fragmentShader": "shader/bloom/bright.frag" }, "gaussian_blur": { "vertexShader": "shader/bloom/gaussian_blur.vert", "fragmentShader": "shader/bloom/gaussian_blur.frag" }, "render": { "vertexShader": "shader/fullscreen.vert", "fragmentShader": "shader/render.frag" } });

      _export("shaders", shaders);

      _export("default", {
        animations: animations,
        fonts: fonts,
        textures: textures,
        geometries: geometries,
        shaders: shaders
      });
    }
  };
});
(function() {
var define = $__System.amdDefine;
(function webpackUniversalModuleDefinition(root, factory) {
  if (typeof exports === 'object' && typeof module === 'object')
    module.exports = factory();
  else if (typeof define === 'function' && define.amd)
    define("22", [], factory);
  else {
    var a = factory();
    for (var i in a)
      (typeof exports === 'object' ? exports : root)[i] = a[i];
  }
})(this, function() {
  return (function(modules) {
    var installedModules = {};
    function __webpack_require__(moduleId) {
      if (installedModules[moduleId]) {
        return installedModules[moduleId].exports;
      }
      var module = installedModules[moduleId] = {
        i: moduleId,
        l: false,
        exports: {}
      };
      modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
      module.l = true;
      return module.exports;
    }
    __webpack_require__.m = modules;
    __webpack_require__.c = installedModules;
    __webpack_require__.d = function(exports, name, getter) {
      if (!__webpack_require__.o(exports, name)) {
        Object.defineProperty(exports, name, {
          configurable: false,
          enumerable: true,
          get: getter
        });
      }
    };
    __webpack_require__.n = function(module) {
      var getter = module && module.__esModule ? function getDefault() {
        return module['default'];
      } : function getModuleExports() {
        return module;
      };
      __webpack_require__.d(getter, 'a', getter);
      return getter;
    };
    __webpack_require__.o = function(object, property) {
      return Object.prototype.hasOwnProperty.call(object, property);
    };
    __webpack_require__.p = "";
    return __webpack_require__(__webpack_require__.s = 4);
  })([(function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {value: true});
    exports.setMatrixArrayType = setMatrixArrayType;
    exports.toRadian = toRadian;
    exports.equals = equals;
    var EPSILON = exports.EPSILON = 0.000001;
    var ARRAY_TYPE = exports.ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;
    var RANDOM = exports.RANDOM = Math.random;
    function setMatrixArrayType(type) {
      exports.ARRAY_TYPE = ARRAY_TYPE = type;
    }
    var degree = Math.PI / 180;
    function toRadian(a) {
      return a * degree;
    }
    function equals(a, b) {
      return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));
    }
  }), (function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {value: true});
    exports.sub = exports.mul = undefined;
    exports.create = create;
    exports.fromMat4 = fromMat4;
    exports.clone = clone;
    exports.copy = copy;
    exports.fromValues = fromValues;
    exports.set = set;
    exports.identity = identity;
    exports.transpose = transpose;
    exports.invert = invert;
    exports.adjoint = adjoint;
    exports.determinant = determinant;
    exports.multiply = multiply;
    exports.translate = translate;
    exports.rotate = rotate;
    exports.scale = scale;
    exports.fromTranslation = fromTranslation;
    exports.fromRotation = fromRotation;
    exports.fromScaling = fromScaling;
    exports.fromMat2d = fromMat2d;
    exports.fromQuat = fromQuat;
    exports.normalFromMat4 = normalFromMat4;
    exports.projection = projection;
    exports.str = str;
    exports.frob = frob;
    exports.add = add;
    exports.subtract = subtract;
    exports.multiplyScalar = multiplyScalar;
    exports.multiplyScalarAndAdd = multiplyScalarAndAdd;
    exports.exactEquals = exactEquals;
    exports.equals = equals;
    var _common = __webpack_require__(0);
    var glMatrix = _interopRequireWildcard(_common);
    function _interopRequireWildcard(obj) {
      if (obj && obj.__esModule) {
        return obj;
      } else {
        var newObj = {};
        if (obj != null) {
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key))
              newObj[key] = obj[key];
          }
        }
        newObj.default = obj;
        return newObj;
      }
    }
    function create() {
      var out = new glMatrix.ARRAY_TYPE(9);
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 1;
      out[5] = 0;
      out[6] = 0;
      out[7] = 0;
      out[8] = 1;
      return out;
    }
    function fromMat4(out, a) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[4];
      out[4] = a[5];
      out[5] = a[6];
      out[6] = a[8];
      out[7] = a[9];
      out[8] = a[10];
      return out;
    }
    function clone(a) {
      var out = new glMatrix.ARRAY_TYPE(9);
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      out[4] = a[4];
      out[5] = a[5];
      out[6] = a[6];
      out[7] = a[7];
      out[8] = a[8];
      return out;
    }
    function copy(out, a) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      out[4] = a[4];
      out[5] = a[5];
      out[6] = a[6];
      out[7] = a[7];
      out[8] = a[8];
      return out;
    }
    function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {
      var out = new glMatrix.ARRAY_TYPE(9);
      out[0] = m00;
      out[1] = m01;
      out[2] = m02;
      out[3] = m10;
      out[4] = m11;
      out[5] = m12;
      out[6] = m20;
      out[7] = m21;
      out[8] = m22;
      return out;
    }
    function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {
      out[0] = m00;
      out[1] = m01;
      out[2] = m02;
      out[3] = m10;
      out[4] = m11;
      out[5] = m12;
      out[6] = m20;
      out[7] = m21;
      out[8] = m22;
      return out;
    }
    function identity(out) {
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 1;
      out[5] = 0;
      out[6] = 0;
      out[7] = 0;
      out[8] = 1;
      return out;
    }
    function transpose(out, a) {
      if (out === a) {
        var a01 = a[1],
            a02 = a[2],
            a12 = a[5];
        out[1] = a[3];
        out[2] = a[6];
        out[3] = a01;
        out[5] = a[7];
        out[6] = a02;
        out[7] = a12;
      } else {
        out[0] = a[0];
        out[1] = a[3];
        out[2] = a[6];
        out[3] = a[1];
        out[4] = a[4];
        out[5] = a[7];
        out[6] = a[2];
        out[7] = a[5];
        out[8] = a[8];
      }
      return out;
    }
    function invert(out, a) {
      var a00 = a[0],
          a01 = a[1],
          a02 = a[2];
      var a10 = a[3],
          a11 = a[4],
          a12 = a[5];
      var a20 = a[6],
          a21 = a[7],
          a22 = a[8];
      var b01 = a22 * a11 - a12 * a21;
      var b11 = -a22 * a10 + a12 * a20;
      var b21 = a21 * a10 - a11 * a20;
      var det = a00 * b01 + a01 * b11 + a02 * b21;
      if (!det) {
        return null;
      }
      det = 1.0 / det;
      out[0] = b01 * det;
      out[1] = (-a22 * a01 + a02 * a21) * det;
      out[2] = (a12 * a01 - a02 * a11) * det;
      out[3] = b11 * det;
      out[4] = (a22 * a00 - a02 * a20) * det;
      out[5] = (-a12 * a00 + a02 * a10) * det;
      out[6] = b21 * det;
      out[7] = (-a21 * a00 + a01 * a20) * det;
      out[8] = (a11 * a00 - a01 * a10) * det;
      return out;
    }
    function adjoint(out, a) {
      var a00 = a[0],
          a01 = a[1],
          a02 = a[2];
      var a10 = a[3],
          a11 = a[4],
          a12 = a[5];
      var a20 = a[6],
          a21 = a[7],
          a22 = a[8];
      out[0] = a11 * a22 - a12 * a21;
      out[1] = a02 * a21 - a01 * a22;
      out[2] = a01 * a12 - a02 * a11;
      out[3] = a12 * a20 - a10 * a22;
      out[4] = a00 * a22 - a02 * a20;
      out[5] = a02 * a10 - a00 * a12;
      out[6] = a10 * a21 - a11 * a20;
      out[7] = a01 * a20 - a00 * a21;
      out[8] = a00 * a11 - a01 * a10;
      return out;
    }
    function determinant(a) {
      var a00 = a[0],
          a01 = a[1],
          a02 = a[2];
      var a10 = a[3],
          a11 = a[4],
          a12 = a[5];
      var a20 = a[6],
          a21 = a[7],
          a22 = a[8];
      return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);
    }
    function multiply(out, a, b) {
      var a00 = a[0],
          a01 = a[1],
          a02 = a[2];
      var a10 = a[3],
          a11 = a[4],
          a12 = a[5];
      var a20 = a[6],
          a21 = a[7],
          a22 = a[8];
      var b00 = b[0],
          b01 = b[1],
          b02 = b[2];
      var b10 = b[3],
          b11 = b[4],
          b12 = b[5];
      var b20 = b[6],
          b21 = b[7],
          b22 = b[8];
      out[0] = b00 * a00 + b01 * a10 + b02 * a20;
      out[1] = b00 * a01 + b01 * a11 + b02 * a21;
      out[2] = b00 * a02 + b01 * a12 + b02 * a22;
      out[3] = b10 * a00 + b11 * a10 + b12 * a20;
      out[4] = b10 * a01 + b11 * a11 + b12 * a21;
      out[5] = b10 * a02 + b11 * a12 + b12 * a22;
      out[6] = b20 * a00 + b21 * a10 + b22 * a20;
      out[7] = b20 * a01 + b21 * a11 + b22 * a21;
      out[8] = b20 * a02 + b21 * a12 + b22 * a22;
      return out;
    }
    function translate(out, a, v) {
      var a00 = a[0],
          a01 = a[1],
          a02 = a[2],
          a10 = a[3],
          a11 = a[4],
          a12 = a[5],
          a20 = a[6],
          a21 = a[7],
          a22 = a[8],
          x = v[0],
          y = v[1];
      out[0] = a00;
      out[1] = a01;
      out[2] = a02;
      out[3] = a10;
      out[4] = a11;
      out[5] = a12;
      out[6] = x * a00 + y * a10 + a20;
      out[7] = x * a01 + y * a11 + a21;
      out[8] = x * a02 + y * a12 + a22;
      return out;
    }
    function rotate(out, a, rad) {
      var a00 = a[0],
          a01 = a[1],
          a02 = a[2],
          a10 = a[3],
          a11 = a[4],
          a12 = a[5],
          a20 = a[6],
          a21 = a[7],
          a22 = a[8],
          s = Math.sin(rad),
          c = Math.cos(rad);
      out[0] = c * a00 + s * a10;
      out[1] = c * a01 + s * a11;
      out[2] = c * a02 + s * a12;
      out[3] = c * a10 - s * a00;
      out[4] = c * a11 - s * a01;
      out[5] = c * a12 - s * a02;
      out[6] = a20;
      out[7] = a21;
      out[8] = a22;
      return out;
    }
    ;
    function scale(out, a, v) {
      var x = v[0],
          y = v[1];
      out[0] = x * a[0];
      out[1] = x * a[1];
      out[2] = x * a[2];
      out[3] = y * a[3];
      out[4] = y * a[4];
      out[5] = y * a[5];
      out[6] = a[6];
      out[7] = a[7];
      out[8] = a[8];
      return out;
    }
    function fromTranslation(out, v) {
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 1;
      out[5] = 0;
      out[6] = v[0];
      out[7] = v[1];
      out[8] = 1;
      return out;
    }
    function fromRotation(out, rad) {
      var s = Math.sin(rad),
          c = Math.cos(rad);
      out[0] = c;
      out[1] = s;
      out[2] = 0;
      out[3] = -s;
      out[4] = c;
      out[5] = 0;
      out[6] = 0;
      out[7] = 0;
      out[8] = 1;
      return out;
    }
    function fromScaling(out, v) {
      out[0] = v[0];
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = v[1];
      out[5] = 0;
      out[6] = 0;
      out[7] = 0;
      out[8] = 1;
      return out;
    }
    function fromMat2d(out, a) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = 0;
      out[3] = a[2];
      out[4] = a[3];
      out[5] = 0;
      out[6] = a[4];
      out[7] = a[5];
      out[8] = 1;
      return out;
    }
    function fromQuat(out, q) {
      var x = q[0],
          y = q[1],
          z = q[2],
          w = q[3];
      var x2 = x + x;
      var y2 = y + y;
      var z2 = z + z;
      var xx = x * x2;
      var yx = y * x2;
      var yy = y * y2;
      var zx = z * x2;
      var zy = z * y2;
      var zz = z * z2;
      var wx = w * x2;
      var wy = w * y2;
      var wz = w * z2;
      out[0] = 1 - yy - zz;
      out[3] = yx - wz;
      out[6] = zx + wy;
      out[1] = yx + wz;
      out[4] = 1 - xx - zz;
      out[7] = zy - wx;
      out[2] = zx - wy;
      out[5] = zy + wx;
      out[8] = 1 - xx - yy;
      return out;
    }
    function normalFromMat4(out, a) {
      var a00 = a[0],
          a01 = a[1],
          a02 = a[2],
          a03 = a[3];
      var a10 = a[4],
          a11 = a[5],
          a12 = a[6],
          a13 = a[7];
      var a20 = a[8],
          a21 = a[9],
          a22 = a[10],
          a23 = a[11];
      var a30 = a[12],
          a31 = a[13],
          a32 = a[14],
          a33 = a[15];
      var b00 = a00 * a11 - a01 * a10;
      var b01 = a00 * a12 - a02 * a10;
      var b02 = a00 * a13 - a03 * a10;
      var b03 = a01 * a12 - a02 * a11;
      var b04 = a01 * a13 - a03 * a11;
      var b05 = a02 * a13 - a03 * a12;
      var b06 = a20 * a31 - a21 * a30;
      var b07 = a20 * a32 - a22 * a30;
      var b08 = a20 * a33 - a23 * a30;
      var b09 = a21 * a32 - a22 * a31;
      var b10 = a21 * a33 - a23 * a31;
      var b11 = a22 * a33 - a23 * a32;
      var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
      if (!det) {
        return null;
      }
      det = 1.0 / det;
      out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;
      out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;
      out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;
      out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;
      out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;
      out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;
      out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;
      out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;
      out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;
      return out;
    }
    function projection(out, width, height) {
      out[0] = 2 / width;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = -2 / height;
      out[5] = 0;
      out[6] = -1;
      out[7] = 1;
      out[8] = 1;
      return out;
    }
    function str(a) {
      return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';
    }
    function frob(a) {
      return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2));
    }
    function add(out, a, b) {
      out[0] = a[0] + b[0];
      out[1] = a[1] + b[1];
      out[2] = a[2] + b[2];
      out[3] = a[3] + b[3];
      out[4] = a[4] + b[4];
      out[5] = a[5] + b[5];
      out[6] = a[6] + b[6];
      out[7] = a[7] + b[7];
      out[8] = a[8] + b[8];
      return out;
    }
    function subtract(out, a, b) {
      out[0] = a[0] - b[0];
      out[1] = a[1] - b[1];
      out[2] = a[2] - b[2];
      out[3] = a[3] - b[3];
      out[4] = a[4] - b[4];
      out[5] = a[5] - b[5];
      out[6] = a[6] - b[6];
      out[7] = a[7] - b[7];
      out[8] = a[8] - b[8];
      return out;
    }
    function multiplyScalar(out, a, b) {
      out[0] = a[0] * b;
      out[1] = a[1] * b;
      out[2] = a[2] * b;
      out[3] = a[3] * b;
      out[4] = a[4] * b;
      out[5] = a[5] * b;
      out[6] = a[6] * b;
      out[7] = a[7] * b;
      out[8] = a[8] * b;
      return out;
    }
    function multiplyScalarAndAdd(out, a, b, scale) {
      out[0] = a[0] + b[0] * scale;
      out[1] = a[1] + b[1] * scale;
      out[2] = a[2] + b[2] * scale;
      out[3] = a[3] + b[3] * scale;
      out[4] = a[4] + b[4] * scale;
      out[5] = a[5] + b[5] * scale;
      out[6] = a[6] + b[6] * scale;
      out[7] = a[7] + b[7] * scale;
      out[8] = a[8] + b[8] * scale;
      return out;
    }
    function exactEquals(a, b) {
      return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];
    }
    function equals(a, b) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2],
          a3 = a[3],
          a4 = a[4],
          a5 = a[5],
          a6 = a[6],
          a7 = a[7],
          a8 = a[8];
      var b0 = b[0],
          b1 = b[1],
          b2 = b[2],
          b3 = b[3],
          b4 = b[4],
          b5 = b[5],
          b6 = b[6],
          b7 = b[7],
          b8 = b[8];
      return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));
    }
    var mul = exports.mul = multiply;
    var sub = exports.sub = subtract;
  }), (function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {value: true});
    exports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = undefined;
    exports.create = create;
    exports.clone = clone;
    exports.length = length;
    exports.fromValues = fromValues;
    exports.copy = copy;
    exports.set = set;
    exports.add = add;
    exports.subtract = subtract;
    exports.multiply = multiply;
    exports.divide = divide;
    exports.ceil = ceil;
    exports.floor = floor;
    exports.min = min;
    exports.max = max;
    exports.round = round;
    exports.scale = scale;
    exports.scaleAndAdd = scaleAndAdd;
    exports.distance = distance;
    exports.squaredDistance = squaredDistance;
    exports.squaredLength = squaredLength;
    exports.negate = negate;
    exports.inverse = inverse;
    exports.normalize = normalize;
    exports.dot = dot;
    exports.cross = cross;
    exports.lerp = lerp;
    exports.hermite = hermite;
    exports.bezier = bezier;
    exports.random = random;
    exports.transformMat4 = transformMat4;
    exports.transformMat3 = transformMat3;
    exports.transformQuat = transformQuat;
    exports.rotateX = rotateX;
    exports.rotateY = rotateY;
    exports.rotateZ = rotateZ;
    exports.angle = angle;
    exports.str = str;
    exports.exactEquals = exactEquals;
    exports.equals = equals;
    var _common = __webpack_require__(0);
    var glMatrix = _interopRequireWildcard(_common);
    function _interopRequireWildcard(obj) {
      if (obj && obj.__esModule) {
        return obj;
      } else {
        var newObj = {};
        if (obj != null) {
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key))
              newObj[key] = obj[key];
          }
        }
        newObj.default = obj;
        return newObj;
      }
    }
    function create() {
      var out = new glMatrix.ARRAY_TYPE(3);
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
      return out;
    }
    function clone(a) {
      var out = new glMatrix.ARRAY_TYPE(3);
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      return out;
    }
    function length(a) {
      var x = a[0];
      var y = a[1];
      var z = a[2];
      return Math.sqrt(x * x + y * y + z * z);
    }
    function fromValues(x, y, z) {
      var out = new glMatrix.ARRAY_TYPE(3);
      out[0] = x;
      out[1] = y;
      out[2] = z;
      return out;
    }
    function copy(out, a) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      return out;
    }
    function set(out, x, y, z) {
      out[0] = x;
      out[1] = y;
      out[2] = z;
      return out;
    }
    function add(out, a, b) {
      out[0] = a[0] + b[0];
      out[1] = a[1] + b[1];
      out[2] = a[2] + b[2];
      return out;
    }
    function subtract(out, a, b) {
      out[0] = a[0] - b[0];
      out[1] = a[1] - b[1];
      out[2] = a[2] - b[2];
      return out;
    }
    function multiply(out, a, b) {
      out[0] = a[0] * b[0];
      out[1] = a[1] * b[1];
      out[2] = a[2] * b[2];
      return out;
    }
    function divide(out, a, b) {
      out[0] = a[0] / b[0];
      out[1] = a[1] / b[1];
      out[2] = a[2] / b[2];
      return out;
    }
    function ceil(out, a) {
      out[0] = Math.ceil(a[0]);
      out[1] = Math.ceil(a[1]);
      out[2] = Math.ceil(a[2]);
      return out;
    }
    function floor(out, a) {
      out[0] = Math.floor(a[0]);
      out[1] = Math.floor(a[1]);
      out[2] = Math.floor(a[2]);
      return out;
    }
    function min(out, a, b) {
      out[0] = Math.min(a[0], b[0]);
      out[1] = Math.min(a[1], b[1]);
      out[2] = Math.min(a[2], b[2]);
      return out;
    }
    function max(out, a, b) {
      out[0] = Math.max(a[0], b[0]);
      out[1] = Math.max(a[1], b[1]);
      out[2] = Math.max(a[2], b[2]);
      return out;
    }
    function round(out, a) {
      out[0] = Math.round(a[0]);
      out[1] = Math.round(a[1]);
      out[2] = Math.round(a[2]);
      return out;
    }
    function scale(out, a, b) {
      out[0] = a[0] * b;
      out[1] = a[1] * b;
      out[2] = a[2] * b;
      return out;
    }
    function scaleAndAdd(out, a, b, scale) {
      out[0] = a[0] + b[0] * scale;
      out[1] = a[1] + b[1] * scale;
      out[2] = a[2] + b[2] * scale;
      return out;
    }
    function distance(a, b) {
      var x = b[0] - a[0];
      var y = b[1] - a[1];
      var z = b[2] - a[2];
      return Math.sqrt(x * x + y * y + z * z);
    }
    function squaredDistance(a, b) {
      var x = b[0] - a[0];
      var y = b[1] - a[1];
      var z = b[2] - a[2];
      return x * x + y * y + z * z;
    }
    function squaredLength(a) {
      var x = a[0];
      var y = a[1];
      var z = a[2];
      return x * x + y * y + z * z;
    }
    function negate(out, a) {
      out[0] = -a[0];
      out[1] = -a[1];
      out[2] = -a[2];
      return out;
    }
    function inverse(out, a) {
      out[0] = 1.0 / a[0];
      out[1] = 1.0 / a[1];
      out[2] = 1.0 / a[2];
      return out;
    }
    function normalize(out, a) {
      var x = a[0];
      var y = a[1];
      var z = a[2];
      var len = x * x + y * y + z * z;
      if (len > 0) {
        len = 1 / Math.sqrt(len);
        out[0] = a[0] * len;
        out[1] = a[1] * len;
        out[2] = a[2] * len;
      }
      return out;
    }
    function dot(a, b) {
      return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
    }
    function cross(out, a, b) {
      var ax = a[0],
          ay = a[1],
          az = a[2];
      var bx = b[0],
          by = b[1],
          bz = b[2];
      out[0] = ay * bz - az * by;
      out[1] = az * bx - ax * bz;
      out[2] = ax * by - ay * bx;
      return out;
    }
    function lerp(out, a, b, t) {
      var ax = a[0];
      var ay = a[1];
      var az = a[2];
      out[0] = ax + t * (b[0] - ax);
      out[1] = ay + t * (b[1] - ay);
      out[2] = az + t * (b[2] - az);
      return out;
    }
    function hermite(out, a, b, c, d, t) {
      var factorTimes2 = t * t;
      var factor1 = factorTimes2 * (2 * t - 3) + 1;
      var factor2 = factorTimes2 * (t - 2) + t;
      var factor3 = factorTimes2 * (t - 1);
      var factor4 = factorTimes2 * (3 - 2 * t);
      out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
      out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
      out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
      return out;
    }
    function bezier(out, a, b, c, d, t) {
      var inverseFactor = 1 - t;
      var inverseFactorTimesTwo = inverseFactor * inverseFactor;
      var factorTimes2 = t * t;
      var factor1 = inverseFactorTimesTwo * inverseFactor;
      var factor2 = 3 * t * inverseFactorTimesTwo;
      var factor3 = 3 * factorTimes2 * inverseFactor;
      var factor4 = factorTimes2 * t;
      out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
      out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
      out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
      return out;
    }
    function random(out, scale) {
      scale = scale || 1.0;
      var r = glMatrix.RANDOM() * 2.0 * Math.PI;
      var z = glMatrix.RANDOM() * 2.0 - 1.0;
      var zScale = Math.sqrt(1.0 - z * z) * scale;
      out[0] = Math.cos(r) * zScale;
      out[1] = Math.sin(r) * zScale;
      out[2] = z * scale;
      return out;
    }
    function transformMat4(out, a, m) {
      var x = a[0],
          y = a[1],
          z = a[2];
      var w = m[3] * x + m[7] * y + m[11] * z + m[15];
      w = w || 1.0;
      out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;
      out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;
      out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;
      return out;
    }
    function transformMat3(out, a, m) {
      var x = a[0],
          y = a[1],
          z = a[2];
      out[0] = x * m[0] + y * m[3] + z * m[6];
      out[1] = x * m[1] + y * m[4] + z * m[7];
      out[2] = x * m[2] + y * m[5] + z * m[8];
      return out;
    }
    function transformQuat(out, a, q) {
      var x = a[0],
          y = a[1],
          z = a[2];
      var qx = q[0],
          qy = q[1],
          qz = q[2],
          qw = q[3];
      var ix = qw * x + qy * z - qz * y;
      var iy = qw * y + qz * x - qx * z;
      var iz = qw * z + qx * y - qy * x;
      var iw = -qx * x - qy * y - qz * z;
      out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;
      out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;
      out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;
      return out;
    }
    function rotateX(out, a, b, c) {
      var p = [],
          r = [];
      p[0] = a[0] - b[0];
      p[1] = a[1] - b[1];
      p[2] = a[2] - b[2];
      r[0] = p[0];
      r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);
      r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c);
      out[0] = r[0] + b[0];
      out[1] = r[1] + b[1];
      out[2] = r[2] + b[2];
      return out;
    }
    function rotateY(out, a, b, c) {
      var p = [],
          r = [];
      p[0] = a[0] - b[0];
      p[1] = a[1] - b[1];
      p[2] = a[2] - b[2];
      r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);
      r[1] = p[1];
      r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c);
      out[0] = r[0] + b[0];
      out[1] = r[1] + b[1];
      out[2] = r[2] + b[2];
      return out;
    }
    function rotateZ(out, a, b, c) {
      var p = [],
          r = [];
      p[0] = a[0] - b[0];
      p[1] = a[1] - b[1];
      p[2] = a[2] - b[2];
      r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);
      r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);
      r[2] = p[2];
      out[0] = r[0] + b[0];
      out[1] = r[1] + b[1];
      out[2] = r[2] + b[2];
      return out;
    }
    function angle(a, b) {
      var tempA = fromValues(a[0], a[1], a[2]);
      var tempB = fromValues(b[0], b[1], b[2]);
      normalize(tempA, tempA);
      normalize(tempB, tempB);
      var cosine = dot(tempA, tempB);
      if (cosine > 1.0) {
        return 0;
      } else if (cosine < -1.0) {
        return Math.PI;
      } else {
        return Math.acos(cosine);
      }
    }
    function str(a) {
      return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';
    }
    function exactEquals(a, b) {
      return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];
    }
    function equals(a, b) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2];
      var b0 = b[0],
          b1 = b[1],
          b2 = b[2];
      return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));
    }
    var sub = exports.sub = subtract;
    var mul = exports.mul = multiply;
    var div = exports.div = divide;
    var dist = exports.dist = distance;
    var sqrDist = exports.sqrDist = squaredDistance;
    var len = exports.len = length;
    var sqrLen = exports.sqrLen = squaredLength;
    var forEach = exports.forEach = function() {
      var vec = create();
      return function(a, stride, offset, count, fn, arg) {
        var i = void 0,
            l = void 0;
        if (!stride) {
          stride = 3;
        }
        if (!offset) {
          offset = 0;
        }
        if (count) {
          l = Math.min(count * stride + offset, a.length);
        } else {
          l = a.length;
        }
        for (i = offset; i < l; i += stride) {
          vec[0] = a[i];
          vec[1] = a[i + 1];
          vec[2] = a[i + 2];
          fn(vec, vec, arg);
          a[i] = vec[0];
          a[i + 1] = vec[1];
          a[i + 2] = vec[2];
        }
        return a;
      };
    }();
  }), (function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {value: true});
    exports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = undefined;
    exports.create = create;
    exports.clone = clone;
    exports.fromValues = fromValues;
    exports.copy = copy;
    exports.set = set;
    exports.add = add;
    exports.subtract = subtract;
    exports.multiply = multiply;
    exports.divide = divide;
    exports.ceil = ceil;
    exports.floor = floor;
    exports.min = min;
    exports.max = max;
    exports.round = round;
    exports.scale = scale;
    exports.scaleAndAdd = scaleAndAdd;
    exports.distance = distance;
    exports.squaredDistance = squaredDistance;
    exports.length = length;
    exports.squaredLength = squaredLength;
    exports.negate = negate;
    exports.inverse = inverse;
    exports.normalize = normalize;
    exports.dot = dot;
    exports.lerp = lerp;
    exports.random = random;
    exports.transformMat4 = transformMat4;
    exports.transformQuat = transformQuat;
    exports.str = str;
    exports.exactEquals = exactEquals;
    exports.equals = equals;
    var _common = __webpack_require__(0);
    var glMatrix = _interopRequireWildcard(_common);
    function _interopRequireWildcard(obj) {
      if (obj && obj.__esModule) {
        return obj;
      } else {
        var newObj = {};
        if (obj != null) {
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key))
              newObj[key] = obj[key];
          }
        }
        newObj.default = obj;
        return newObj;
      }
    }
    function create() {
      var out = new glMatrix.ARRAY_TYPE(4);
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      return out;
    }
    function clone(a) {
      var out = new glMatrix.ARRAY_TYPE(4);
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      return out;
    }
    function fromValues(x, y, z, w) {
      var out = new glMatrix.ARRAY_TYPE(4);
      out[0] = x;
      out[1] = y;
      out[2] = z;
      out[3] = w;
      return out;
    }
    function copy(out, a) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      return out;
    }
    function set(out, x, y, z, w) {
      out[0] = x;
      out[1] = y;
      out[2] = z;
      out[3] = w;
      return out;
    }
    function add(out, a, b) {
      out[0] = a[0] + b[0];
      out[1] = a[1] + b[1];
      out[2] = a[2] + b[2];
      out[3] = a[3] + b[3];
      return out;
    }
    function subtract(out, a, b) {
      out[0] = a[0] - b[0];
      out[1] = a[1] - b[1];
      out[2] = a[2] - b[2];
      out[3] = a[3] - b[3];
      return out;
    }
    function multiply(out, a, b) {
      out[0] = a[0] * b[0];
      out[1] = a[1] * b[1];
      out[2] = a[2] * b[2];
      out[3] = a[3] * b[3];
      return out;
    }
    function divide(out, a, b) {
      out[0] = a[0] / b[0];
      out[1] = a[1] / b[1];
      out[2] = a[2] / b[2];
      out[3] = a[3] / b[3];
      return out;
    }
    function ceil(out, a) {
      out[0] = Math.ceil(a[0]);
      out[1] = Math.ceil(a[1]);
      out[2] = Math.ceil(a[2]);
      out[3] = Math.ceil(a[3]);
      return out;
    }
    function floor(out, a) {
      out[0] = Math.floor(a[0]);
      out[1] = Math.floor(a[1]);
      out[2] = Math.floor(a[2]);
      out[3] = Math.floor(a[3]);
      return out;
    }
    function min(out, a, b) {
      out[0] = Math.min(a[0], b[0]);
      out[1] = Math.min(a[1], b[1]);
      out[2] = Math.min(a[2], b[2]);
      out[3] = Math.min(a[3], b[3]);
      return out;
    }
    function max(out, a, b) {
      out[0] = Math.max(a[0], b[0]);
      out[1] = Math.max(a[1], b[1]);
      out[2] = Math.max(a[2], b[2]);
      out[3] = Math.max(a[3], b[3]);
      return out;
    }
    function round(out, a) {
      out[0] = Math.round(a[0]);
      out[1] = Math.round(a[1]);
      out[2] = Math.round(a[2]);
      out[3] = Math.round(a[3]);
      return out;
    }
    function scale(out, a, b) {
      out[0] = a[0] * b;
      out[1] = a[1] * b;
      out[2] = a[2] * b;
      out[3] = a[3] * b;
      return out;
    }
    function scaleAndAdd(out, a, b, scale) {
      out[0] = a[0] + b[0] * scale;
      out[1] = a[1] + b[1] * scale;
      out[2] = a[2] + b[2] * scale;
      out[3] = a[3] + b[3] * scale;
      return out;
    }
    function distance(a, b) {
      var x = b[0] - a[0];
      var y = b[1] - a[1];
      var z = b[2] - a[2];
      var w = b[3] - a[3];
      return Math.sqrt(x * x + y * y + z * z + w * w);
    }
    function squaredDistance(a, b) {
      var x = b[0] - a[0];
      var y = b[1] - a[1];
      var z = b[2] - a[2];
      var w = b[3] - a[3];
      return x * x + y * y + z * z + w * w;
    }
    function length(a) {
      var x = a[0];
      var y = a[1];
      var z = a[2];
      var w = a[3];
      return Math.sqrt(x * x + y * y + z * z + w * w);
    }
    function squaredLength(a) {
      var x = a[0];
      var y = a[1];
      var z = a[2];
      var w = a[3];
      return x * x + y * y + z * z + w * w;
    }
    function negate(out, a) {
      out[0] = -a[0];
      out[1] = -a[1];
      out[2] = -a[2];
      out[3] = -a[3];
      return out;
    }
    function inverse(out, a) {
      out[0] = 1.0 / a[0];
      out[1] = 1.0 / a[1];
      out[2] = 1.0 / a[2];
      out[3] = 1.0 / a[3];
      return out;
    }
    function normalize(out, a) {
      var x = a[0];
      var y = a[1];
      var z = a[2];
      var w = a[3];
      var len = x * x + y * y + z * z + w * w;
      if (len > 0) {
        len = 1 / Math.sqrt(len);
        out[0] = x * len;
        out[1] = y * len;
        out[2] = z * len;
        out[3] = w * len;
      }
      return out;
    }
    function dot(a, b) {
      return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];
    }
    function lerp(out, a, b, t) {
      var ax = a[0];
      var ay = a[1];
      var az = a[2];
      var aw = a[3];
      out[0] = ax + t * (b[0] - ax);
      out[1] = ay + t * (b[1] - ay);
      out[2] = az + t * (b[2] - az);
      out[3] = aw + t * (b[3] - aw);
      return out;
    }
    function random(out, vectorScale) {
      vectorScale = vectorScale || 1.0;
      out[0] = glMatrix.RANDOM();
      out[1] = glMatrix.RANDOM();
      out[2] = glMatrix.RANDOM();
      out[3] = glMatrix.RANDOM();
      normalize(out, out);
      scale(out, out, vectorScale);
      return out;
    }
    function transformMat4(out, a, m) {
      var x = a[0],
          y = a[1],
          z = a[2],
          w = a[3];
      out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;
      out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;
      out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;
      out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;
      return out;
    }
    function transformQuat(out, a, q) {
      var x = a[0],
          y = a[1],
          z = a[2];
      var qx = q[0],
          qy = q[1],
          qz = q[2],
          qw = q[3];
      var ix = qw * x + qy * z - qz * y;
      var iy = qw * y + qz * x - qx * z;
      var iz = qw * z + qx * y - qy * x;
      var iw = -qx * x - qy * y - qz * z;
      out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;
      out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;
      out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;
      out[3] = a[3];
      return out;
    }
    function str(a) {
      return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';
    }
    function exactEquals(a, b) {
      return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];
    }
    function equals(a, b) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2],
          a3 = a[3];
      var b0 = b[0],
          b1 = b[1],
          b2 = b[2],
          b3 = b[3];
      return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));
    }
    var sub = exports.sub = subtract;
    var mul = exports.mul = multiply;
    var div = exports.div = divide;
    var dist = exports.dist = distance;
    var sqrDist = exports.sqrDist = squaredDistance;
    var len = exports.len = length;
    var sqrLen = exports.sqrLen = squaredLength;
    var forEach = exports.forEach = function() {
      var vec = create();
      return function(a, stride, offset, count, fn, arg) {
        var i = void 0,
            l = void 0;
        if (!stride) {
          stride = 4;
        }
        if (!offset) {
          offset = 0;
        }
        if (count) {
          l = Math.min(count * stride + offset, a.length);
        } else {
          l = a.length;
        }
        for (i = offset; i < l; i += stride) {
          vec[0] = a[i];
          vec[1] = a[i + 1];
          vec[2] = a[i + 2];
          vec[3] = a[i + 3];
          fn(vec, vec, arg);
          a[i] = vec[0];
          a[i + 1] = vec[1];
          a[i + 2] = vec[2];
          a[i + 3] = vec[3];
        }
        return a;
      };
    }();
  }), (function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {value: true});
    exports.vec4 = exports.vec3 = exports.vec2 = exports.quat = exports.mat4 = exports.mat3 = exports.mat2d = exports.mat2 = exports.glMatrix = undefined;
    var _common = __webpack_require__(0);
    var glMatrix = _interopRequireWildcard(_common);
    var _mat = __webpack_require__(5);
    var mat2 = _interopRequireWildcard(_mat);
    var _mat2d = __webpack_require__(6);
    var mat2d = _interopRequireWildcard(_mat2d);
    var _mat2 = __webpack_require__(1);
    var mat3 = _interopRequireWildcard(_mat2);
    var _mat3 = __webpack_require__(7);
    var mat4 = _interopRequireWildcard(_mat3);
    var _quat = __webpack_require__(8);
    var quat = _interopRequireWildcard(_quat);
    var _vec = __webpack_require__(9);
    var vec2 = _interopRequireWildcard(_vec);
    var _vec2 = __webpack_require__(2);
    var vec3 = _interopRequireWildcard(_vec2);
    var _vec3 = __webpack_require__(3);
    var vec4 = _interopRequireWildcard(_vec3);
    function _interopRequireWildcard(obj) {
      if (obj && obj.__esModule) {
        return obj;
      } else {
        var newObj = {};
        if (obj != null) {
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key))
              newObj[key] = obj[key];
          }
        }
        newObj.default = obj;
        return newObj;
      }
    }
    exports.glMatrix = glMatrix;
    exports.mat2 = mat2;
    exports.mat2d = mat2d;
    exports.mat3 = mat3;
    exports.mat4 = mat4;
    exports.quat = quat;
    exports.vec2 = vec2;
    exports.vec3 = vec3;
    exports.vec4 = vec4;
  }), (function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {value: true});
    exports.sub = exports.mul = undefined;
    exports.create = create;
    exports.clone = clone;
    exports.copy = copy;
    exports.identity = identity;
    exports.fromValues = fromValues;
    exports.set = set;
    exports.transpose = transpose;
    exports.invert = invert;
    exports.adjoint = adjoint;
    exports.determinant = determinant;
    exports.multiply = multiply;
    exports.rotate = rotate;
    exports.scale = scale;
    exports.fromRotation = fromRotation;
    exports.fromScaling = fromScaling;
    exports.str = str;
    exports.frob = frob;
    exports.LDU = LDU;
    exports.add = add;
    exports.subtract = subtract;
    exports.exactEquals = exactEquals;
    exports.equals = equals;
    exports.multiplyScalar = multiplyScalar;
    exports.multiplyScalarAndAdd = multiplyScalarAndAdd;
    var _common = __webpack_require__(0);
    var glMatrix = _interopRequireWildcard(_common);
    function _interopRequireWildcard(obj) {
      if (obj && obj.__esModule) {
        return obj;
      } else {
        var newObj = {};
        if (obj != null) {
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key))
              newObj[key] = obj[key];
          }
        }
        newObj.default = obj;
        return newObj;
      }
    }
    function create() {
      var out = new glMatrix.ARRAY_TYPE(4);
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      out[3] = 1;
      return out;
    }
    function clone(a) {
      var out = new glMatrix.ARRAY_TYPE(4);
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      return out;
    }
    function copy(out, a) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      return out;
    }
    function identity(out) {
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      out[3] = 1;
      return out;
    }
    function fromValues(m00, m01, m10, m11) {
      var out = new glMatrix.ARRAY_TYPE(4);
      out[0] = m00;
      out[1] = m01;
      out[2] = m10;
      out[3] = m11;
      return out;
    }
    function set(out, m00, m01, m10, m11) {
      out[0] = m00;
      out[1] = m01;
      out[2] = m10;
      out[3] = m11;
      return out;
    }
    function transpose(out, a) {
      if (out === a) {
        var a1 = a[1];
        out[1] = a[2];
        out[2] = a1;
      } else {
        out[0] = a[0];
        out[1] = a[2];
        out[2] = a[1];
        out[3] = a[3];
      }
      return out;
    }
    function invert(out, a) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2],
          a3 = a[3];
      var det = a0 * a3 - a2 * a1;
      if (!det) {
        return null;
      }
      det = 1.0 / det;
      out[0] = a3 * det;
      out[1] = -a1 * det;
      out[2] = -a2 * det;
      out[3] = a0 * det;
      return out;
    }
    function adjoint(out, a) {
      var a0 = a[0];
      out[0] = a[3];
      out[1] = -a[1];
      out[2] = -a[2];
      out[3] = a0;
      return out;
    }
    function determinant(a) {
      return a[0] * a[3] - a[2] * a[1];
    }
    function multiply(out, a, b) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2],
          a3 = a[3];
      var b0 = b[0],
          b1 = b[1],
          b2 = b[2],
          b3 = b[3];
      out[0] = a0 * b0 + a2 * b1;
      out[1] = a1 * b0 + a3 * b1;
      out[2] = a0 * b2 + a2 * b3;
      out[3] = a1 * b2 + a3 * b3;
      return out;
    }
    function rotate(out, a, rad) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2],
          a3 = a[3];
      var s = Math.sin(rad);
      var c = Math.cos(rad);
      out[0] = a0 * c + a2 * s;
      out[1] = a1 * c + a3 * s;
      out[2] = a0 * -s + a2 * c;
      out[3] = a1 * -s + a3 * c;
      return out;
    }
    function scale(out, a, v) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2],
          a3 = a[3];
      var v0 = v[0],
          v1 = v[1];
      out[0] = a0 * v0;
      out[1] = a1 * v0;
      out[2] = a2 * v1;
      out[3] = a3 * v1;
      return out;
    }
    function fromRotation(out, rad) {
      var s = Math.sin(rad);
      var c = Math.cos(rad);
      out[0] = c;
      out[1] = s;
      out[2] = -s;
      out[3] = c;
      return out;
    }
    function fromScaling(out, v) {
      out[0] = v[0];
      out[1] = 0;
      out[2] = 0;
      out[3] = v[1];
      return out;
    }
    function str(a) {
      return 'mat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';
    }
    function frob(a) {
      return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2));
    }
    function LDU(L, D, U, a) {
      L[2] = a[2] / a[0];
      U[0] = a[0];
      U[1] = a[1];
      U[3] = a[3] - L[2] * U[1];
      return [L, D, U];
    }
    function add(out, a, b) {
      out[0] = a[0] + b[0];
      out[1] = a[1] + b[1];
      out[2] = a[2] + b[2];
      out[3] = a[3] + b[3];
      return out;
    }
    function subtract(out, a, b) {
      out[0] = a[0] - b[0];
      out[1] = a[1] - b[1];
      out[2] = a[2] - b[2];
      out[3] = a[3] - b[3];
      return out;
    }
    function exactEquals(a, b) {
      return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];
    }
    function equals(a, b) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2],
          a3 = a[3];
      var b0 = b[0],
          b1 = b[1],
          b2 = b[2],
          b3 = b[3];
      return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));
    }
    function multiplyScalar(out, a, b) {
      out[0] = a[0] * b;
      out[1] = a[1] * b;
      out[2] = a[2] * b;
      out[3] = a[3] * b;
      return out;
    }
    function multiplyScalarAndAdd(out, a, b, scale) {
      out[0] = a[0] + b[0] * scale;
      out[1] = a[1] + b[1] * scale;
      out[2] = a[2] + b[2] * scale;
      out[3] = a[3] + b[3] * scale;
      return out;
    }
    var mul = exports.mul = multiply;
    var sub = exports.sub = subtract;
  }), (function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {value: true});
    exports.sub = exports.mul = undefined;
    exports.create = create;
    exports.clone = clone;
    exports.copy = copy;
    exports.identity = identity;
    exports.fromValues = fromValues;
    exports.set = set;
    exports.invert = invert;
    exports.determinant = determinant;
    exports.multiply = multiply;
    exports.rotate = rotate;
    exports.scale = scale;
    exports.translate = translate;
    exports.fromRotation = fromRotation;
    exports.fromScaling = fromScaling;
    exports.fromTranslation = fromTranslation;
    exports.str = str;
    exports.frob = frob;
    exports.add = add;
    exports.subtract = subtract;
    exports.multiplyScalar = multiplyScalar;
    exports.multiplyScalarAndAdd = multiplyScalarAndAdd;
    exports.exactEquals = exactEquals;
    exports.equals = equals;
    var _common = __webpack_require__(0);
    var glMatrix = _interopRequireWildcard(_common);
    function _interopRequireWildcard(obj) {
      if (obj && obj.__esModule) {
        return obj;
      } else {
        var newObj = {};
        if (obj != null) {
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key))
              newObj[key] = obj[key];
          }
        }
        newObj.default = obj;
        return newObj;
      }
    }
    function create() {
      var out = new glMatrix.ARRAY_TYPE(6);
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      out[3] = 1;
      out[4] = 0;
      out[5] = 0;
      return out;
    }
    function clone(a) {
      var out = new glMatrix.ARRAY_TYPE(6);
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      out[4] = a[4];
      out[5] = a[5];
      return out;
    }
    function copy(out, a) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      out[4] = a[4];
      out[5] = a[5];
      return out;
    }
    function identity(out) {
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      out[3] = 1;
      out[4] = 0;
      out[5] = 0;
      return out;
    }
    function fromValues(a, b, c, d, tx, ty) {
      var out = new glMatrix.ARRAY_TYPE(6);
      out[0] = a;
      out[1] = b;
      out[2] = c;
      out[3] = d;
      out[4] = tx;
      out[5] = ty;
      return out;
    }
    function set(out, a, b, c, d, tx, ty) {
      out[0] = a;
      out[1] = b;
      out[2] = c;
      out[3] = d;
      out[4] = tx;
      out[5] = ty;
      return out;
    }
    function invert(out, a) {
      var aa = a[0],
          ab = a[1],
          ac = a[2],
          ad = a[3];
      var atx = a[4],
          aty = a[5];
      var det = aa * ad - ab * ac;
      if (!det) {
        return null;
      }
      det = 1.0 / det;
      out[0] = ad * det;
      out[1] = -ab * det;
      out[2] = -ac * det;
      out[3] = aa * det;
      out[4] = (ac * aty - ad * atx) * det;
      out[5] = (ab * atx - aa * aty) * det;
      return out;
    }
    function determinant(a) {
      return a[0] * a[3] - a[1] * a[2];
    }
    function multiply(out, a, b) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2],
          a3 = a[3],
          a4 = a[4],
          a5 = a[5];
      var b0 = b[0],
          b1 = b[1],
          b2 = b[2],
          b3 = b[3],
          b4 = b[4],
          b5 = b[5];
      out[0] = a0 * b0 + a2 * b1;
      out[1] = a1 * b0 + a3 * b1;
      out[2] = a0 * b2 + a2 * b3;
      out[3] = a1 * b2 + a3 * b3;
      out[4] = a0 * b4 + a2 * b5 + a4;
      out[5] = a1 * b4 + a3 * b5 + a5;
      return out;
    }
    function rotate(out, a, rad) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2],
          a3 = a[3],
          a4 = a[4],
          a5 = a[5];
      var s = Math.sin(rad);
      var c = Math.cos(rad);
      out[0] = a0 * c + a2 * s;
      out[1] = a1 * c + a3 * s;
      out[2] = a0 * -s + a2 * c;
      out[3] = a1 * -s + a3 * c;
      out[4] = a4;
      out[5] = a5;
      return out;
    }
    function scale(out, a, v) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2],
          a3 = a[3],
          a4 = a[4],
          a5 = a[5];
      var v0 = v[0],
          v1 = v[1];
      out[0] = a0 * v0;
      out[1] = a1 * v0;
      out[2] = a2 * v1;
      out[3] = a3 * v1;
      out[4] = a4;
      out[5] = a5;
      return out;
    }
    function translate(out, a, v) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2],
          a3 = a[3],
          a4 = a[4],
          a5 = a[5];
      var v0 = v[0],
          v1 = v[1];
      out[0] = a0;
      out[1] = a1;
      out[2] = a2;
      out[3] = a3;
      out[4] = a0 * v0 + a2 * v1 + a4;
      out[5] = a1 * v0 + a3 * v1 + a5;
      return out;
    }
    function fromRotation(out, rad) {
      var s = Math.sin(rad),
          c = Math.cos(rad);
      out[0] = c;
      out[1] = s;
      out[2] = -s;
      out[3] = c;
      out[4] = 0;
      out[5] = 0;
      return out;
    }
    function fromScaling(out, v) {
      out[0] = v[0];
      out[1] = 0;
      out[2] = 0;
      out[3] = v[1];
      out[4] = 0;
      out[5] = 0;
      return out;
    }
    function fromTranslation(out, v) {
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      out[3] = 1;
      out[4] = v[0];
      out[5] = v[1];
      return out;
    }
    function str(a) {
      return 'mat2d(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ')';
    }
    function frob(a) {
      return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + 1);
    }
    function add(out, a, b) {
      out[0] = a[0] + b[0];
      out[1] = a[1] + b[1];
      out[2] = a[2] + b[2];
      out[3] = a[3] + b[3];
      out[4] = a[4] + b[4];
      out[5] = a[5] + b[5];
      return out;
    }
    function subtract(out, a, b) {
      out[0] = a[0] - b[0];
      out[1] = a[1] - b[1];
      out[2] = a[2] - b[2];
      out[3] = a[3] - b[3];
      out[4] = a[4] - b[4];
      out[5] = a[5] - b[5];
      return out;
    }
    function multiplyScalar(out, a, b) {
      out[0] = a[0] * b;
      out[1] = a[1] * b;
      out[2] = a[2] * b;
      out[3] = a[3] * b;
      out[4] = a[4] * b;
      out[5] = a[5] * b;
      return out;
    }
    function multiplyScalarAndAdd(out, a, b, scale) {
      out[0] = a[0] + b[0] * scale;
      out[1] = a[1] + b[1] * scale;
      out[2] = a[2] + b[2] * scale;
      out[3] = a[3] + b[3] * scale;
      out[4] = a[4] + b[4] * scale;
      out[5] = a[5] + b[5] * scale;
      return out;
    }
    function exactEquals(a, b) {
      return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];
    }
    function equals(a, b) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2],
          a3 = a[3],
          a4 = a[4],
          a5 = a[5];
      var b0 = b[0],
          b1 = b[1],
          b2 = b[2],
          b3 = b[3],
          b4 = b[4],
          b5 = b[5];
      return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));
    }
    var mul = exports.mul = multiply;
    var sub = exports.sub = subtract;
  }), (function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {value: true});
    exports.sub = exports.mul = undefined;
    exports.create = create;
    exports.clone = clone;
    exports.copy = copy;
    exports.fromValues = fromValues;
    exports.set = set;
    exports.identity = identity;
    exports.transpose = transpose;
    exports.invert = invert;
    exports.adjoint = adjoint;
    exports.determinant = determinant;
    exports.multiply = multiply;
    exports.translate = translate;
    exports.scale = scale;
    exports.rotate = rotate;
    exports.rotateX = rotateX;
    exports.rotateY = rotateY;
    exports.rotateZ = rotateZ;
    exports.fromTranslation = fromTranslation;
    exports.fromScaling = fromScaling;
    exports.fromRotation = fromRotation;
    exports.fromXRotation = fromXRotation;
    exports.fromYRotation = fromYRotation;
    exports.fromZRotation = fromZRotation;
    exports.fromRotationTranslation = fromRotationTranslation;
    exports.getTranslation = getTranslation;
    exports.getScaling = getScaling;
    exports.getRotation = getRotation;
    exports.fromRotationTranslationScale = fromRotationTranslationScale;
    exports.fromRotationTranslationScaleOrigin = fromRotationTranslationScaleOrigin;
    exports.fromQuat = fromQuat;
    exports.frustum = frustum;
    exports.perspective = perspective;
    exports.perspectiveFromFieldOfView = perspectiveFromFieldOfView;
    exports.ortho = ortho;
    exports.lookAt = lookAt;
    exports.targetTo = targetTo;
    exports.str = str;
    exports.frob = frob;
    exports.add = add;
    exports.subtract = subtract;
    exports.multiplyScalar = multiplyScalar;
    exports.multiplyScalarAndAdd = multiplyScalarAndAdd;
    exports.exactEquals = exactEquals;
    exports.equals = equals;
    var _common = __webpack_require__(0);
    var glMatrix = _interopRequireWildcard(_common);
    function _interopRequireWildcard(obj) {
      if (obj && obj.__esModule) {
        return obj;
      } else {
        var newObj = {};
        if (obj != null) {
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key))
              newObj[key] = obj[key];
          }
        }
        newObj.default = obj;
        return newObj;
      }
    }
    function create() {
      var out = new glMatrix.ARRAY_TYPE(16);
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[5] = 1;
      out[6] = 0;
      out[7] = 0;
      out[8] = 0;
      out[9] = 0;
      out[10] = 1;
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
      out[15] = 1;
      return out;
    }
    function clone(a) {
      var out = new glMatrix.ARRAY_TYPE(16);
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      out[4] = a[4];
      out[5] = a[5];
      out[6] = a[6];
      out[7] = a[7];
      out[8] = a[8];
      out[9] = a[9];
      out[10] = a[10];
      out[11] = a[11];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
      return out;
    }
    function copy(out, a) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      out[4] = a[4];
      out[5] = a[5];
      out[6] = a[6];
      out[7] = a[7];
      out[8] = a[8];
      out[9] = a[9];
      out[10] = a[10];
      out[11] = a[11];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
      return out;
    }
    function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
      var out = new glMatrix.ARRAY_TYPE(16);
      out[0] = m00;
      out[1] = m01;
      out[2] = m02;
      out[3] = m03;
      out[4] = m10;
      out[5] = m11;
      out[6] = m12;
      out[7] = m13;
      out[8] = m20;
      out[9] = m21;
      out[10] = m22;
      out[11] = m23;
      out[12] = m30;
      out[13] = m31;
      out[14] = m32;
      out[15] = m33;
      return out;
    }
    function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
      out[0] = m00;
      out[1] = m01;
      out[2] = m02;
      out[3] = m03;
      out[4] = m10;
      out[5] = m11;
      out[6] = m12;
      out[7] = m13;
      out[8] = m20;
      out[9] = m21;
      out[10] = m22;
      out[11] = m23;
      out[12] = m30;
      out[13] = m31;
      out[14] = m32;
      out[15] = m33;
      return out;
    }
    function identity(out) {
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[5] = 1;
      out[6] = 0;
      out[7] = 0;
      out[8] = 0;
      out[9] = 0;
      out[10] = 1;
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
      out[15] = 1;
      return out;
    }
    function transpose(out, a) {
      if (out === a) {
        var a01 = a[1],
            a02 = a[2],
            a03 = a[3];
        var a12 = a[6],
            a13 = a[7];
        var a23 = a[11];
        out[1] = a[4];
        out[2] = a[8];
        out[3] = a[12];
        out[4] = a01;
        out[6] = a[9];
        out[7] = a[13];
        out[8] = a02;
        out[9] = a12;
        out[11] = a[14];
        out[12] = a03;
        out[13] = a13;
        out[14] = a23;
      } else {
        out[0] = a[0];
        out[1] = a[4];
        out[2] = a[8];
        out[3] = a[12];
        out[4] = a[1];
        out[5] = a[5];
        out[6] = a[9];
        out[7] = a[13];
        out[8] = a[2];
        out[9] = a[6];
        out[10] = a[10];
        out[11] = a[14];
        out[12] = a[3];
        out[13] = a[7];
        out[14] = a[11];
        out[15] = a[15];
      }
      return out;
    }
    function invert(out, a) {
      var a00 = a[0],
          a01 = a[1],
          a02 = a[2],
          a03 = a[3];
      var a10 = a[4],
          a11 = a[5],
          a12 = a[6],
          a13 = a[7];
      var a20 = a[8],
          a21 = a[9],
          a22 = a[10],
          a23 = a[11];
      var a30 = a[12],
          a31 = a[13],
          a32 = a[14],
          a33 = a[15];
      var b00 = a00 * a11 - a01 * a10;
      var b01 = a00 * a12 - a02 * a10;
      var b02 = a00 * a13 - a03 * a10;
      var b03 = a01 * a12 - a02 * a11;
      var b04 = a01 * a13 - a03 * a11;
      var b05 = a02 * a13 - a03 * a12;
      var b06 = a20 * a31 - a21 * a30;
      var b07 = a20 * a32 - a22 * a30;
      var b08 = a20 * a33 - a23 * a30;
      var b09 = a21 * a32 - a22 * a31;
      var b10 = a21 * a33 - a23 * a31;
      var b11 = a22 * a33 - a23 * a32;
      var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
      if (!det) {
        return null;
      }
      det = 1.0 / det;
      out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;
      out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;
      out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;
      out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;
      out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;
      out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;
      out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;
      out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;
      out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;
      out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;
      out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;
      out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;
      out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;
      out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;
      out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;
      out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;
      return out;
    }
    function adjoint(out, a) {
      var a00 = a[0],
          a01 = a[1],
          a02 = a[2],
          a03 = a[3];
      var a10 = a[4],
          a11 = a[5],
          a12 = a[6],
          a13 = a[7];
      var a20 = a[8],
          a21 = a[9],
          a22 = a[10],
          a23 = a[11];
      var a30 = a[12],
          a31 = a[13],
          a32 = a[14],
          a33 = a[15];
      out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);
      out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));
      out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);
      out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));
      out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));
      out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);
      out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));
      out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);
      out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);
      out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));
      out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);
      out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));
      out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));
      out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);
      out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));
      out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);
      return out;
    }
    function determinant(a) {
      var a00 = a[0],
          a01 = a[1],
          a02 = a[2],
          a03 = a[3];
      var a10 = a[4],
          a11 = a[5],
          a12 = a[6],
          a13 = a[7];
      var a20 = a[8],
          a21 = a[9],
          a22 = a[10],
          a23 = a[11];
      var a30 = a[12],
          a31 = a[13],
          a32 = a[14],
          a33 = a[15];
      var b00 = a00 * a11 - a01 * a10;
      var b01 = a00 * a12 - a02 * a10;
      var b02 = a00 * a13 - a03 * a10;
      var b03 = a01 * a12 - a02 * a11;
      var b04 = a01 * a13 - a03 * a11;
      var b05 = a02 * a13 - a03 * a12;
      var b06 = a20 * a31 - a21 * a30;
      var b07 = a20 * a32 - a22 * a30;
      var b08 = a20 * a33 - a23 * a30;
      var b09 = a21 * a32 - a22 * a31;
      var b10 = a21 * a33 - a23 * a31;
      var b11 = a22 * a33 - a23 * a32;
      return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
    }
    function multiply(out, a, b) {
      var a00 = a[0],
          a01 = a[1],
          a02 = a[2],
          a03 = a[3];
      var a10 = a[4],
          a11 = a[5],
          a12 = a[6],
          a13 = a[7];
      var a20 = a[8],
          a21 = a[9],
          a22 = a[10],
          a23 = a[11];
      var a30 = a[12],
          a31 = a[13],
          a32 = a[14],
          a33 = a[15];
      var b0 = b[0],
          b1 = b[1],
          b2 = b[2],
          b3 = b[3];
      out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
      out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
      out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
      out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
      b0 = b[4];
      b1 = b[5];
      b2 = b[6];
      b3 = b[7];
      out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
      out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
      out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
      out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
      b0 = b[8];
      b1 = b[9];
      b2 = b[10];
      b3 = b[11];
      out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
      out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
      out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
      out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
      b0 = b[12];
      b1 = b[13];
      b2 = b[14];
      b3 = b[15];
      out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
      out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
      out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
      out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
      return out;
    }
    function translate(out, a, v) {
      var x = v[0],
          y = v[1],
          z = v[2];
      var a00 = void 0,
          a01 = void 0,
          a02 = void 0,
          a03 = void 0;
      var a10 = void 0,
          a11 = void 0,
          a12 = void 0,
          a13 = void 0;
      var a20 = void 0,
          a21 = void 0,
          a22 = void 0,
          a23 = void 0;
      if (a === out) {
        out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];
        out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];
        out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];
        out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];
      } else {
        a00 = a[0];
        a01 = a[1];
        a02 = a[2];
        a03 = a[3];
        a10 = a[4];
        a11 = a[5];
        a12 = a[6];
        a13 = a[7];
        a20 = a[8];
        a21 = a[9];
        a22 = a[10];
        a23 = a[11];
        out[0] = a00;
        out[1] = a01;
        out[2] = a02;
        out[3] = a03;
        out[4] = a10;
        out[5] = a11;
        out[6] = a12;
        out[7] = a13;
        out[8] = a20;
        out[9] = a21;
        out[10] = a22;
        out[11] = a23;
        out[12] = a00 * x + a10 * y + a20 * z + a[12];
        out[13] = a01 * x + a11 * y + a21 * z + a[13];
        out[14] = a02 * x + a12 * y + a22 * z + a[14];
        out[15] = a03 * x + a13 * y + a23 * z + a[15];
      }
      return out;
    }
    function scale(out, a, v) {
      var x = v[0],
          y = v[1],
          z = v[2];
      out[0] = a[0] * x;
      out[1] = a[1] * x;
      out[2] = a[2] * x;
      out[3] = a[3] * x;
      out[4] = a[4] * y;
      out[5] = a[5] * y;
      out[6] = a[6] * y;
      out[7] = a[7] * y;
      out[8] = a[8] * z;
      out[9] = a[9] * z;
      out[10] = a[10] * z;
      out[11] = a[11] * z;
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
      return out;
    }
    function rotate(out, a, rad, axis) {
      var x = axis[0],
          y = axis[1],
          z = axis[2];
      var len = Math.sqrt(x * x + y * y + z * z);
      var s = void 0,
          c = void 0,
          t = void 0;
      var a00 = void 0,
          a01 = void 0,
          a02 = void 0,
          a03 = void 0;
      var a10 = void 0,
          a11 = void 0,
          a12 = void 0,
          a13 = void 0;
      var a20 = void 0,
          a21 = void 0,
          a22 = void 0,
          a23 = void 0;
      var b00 = void 0,
          b01 = void 0,
          b02 = void 0;
      var b10 = void 0,
          b11 = void 0,
          b12 = void 0;
      var b20 = void 0,
          b21 = void 0,
          b22 = void 0;
      if (Math.abs(len) < glMatrix.EPSILON) {
        return null;
      }
      len = 1 / len;
      x *= len;
      y *= len;
      z *= len;
      s = Math.sin(rad);
      c = Math.cos(rad);
      t = 1 - c;
      a00 = a[0];
      a01 = a[1];
      a02 = a[2];
      a03 = a[3];
      a10 = a[4];
      a11 = a[5];
      a12 = a[6];
      a13 = a[7];
      a20 = a[8];
      a21 = a[9];
      a22 = a[10];
      a23 = a[11];
      b00 = x * x * t + c;
      b01 = y * x * t + z * s;
      b02 = z * x * t - y * s;
      b10 = x * y * t - z * s;
      b11 = y * y * t + c;
      b12 = z * y * t + x * s;
      b20 = x * z * t + y * s;
      b21 = y * z * t - x * s;
      b22 = z * z * t + c;
      out[0] = a00 * b00 + a10 * b01 + a20 * b02;
      out[1] = a01 * b00 + a11 * b01 + a21 * b02;
      out[2] = a02 * b00 + a12 * b01 + a22 * b02;
      out[3] = a03 * b00 + a13 * b01 + a23 * b02;
      out[4] = a00 * b10 + a10 * b11 + a20 * b12;
      out[5] = a01 * b10 + a11 * b11 + a21 * b12;
      out[6] = a02 * b10 + a12 * b11 + a22 * b12;
      out[7] = a03 * b10 + a13 * b11 + a23 * b12;
      out[8] = a00 * b20 + a10 * b21 + a20 * b22;
      out[9] = a01 * b20 + a11 * b21 + a21 * b22;
      out[10] = a02 * b20 + a12 * b21 + a22 * b22;
      out[11] = a03 * b20 + a13 * b21 + a23 * b22;
      if (a !== out) {
        out[12] = a[12];
        out[13] = a[13];
        out[14] = a[14];
        out[15] = a[15];
      }
      return out;
    }
    function rotateX(out, a, rad) {
      var s = Math.sin(rad);
      var c = Math.cos(rad);
      var a10 = a[4];
      var a11 = a[5];
      var a12 = a[6];
      var a13 = a[7];
      var a20 = a[8];
      var a21 = a[9];
      var a22 = a[10];
      var a23 = a[11];
      if (a !== out) {
        out[0] = a[0];
        out[1] = a[1];
        out[2] = a[2];
        out[3] = a[3];
        out[12] = a[12];
        out[13] = a[13];
        out[14] = a[14];
        out[15] = a[15];
      }
      out[4] = a10 * c + a20 * s;
      out[5] = a11 * c + a21 * s;
      out[6] = a12 * c + a22 * s;
      out[7] = a13 * c + a23 * s;
      out[8] = a20 * c - a10 * s;
      out[9] = a21 * c - a11 * s;
      out[10] = a22 * c - a12 * s;
      out[11] = a23 * c - a13 * s;
      return out;
    }
    function rotateY(out, a, rad) {
      var s = Math.sin(rad);
      var c = Math.cos(rad);
      var a00 = a[0];
      var a01 = a[1];
      var a02 = a[2];
      var a03 = a[3];
      var a20 = a[8];
      var a21 = a[9];
      var a22 = a[10];
      var a23 = a[11];
      if (a !== out) {
        out[4] = a[4];
        out[5] = a[5];
        out[6] = a[6];
        out[7] = a[7];
        out[12] = a[12];
        out[13] = a[13];
        out[14] = a[14];
        out[15] = a[15];
      }
      out[0] = a00 * c - a20 * s;
      out[1] = a01 * c - a21 * s;
      out[2] = a02 * c - a22 * s;
      out[3] = a03 * c - a23 * s;
      out[8] = a00 * s + a20 * c;
      out[9] = a01 * s + a21 * c;
      out[10] = a02 * s + a22 * c;
      out[11] = a03 * s + a23 * c;
      return out;
    }
    function rotateZ(out, a, rad) {
      var s = Math.sin(rad);
      var c = Math.cos(rad);
      var a00 = a[0];
      var a01 = a[1];
      var a02 = a[2];
      var a03 = a[3];
      var a10 = a[4];
      var a11 = a[5];
      var a12 = a[6];
      var a13 = a[7];
      if (a !== out) {
        out[8] = a[8];
        out[9] = a[9];
        out[10] = a[10];
        out[11] = a[11];
        out[12] = a[12];
        out[13] = a[13];
        out[14] = a[14];
        out[15] = a[15];
      }
      out[0] = a00 * c + a10 * s;
      out[1] = a01 * c + a11 * s;
      out[2] = a02 * c + a12 * s;
      out[3] = a03 * c + a13 * s;
      out[4] = a10 * c - a00 * s;
      out[5] = a11 * c - a01 * s;
      out[6] = a12 * c - a02 * s;
      out[7] = a13 * c - a03 * s;
      return out;
    }
    function fromTranslation(out, v) {
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[5] = 1;
      out[6] = 0;
      out[7] = 0;
      out[8] = 0;
      out[9] = 0;
      out[10] = 1;
      out[11] = 0;
      out[12] = v[0];
      out[13] = v[1];
      out[14] = v[2];
      out[15] = 1;
      return out;
    }
    function fromScaling(out, v) {
      out[0] = v[0];
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[5] = v[1];
      out[6] = 0;
      out[7] = 0;
      out[8] = 0;
      out[9] = 0;
      out[10] = v[2];
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
      out[15] = 1;
      return out;
    }
    function fromRotation(out, rad, axis) {
      var x = axis[0],
          y = axis[1],
          z = axis[2];
      var len = Math.sqrt(x * x + y * y + z * z);
      var s = void 0,
          c = void 0,
          t = void 0;
      if (Math.abs(len) < glMatrix.EPSILON) {
        return null;
      }
      len = 1 / len;
      x *= len;
      y *= len;
      z *= len;
      s = Math.sin(rad);
      c = Math.cos(rad);
      t = 1 - c;
      out[0] = x * x * t + c;
      out[1] = y * x * t + z * s;
      out[2] = z * x * t - y * s;
      out[3] = 0;
      out[4] = x * y * t - z * s;
      out[5] = y * y * t + c;
      out[6] = z * y * t + x * s;
      out[7] = 0;
      out[8] = x * z * t + y * s;
      out[9] = y * z * t - x * s;
      out[10] = z * z * t + c;
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
      out[15] = 1;
      return out;
    }
    function fromXRotation(out, rad) {
      var s = Math.sin(rad);
      var c = Math.cos(rad);
      out[0] = 1;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[5] = c;
      out[6] = s;
      out[7] = 0;
      out[8] = 0;
      out[9] = -s;
      out[10] = c;
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
      out[15] = 1;
      return out;
    }
    function fromYRotation(out, rad) {
      var s = Math.sin(rad);
      var c = Math.cos(rad);
      out[0] = c;
      out[1] = 0;
      out[2] = -s;
      out[3] = 0;
      out[4] = 0;
      out[5] = 1;
      out[6] = 0;
      out[7] = 0;
      out[8] = s;
      out[9] = 0;
      out[10] = c;
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
      out[15] = 1;
      return out;
    }
    function fromZRotation(out, rad) {
      var s = Math.sin(rad);
      var c = Math.cos(rad);
      out[0] = c;
      out[1] = s;
      out[2] = 0;
      out[3] = 0;
      out[4] = -s;
      out[5] = c;
      out[6] = 0;
      out[7] = 0;
      out[8] = 0;
      out[9] = 0;
      out[10] = 1;
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
      out[15] = 1;
      return out;
    }
    function fromRotationTranslation(out, q, v) {
      var x = q[0],
          y = q[1],
          z = q[2],
          w = q[3];
      var x2 = x + x;
      var y2 = y + y;
      var z2 = z + z;
      var xx = x * x2;
      var xy = x * y2;
      var xz = x * z2;
      var yy = y * y2;
      var yz = y * z2;
      var zz = z * z2;
      var wx = w * x2;
      var wy = w * y2;
      var wz = w * z2;
      out[0] = 1 - (yy + zz);
      out[1] = xy + wz;
      out[2] = xz - wy;
      out[3] = 0;
      out[4] = xy - wz;
      out[5] = 1 - (xx + zz);
      out[6] = yz + wx;
      out[7] = 0;
      out[8] = xz + wy;
      out[9] = yz - wx;
      out[10] = 1 - (xx + yy);
      out[11] = 0;
      out[12] = v[0];
      out[13] = v[1];
      out[14] = v[2];
      out[15] = 1;
      return out;
    }
    function getTranslation(out, mat) {
      out[0] = mat[12];
      out[1] = mat[13];
      out[2] = mat[14];
      return out;
    }
    function getScaling(out, mat) {
      var m11 = mat[0];
      var m12 = mat[1];
      var m13 = mat[2];
      var m21 = mat[4];
      var m22 = mat[5];
      var m23 = mat[6];
      var m31 = mat[8];
      var m32 = mat[9];
      var m33 = mat[10];
      out[0] = Math.sqrt(m11 * m11 + m12 * m12 + m13 * m13);
      out[1] = Math.sqrt(m21 * m21 + m22 * m22 + m23 * m23);
      out[2] = Math.sqrt(m31 * m31 + m32 * m32 + m33 * m33);
      return out;
    }
    function getRotation(out, mat) {
      var trace = mat[0] + mat[5] + mat[10];
      var S = 0;
      if (trace > 0) {
        S = Math.sqrt(trace + 1.0) * 2;
        out[3] = 0.25 * S;
        out[0] = (mat[6] - mat[9]) / S;
        out[1] = (mat[8] - mat[2]) / S;
        out[2] = (mat[1] - mat[4]) / S;
      } else if (mat[0] > mat[5] & mat[0] > mat[10]) {
        S = Math.sqrt(1.0 + mat[0] - mat[5] - mat[10]) * 2;
        out[3] = (mat[6] - mat[9]) / S;
        out[0] = 0.25 * S;
        out[1] = (mat[1] + mat[4]) / S;
        out[2] = (mat[8] + mat[2]) / S;
      } else if (mat[5] > mat[10]) {
        S = Math.sqrt(1.0 + mat[5] - mat[0] - mat[10]) * 2;
        out[3] = (mat[8] - mat[2]) / S;
        out[0] = (mat[1] + mat[4]) / S;
        out[1] = 0.25 * S;
        out[2] = (mat[6] + mat[9]) / S;
      } else {
        S = Math.sqrt(1.0 + mat[10] - mat[0] - mat[5]) * 2;
        out[3] = (mat[1] - mat[4]) / S;
        out[0] = (mat[8] + mat[2]) / S;
        out[1] = (mat[6] + mat[9]) / S;
        out[2] = 0.25 * S;
      }
      return out;
    }
    function fromRotationTranslationScale(out, q, v, s) {
      var x = q[0],
          y = q[1],
          z = q[2],
          w = q[3];
      var x2 = x + x;
      var y2 = y + y;
      var z2 = z + z;
      var xx = x * x2;
      var xy = x * y2;
      var xz = x * z2;
      var yy = y * y2;
      var yz = y * z2;
      var zz = z * z2;
      var wx = w * x2;
      var wy = w * y2;
      var wz = w * z2;
      var sx = s[0];
      var sy = s[1];
      var sz = s[2];
      out[0] = (1 - (yy + zz)) * sx;
      out[1] = (xy + wz) * sx;
      out[2] = (xz - wy) * sx;
      out[3] = 0;
      out[4] = (xy - wz) * sy;
      out[5] = (1 - (xx + zz)) * sy;
      out[6] = (yz + wx) * sy;
      out[7] = 0;
      out[8] = (xz + wy) * sz;
      out[9] = (yz - wx) * sz;
      out[10] = (1 - (xx + yy)) * sz;
      out[11] = 0;
      out[12] = v[0];
      out[13] = v[1];
      out[14] = v[2];
      out[15] = 1;
      return out;
    }
    function fromRotationTranslationScaleOrigin(out, q, v, s, o) {
      var x = q[0],
          y = q[1],
          z = q[2],
          w = q[3];
      var x2 = x + x;
      var y2 = y + y;
      var z2 = z + z;
      var xx = x * x2;
      var xy = x * y2;
      var xz = x * z2;
      var yy = y * y2;
      var yz = y * z2;
      var zz = z * z2;
      var wx = w * x2;
      var wy = w * y2;
      var wz = w * z2;
      var sx = s[0];
      var sy = s[1];
      var sz = s[2];
      var ox = o[0];
      var oy = o[1];
      var oz = o[2];
      out[0] = (1 - (yy + zz)) * sx;
      out[1] = (xy + wz) * sx;
      out[2] = (xz - wy) * sx;
      out[3] = 0;
      out[4] = (xy - wz) * sy;
      out[5] = (1 - (xx + zz)) * sy;
      out[6] = (yz + wx) * sy;
      out[7] = 0;
      out[8] = (xz + wy) * sz;
      out[9] = (yz - wx) * sz;
      out[10] = (1 - (xx + yy)) * sz;
      out[11] = 0;
      out[12] = v[0] + ox - (out[0] * ox + out[4] * oy + out[8] * oz);
      out[13] = v[1] + oy - (out[1] * ox + out[5] * oy + out[9] * oz);
      out[14] = v[2] + oz - (out[2] * ox + out[6] * oy + out[10] * oz);
      out[15] = 1;
      return out;
    }
    function fromQuat(out, q) {
      var x = q[0],
          y = q[1],
          z = q[2],
          w = q[3];
      var x2 = x + x;
      var y2 = y + y;
      var z2 = z + z;
      var xx = x * x2;
      var yx = y * x2;
      var yy = y * y2;
      var zx = z * x2;
      var zy = z * y2;
      var zz = z * z2;
      var wx = w * x2;
      var wy = w * y2;
      var wz = w * z2;
      out[0] = 1 - yy - zz;
      out[1] = yx + wz;
      out[2] = zx - wy;
      out[3] = 0;
      out[4] = yx - wz;
      out[5] = 1 - xx - zz;
      out[6] = zy + wx;
      out[7] = 0;
      out[8] = zx + wy;
      out[9] = zy - wx;
      out[10] = 1 - xx - yy;
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
      out[15] = 1;
      return out;
    }
    function frustum(out, left, right, bottom, top, near, far) {
      var rl = 1 / (right - left);
      var tb = 1 / (top - bottom);
      var nf = 1 / (near - far);
      out[0] = near * 2 * rl;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[5] = near * 2 * tb;
      out[6] = 0;
      out[7] = 0;
      out[8] = (right + left) * rl;
      out[9] = (top + bottom) * tb;
      out[10] = (far + near) * nf;
      out[11] = -1;
      out[12] = 0;
      out[13] = 0;
      out[14] = far * near * 2 * nf;
      out[15] = 0;
      return out;
    }
    function perspective(out, fovy, aspect, near, far) {
      var f = 1.0 / Math.tan(fovy / 2);
      var nf = 1 / (near - far);
      out[0] = f / aspect;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[5] = f;
      out[6] = 0;
      out[7] = 0;
      out[8] = 0;
      out[9] = 0;
      out[10] = (far + near) * nf;
      out[11] = -1;
      out[12] = 0;
      out[13] = 0;
      out[14] = 2 * far * near * nf;
      out[15] = 0;
      return out;
    }
    function perspectiveFromFieldOfView(out, fov, near, far) {
      var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);
      var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);
      var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);
      var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);
      var xScale = 2.0 / (leftTan + rightTan);
      var yScale = 2.0 / (upTan + downTan);
      out[0] = xScale;
      out[1] = 0.0;
      out[2] = 0.0;
      out[3] = 0.0;
      out[4] = 0.0;
      out[5] = yScale;
      out[6] = 0.0;
      out[7] = 0.0;
      out[8] = -((leftTan - rightTan) * xScale * 0.5);
      out[9] = (upTan - downTan) * yScale * 0.5;
      out[10] = far / (near - far);
      out[11] = -1.0;
      out[12] = 0.0;
      out[13] = 0.0;
      out[14] = far * near / (near - far);
      out[15] = 0.0;
      return out;
    }
    function ortho(out, left, right, bottom, top, near, far) {
      var lr = 1 / (left - right);
      var bt = 1 / (bottom - top);
      var nf = 1 / (near - far);
      out[0] = -2 * lr;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[5] = -2 * bt;
      out[6] = 0;
      out[7] = 0;
      out[8] = 0;
      out[9] = 0;
      out[10] = 2 * nf;
      out[11] = 0;
      out[12] = (left + right) * lr;
      out[13] = (top + bottom) * bt;
      out[14] = (far + near) * nf;
      out[15] = 1;
      return out;
    }
    function lookAt(out, eye, center, up) {
      var x0 = void 0,
          x1 = void 0,
          x2 = void 0,
          y0 = void 0,
          y1 = void 0,
          y2 = void 0,
          z0 = void 0,
          z1 = void 0,
          z2 = void 0,
          len = void 0;
      var eyex = eye[0];
      var eyey = eye[1];
      var eyez = eye[2];
      var upx = up[0];
      var upy = up[1];
      var upz = up[2];
      var centerx = center[0];
      var centery = center[1];
      var centerz = center[2];
      if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {
        return mat4.identity(out);
      }
      z0 = eyex - centerx;
      z1 = eyey - centery;
      z2 = eyez - centerz;
      len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);
      z0 *= len;
      z1 *= len;
      z2 *= len;
      x0 = upy * z2 - upz * z1;
      x1 = upz * z0 - upx * z2;
      x2 = upx * z1 - upy * z0;
      len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);
      if (!len) {
        x0 = 0;
        x1 = 0;
        x2 = 0;
      } else {
        len = 1 / len;
        x0 *= len;
        x1 *= len;
        x2 *= len;
      }
      y0 = z1 * x2 - z2 * x1;
      y1 = z2 * x0 - z0 * x2;
      y2 = z0 * x1 - z1 * x0;
      len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);
      if (!len) {
        y0 = 0;
        y1 = 0;
        y2 = 0;
      } else {
        len = 1 / len;
        y0 *= len;
        y1 *= len;
        y2 *= len;
      }
      out[0] = x0;
      out[1] = y0;
      out[2] = z0;
      out[3] = 0;
      out[4] = x1;
      out[5] = y1;
      out[6] = z1;
      out[7] = 0;
      out[8] = x2;
      out[9] = y2;
      out[10] = z2;
      out[11] = 0;
      out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);
      out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);
      out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);
      out[15] = 1;
      return out;
    }
    function targetTo(out, eye, target, up) {
      var eyex = eye[0],
          eyey = eye[1],
          eyez = eye[2],
          upx = up[0],
          upy = up[1],
          upz = up[2];
      var z0 = eyex - target[0],
          z1 = eyey - target[1],
          z2 = eyez - target[2];
      var len = z0 * z0 + z1 * z1 + z2 * z2;
      if (len > 0) {
        len = 1 / Math.sqrt(len);
        z0 *= len;
        z1 *= len;
        z2 *= len;
      }
      var x0 = upy * z2 - upz * z1,
          x1 = upz * z0 - upx * z2,
          x2 = upx * z1 - upy * z0;
      out[0] = x0;
      out[1] = x1;
      out[2] = x2;
      out[3] = 0;
      out[4] = z1 * x2 - z2 * x1;
      out[5] = z2 * x0 - z0 * x2;
      out[6] = z0 * x1 - z1 * x0;
      out[7] = 0;
      out[8] = z0;
      out[9] = z1;
      out[10] = z2;
      out[11] = 0;
      out[12] = eyex;
      out[13] = eyey;
      out[14] = eyez;
      out[15] = 1;
      return out;
    }
    ;
    function str(a) {
      return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' + a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';
    }
    function frob(a) {
      return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2) + Math.pow(a[9], 2) + Math.pow(a[10], 2) + Math.pow(a[11], 2) + Math.pow(a[12], 2) + Math.pow(a[13], 2) + Math.pow(a[14], 2) + Math.pow(a[15], 2));
    }
    function add(out, a, b) {
      out[0] = a[0] + b[0];
      out[1] = a[1] + b[1];
      out[2] = a[2] + b[2];
      out[3] = a[3] + b[3];
      out[4] = a[4] + b[4];
      out[5] = a[5] + b[5];
      out[6] = a[6] + b[6];
      out[7] = a[7] + b[7];
      out[8] = a[8] + b[8];
      out[9] = a[9] + b[9];
      out[10] = a[10] + b[10];
      out[11] = a[11] + b[11];
      out[12] = a[12] + b[12];
      out[13] = a[13] + b[13];
      out[14] = a[14] + b[14];
      out[15] = a[15] + b[15];
      return out;
    }
    function subtract(out, a, b) {
      out[0] = a[0] - b[0];
      out[1] = a[1] - b[1];
      out[2] = a[2] - b[2];
      out[3] = a[3] - b[3];
      out[4] = a[4] - b[4];
      out[5] = a[5] - b[5];
      out[6] = a[6] - b[6];
      out[7] = a[7] - b[7];
      out[8] = a[8] - b[8];
      out[9] = a[9] - b[9];
      out[10] = a[10] - b[10];
      out[11] = a[11] - b[11];
      out[12] = a[12] - b[12];
      out[13] = a[13] - b[13];
      out[14] = a[14] - b[14];
      out[15] = a[15] - b[15];
      return out;
    }
    function multiplyScalar(out, a, b) {
      out[0] = a[0] * b;
      out[1] = a[1] * b;
      out[2] = a[2] * b;
      out[3] = a[3] * b;
      out[4] = a[4] * b;
      out[5] = a[5] * b;
      out[6] = a[6] * b;
      out[7] = a[7] * b;
      out[8] = a[8] * b;
      out[9] = a[9] * b;
      out[10] = a[10] * b;
      out[11] = a[11] * b;
      out[12] = a[12] * b;
      out[13] = a[13] * b;
      out[14] = a[14] * b;
      out[15] = a[15] * b;
      return out;
    }
    function multiplyScalarAndAdd(out, a, b, scale) {
      out[0] = a[0] + b[0] * scale;
      out[1] = a[1] + b[1] * scale;
      out[2] = a[2] + b[2] * scale;
      out[3] = a[3] + b[3] * scale;
      out[4] = a[4] + b[4] * scale;
      out[5] = a[5] + b[5] * scale;
      out[6] = a[6] + b[6] * scale;
      out[7] = a[7] + b[7] * scale;
      out[8] = a[8] + b[8] * scale;
      out[9] = a[9] + b[9] * scale;
      out[10] = a[10] + b[10] * scale;
      out[11] = a[11] + b[11] * scale;
      out[12] = a[12] + b[12] * scale;
      out[13] = a[13] + b[13] * scale;
      out[14] = a[14] + b[14] * scale;
      out[15] = a[15] + b[15] * scale;
      return out;
    }
    function exactEquals(a, b) {
      return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];
    }
    function equals(a, b) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2],
          a3 = a[3];
      var a4 = a[4],
          a5 = a[5],
          a6 = a[6],
          a7 = a[7];
      var a8 = a[8],
          a9 = a[9],
          a10 = a[10],
          a11 = a[11];
      var a12 = a[12],
          a13 = a[13],
          a14 = a[14],
          a15 = a[15];
      var b0 = b[0],
          b1 = b[1],
          b2 = b[2],
          b3 = b[3];
      var b4 = b[4],
          b5 = b[5],
          b6 = b[6],
          b7 = b[7];
      var b8 = b[8],
          b9 = b[9],
          b10 = b[10],
          b11 = b[11];
      var b12 = b[12],
          b13 = b[13],
          b14 = b[14],
          b15 = b[15];
      return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));
    }
    var mul = exports.mul = multiply;
    var sub = exports.sub = subtract;
  }), (function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {value: true});
    exports.setAxes = exports.sqlerp = exports.rotationTo = exports.equals = exports.exactEquals = exports.normalize = exports.sqrLen = exports.squaredLength = exports.len = exports.length = exports.lerp = exports.dot = exports.scale = exports.mul = exports.add = exports.set = exports.copy = exports.fromValues = exports.clone = undefined;
    exports.create = create;
    exports.identity = identity;
    exports.setAxisAngle = setAxisAngle;
    exports.getAxisAngle = getAxisAngle;
    exports.multiply = multiply;
    exports.rotateX = rotateX;
    exports.rotateY = rotateY;
    exports.rotateZ = rotateZ;
    exports.calculateW = calculateW;
    exports.slerp = slerp;
    exports.invert = invert;
    exports.conjugate = conjugate;
    exports.fromMat3 = fromMat3;
    exports.fromEuler = fromEuler;
    exports.str = str;
    var _common = __webpack_require__(0);
    var glMatrix = _interopRequireWildcard(_common);
    var _mat = __webpack_require__(1);
    var mat3 = _interopRequireWildcard(_mat);
    var _vec = __webpack_require__(2);
    var vec3 = _interopRequireWildcard(_vec);
    var _vec2 = __webpack_require__(3);
    var vec4 = _interopRequireWildcard(_vec2);
    function _interopRequireWildcard(obj) {
      if (obj && obj.__esModule) {
        return obj;
      } else {
        var newObj = {};
        if (obj != null) {
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key))
              newObj[key] = obj[key];
          }
        }
        newObj.default = obj;
        return newObj;
      }
    }
    function create() {
      var out = new glMatrix.ARRAY_TYPE(4);
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
      out[3] = 1;
      return out;
    }
    function identity(out) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
      out[3] = 1;
      return out;
    }
    function setAxisAngle(out, axis, rad) {
      rad = rad * 0.5;
      var s = Math.sin(rad);
      out[0] = s * axis[0];
      out[1] = s * axis[1];
      out[2] = s * axis[2];
      out[3] = Math.cos(rad);
      return out;
    }
    function getAxisAngle(out_axis, q) {
      var rad = Math.acos(q[3]) * 2.0;
      var s = Math.sin(rad / 2.0);
      if (s != 0.0) {
        out_axis[0] = q[0] / s;
        out_axis[1] = q[1] / s;
        out_axis[2] = q[2] / s;
      } else {
        out_axis[0] = 1;
        out_axis[1] = 0;
        out_axis[2] = 0;
      }
      return rad;
    }
    function multiply(out, a, b) {
      var ax = a[0],
          ay = a[1],
          az = a[2],
          aw = a[3];
      var bx = b[0],
          by = b[1],
          bz = b[2],
          bw = b[3];
      out[0] = ax * bw + aw * bx + ay * bz - az * by;
      out[1] = ay * bw + aw * by + az * bx - ax * bz;
      out[2] = az * bw + aw * bz + ax * by - ay * bx;
      out[3] = aw * bw - ax * bx - ay * by - az * bz;
      return out;
    }
    function rotateX(out, a, rad) {
      rad *= 0.5;
      var ax = a[0],
          ay = a[1],
          az = a[2],
          aw = a[3];
      var bx = Math.sin(rad),
          bw = Math.cos(rad);
      out[0] = ax * bw + aw * bx;
      out[1] = ay * bw + az * bx;
      out[2] = az * bw - ay * bx;
      out[3] = aw * bw - ax * bx;
      return out;
    }
    function rotateY(out, a, rad) {
      rad *= 0.5;
      var ax = a[0],
          ay = a[1],
          az = a[2],
          aw = a[3];
      var by = Math.sin(rad),
          bw = Math.cos(rad);
      out[0] = ax * bw - az * by;
      out[1] = ay * bw + aw * by;
      out[2] = az * bw + ax * by;
      out[3] = aw * bw - ay * by;
      return out;
    }
    function rotateZ(out, a, rad) {
      rad *= 0.5;
      var ax = a[0],
          ay = a[1],
          az = a[2],
          aw = a[3];
      var bz = Math.sin(rad),
          bw = Math.cos(rad);
      out[0] = ax * bw + ay * bz;
      out[1] = ay * bw - ax * bz;
      out[2] = az * bw + aw * bz;
      out[3] = aw * bw - az * bz;
      return out;
    }
    function calculateW(out, a) {
      var x = a[0],
          y = a[1],
          z = a[2];
      out[0] = x;
      out[1] = y;
      out[2] = z;
      out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));
      return out;
    }
    function slerp(out, a, b, t) {
      var ax = a[0],
          ay = a[1],
          az = a[2],
          aw = a[3];
      var bx = b[0],
          by = b[1],
          bz = b[2],
          bw = b[3];
      var omega = void 0,
          cosom = void 0,
          sinom = void 0,
          scale0 = void 0,
          scale1 = void 0;
      cosom = ax * bx + ay * by + az * bz + aw * bw;
      if (cosom < 0.0) {
        cosom = -cosom;
        bx = -bx;
        by = -by;
        bz = -bz;
        bw = -bw;
      }
      if (1.0 - cosom > 0.000001) {
        omega = Math.acos(cosom);
        sinom = Math.sin(omega);
        scale0 = Math.sin((1.0 - t) * omega) / sinom;
        scale1 = Math.sin(t * omega) / sinom;
      } else {
        scale0 = 1.0 - t;
        scale1 = t;
      }
      out[0] = scale0 * ax + scale1 * bx;
      out[1] = scale0 * ay + scale1 * by;
      out[2] = scale0 * az + scale1 * bz;
      out[3] = scale0 * aw + scale1 * bw;
      return out;
    }
    function invert(out, a) {
      var a0 = a[0],
          a1 = a[1],
          a2 = a[2],
          a3 = a[3];
      var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;
      var invDot = dot ? 1.0 / dot : 0;
      out[0] = -a0 * invDot;
      out[1] = -a1 * invDot;
      out[2] = -a2 * invDot;
      out[3] = a3 * invDot;
      return out;
    }
    function conjugate(out, a) {
      out[0] = -a[0];
      out[1] = -a[1];
      out[2] = -a[2];
      out[3] = a[3];
      return out;
    }
    function fromMat3(out, m) {
      var fTrace = m[0] + m[4] + m[8];
      var fRoot = void 0;
      if (fTrace > 0.0) {
        fRoot = Math.sqrt(fTrace + 1.0);
        out[3] = 0.5 * fRoot;
        fRoot = 0.5 / fRoot;
        out[0] = (m[5] - m[7]) * fRoot;
        out[1] = (m[6] - m[2]) * fRoot;
        out[2] = (m[1] - m[3]) * fRoot;
      } else {
        var i = 0;
        if (m[4] > m[0])
          i = 1;
        if (m[8] > m[i * 3 + i])
          i = 2;
        var j = (i + 1) % 3;
        var k = (i + 2) % 3;
        fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);
        out[i] = 0.5 * fRoot;
        fRoot = 0.5 / fRoot;
        out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;
        out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;
        out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;
      }
      return out;
    }
    function fromEuler(out, x, y, z) {
      var halfToRad = 0.5 * Math.PI / 180.0;
      x *= halfToRad;
      y *= halfToRad;
      z *= halfToRad;
      var sx = Math.sin(x);
      var cx = Math.cos(x);
      var sy = Math.sin(y);
      var cy = Math.cos(y);
      var sz = Math.sin(z);
      var cz = Math.cos(z);
      out[0] = sx * cy * cz - cx * sy * sz;
      out[1] = cx * sy * cz + sx * cy * sz;
      out[2] = cx * cy * sz - sx * sy * cz;
      out[3] = cx * cy * cz + sx * sy * sz;
      return out;
    }
    function str(a) {
      return 'quat(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';
    }
    var clone = exports.clone = vec4.clone;
    var fromValues = exports.fromValues = vec4.fromValues;
    var copy = exports.copy = vec4.copy;
    var set = exports.set = vec4.set;
    var add = exports.add = vec4.add;
    var mul = exports.mul = multiply;
    var scale = exports.scale = vec4.scale;
    var dot = exports.dot = vec4.dot;
    var lerp = exports.lerp = vec4.lerp;
    var length = exports.length = vec4.length;
    var len = exports.len = length;
    var squaredLength = exports.squaredLength = vec4.squaredLength;
    var sqrLen = exports.sqrLen = squaredLength;
    var normalize = exports.normalize = vec4.normalize;
    var exactEquals = exports.exactEquals = vec4.exactEquals;
    var equals = exports.equals = vec4.equals;
    var rotationTo = exports.rotationTo = function() {
      var tmpvec3 = vec3.create();
      var xUnitVec3 = vec3.fromValues(1, 0, 0);
      var yUnitVec3 = vec3.fromValues(0, 1, 0);
      return function(out, a, b) {
        var dot = vec3.dot(a, b);
        if (dot < -0.999999) {
          vec3.cross(tmpvec3, xUnitVec3, a);
          if (vec3.len(tmpvec3) < 0.000001)
            vec3.cross(tmpvec3, yUnitVec3, a);
          vec3.normalize(tmpvec3, tmpvec3);
          setAxisAngle(out, tmpvec3, Math.PI);
          return out;
        } else if (dot > 0.999999) {
          out[0] = 0;
          out[1] = 0;
          out[2] = 0;
          out[3] = 1;
          return out;
        } else {
          vec3.cross(tmpvec3, a, b);
          out[0] = tmpvec3[0];
          out[1] = tmpvec3[1];
          out[2] = tmpvec3[2];
          out[3] = 1 + dot;
          return normalize(out, out);
        }
      };
    }();
    var sqlerp = exports.sqlerp = function() {
      var temp1 = create();
      var temp2 = create();
      return function(out, a, b, c, d, t) {
        slerp(temp1, a, d, t);
        slerp(temp2, b, c, t);
        slerp(out, temp1, temp2, 2 * t * (1 - t));
        return out;
      };
    }();
    var setAxes = exports.setAxes = function() {
      var matr = mat3.create();
      return function(out, view, right, up) {
        matr[0] = right[0];
        matr[3] = right[1];
        matr[6] = right[2];
        matr[1] = up[0];
        matr[4] = up[1];
        matr[7] = up[2];
        matr[2] = -view[0];
        matr[5] = -view[1];
        matr[8] = -view[2];
        return normalize(out, fromMat3(out, matr));
      };
    }();
  }), (function(module, exports, __webpack_require__) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {value: true});
    exports.forEach = exports.sqrLen = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = exports.len = undefined;
    exports.create = create;
    exports.clone = clone;
    exports.fromValues = fromValues;
    exports.copy = copy;
    exports.set = set;
    exports.add = add;
    exports.subtract = subtract;
    exports.multiply = multiply;
    exports.divide = divide;
    exports.ceil = ceil;
    exports.floor = floor;
    exports.min = min;
    exports.max = max;
    exports.round = round;
    exports.scale = scale;
    exports.scaleAndAdd = scaleAndAdd;
    exports.distance = distance;
    exports.squaredDistance = squaredDistance;
    exports.length = length;
    exports.squaredLength = squaredLength;
    exports.negate = negate;
    exports.inverse = inverse;
    exports.normalize = normalize;
    exports.dot = dot;
    exports.cross = cross;
    exports.lerp = lerp;
    exports.random = random;
    exports.transformMat2 = transformMat2;
    exports.transformMat2d = transformMat2d;
    exports.transformMat3 = transformMat3;
    exports.transformMat4 = transformMat4;
    exports.str = str;
    exports.exactEquals = exactEquals;
    exports.equals = equals;
    var _common = __webpack_require__(0);
    var glMatrix = _interopRequireWildcard(_common);
    function _interopRequireWildcard(obj) {
      if (obj && obj.__esModule) {
        return obj;
      } else {
        var newObj = {};
        if (obj != null) {
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key))
              newObj[key] = obj[key];
          }
        }
        newObj.default = obj;
        return newObj;
      }
    }
    function create() {
      var out = new glMatrix.ARRAY_TYPE(2);
      out[0] = 0;
      out[1] = 0;
      return out;
    }
    function clone(a) {
      var out = new glMatrix.ARRAY_TYPE(2);
      out[0] = a[0];
      out[1] = a[1];
      return out;
    }
    function fromValues(x, y) {
      var out = new glMatrix.ARRAY_TYPE(2);
      out[0] = x;
      out[1] = y;
      return out;
    }
    function copy(out, a) {
      out[0] = a[0];
      out[1] = a[1];
      return out;
    }
    function set(out, x, y) {
      out[0] = x;
      out[1] = y;
      return out;
    }
    function add(out, a, b) {
      out[0] = a[0] + b[0];
      out[1] = a[1] + b[1];
      return out;
    }
    function subtract(out, a, b) {
      out[0] = a[0] - b[0];
      out[1] = a[1] - b[1];
      return out;
    }
    function multiply(out, a, b) {
      out[0] = a[0] * b[0];
      out[1] = a[1] * b[1];
      return out;
    }
    ;
    function divide(out, a, b) {
      out[0] = a[0] / b[0];
      out[1] = a[1] / b[1];
      return out;
    }
    ;
    function ceil(out, a) {
      out[0] = Math.ceil(a[0]);
      out[1] = Math.ceil(a[1]);
      return out;
    }
    ;
    function floor(out, a) {
      out[0] = Math.floor(a[0]);
      out[1] = Math.floor(a[1]);
      return out;
    }
    ;
    function min(out, a, b) {
      out[0] = Math.min(a[0], b[0]);
      out[1] = Math.min(a[1], b[1]);
      return out;
    }
    ;
    function max(out, a, b) {
      out[0] = Math.max(a[0], b[0]);
      out[1] = Math.max(a[1], b[1]);
      return out;
    }
    ;
    function round(out, a) {
      out[0] = Math.round(a[0]);
      out[1] = Math.round(a[1]);
      return out;
    }
    ;
    function scale(out, a, b) {
      out[0] = a[0] * b;
      out[1] = a[1] * b;
      return out;
    }
    ;
    function scaleAndAdd(out, a, b, scale) {
      out[0] = a[0] + b[0] * scale;
      out[1] = a[1] + b[1] * scale;
      return out;
    }
    ;
    function distance(a, b) {
      var x = b[0] - a[0],
          y = b[1] - a[1];
      return Math.sqrt(x * x + y * y);
    }
    ;
    function squaredDistance(a, b) {
      var x = b[0] - a[0],
          y = b[1] - a[1];
      return x * x + y * y;
    }
    ;
    function length(a) {
      var x = a[0],
          y = a[1];
      return Math.sqrt(x * x + y * y);
    }
    ;
    function squaredLength(a) {
      var x = a[0],
          y = a[1];
      return x * x + y * y;
    }
    ;
    function negate(out, a) {
      out[0] = -a[0];
      out[1] = -a[1];
      return out;
    }
    ;
    function inverse(out, a) {
      out[0] = 1.0 / a[0];
      out[1] = 1.0 / a[1];
      return out;
    }
    ;
    function normalize(out, a) {
      var x = a[0],
          y = a[1];
      var len = x * x + y * y;
      if (len > 0) {
        len = 1 / Math.sqrt(len);
        out[0] = a[0] * len;
        out[1] = a[1] * len;
      }
      return out;
    }
    ;
    function dot(a, b) {
      return a[0] * b[0] + a[1] * b[1];
    }
    ;
    function cross(out, a, b) {
      var z = a[0] * b[1] - a[1] * b[0];
      out[0] = out[1] = 0;
      out[2] = z;
      return out;
    }
    ;
    function lerp(out, a, b, t) {
      var ax = a[0],
          ay = a[1];
      out[0] = ax + t * (b[0] - ax);
      out[1] = ay + t * (b[1] - ay);
      return out;
    }
    ;
    function random(out, scale) {
      scale = scale || 1.0;
      var r = glMatrix.RANDOM() * 2.0 * Math.PI;
      out[0] = Math.cos(r) * scale;
      out[1] = Math.sin(r) * scale;
      return out;
    }
    ;
    function transformMat2(out, a, m) {
      var x = a[0],
          y = a[1];
      out[0] = m[0] * x + m[2] * y;
      out[1] = m[1] * x + m[3] * y;
      return out;
    }
    ;
    function transformMat2d(out, a, m) {
      var x = a[0],
          y = a[1];
      out[0] = m[0] * x + m[2] * y + m[4];
      out[1] = m[1] * x + m[3] * y + m[5];
      return out;
    }
    ;
    function transformMat3(out, a, m) {
      var x = a[0],
          y = a[1];
      out[0] = m[0] * x + m[3] * y + m[6];
      out[1] = m[1] * x + m[4] * y + m[7];
      return out;
    }
    ;
    function transformMat4(out, a, m) {
      var x = a[0];
      var y = a[1];
      out[0] = m[0] * x + m[4] * y + m[12];
      out[1] = m[1] * x + m[5] * y + m[13];
      return out;
    }
    function str(a) {
      return 'vec2(' + a[0] + ', ' + a[1] + ')';
    }
    function exactEquals(a, b) {
      return a[0] === b[0] && a[1] === b[1];
    }
    function equals(a, b) {
      var a0 = a[0],
          a1 = a[1];
      var b0 = b[0],
          b1 = b[1];
      return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));
    }
    var len = exports.len = length;
    var sub = exports.sub = subtract;
    var mul = exports.mul = multiply;
    var div = exports.div = divide;
    var dist = exports.dist = distance;
    var sqrDist = exports.sqrDist = squaredDistance;
    var sqrLen = exports.sqrLen = squaredLength;
    var forEach = exports.forEach = function() {
      var vec = create();
      return function(a, stride, offset, count, fn, arg) {
        var i = void 0,
            l = void 0;
        if (!stride) {
          stride = 2;
        }
        if (!offset) {
          offset = 0;
        }
        if (count) {
          l = Math.min(count * stride + offset, a.length);
        } else {
          l = a.length;
        }
        for (i = offset; i < l; i += stride) {
          vec[0] = a[i];
          vec[1] = a[i + 1];
          fn(vec, vec, arg);
          a[i] = vec[0];
          a[i + 1] = vec[1];
        }
        return a;
      };
    }();
  })]);
});

})();
(function() {
var define = $__System.amdDefine;
define("23", ["22"], function(main) {
  return main;
});

})();
(function() {
var define = $__System.amdDefine;
(function webpackUniversalModuleDefinition(root, factory) {
  if (typeof exports === 'object' && typeof module === 'object')
    module.exports = factory(require("gl-matrix"));
  else if (typeof define === 'function' && define.amd)
    define("24", ["23"], factory);
  else if (typeof exports === 'object')
    exports["blenderHTML5Animations"] = factory(require("gl-matrix"));
  else
    root["blenderHTML5Animations"] = factory(root["window"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {
  return (function(modules) {
    var installedModules = {};
    function __webpack_require__(moduleId) {
      if (installedModules[moduleId])
        return installedModules[moduleId].exports;
      var module = installedModules[moduleId] = {
        exports: {},
        id: moduleId,
        loaded: false
      };
      modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
      module.loaded = true;
      return module.exports;
    }
    __webpack_require__.m = modules;
    __webpack_require__.c = installedModules;
    __webpack_require__.p = "";
    return __webpack_require__(0);
  })([function(module, exports, __webpack_require__) {
    'use strict';
    module.exports.Action = __webpack_require__(1);
    module.exports.ActionLibrary = __webpack_require__(9);
    module.exports.FCurve = __webpack_require__(4);
    module.exports.FCurveArray = __webpack_require__(3);
    module.exports.Keyframe = __webpack_require__(7);
    module.exports.Marker = __webpack_require__(8);
  }, function(module, exports, __webpack_require__) {
    'use strict';
    var glMatrixLib = __webpack_require__(2);
    var glMatrix = glMatrixLib.glMatrix;
    var mat4 = glMatrixLib.mat4;
    var vec3 = glMatrixLib.vec3;
    var FCurveArray = __webpack_require__(3);
    var Marker = __webpack_require__(8);
    function Action(data) {
      var self = this;
      this.startTime = +Infinity;
      this.endTime = -Infinity;
      function timeUpdater(fcurve) {
        if (fcurve) {
          self.startTime = Math.min(self.startTime, fcurve.keyframes[0].time);
          self.endTime = Math.max(self.endTime, fcurve.keyframes[fcurve.keyframes.length - 1].time);
        }
      }
      this.paths = {};
      for (var groupName in data[0]) {
        var path = new FCurveArray(data[0][groupName]);
        this.paths[groupName] = path;
        path.forEach(timeUpdater);
      }
      this.markers = data.length > 1 ? data[1].map(function(data) {
        return new Marker(data);
      }) : [];
    }
    Action.RotationMode = {
      QUATERNION: 0,
      EULER_XYZ: 1,
      EULER_YXZ: 3,
      EULER_XZY: 2,
      EULER_ZXY: 5,
      EULER_YZX: 4,
      EULER_ZYX: 6,
      AXIS_ANGLE: -1
    };
    Action.prototype.forEachMarker = function(startTime, endTime, callback) {
      return this.markers.forEach(function(marker, index) {
        if (marker.time >= startTime && marker.time < endTime)
          return callback(marker, index);
      });
    };
    var qmat = new glMatrix.ARRAY_TYPE(16);
    Action.prototype.toWorld = function(out, time, rotationMode) {
      mat4.identity(out);
      var paths = this.paths;
      var angles;
      function computeEulerAngles() {
        angles = vec3.fromValues(0, 0, 0);
        [paths.rotation_euler, paths.delta_rotation_euler].forEach(function(path) {
          if (path)
            vec3.add(angles, angles, path.evaluate(time, FCurveArray.DefaultValues.ROTATION));
        });
      }
      var location = vec3.fromValues(0, 0, 0);
      [paths.location, paths.delta_location].forEach(function(path) {
        if (path)
          vec3.add(location, location, path.evaluate(time, FCurveArray.DefaultValues.LOCATION));
      });
      mat4.translate(out, out, location);
      switch (rotationMode) {
        case Action.RotationMode.QUATERNION:
          [paths.rotation_quaternion, paths.delta_rotation_quaternion].forEach(function(path) {
            if (path) {
              mat4.fromQuat(qmat, path.evaluate(time, FCurveArray.DefaultValues.ROTATION_QUATERNION));
              mat4.multiply(out, out, qmat);
            }
          });
          break;
        case Action.RotationMode.EULER_XYZ:
          computeEulerAngles();
          mat4.rotateZ(out, out, angles[2]);
          mat4.rotateY(out, out, angles[1]);
          mat4.rotateX(out, out, angles[0]);
          break;
        case Action.RotationMode.EULER_XZY:
          computeEulerAngles();
          mat4.rotateY(out, out, angles[1]);
          mat4.rotateZ(out, out, angles[2]);
          mat4.rotateX(out, out, angles[0]);
          break;
        case Action.RotationMode.EULER_YXZ:
          computeEulerAngles();
          mat4.rotateZ(out, out, angles[2]);
          mat4.rotateX(out, out, angles[0]);
          mat4.rotateY(out, out, angles[1]);
          break;
        case Action.RotationMode.EULER_YZX:
          computeEulerAngles();
          mat4.rotateX(out, out, angles[0]);
          mat4.rotateZ(out, out, angles[2]);
          mat4.rotateY(out, out, angles[1]);
          break;
        case Action.RotationMode.EULER_ZXY:
          computeEulerAngles();
          mat4.rotateY(out, out, angles[1]);
          mat4.rotateX(out, out, angles[0]);
          mat4.rotateZ(out, out, angles[2]);
          break;
        case Action.RotationMode.EULER_ZYX:
          computeEulerAngles();
          mat4.rotateX(out, out, angles[0]);
          mat4.rotateY(out, out, angles[1]);
          mat4.rotateZ(out, out, angles[2]);
          break;
        case Action.RotationMode.AXIS_ANGLE:
          if (paths.rotation_axis) {
            var vec = paths.rotation_axis.evaluate(time, FCurveArray.DefaultValues.ROTATION);
            mat4.rotate(out, out, vec[3], vec);
          }
          break;
      }
      var scale = vec3.fromValues(1, 1, 1);
      [paths.scale, paths.delta_scale].forEach(function(path) {
        if (path)
          vec3.multiply(scale, scale, path.evaluate(time, FCurveArray.DefaultValues.SCALE));
      });
      mat4.scale(out, out, scale);
      return out;
    };
    Action.prototype.toLocal = function(out, time, rotationMode) {
      this.toWorld(out, time, rotationMode);
      mat4.invert(out, out);
      return out;
    };
    Action.prototype.setElementTransform = function(element, time, rotationMode) {
      var mat = new glMatrix.ARRAY_TYPE(16);
      this.toWorld(mat, time, rotationMode);
      var transform = 'matrix3d(' + mat.join(',') + ')';
      ['transform', 'mozTransform', 'oTransform', 'webkitTransform'].forEach(function(property) {
        element.style[property] = transform;
      });
    };
    module.exports = Action;
  }, function(module, exports) {
    module.exports = __WEBPACK_EXTERNAL_MODULE_2__;
  }, function(module, exports, __webpack_require__) {
    'use strict';
    var FCurve = __webpack_require__(4);
    function FCurveArray(data) {
      var array = data.map(function(data) {
        return data && new FCurve(data);
      });
      array.evaluate = function(time, defaultValues) {
        return array.map(function(fcurve, index) {
          return fcurve ? fcurve.evaluate(time) : defaultValues(index, time);
        });
      };
      return array;
    }
    FCurveArray.DefaultValues = {
      LOCATION: function() {
        return 0;
      },
      ROTATION: function() {
        return 0;
      },
      ROTATION_QUATERNION: function(index) {
        return (index === 3 ? 1 : 0);
      },
      SCALE: function() {
        return 1;
      }
    };
    module.exports = FCurveArray;
  }, function(module, exports, __webpack_require__) {
    'use strict';
    var bezier = __webpack_require__(5);
    var easing = __webpack_require__(6);
    var Keyframe = __webpack_require__(7);
    function FCurve(data) {
      this.keyframes = data[0].map(function(data) {
        return new Keyframe(data);
      });
      this.extrapolation = data[1];
    }
    FCurve.Extrapolation = {
      CONSTANT: 0,
      LINEAR: 1
    };
    FCurve.evaluationTimeEpsilon = 0.0001;
    function areTimesAlmostEqual(t1, t2) {
      return Math.abs(t1 - t2) <= FCurve.evaluationTimeEpsilon;
    }
    FCurve.prototype.evaluate = function(time) {
      var leftIndex = 0;
      var leftKeyframe = this.keyframes[leftIndex];
      if (areTimesAlmostEqual(time, leftKeyframe.time)) {
        return leftKeyframe.value;
      }
      if (time <= leftKeyframe.time) {
        switch (this.extrapolation) {
          case FCurve.Extrapolation.LINEAR:
            return leftKeyframe.value + (leftKeyframe.leftValue - leftKeyframe.value) * (time - leftKeyframe.time) / (leftKeyframe.leftTime - leftKeyframe.time);
          default:
            return leftKeyframe.value;
        }
      }
      var rightIndex = this.keyframes.length - 1;
      var rightKeyframe = this.keyframes[rightIndex];
      if (areTimesAlmostEqual(time, rightKeyframe.time)) {
        return rightKeyframe.value;
      }
      if (time >= rightKeyframe.time) {
        switch (this.extrapolation) {
          case FCurve.Extrapolation.LINEAR:
            return rightKeyframe.value + (rightKeyframe.rightValue - rightKeyframe.value) * (time - rightKeyframe.time) / (rightKeyframe.rightTime - rightKeyframe.time);
          default:
            return rightKeyframe.value;
        }
      }
      while (rightIndex - leftIndex > 1) {
        var index = ((leftIndex + rightIndex) / 2) | 0;
        if (this.keyframes[index].time >= time)
          rightIndex = index;
        else
          leftIndex = index;
      }
      leftKeyframe = this.keyframes[leftIndex];
      if (areTimesAlmostEqual(time, leftKeyframe.time)) {
        return leftKeyframe.value;
      }
      rightKeyframe = this.keyframes[rightIndex];
      if (areTimesAlmostEqual(time, rightKeyframe.time)) {
        return rightKeyframe.value;
      }
      var relTime = time - leftKeyframe.time;
      var begin = leftKeyframe.value;
      var duration = rightKeyframe.time - leftKeyframe.time;
      var change = rightKeyframe.value - leftKeyframe.value;
      switch (leftKeyframe.interpolation) {
        case Keyframe.Interpolation.BACK:
          switch (leftKeyframe.easing) {
            case Keyframe.Easing.IN:
              return easing.backEaseIn(relTime, begin, change, duration, leftKeyframe.overshoot);
            case Keyframe.Easing.IN_OUT:
              return easing.backEaseInOut(relTime, begin, change, duration, leftKeyframe.overshoot);
            default:
              return easing.backEaseOut(relTime, begin, change, duration, leftKeyframe.overshoot);
          }
          break;
        case Keyframe.Interpolation.BEZIER:
          return bezier(time, leftKeyframe, rightKeyframe);
        case Keyframe.Interpolation.BOUNCE:
          switch (leftKeyframe.easing) {
            case Keyframe.Easing.IN:
              return easing.bounceEaseIn(relTime, begin, change, duration);
            case Keyframe.Easing.IN_OUT:
              return easing.bounceEaseInOut(relTime, begin, change, duration);
            default:
              return easing.bounceEaseOut(relTime, begin, change, duration);
          }
          break;
        case Keyframe.Interpolation.CIRCULAR:
          switch (leftKeyframe.easing) {
            case Keyframe.Easing.OUT:
              return easing.circularEaseOut(relTime, begin, change, duration);
            case Keyframe.Easing.IN_OUT:
              return easing.circularEaseInOut(relTime, begin, change, duration);
            default:
              return easing.circularEaseIn(relTime, begin, change, duration);
          }
          break;
        case Keyframe.Interpolation.CUBIC:
          switch (leftKeyframe.easing) {
            case Keyframe.Easing.OUT:
              return easing.cubicEaseOut(relTime, begin, change, duration);
            case Keyframe.Easing.IN_OUT:
              return easing.cubicEaseInOut(relTime, begin, change, duration);
            default:
              return easing.cubicEaseIn(relTime, begin, change, duration);
          }
          break;
        case Keyframe.Interpolation.ELASTIC:
          switch (leftKeyframe.easing) {
            case Keyframe.Easing.IN:
              return easing.elasticEaseIn(relTime, begin, change, duration);
            case Keyframe.Easing.IN_OUT:
              return easing.elasticEaseInOut(relTime, begin, change, duration);
            default:
              return easing.elasticEaseOut(relTime, begin, change, duration, leftKeyframe.amplitude, leftKeyframe.period);
          }
          break;
        case Keyframe.Interpolation.EXPONENTIAL:
          switch (leftKeyframe.easing) {
            case Keyframe.Easing.OUT:
              return easing.exponentialEaseOut(relTime, begin, change, duration);
            case Keyframe.Keyframe.Easing.IN_OUT:
              return easing.exponentialEaseInOut(relTime, begin, change, duration);
            default:
              return easing.exponentialEaseIn(relTime, begin, change, duration);
          }
          break;
        case Keyframe.Interpolation.LINEAR:
          return easing.linear(relTime, begin, change, duration);
        case Keyframe.Interpolation.QUADRATIC:
          switch (leftKeyframe.easing) {
            case Keyframe.Easing.OUT:
              return easing.quadraticEaseOut(relTime, begin, change, duration);
            case Keyframe.Easing.IN_OUT:
              return easing.quadraticEaseInOut(relTime, begin, change, duration);
            default:
              return easing.quadraticEaseIn(relTime, begin, change, duration);
          }
          break;
        case Keyframe.Interpolation.QUARTIC:
          switch (leftKeyframe.easing) {
            case Keyframe.Easing.OUT:
              return easing.quarticEaseOut(relTime, begin, change, duration);
            case Keyframe.Easing.IN_OUT:
              return easing.quarticEaseInOut(relTime, begin, change, duration);
            default:
              return easing.quarticEaseIn(relTime, begin, change, duration);
          }
          break;
        case Keyframe.Interpolation.QUINTIC:
          switch (leftKeyframe.easing) {
            case Keyframe.Easing.OUT:
              return easing.quinticEaseOut(relTime, begin, change, duration);
            case Keyframe.Easing.IN_OUT:
              return easing.quinticEaseInOut(relTime, begin, change, duration);
            default:
              return easing.quinticEaseIn(relTime, begin, change, duration);
          }
          break;
        case Keyframe.Interpolation.SINUSOIDAL:
          switch (leftKeyframe.easing) {
            case Keyframe.Easing.OUT:
              return easing.sinusoidalEaseOut(relTime, begin, change, duration);
            case Keyframe.Easing.IN_OUT:
              return easing.sinusoidalEaseInOut(relTime, begin, change, duration);
            default:
              return easing.sinusoidalEaseIn(relTime, begin, change, duration);
          }
          break;
        default:
          return begin;
      }
    };
    module.exports = FCurve;
  }, function(module, exports) {
    'use strict';
    function bezierInterpolation(A, B, C, D, t) {
      var T = 1 - t;
      return T * T * T * A + 3 * T * T * t * B + 3 * T * t * t * C + t * t * t * D;
    }
    function bezier(time, leftKeyframe, rightKeyframe) {
      var aT = leftKeyframe.time;
      var aV = leftKeyframe.value;
      var bT = leftKeyframe.rightTime;
      var bV = leftKeyframe.rightValue;
      var cT = rightKeyframe.leftTime;
      var cV = rightKeyframe.leftValue;
      var dT = rightKeyframe.time;
      var dV = rightKeyframe.value;
      var leftDeltaTime = bT - aT;
      var rightDeltaTime = dT - cT;
      var duration = dT - aT;
      if (leftDeltaTime + rightDeltaTime > duration) {
        var leftDeltaValue = bV - aV;
        var rightDeltaValue = dV - cV;
        var factor = duration / (leftDeltaTime + rightDeltaTime);
        bT = aT + factor * leftDeltaTime;
        bV = aV + factor * leftDeltaValue;
        cT = dT - factor * rightDeltaTime;
        cV = dV - factor * rightDeltaValue;
      }
      var uLeft = 0,
          uRight = 1;
      var u,
          T;
      do {
        u = (uLeft + uRight) / 2;
        T = bezierInterpolation(aT, bT, cT, dT, u);
        if (T > time)
          uRight = u;
        else
          uLeft = u;
      } while (Math.abs(T - time) > 0.01);
      return bezierInterpolation(aV, bV, cV, dV, u);
    }
    module.exports = bezier;
  }, function(module, exports) {
    'use strict';
    function backEaseIn(time, begin, change, duration, overshoot) {
      time /= duration;
      return change * time * time * ((overshoot + 1) * time - overshoot) + begin;
    }
    function backEaseOut(time, begin, change, duration, overshoot) {
      time = time / duration - 1;
      return change * (time * time * ((overshoot + 1) * time + overshoot) + 1) + begin;
    }
    function backEaseInOut(time, begin, change, duration, overshoot) {
      overshoot *= 1.525;
      if ((time /= duration / 2) < 1) {
        return change / 2 * (time * time * ((overshoot + 1) * time - overshoot)) + begin;
      }
      time -= 2.0;
      return change / 2 * (time * time * ((overshoot + 1) * time + overshoot) + 2) + begin;
    }
    function bounceEaseOut(time, begin, change, duration) {
      time /= duration;
      if (time < (1 / 2.75)) {
        return change * (7.5625 * time * time) + begin;
      } else if (time < (2 / 2.75)) {
        time -= (1.5 / 2.75);
        return change * ((7.5625 * time) * time + 0.75) + begin;
      } else if (time < (2.5 / 2.75)) {
        time -= (2.25 / 2.75);
        return change * ((7.5625 * time) * time + 0.9375) + begin;
      } else {
        time -= (2.625 / 2.75);
        return change * ((7.5625 * time) * time + 0.984375) + begin;
      }
    }
    function bounceEaseIn(time, begin, change, duration) {
      return change - bounceEaseOut(duration - time, 0, change, duration) + begin;
    }
    function bounceEaseInOut(time, begin, change, duration) {
      if (time < duration / 2)
        return bounceEaseIn(time * 2, 0, change, duration) * 0.5 + begin;
      else
        return bounceEaseOut(time * 2 - duration, 0, change, duration) * 0.5 + change * 0.5 + begin;
    }
    function circularEaseIn(time, begin, change, duration) {
      time /= duration;
      return -change * (Math.sqrt(1 - time * time) - 1) + begin;
    }
    function circularEaseOut(time, begin, change, duration) {
      time = time / duration - 1;
      return change * Math.sqrt(1 - time * time) + begin;
    }
    function circularEaseInOut(time, begin, change, duration) {
      if ((time /= duration / 2) < 1.0)
        return -change / 2 * (Math.sqrt(1 - time * time) - 1) + begin;
      time -= 2.0;
      return change / 2 * (Math.sqrt(1 - time * time) + 1) + begin;
    }
    function cubicEaseIn(time, begin, change, duration) {
      time /= duration;
      return change * time * time * time + begin;
    }
    function cubicEaseOut(time, begin, change, duration) {
      time = time / duration - 1;
      return change * (time * time * time + 1) + begin;
    }
    function cubicEaseInOut(time, begin, change, duration) {
      if ((time /= duration / 2) < 1.0)
        return change / 2 * time * time * time + begin;
      time -= 2.0;
      return change / 2 * (time * time * time + 2) + begin;
    }
    function elasticBlend(time, change, duration, amplitude, s, f) {
      if (change) {
        var t = Math.abs(s);
        if (amplitude) {
          f *= amplitude / Math.abs(change);
        } else {
          f = 0;
        }
        var td = Math.abs(time * duration);
        if (td < t) {
          var l = td / t;
          f = (f * l) + (1 - l);
        }
      }
      return f;
    }
    function elasticEaseIn(time, begin, change, duration, amplitude, period) {
      var s;
      var f = 1.0;
      if (time <= 0.0)
        return begin;
      if ((time /= duration) >= 1.0)
        return begin + change;
      time -= 1.0;
      if (!period)
        period = duration * 0.3;
      if (!amplitude || amplitude < Math.abs(change)) {
        s = period / 4;
        f = elasticBlend(time, change, duration, amplitude, s, f);
        amplitude = change;
      } else
        s = period / (2 * Math.PI) * Math.asin(change / amplitude);
      return (-f * (amplitude * Math.pow(2, 10 * time) * Math.sin((time * duration - s) * (2 * Math.PI) / period))) + begin;
    }
    function elasticEaseOut(time, begin, change, duration, amplitude, period) {
      var s;
      var f = 1;
      if (time <= 0)
        return begin;
      if ((time /= duration) >= 1.0)
        return begin + change;
      time = -time;
      if (!period)
        period = duration * 0.3;
      if (!amplitude || amplitude < Math.abs(change)) {
        s = period / 4;
        f = elasticBlend(time, change, duration, amplitude, s, f);
        amplitude = change;
      } else
        s = period / (2 * Math.PI) * Math.asin(change / amplitude);
      return (f * (amplitude * Math.pow(2, 10 * time) * Math.sin((time * duration - s) * (2 * Math.PI) / period))) + change + begin;
    }
    function elasticEaseInOut(time, begin, change, duration, amplitude, period) {
      var s;
      var f = 1.0;
      if (time <= 0.0)
        return begin;
      if ((time /= duration / 2) >= 2.0)
        return begin + change;
      time -= 1.0;
      if (!period)
        period = duration * (0.3 * 1.5);
      if (!amplitude || amplitude < Math.abs(change)) {
        s = period / 4;
        f = elasticBlend(time, change, duration, amplitude, s, f);
        amplitude = change;
      } else
        s = period / (2 * Math.PI) * Math.asin(change / amplitude);
      if (time < 0.0) {
        f *= -0.5;
        return (f * (amplitude * Math.pow(2, 10 * time) * Math.sin((time * duration - s) * (2 * Math.PI) / period))) + begin;
      } else {
        time = -time;
        f *= 0.5;
        return (f * (amplitude * Math.pow(2, 10 * time) * Math.sin((time * duration - s) * (2 * Math.PI) / period))) + change + begin;
      }
    }
    function exponentialEaseIn(time, begin, change, duration) {
      return (time <= 0.0) ? begin : change * Math.pow(2, 10 * (time / duration - 1)) + begin;
    }
    function exponentialEaseOut(time, begin, change, duration) {
      return (time >= duration) ? begin + change : change * (-Math.pow(2, -10 * time / duration) + 1) + begin;
    }
    function exponentialEaseInOut(time, begin, change, duration) {
      if (time <= 0.0)
        return begin;
      if (time >= duration)
        return begin + change;
      if ((time /= duration / 2) < 1)
        return change / 2 * Math.pow(2, 10 * (time - 1)) + begin;
      time -= 1.0;
      return change / 2 * (-Math.pow(2, -10 * time) + 2) + begin;
    }
    function linear(time, begin, change, duration) {
      return change * time / duration + begin;
    }
    function quadraticEaseIn(time, begin, change, duration) {
      time /= duration;
      return change * time * time + begin;
    }
    function quadraticEaseOut(time, begin, change, duration) {
      time /= duration;
      return -change * time * (time - 2) + begin;
    }
    function quadraticEaseInOut(time, begin, change, duration) {
      if ((time /= duration / 2) < 1.0)
        return change / 2 * time * time + begin;
      time -= 1.0;
      return -change / 2 * (time * (time - 2) - 1) + begin;
    }
    function quarticEaseIn(time, begin, change, duration) {
      time /= duration;
      return change * time * time * time * time + begin;
    }
    function quarticEaseOut(time, begin, change, duration) {
      time = time / duration - 1;
      return -change * (time * time * time * time - 1) + begin;
    }
    function quarticEaseInOut(time, begin, change, duration) {
      if ((time /= duration / 2) < 1.0)
        return change / 2 * time * time * time * time + begin;
      time -= 2.0;
      return -change / 2 * (time * time * time * time - 2) + begin;
    }
    function quinticEaseIn(time, begin, change, duration) {
      time /= duration;
      return change * time * time * time * time * time + begin;
    }
    function quinticEaseOut(time, begin, change, duration) {
      time = time / duration - 1;
      return change * (time * time * time * time * time + 1) + begin;
    }
    function quinticEaseInOut(time, begin, change, duration) {
      if ((time /= duration / 2) < 1.0)
        return change / 2 * time * time * time * time * time + begin;
      time -= 2.0;
      return change / 2 * (time * time * time * time * time + 2) + begin;
    }
    function sinusoidalEaseIn(time, begin, change, duration) {
      return -change * Math.cos(time / duration * Math.PI / 2) + change + begin;
    }
    function sinusoidalEaseOut(time, begin, change, duration) {
      return change * Math.sin(time / duration * Math.PI / 2) + begin;
    }
    function sinusoidalEaseInOut(time, begin, change, duration) {
      return -change / 2 * (Math.cos(Math.PI * time / duration) - 1) + begin;
    }
    module.exports.backEaseIn = backEaseIn;
    module.exports.backEaseOut = backEaseOut;
    module.exports.backEaseInOut = backEaseInOut;
    module.exports.bounceEaseOut = bounceEaseOut;
    module.exports.bounceEaseIn = bounceEaseIn;
    module.exports.bounceEaseInOut = bounceEaseInOut;
    module.exports.circularEaseIn = circularEaseIn;
    module.exports.circularEaseOut = circularEaseOut;
    module.exports.circularEaseInOut = circularEaseInOut;
    module.exports.cubicEaseIn = cubicEaseIn;
    module.exports.cubicEaseOut = cubicEaseOut;
    module.exports.cubicEaseInOut = cubicEaseInOut;
    module.exports.elasticEaseIn = elasticEaseIn;
    module.exports.elasticEaseOut = elasticEaseOut;
    module.exports.elasticEaseInOut = elasticEaseInOut;
    module.exports.exponentialEaseIn = exponentialEaseIn;
    module.exports.exponentialEaseOut = exponentialEaseOut;
    module.exports.exponentialEaseInOut = exponentialEaseInOut;
    module.exports.linear = linear;
    module.exports.quadraticEaseIn = quadraticEaseIn;
    module.exports.quadraticEaseOut = quadraticEaseOut;
    module.exports.quadraticEaseInOut = quadraticEaseInOut;
    module.exports.quarticEaseIn = quarticEaseIn;
    module.exports.quarticEaseOut = quarticEaseOut;
    module.exports.quarticEaseInOut = quarticEaseInOut;
    module.exports.quinticEaseIn = quinticEaseIn;
    module.exports.quinticEaseOut = quinticEaseOut;
    module.exports.quinticEaseInOut = quinticEaseInOut;
    module.exports.sinusoidalEaseIn = sinusoidalEaseIn;
    module.exports.sinusoidalEaseOut = sinusoidalEaseOut;
    module.exports.sinusoidalEaseInOut = sinusoidalEaseInOut;
  }, function(module, exports) {
    'use strict';
    function Keyframe(data) {
      this.time = data[0];
      this.value = data[1];
      this.leftTime = data[2];
      this.leftValue = data[3];
      this.rightTime = data[4];
      this.rightValue = data[5];
      this.interpolation = data[6];
      this.easing = data[7];
      this.overshoot = data[8];
      this.amplitude = data[8];
      this.period = data[9];
    }
    Keyframe.Easing = {
      AUTO: 0,
      IN: 1,
      OUT: 2,
      IN_OUT: 3
    };
    Keyframe.Interpolation = {
      CONSTANT: 0,
      LINEAR: 1,
      BEZIER: 2,
      BACK: 3,
      BOUNCE: 4,
      CIRCULAR: 5,
      CUBIC: 6,
      ELASTIC: 7,
      EXPONENTIAL: 8,
      QUADRATIC: 9,
      QUARTIC: 10,
      QUINTIC: 11,
      SINUSOIDAL: 12
    };
    module.exports = Keyframe;
  }, function(module, exports) {
    'use strict';
    function Marker(data) {
      this.time = data[0];
      this.name = data[1];
    }
    module.exports = Marker;
  }, function(module, exports, __webpack_require__) {
    'use strict';
    var Action = __webpack_require__(1);
    function ActionLibrary(data) {
      for (var actionName in data) {
        this[actionName] = new Action(data[actionName]);
      }
    }
    module.exports = ActionLibrary;
  }]);
});
;

})();
$__System.register('25', ['24'], function (_export) {
	'use strict';

	var blenderHTML5Animations;
	return {
		setters: [function (_) {
			blenderHTML5Animations = _['default'];
		}],
		execute: function () {
			_export('default', function (actionDescriptors) {
				var actions = new blenderHTML5Animations.ActionLibrary(actionDescriptors);

				function evaluate(matrix, actionName, time) {
					return actions[actionName].toWorld(matrix.elements, time, blenderHTML5Animations.Action.RotationMode.EULER_XYZ);
				}

				function getPosition(actionName, time) {
					var position = actions[actionName].paths['location'].evaluate(time, blenderHTML5Animations.FCurveArray.DefaultValues.LOCATION);
					position = [-position[0], position[2], position[1]];
					return position;
				}

				function getRotation(actionName, time) {
					return actions[actionName].paths['rotation_euler'].evaluate(time, blenderHTML5Animations.FCurveArray.DefaultValues.ROTATION);
				}

				function getValue(actionName, time) {
					if (actions[actionName] !== undefined) {
						var pos = actions[actionName].paths['location'].evaluate(time, blenderHTML5Animations.FCurveArray.DefaultValues.LOCATION);
						return pos[2];
					} else {
						console.log(actionName + ' not foud');
						return 0.;
					}
				}

				return {
					actions: actions,
					evaluate: evaluate,
					getPosition: getPosition,
					getRotation: getRotation,
					getValue: getValue
				};
			});
		}
	};
});

$__System.register('26', ['3'], function (_export) {
				/**
     * @author mrdoob / http://mrdoob.com/
     */

				'use strict';

				var THREE, OBJLoader;
				return {
								setters: [function (_) {
												THREE = _;
								}],
								execute: function () {
												OBJLoader = function OBJLoader(manager) {

																this.manager = manager !== undefined ? manager : THREE.DefaultLoadingManager;

																this.material = null;

																this.regexp = {
																				// v float float float
																				vertex_pattern: /^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,
																				// vn float float float
																				normal_pattern: /^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,
																				// vt float float
																				uv_pattern: /^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,
																				// f vertex vertex vertex
																				face_vertex: /^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,
																				// f vertex/uv vertex/uv vertex/uv
																				face_vertex_uv: /^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,
																				// f vertex/uv/normal vertex/uv/normal vertex/uv/normal
																				face_vertex_uv_normal: /^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,
																				// f vertex//normal vertex//normal vertex//normal
																				face_vertex_normal: /^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,
																				// o object_name | g group_name
																				object_pattern: /^[og]\s*(.+)?/,
																				// s boolean
																				smoothing_pattern: /^s\s+(\d+|on|off)/,
																				// mtllib file_reference
																				material_library_pattern: /^mtllib /,
																				// usemtl material_name
																				material_use_pattern: /^usemtl /
																};
												};

												_export('OBJLoader', OBJLoader);

												OBJLoader.prototype = {

																constructor: OBJLoader,

																load: function load(url, onLoad, onProgress, onError) {

																				var scope = this;

																				var loader = new THREE.FileLoader(scope.manager);
																				loader.setPath(this.path);
																				loader.load(url, function (text) {

																								onLoad(scope.parse(text));
																				}, onProgress, onError);
																},

																setPath: function setPath(value) {

																				this.path = value;
																},

																setMaterials: function setMaterials(material) {

																				this.material = material;
																},

																_createParserState: function _createParserState() {

																				var state = {
																								objects: [],
																								object: {},

																								vertices: [],
																								normals: [],
																								uvs: [],

																								materialLibraries: [],

																								startObject: function startObject(name, fromDeclaration) {

																												// If the current object (initial from reset) is not from a g/o declaration in the parsed
																												// file. We need to use it for the first parsed g/o to keep things in sync.
																												if (this.object && this.object.fromDeclaration === false) {

																																this.object.name = name;
																																this.object.fromDeclaration = fromDeclaration !== false;
																																return;
																												}

																												var previousMaterial = this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined;

																												if (this.object && typeof this.object._finalize === 'function') {

																																this.object._finalize(true);
																												}

																												this.object = {
																																name: name || '',
																																fromDeclaration: fromDeclaration !== false,

																																geometry: {
																																				vertices: [],
																																				normals: [],
																																				uvs: []
																																},
																																material: [],
																																smooth: true,

																																startMaterial: function startMaterial(name, libraries) {

																																				var previous = this._finalize(false);

																																				// New usemtl declaration overwrites an inherited material, except if faces were declared
																																				// after the material, then it must be preserved for proper MultiMaterial continuation.
																																				if (previous && (previous.inherited || previous.groupCount <= 0)) {

																																								this.material.splice(previous.index, 1);
																																				}

																																				var material = {
																																								index: this.material.length,
																																								name: name || '',
																																								mtllib: Array.isArray(libraries) && libraries.length > 0 ? libraries[libraries.length - 1] : '',
																																								smooth: previous !== undefined ? previous.smooth : this.smooth,
																																								groupStart: previous !== undefined ? previous.groupEnd : 0,
																																								groupEnd: -1,
																																								groupCount: -1,
																																								inherited: false,

																																								clone: function clone(index) {
																																												var cloned = {
																																																index: typeof index === 'number' ? index : this.index,
																																																name: this.name,
																																																mtllib: this.mtllib,
																																																smooth: this.smooth,
																																																groupStart: 0,
																																																groupEnd: -1,
																																																groupCount: -1,
																																																inherited: false
																																												};
																																												cloned.clone = this.clone.bind(cloned);
																																												return cloned;
																																								}
																																				};

																																				this.material.push(material);

																																				return material;
																																},

																																currentMaterial: function currentMaterial() {

																																				if (this.material.length > 0) {
																																								return this.material[this.material.length - 1];
																																				}

																																				return undefined;
																																},

																																_finalize: function _finalize(end) {

																																				var lastMultiMaterial = this.currentMaterial();
																																				if (lastMultiMaterial && lastMultiMaterial.groupEnd === -1) {

																																								lastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;
																																								lastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;
																																								lastMultiMaterial.inherited = false;
																																				}

																																				// Ignore objects tail material if no face declarations followed them before a new o/g started.
																																				if (end && this.material.length > 1) {

																																								for (var mi = this.material.length - 1; mi >= 0; mi--) {
																																												if (this.material[mi].groupCount <= 0) {
																																																this.material.splice(mi, 1);
																																												}
																																								}
																																				}

																																				// Guarantee at least one empty material, this makes the creation later more straight forward.
																																				if (end && this.material.length === 0) {

																																								this.material.push({
																																												name: '',
																																												smooth: this.smooth
																																								});
																																				}

																																				return lastMultiMaterial;
																																}
																												};

																												// Inherit previous objects material.
																												// Spec tells us that a declared material must be set to all objects until a new material is declared.
																												// If a usemtl declaration is encountered while this new object is being parsed, it will
																												// overwrite the inherited material. Exception being that there was already face declarations
																												// to the inherited material, then it will be preserved for proper MultiMaterial continuation.

																												if (previousMaterial && previousMaterial.name && typeof previousMaterial.clone === "function") {

																																var declared = previousMaterial.clone(0);
																																declared.inherited = true;
																																this.object.material.push(declared);
																												}

																												this.objects.push(this.object);
																								},

																								finalize: function finalize() {

																												if (this.object && typeof this.object._finalize === 'function') {

																																this.object._finalize(true);
																												}
																								},

																								parseVertexIndex: function parseVertexIndex(value, len) {

																												var index = parseInt(value, 10);
																												return (index >= 0 ? index - 1 : index + len / 3) * 3;
																								},

																								parseNormalIndex: function parseNormalIndex(value, len) {

																												var index = parseInt(value, 10);
																												return (index >= 0 ? index - 1 : index + len / 3) * 3;
																								},

																								parseUVIndex: function parseUVIndex(value, len) {

																												var index = parseInt(value, 10);
																												return (index >= 0 ? index - 1 : index + len / 2) * 2;
																								},

																								addVertex: function addVertex(a, b, c) {

																												var src = this.vertices;
																												var dst = this.object.geometry.vertices;

																												dst.push(src[a + 0]);
																												dst.push(src[a + 1]);
																												dst.push(src[a + 2]);
																												dst.push(src[b + 0]);
																												dst.push(src[b + 1]);
																												dst.push(src[b + 2]);
																												dst.push(src[c + 0]);
																												dst.push(src[c + 1]);
																												dst.push(src[c + 2]);
																								},

																								addVertexLine: function addVertexLine(a) {

																												var src = this.vertices;
																												var dst = this.object.geometry.vertices;

																												dst.push(src[a + 0]);
																												dst.push(src[a + 1]);
																												dst.push(src[a + 2]);
																								},

																								addNormal: function addNormal(a, b, c) {

																												var src = this.normals;
																												var dst = this.object.geometry.normals;

																												dst.push(src[a + 0]);
																												dst.push(src[a + 1]);
																												dst.push(src[a + 2]);
																												dst.push(src[b + 0]);
																												dst.push(src[b + 1]);
																												dst.push(src[b + 2]);
																												dst.push(src[c + 0]);
																												dst.push(src[c + 1]);
																												dst.push(src[c + 2]);
																								},

																								addUV: function addUV(a, b, c) {

																												var src = this.uvs;
																												var dst = this.object.geometry.uvs;

																												dst.push(src[a + 0]);
																												dst.push(src[a + 1]);
																												dst.push(src[b + 0]);
																												dst.push(src[b + 1]);
																												dst.push(src[c + 0]);
																												dst.push(src[c + 1]);
																								},

																								addUVLine: function addUVLine(a) {

																												var src = this.uvs;
																												var dst = this.object.geometry.uvs;

																												dst.push(src[a + 0]);
																												dst.push(src[a + 1]);
																								},

																								addFace: function addFace(a, b, c, d, ua, ub, uc, ud, na, nb, nc, nd) {

																												var vLen = this.vertices.length;

																												var ia = this.parseVertexIndex(a, vLen);
																												var ib = this.parseVertexIndex(b, vLen);
																												var ic = this.parseVertexIndex(c, vLen);
																												var id;

																												if (d === undefined) {

																																this.addVertex(ia, ib, ic);
																												} else {

																																id = this.parseVertexIndex(d, vLen);

																																this.addVertex(ia, ib, id);
																																this.addVertex(ib, ic, id);
																												}

																												if (ua !== undefined) {

																																var uvLen = this.uvs.length;

																																ia = this.parseUVIndex(ua, uvLen);
																																ib = this.parseUVIndex(ub, uvLen);
																																ic = this.parseUVIndex(uc, uvLen);

																																if (d === undefined) {

																																				this.addUV(ia, ib, ic);
																																} else {

																																				id = this.parseUVIndex(ud, uvLen);

																																				this.addUV(ia, ib, id);
																																				this.addUV(ib, ic, id);
																																}
																												}

																												if (na !== undefined) {

																																// Normals are many times the same. If so, skip function call and parseInt.
																																var nLen = this.normals.length;
																																ia = this.parseNormalIndex(na, nLen);

																																ib = na === nb ? ia : this.parseNormalIndex(nb, nLen);
																																ic = na === nc ? ia : this.parseNormalIndex(nc, nLen);

																																if (d === undefined) {

																																				this.addNormal(ia, ib, ic);
																																} else {

																																				id = this.parseNormalIndex(nd, nLen);

																																				this.addNormal(ia, ib, id);
																																				this.addNormal(ib, ic, id);
																																}
																												}
																								},

																								addLineGeometry: function addLineGeometry(vertices, uvs) {

																												this.object.geometry.type = 'Line';

																												var vLen = this.vertices.length;
																												var uvLen = this.uvs.length;

																												for (var vi = 0, l = vertices.length; vi < l; vi++) {

																																this.addVertexLine(this.parseVertexIndex(vertices[vi], vLen));
																												}

																												for (var uvi = 0, l = uvs.length; uvi < l; uvi++) {

																																this.addUVLine(this.parseUVIndex(uvs[uvi], uvLen));
																												}
																								}

																				};

																				state.startObject('', false);

																				return state;
																},

																parse: function parse(text) {

																				console.time('OBJLoader');

																				var state = this._createParserState();

																				if (text.indexOf('\r\n') !== -1) {

																								// This is faster than String.split with regex that splits on both
																								text = text.replace(/\r\n/g, '\n');
																				}

																				if (text.indexOf('\\\n') !== -1) {

																								// join lines separated by a line continuation character (\)
																								text = text.replace(/\\\n/g, '');
																				}

																				var lines = text.split('\n');
																				var line = '',
																				    lineFirstChar = '',
																				    lineSecondChar = '';
																				var lineLength = 0;
																				var result = [];

																				// Faster to just trim left side of the line. Use if available.
																				var trimLeft = typeof ''.trimLeft === 'function';

																				for (var i = 0, l = lines.length; i < l; i++) {

																								line = lines[i];

																								line = trimLeft ? line.trimLeft() : line.trim();

																								lineLength = line.length;

																								if (lineLength === 0) continue;

																								lineFirstChar = line.charAt(0);

																								// @todo invoke passed in handler if any
																								if (lineFirstChar === '#') continue;

																								if (lineFirstChar === 'v') {

																												lineSecondChar = line.charAt(1);

																												if (lineSecondChar === ' ' && (result = this.regexp.vertex_pattern.exec(line)) !== null) {

																																// 0                  1      2      3
																																// ["v 1.0 2.0 3.0", "1.0", "2.0", "3.0"]

																																state.vertices.push(parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3]));
																												} else if (lineSecondChar === 'n' && (result = this.regexp.normal_pattern.exec(line)) !== null) {

																																// 0                   1      2      3
																																// ["vn 1.0 2.0 3.0", "1.0", "2.0", "3.0"]

																																state.normals.push(parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3]));
																												} else if (lineSecondChar === 't' && (result = this.regexp.uv_pattern.exec(line)) !== null) {

																																// 0               1      2
																																// ["vt 0.1 0.2", "0.1", "0.2"]

																																state.uvs.push(parseFloat(result[1]), parseFloat(result[2]));
																												} else {

																																throw new Error("Unexpected vertex/normal/uv line: '" + line + "'");
																												}
																								} else if (lineFirstChar === "f") {

																												if ((result = this.regexp.face_vertex_uv_normal.exec(line)) !== null) {

																																// f vertex/uv/normal vertex/uv/normal vertex/uv/normal
																																// 0                        1    2    3    4    5    6    7    8    9   10         11         12
																																// ["f 1/1/1 2/2/2 3/3/3", "1", "1", "1", "2", "2", "2", "3", "3", "3", undefined, undefined, undefined]

																																state.addFace(result[1], result[4], result[7], result[10], result[2], result[5], result[8], result[11], result[3], result[6], result[9], result[12]);
																												} else if ((result = this.regexp.face_vertex_uv.exec(line)) !== null) {

																																// f vertex/uv vertex/uv vertex/uv
																																// 0                  1    2    3    4    5    6   7          8
																																// ["f 1/1 2/2 3/3", "1", "1", "2", "2", "3", "3", undefined, undefined]

																																state.addFace(result[1], result[3], result[5], result[7], result[2], result[4], result[6], result[8]);
																												} else if ((result = this.regexp.face_vertex_normal.exec(line)) !== null) {

																																// f vertex//normal vertex//normal vertex//normal
																																// 0                     1    2    3    4    5    6   7          8
																																// ["f 1//1 2//2 3//3", "1", "1", "2", "2", "3", "3", undefined, undefined]

																																state.addFace(result[1], result[3], result[5], result[7], undefined, undefined, undefined, undefined, result[2], result[4], result[6], result[8]);
																												} else if ((result = this.regexp.face_vertex.exec(line)) !== null) {

																																// f vertex vertex vertex
																																// 0            1    2    3   4
																																// ["f 1 2 3", "1", "2", "3", undefined]

																																state.addFace(result[1], result[2], result[3], result[4]);
																												} else {

																																throw new Error("Unexpected face line: '" + line + "'");
																												}
																								} else if (lineFirstChar === "l") {

																												var lineParts = line.substring(1).trim().split(" ");
																												var lineVertices = [],
																												    lineUVs = [];

																												if (line.indexOf("/") === -1) {

																																lineVertices = lineParts;
																												} else {

																																for (var li = 0, llen = lineParts.length; li < llen; li++) {

																																				var parts = lineParts[li].split("/");

																																				if (parts[0] !== "") lineVertices.push(parts[0]);
																																				if (parts[1] !== "") lineUVs.push(parts[1]);
																																}
																												}
																												state.addLineGeometry(lineVertices, lineUVs);
																								} else if ((result = this.regexp.object_pattern.exec(line)) !== null) {

																												// o object_name
																												// or
																												// g group_name

																												// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869
																												// var name = result[ 0 ].substr( 1 ).trim();
																												var name = (" " + result[0].substr(1).trim()).substr(1);

																												state.startObject(name);
																								} else if (this.regexp.material_use_pattern.test(line)) {

																												// material

																												state.object.startMaterial(line.substring(7).trim(), state.materialLibraries);
																								} else if (this.regexp.material_library_pattern.test(line)) {

																												// mtl file

																												state.materialLibraries.push(line.substring(7).trim());
																								} else if ((result = this.regexp.smoothing_pattern.exec(line)) !== null) {

																												// smooth shading

																												// @todo Handle files that have varying smooth values for a set of faces inside one geometry,
																												// but does not define a usemtl for each face set.
																												// This should be detected and a dummy material created (later MultiMaterial and geometry groups).
																												// This requires some care to not create extra material on each smooth value for "normal" obj files.
																												// where explicit usemtl defines geometry groups.
																												// Example asset: examples/models/obj/cerberus/Cerberus.obj

																												var value = result[1].trim().toLowerCase();
																												state.object.smooth = value === '1' || value === 'on';

																												var material = state.object.currentMaterial();
																												if (material) {

																																material.smooth = state.object.smooth;
																												}
																								} else {

																												// Handle null terminated files without exception
																												if (line === '\0') continue;

																												throw new Error("Unexpected line: '" + line + "'");
																								}
																				}

																				state.finalize();

																				var container = new THREE.Group();
																				container.materialLibraries = [].concat(state.materialLibraries);

																				for (var i = 0, l = state.objects.length; i < l; i++) {

																								var object = state.objects[i];
																								var geometry = object.geometry;
																								var material = object.material;
																								var isLine = geometry.type === 'Line';

																								// Skip o/g line declarations that did not follow with any faces
																								if (geometry.vertices.length === 0) continue;

																								var buffergeometry = new THREE.BufferGeometry();

																								buffergeometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(geometry.vertices), 3));

																								if (geometry.normals.length > 0) {

																												buffergeometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(geometry.normals), 3));
																								} else {

																												buffergeometry.computeVertexNormals();
																								}

																								if (geometry.uvs.length > 0) {

																												buffergeometry.addAttribute('uv', new THREE.BufferAttribute(new Float32Array(geometry.uvs), 2));
																								}

																								// Create material

																								var createdMaterials = [];

																								for (var mi = 0, miLen = material.length; mi < miLen; mi++) {

																												var sourceMaterial = material[mi];
																												var material = undefined;

																												if (this.material !== null) {

																																material = this.material.create(sourceMaterial.name);

																																// mtl etc. loaders probably can't create line material correctly, copy properties to a line material.
																																if (isLine && material && !(material instanceof THREE.LineBasicMaterial)) {

																																				var materialLine = new THREE.LineBasicMaterial();
																																				materialLine.copy(material);
																																				material = materialLine;
																																}
																												}

																												if (!material) {

																																material = !isLine ? new THREE.MeshPhongMaterial() : new THREE.LineBasicMaterial();
																																material.name = sourceMaterial.name;
																												}

																												// material.shading = sourceMaterial.smooth ? THREE.SmoothShading : THREE.FlatShading;
																												material.flatShading = sourceMaterial.smooth;

																												createdMaterials.push(material);
																								}

																								// Create mesh

																								var mesh;

																								if (createdMaterials.length > 1) {

																												for (var mi = 0, miLen = material.length; mi < miLen; mi++) {

																																var sourceMaterial = material[mi];
																																buffergeometry.addGroup(sourceMaterial.groupStart, sourceMaterial.groupCount, mi);
																												}

																												var multiMaterial = new THREE.MultiMaterial(createdMaterials);
																												mesh = !isLine ? new THREE.Mesh(buffergeometry, multiMaterial) : new THREE.LineSegments(buffergeometry, multiMaterial);
																								} else {

																												mesh = !isLine ? new THREE.Mesh(buffergeometry, createdMaterials[0]) : new THREE.LineSegments(buffergeometry, createdMaterials[0]);
																								}

																								mesh.name = object.name;

																								container.add(mesh);
																				}

																				console.timeEnd('OBJLoader');

																				return container;
																}

												};
								}
				};
});

$__System.register('27', ['3'], function (_export) {
			/**
    * @author Wei Meng / http://about.me/menway
    *
    * Description: A THREE loader for PLY ASCII files (known as the Polygon
    * File Format or the Stanford Triangle Format).
    *
    * Limitations: ASCII decoding assumes file is UTF-8.
    *
    * Usage:
    *	var loader = new PLYLoader();
    *	loader.load('./models/ply/ascii/dolphins.ply', function (geometry) {
    *
    *		scene.add( new THREE.Mesh( geometry ) );
    *
    *	} );
    *
    * If the PLY file uses non standard property names, they can be mapped while
    * loading. For example, the following maps the properties
    * “diffuse_(red|green|blue)” in the file to standard color names.
    *
    * loader.setPropertyNameMapping( {
    *	diffuse_red: 'red',
    *	diffuse_green: 'green',
    *	diffuse_blue: 'blue'
    * } );
    *
    */

			'use strict';

			var THREE, PLYLoader;
			return {
						setters: [function (_) {
									THREE = _;
						}],
						execute: function () {
									PLYLoader = function PLYLoader(manager) {

												this.manager = manager !== undefined ? manager : THREE.DefaultLoadingManager;

												this.propertyNameMapping = {};
									};

									_export('PLYLoader', PLYLoader);

									PLYLoader.prototype = {

												constructor: PLYLoader,

												load: function load(url, onLoad, onProgress, onError) {

															var scope = this;

															var loader = new THREE.FileLoader(this.manager);
															loader.setResponseType('arraybuffer');
															loader.load(url, function (text) {

																		onLoad(scope.parse(text));
															}, onProgress, onError);
												},

												setPropertyNameMapping: function setPropertyNameMapping(mapping) {

															this.propertyNameMapping = mapping;
												},

												parse: function parse(data) {

															function isASCII(data) {

																		var header = parseHeader(bin2str(data));
																		return header.format === 'ascii';
															}

															function bin2str(buf) {

																		var array_buffer = new Uint8Array(buf);
																		var str = '';

																		for (var i = 0; i < buf.byteLength; i++) {

																					str += String.fromCharCode(array_buffer[i]); // implicitly assumes little-endian
																		}

																		return str;
															}

															function parseHeader(data) {

																		var patternHeader = /ply([\s\S]*)end_header\s/;
																		var headerText = '';
																		var headerLength = 0;
																		var result = patternHeader.exec(data);

																		if (result !== null) {

																					headerText = result[1];
																					headerLength = result[0].length;
																		}

																		var header = {
																					comments: [],
																					elements: [],
																					headerLength: headerLength
																		};

																		var lines = headerText.split('\n');
																		var currentElement;
																		var lineType, lineValues;

																		function make_ply_element_property(propertValues, propertyNameMapping) {

																					var property = { type: propertValues[0] };

																					if (property.type === 'list') {

																								property.name = propertValues[3];
																								property.countType = propertValues[1];
																								property.itemType = propertValues[2];
																					} else {

																								property.name = propertValues[1];
																					}

																					if (property.name in propertyNameMapping) {

																								property.name = propertyNameMapping[property.name];
																					}

																					return property;
																		}

																		for (var i = 0; i < lines.length; i++) {

																					var line = lines[i];
																					line = line.trim();

																					if (line === '') continue;

																					lineValues = line.split(/\s+/);
																					lineType = lineValues.shift();
																					line = lineValues.join(' ');

																					switch (lineType) {

																								case 'format':

																											header.format = lineValues[0];
																											header.version = lineValues[1];

																											break;

																								case 'comment':

																											header.comments.push(line);

																											break;

																								case 'element':

																											if (currentElement !== undefined) {

																														header.elements.push(currentElement);
																											}

																											currentElement = {};
																											currentElement.name = lineValues[0];
																											currentElement.count = parseInt(lineValues[1]);
																											currentElement.properties = [];

																											break;

																								case 'property':

																											currentElement.properties.push(make_ply_element_property(lineValues, scope.propertyNameMapping));

																											break;

																								default:

																											console.log('unhandled', lineType, lineValues);

																					}
																		}

																		if (currentElement !== undefined) {

																					header.elements.push(currentElement);
																		}

																		return header;
															}

															function parseASCIINumber(n, type) {

																		switch (type) {

																					case 'char':case 'uchar':case 'short':case 'ushort':case 'int':case 'uint':
																					case 'int8':case 'uint8':case 'int16':case 'uint16':case 'int32':case 'uint32':

																								return parseInt(n);

																					case 'float':case 'double':case 'float32':case 'float64':

																								return parseFloat(n);

																		}
															}

															function parseASCIIElement(properties, line) {

																		var values = line.split(/\s+/);

																		var element = {};

																		for (var i = 0; i < properties.length; i++) {

																					if (properties[i].type === 'list') {

																								var list = [];
																								var n = parseASCIINumber(values.shift(), properties[i].countType);

																								for (var j = 0; j < n; j++) {

																											list.push(parseASCIINumber(values.shift(), properties[i].itemType));
																								}

																								element[properties[i].name] = list;
																					} else {

																								element[properties[i].name] = parseASCIINumber(values.shift(), properties[i].type);
																					}
																		}

																		return element;
															}

															function parseASCII(data) {

																		// PLY ascii format specification, as per http://en.wikipedia.org/wiki/PLY_(file_format)

																		var buffer = {
																					indices: [],
																					vertices: [],
																					normals: [],
																					uvs: [],
																					colors: []
																		};

																		var result;

																		var header = parseHeader(data);

																		var patternBody = /end_header\s([\s\S]*)$/;
																		var body = '';
																		if ((result = patternBody.exec(data)) !== null) {

																					body = result[1];
																		}

																		var lines = body.split('\n');
																		var currentElement = 0;
																		var currentElementCount = 0;

																		for (var i = 0; i < lines.length; i++) {

																					var line = lines[i];
																					line = line.trim();
																					if (line === '') {

																								continue;
																					}

																					if (currentElementCount >= header.elements[currentElement].count) {

																								currentElement++;
																								currentElementCount = 0;
																					}

																					var element = parseASCIIElement(header.elements[currentElement].properties, line);

																					handleElement(buffer, header.elements[currentElement].name, element);

																					currentElementCount++;
																		}

																		return postProcess(buffer);
															}

															function postProcess(buffer) {

																		var geometry = new THREE.BufferGeometry();

																		// mandatory buffer data

																		if (buffer.indices.length > 0) {

																					geometry.setIndex(buffer.indices);
																		}

																		geometry.addAttribute('position', new THREE.Float32BufferAttribute(buffer.vertices, 3));

																		// optional buffer data

																		if (buffer.normals.length > 0) {

																					geometry.addAttribute('normal', new THREE.Float32BufferAttribute(buffer.normals, 3));
																		}

																		if (buffer.uvs.length > 0) {

																					geometry.addAttribute('uv', new THREE.Float32BufferAttribute(buffer.uvs, 2));
																		}

																		if (buffer.colors.length > 0) {

																					geometry.addAttribute('color', new THREE.Float32BufferAttribute(buffer.colors, 3));
																		}

																		geometry.computeBoundingSphere();

																		return geometry;
															}

															function handleElement(buffer, elementName, element) {

																		if (elementName === 'vertex') {

																					buffer.vertices.push(element.x, element.y, element.z);

																					if ('nx' in element && 'ny' in element && 'nz' in element) {

																								buffer.normals.push(element.nx, element.ny, element.nz);
																					}

																					if ('s' in element && 't' in element) {

																								buffer.uvs.push(element.s, element.t);
																					}

																					if ('red' in element && 'green' in element && 'blue' in element) {

																								buffer.colors.push(element.red / 255.0, element.green / 255.0, element.blue / 255.0);
																					}
																		} else if (elementName === 'face') {

																					var vertex_indices = element.vertex_indices || element.vertex_index; // issue #9338

																					if (vertex_indices.length === 3) {

																								buffer.indices.push(vertex_indices[0], vertex_indices[1], vertex_indices[2]);
																					} else if (vertex_indices.length === 4) {

																								buffer.indices.push(vertex_indices[0], vertex_indices[1], vertex_indices[3]);
																								buffer.indices.push(vertex_indices[1], vertex_indices[2], vertex_indices[3]);
																					}
																		}
															}

															function binaryRead(dataview, at, type, little_endian) {

																		switch (type) {

																					// corespondences for non-specific length types here match rply:
																					case 'int8':case 'char':
																								return [dataview.getInt8(at), 1];
																					case 'uint8':case 'uchar':
																								return [dataview.getUint8(at), 1];
																					case 'int16':case 'short':
																								return [dataview.getInt16(at, little_endian), 2];
																					case 'uint16':case 'ushort':
																								return [dataview.getUint16(at, little_endian), 2];
																					case 'int32':case 'int':
																								return [dataview.getInt32(at, little_endian), 4];
																					case 'uint32':case 'uint':
																								return [dataview.getUint32(at, little_endian), 4];
																					case 'float32':case 'float':
																								return [dataview.getFloat32(at, little_endian), 4];
																					case 'float64':case 'double':
																								return [dataview.getFloat64(at, little_endian), 8];

																		}
															}

															function binaryReadElement(dataview, at, properties, little_endian) {

																		var element = {};
																		var result,
																		    read = 0;

																		for (var i = 0; i < properties.length; i++) {

																					if (properties[i].type === 'list') {

																								var list = [];

																								result = binaryRead(dataview, at + read, properties[i].countType, little_endian);
																								var n = result[0];
																								read += result[1];

																								for (var j = 0; j < n; j++) {

																											result = binaryRead(dataview, at + read, properties[i].itemType, little_endian);
																											list.push(result[0]);
																											read += result[1];
																								}

																								element[properties[i].name] = list;
																					} else {

																								result = binaryRead(dataview, at + read, properties[i].type, little_endian);
																								element[properties[i].name] = result[0];
																								read += result[1];
																					}
																		}

																		return [element, read];
															}

															function parseBinary(data) {

																		var buffer = {
																					indices: [],
																					vertices: [],
																					normals: [],
																					uvs: [],
																					colors: []
																		};

																		var header = parseHeader(bin2str(data));
																		var little_endian = header.format === 'binary_little_endian';
																		var body = new DataView(data, header.headerLength);
																		var result,
																		    loc = 0;

																		for (var currentElement = 0; currentElement < header.elements.length; currentElement++) {

																					for (var currentElementCount = 0; currentElementCount < header.elements[currentElement].count; currentElementCount++) {

																								result = binaryReadElement(body, loc, header.elements[currentElement].properties, little_endian);
																								loc += result[1];
																								var element = result[0];

																								handleElement(buffer, header.elements[currentElement].name, element);
																					}
																		}

																		return postProcess(buffer);
															}

															//

															var geometry;
															var scope = this;

															if (data instanceof ArrayBuffer) {

																		geometry = isASCII(data) ? parseASCII(bin2str(data)) : parseBinary(data);
															} else {

																		geometry = parseASCII(data);
															}

															return geometry;
												}

									};
						}
			};
});

$__System.register("28", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "\r\nconst float PI = 3.14159;\r\nconst float PI2 = 6.28318;\r\nconst float TAU = 6.28318;\r\nconst float HALFPI = 1.57079;\r\nconst float PIHALF = 1.57079;\r\nconst float PIQUART = 0.785397;\r\nconst float HALF3PI = 4.71238;\r\n\r\n#define repeat(p,r) (mod(p,r)-r/2.)\r\n#define sdist(p,r) (length(p)-r)\r\nfloat box (vec3 p, vec3 b) { vec3 d = abs(p) - b; return min(max(d.x,max(d.y,d.z)),0.0) + length(max(d,0.0)); }\r\nfloat torus (vec3 p, vec2 t) { vec2 q = vec2(length(p.xz)-t.x,p.y); return length(q)-t.y; }\r\nfloat smoothmin (float a, float b, float r) { float h = clamp(.5+.5*(b-a)/r, 0., 1.); return mix(b, a, h)-r*h*(1.-h); }\r\nmat2 rot (float a) { float c=cos(a),s=sin(a); return mat2(c,-s,s,c); }\r\nvec3 look (vec3 eye, vec3 target, vec2 anchor) {\r\n    vec3 forward = normalize(target-eye);\r\n    vec3 right = normalize(cross(forward, vec3(0,1,0)));\r\n    vec3 up = normalize(cross(right, forward));\r\n    return normalize(forward + right * anchor.x + up * anchor.y);\r\n}\r\nfloat sdCapsule( vec3 p, vec3 a, vec3 b, float r ) {\r\n    vec3 pa = p - a, ba = b - a;\r\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\r\n    return length( pa - ba*h ) - r;\r\n}\r\n\r\n\r\n// https://www.shadertoy.com/view/4dS3Wd\r\nfloat random (in vec2 st) { return fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123); }\r\nfloat hash(float n) { return fract(sin(n) * 1e4); }\r\nfloat hash(vec2 p) { return fract(1e4 * sin(17.0 * p.x + p.y * 0.1) * (0.1 + abs(sin(p.y * 13.0 + p.x)))); }\r\nfloat noise(float x) {\r\n    float i = floor(x);\r\n    float f = fract(x);\r\n    float u = f * f * (3.0 - 2.0 * f);\r\n    return mix(hash(i), hash(i + 1.0), u);\r\n}\r\nfloat noise (in vec2 st) {\r\n    vec2 i = floor(st);\r\n    vec2 f = fract(st);\r\n    float a = random(i);\r\n    float b = random(i + vec2(1.0, 0.0));\r\n    float c = random(i + vec2(0.0, 1.0));\r\n    float d = random(i + vec2(1.0, 1.0));\r\n    vec2 u = f * f * (3.0 - 2.0 * f);\r\n    return mix(a, b, u.x) +\r\n            (c - a)* u.y * (1.0 - u.x) +\r\n            (d - b) * u.x * u.y;\r\n}\r\nfloat noise(vec3 x) {\r\n    const vec3 step = vec3(110, 241, 171);\r\n    vec3 i = floor(x);\r\n    vec3 f = fract(x);\r\n    float n = dot(i, step);\r\n    vec3 u = f * f * (3.0 - 2.0 * f);\r\n    return mix(mix(mix( hash(n + dot(step, vec3(0, 0, 0))), hash(n + dot(step, vec3(1, 0, 0))), u.x),\r\n                   mix( hash(n + dot(step, vec3(0, 1, 0))), hash(n + dot(step, vec3(1, 1, 0))), u.x), u.y),\r\n               mix(mix( hash(n + dot(step, vec3(0, 0, 1))), hash(n + dot(step, vec3(1, 0, 1))), u.x),\r\n                   mix( hash(n + dot(step, vec3(0, 1, 1))), hash(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);\r\n}\r\n\r\nvec3 lookAt (vec3 eye, vec3 target, vec2 anchor) {\r\n\tvec3 forward = normalize(target-eye);\r\n\tvec3 right = normalize(cross(forward, vec3(0,1,0)));\r\n\tvec3 up = normalize(cross(right, forward));\r\n\treturn normalize(forward + right * anchor.x + up * anchor.y);\r\n}\r\n\r\nmat2 rotation (float a) { float c=cos(a),s=sin(a); return mat2(c,-s,s,c); }\r\nmat4 rotationMatrix(vec3 axis, float angle) {\r\n    axis = normalize(axis);\r\n    float s = sin(angle);\r\n    float c = cos(angle);\r\n    float oc = 1.0 - c;\r\n    return mat4(oc*axis.x*axis.x + c, oc*axis.x*axis.y - axis.z*s, oc*axis.z*axis.x + axis.y*s, 0.0,\r\n                oc*axis.x*axis.y + axis.z*s, oc*axis.y*axis.y + c, oc*axis.y*axis.z - axis.x*s, 0.0,\r\n                oc*axis.z*axis.x - axis.y*s, oc*axis.y*axis.z + axis.x*s, oc*axis.z*axis.z + c, 0.0,\r\n                0.0, 0.0, 0.0, 1.0);\r\n}\r\n\r\nfloat pModPolar(inout vec2 p, float repetitions) {\r\n\tfloat angle = 2.*PI/repetitions;\r\n\tfloat a = atan(p.y, p.x) + angle/2.;\r\n\tfloat r = length(p);\r\n\tfloat c = floor(a/angle);\r\n\ta = mod(a,angle) - angle/2.;\r\n\tp = vec2(cos(a), sin(a))*r;\r\n\tif (abs(c) >= (repetitions/2.)) c = abs(c);\r\n\treturn c;\r\n}\r\n\r\nfloat luminance ( vec3 color ) { return (color.r + color.g + color.b) / 3.0; }\r\nfloat reflectance(vec3 a, vec3 b) { return dot(normalize(a), normalize(b)) * 0.5 + 0.5; }\r\nvec2 kaelidoGrid(vec2 p) { return vec2(step(mod(p, 2.0), vec2(1.0))); }\r\n\r\nvec4 edgeSD (sampler2D bitmap, vec2 uv, vec2 dimension)\r\n{\r\n    vec4 color = vec4(0.0, 0.0, 0.0, 0.0);\r\n\r\n    color += abs(texture2D(bitmap, uv + vec2(1, 0) / dimension) - texture2D(bitmap, uv + vec2(-1, 0) / dimension));\r\n    color += abs(texture2D(bitmap, uv + vec2(0, 1) / dimension) - texture2D(bitmap, uv + vec2(0, -1) / dimension));\r\n\r\n    return color / 2.;\r\n}\r\n\r\nvec4 edge (sampler2D bitmap, vec2 uv, vec2 dimension)\r\n{\r\n    vec4 color = vec4(0.0, 0.0, 0.0, 0.0);\r\n\r\n    color += -1.0 * texture2D(bitmap, uv + vec2(-2, -2) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2(-2, -1) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2(-2,  0) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2(-2,  1) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2(-2,  2) / dimension);\r\n\r\n    color += -1.0 * texture2D(bitmap, uv + vec2(-1, -2) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2(-1, -1) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2(-1,  0) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2(-1,  1) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2(-1,  2) / dimension);\r\n\r\n    color += -1.0 * texture2D(bitmap, uv + vec2( 0, -2) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2( 0, -1) / dimension);\r\n    color += 24.0 * texture2D(bitmap, uv + vec2( 0,  0) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2( 0,  1) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2( 0,  2) / dimension);\r\n\r\n    color += -1.0 * texture2D(bitmap, uv + vec2( 1, -2) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2( 1, -1) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2( 1,  0) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2( 1,  1) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2( 1,  2) / dimension);\r\n\r\n    color += -1.0 * texture2D(bitmap, uv + vec2( 2, -2) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2( 2, -1) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2( 2,  0) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2( 2,  1) / dimension);\r\n    color += -1.0 * texture2D(bitmap, uv + vec2( 2,  2) / dimension);\r\n\r\n    return color;\r\n}\r\n\r\nvec3 rgb2hsv(vec3 c) {\r\n\tvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\r\n\tvec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\r\n\tvec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\r\n\tfloat d = q.x - min(q.w, q.y);\r\n\tfloat e = 1.0e-10;\r\n\treturn vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\r\n}\r\nvec3 hsv2rgb(vec3 c) {\r\n\tvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\r\n\tvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\r\n\treturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\r\n}");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("29", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "{\"target\":[{\"location\":[[[[0.0,0.0,-0.016666666666666666,0.0,0.016666666666666666,0.0,2]],0],[[[0.0,0.0,-0.016666666666666666,0.0,0.016666666666666666,0.0,2]],0],[[[0.0,0.0,-0.016666666666666666,0.0,0.016666666666666666,0.0,2]],0]]}],\"camera\":[{\"location\":[[[[0.0,2.278582811355591,-0.016666666666666666,2.278582811355591,0.016666666666666666,2.278582811355591,2]],0],[[[0.0,-1.8260838985443115,-0.016666666666666666,-1.8260838985443115,0.016666666666666666,-1.8260838985443115,2]],0],[[[0.0,1.0440658330917358,-0.016666666666666666,1.0440658330917358,0.016666666666666666,1.0440658330917358,2]],0]]}]}");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("2a", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "ply\nformat ascii 1.0\ncomment Created by Blender 2.79 (sub 0) - www.blender.org, source file: 'cookie.blend'\nelement vertex 3180\nproperty float x\nproperty float y\nproperty float z\nproperty float nx\nproperty float ny\nproperty float nz\nproperty float s\nproperty float t\nproperty uchar red\nproperty uchar green\nproperty uchar blue\nelement face 3110\nproperty list uchar uint vertex_indices\nend_header\n-0.177485 0.162746 0.015461 0.396649 -0.846858 -0.354198 0.242700 0.266600 63 45 22\n-0.163795 0.207742 -0.081012 0.122135 -0.973205 0.194769 0.254550 0.265262 63 47 36\n-0.108431 0.193634 -0.024698 -0.256325 -0.960509 -0.108066 0.246437 0.276848 68 48 31\n-0.060253 0.168754 -0.006405 -0.636982 -0.768487 -0.060457 0.245723 0.285923 88 59 42\n-0.108431 0.193634 -0.024698 -0.256325 -0.960509 -0.108066 0.000893 0.845088 68 48 31\n-0.131017 0.158547 0.051497 0.082522 -0.922575 -0.376873 0.009096 0.852013 73 54 34\n-0.177485 0.162746 0.015461 0.396649 -0.846858 -0.354198 0.004194 0.859566 63 45 22\n-0.060253 0.168754 -0.006405 -0.636982 -0.768487 -0.060457 0.009462 0.839067 88 59 42\n-0.163795 0.207742 -0.081012 0.122135 -0.973205 0.194769 0.136100 0.893700 63 47 36\n-0.177485 0.162746 0.015461 0.396649 -0.846858 -0.354198 0.136100 0.901900 63 45 22\n-0.227314 0.162658 -0.049968 0.335795 -0.914029 -0.227454 0.130800 0.897000 60 38 24\n-0.074114 0.145231 -0.113789 -0.498795 -0.826716 0.260140 0.266424 0.284432 81 62 40\n-0.132510 0.141202 -0.162567 -0.036103 -0.900235 0.433882 0.276854 0.268636 45 26 17\n-0.060253 0.168754 -0.006405 -0.636982 -0.768487 -0.060457 0.220199 0.883973 88 59 42\n-0.072479 0.159381 0.052561 -0.455123 -0.812922 -0.363292 0.225700 0.884700 38 20 12\n-0.131017 0.158547 0.051497 0.082522 -0.922575 -0.376873 0.225700 0.894900 73 54 34\n-0.060253 0.168754 -0.006405 -0.636982 -0.768487 -0.060457 0.335600 0.610500 88 59 42\n-0.046284 0.117121 0.040210 -0.808313 -0.447584 -0.382427 0.348004 0.611169 59 37 20\n-0.072479 0.159381 0.052561 -0.455123 -0.812922 -0.363292 0.339684 0.616361 38 20 12\n-0.212469 0.153739 -0.115923 0.254341 -0.845729 0.469069 0.264930 0.253659 48 30 16\n-0.194593 0.141406 0.060363 0.529283 -0.735679 -0.422559 0.083668 0.851332 58 32 14\n-0.177485 0.162746 0.015461 0.396649 -0.846858 -0.354198 0.090249 0.852342 63 45 22\n-0.131017 0.158547 0.051497 0.082522 -0.922575 -0.376873 0.087362 0.863074 73 54 34\n-0.131017 0.158547 0.051497 0.082522 -0.922575 -0.376873 0.204833 0.874247 73 54 34\n-0.189423 0.118019 0.086933 0.502914 -0.840114 -0.203101 0.210200 0.884800 71 49 25\n-0.194593 0.141406 0.060363 0.529283 -0.735679 -0.422559 0.205300 0.881400 58 32 14\n-0.131017 0.158547 0.051497 0.082522 -0.922575 -0.376873 0.338896 0.626962 73 54 34\n-0.095660 0.118824 0.128438 -0.496475 -0.687094 -0.530442 0.351795 0.626616 42 19 9\n-0.265899 0.151935 -0.035165 0.194586 -0.852657 -0.484848 0.010200 0.872500 51 27 13\n-0.279904 0.160417 -0.083634 0.326975 -0.918882 0.220618 0.010200 0.878600 64 39 22\n-0.227314 0.162658 -0.049968 0.335795 -0.914029 -0.227454 0.007600 0.875200 60 38 24\n-0.227314 0.162658 -0.049968 0.335795 -0.914029 -0.227454 0.026614 0.880516 60 38 24\n-0.212469 0.153739 -0.115923 0.254341 -0.845729 0.469069 0.027000 0.894400 48 30 16\n-0.163795 0.207742 -0.081012 0.122135 -0.973205 0.194769 0.021900 0.883100 63 47 36\n-0.190665 0.114052 0.182037 -0.015198 -0.977111 -0.212043 0.075808 0.783830 37 16 7\n-0.189423 0.118019 0.086933 0.502914 -0.840114 -0.203101 0.089056 0.777595 71 49 25\n-0.131017 0.158547 0.051497 0.082522 -0.922575 -0.376873 0.096406 0.788253 73 54 34\n-0.131017 0.158547 0.051497 0.082522 -0.922575 -0.376873 0.345900 0.633000 73 54 34\n-0.190665 0.114052 0.182037 -0.015198 -0.977111 -0.212043 0.351956 0.648520 37 16 7\n-0.227314 0.162658 -0.049968 0.335795 -0.914029 -0.227454 0.252211 0.252595 60 38 24\n-0.279904 0.160417 -0.083634 0.326975 -0.918882 0.220618 0.257809 0.239934 64 39 22\n-0.265899 0.151935 -0.035165 0.194586 -0.852657 -0.484848 0.250101 0.243639 51 27 13\n-0.338593 0.123228 -0.068117 0.818232 -0.571459 0.062136 0.257966 0.227634 44 19 9\n-0.212006 0.101094 0.263120 0.132328 -0.458968 -0.878506 0.061700 0.783600 25 9 4\n-0.245847 0.099999 0.212493 0.380261 -0.907987 -0.175878 0.065220 0.777057 32 12 6\n-0.167054 0.115649 0.245350 -0.692496 -0.598865 -0.402173 0.066911 0.790039 23 5 2\n-0.064007 0.081957 0.114923 -0.758171 -0.440748 -0.480483 0.357730 0.621448 41 12 5\n-0.342770 0.105098 -0.013989 0.525742 -0.824519 -0.209113 0.492127 0.626654 36 14 6\n-0.338593 0.123228 -0.068117 0.818232 -0.571459 0.062136 0.483053 0.628722 44 19 9\n-0.265899 0.151935 -0.035165 0.194586 -0.852657 -0.484848 0.485500 0.615000 51 27 13\n-0.086744 0.110580 -0.193119 -0.375805 -0.738639 0.559587 0.284727 0.278908 66 41 25\n-0.276217 0.130256 -0.112755 0.447493 -0.838771 0.310099 0.266428 0.240263 40 22 12\n-0.265899 0.151935 -0.035165 0.194586 -0.852657 -0.484848 0.096048 0.816451 51 27 13\n-0.227314 0.162658 -0.049968 0.335795 -0.914029 -0.227454 0.095657 0.825520 60 38 24\n-0.269155 0.097865 0.021913 0.192053 -0.856594 -0.478866 0.085009 0.810466 102 68 36\n-0.072479 0.159381 0.052561 -0.455123 -0.812922 -0.363292 0.372800 0.881500 38 20 12\n-0.046284 0.117121 0.040210 -0.808313 -0.447584 -0.382427 0.378300 0.883191 59 37 20\n-0.064007 0.081957 0.114923 -0.758171 -0.440748 -0.480483 0.377009 0.893341 41 12 5\n-0.177485 0.162746 0.015461 0.396649 -0.846858 -0.354198 0.488703 0.799444 63 45 22\n-0.194593 0.141406 0.060363 0.529283 -0.735679 -0.422559 0.489132 0.811382 58 32 14\n-0.233614 0.095406 0.040328 0.410291 -0.863552 -0.293008 0.478216 0.811077 99 67 30\n-0.227314 0.162658 -0.049968 0.335795 -0.914029 -0.227454 0.482146 0.789552 60 38 24\n1.202939 0.146778 -0.078682 0.966918 -0.252846 0.032868 0.722178 0.720808 84 40 14\n1.209832 0.137108 0.021979 0.983947 0.176977 0.021424 0.723823 0.699680 70 36 16\n1.201294 0.086735 -0.035184 0.960479 -0.250496 -0.121342 0.733643 0.711105 90 45 18\n-0.189423 0.118019 0.086933 0.502914 -0.840114 -0.203101 0.090608 0.772624 71 49 25\n-0.269886 0.090908 0.160461 0.222663 -0.974822 -0.009186 0.073645 0.773881 64 37 20\n-0.269155 0.097865 0.021913 0.192053 -0.856594 -0.478866 0.475700 0.801800 102 68 36\n-0.210902 -0.001703 1.374397 -0.121860 -0.143620 0.982086 0.001094 0.272195 51 25 12\n-0.123258 -0.053739 1.332700 -0.039064 -0.916196 0.398785 0.013293 0.290237 78 29 11\n-0.027006 -0.002569 1.388605 0.006256 -0.149266 0.988769 0.000758 0.311556 50 28 16\n-0.167054 0.115649 0.245350 -0.692496 -0.598865 -0.402173 0.870200 0.671000 23 5 2\n-0.173324 0.055538 0.232598 -0.463607 -0.551958 -0.693075 0.873300 0.669400 45 14 7\n-0.212006 0.101094 0.263120 0.132328 -0.458968 -0.878506 0.873300 0.673300 25 9 4\n-0.045565 0.100357 -0.060977 -0.724479 -0.689169 0.011902 0.290306 0.863242 87 69 47\n-0.060253 0.168754 -0.006405 -0.636982 -0.768487 -0.060457 0.297211 0.851364 88 59 42\n-0.074114 0.145231 -0.113789 -0.498795 -0.826716 0.260140 0.296716 0.862635 81 62 40\n-0.319837 0.110076 -0.117984 0.660543 -0.543535 0.517869 0.268739 0.232056 35 14 8\n-0.189423 0.118019 0.086933 0.502914 -0.840114 -0.203101 0.487307 0.819647 71 49 25\n-0.229656 0.077091 0.259418 0.045717 -0.587268 -0.808069 0.234700 0.873900 23 6 2\n-0.245847 0.099999 0.212493 0.380261 -0.907987 -0.175878 0.229441 0.880388 32 12 6\n-0.212006 0.101094 0.263120 0.132328 -0.458968 -0.878506 0.233421 0.869393 25 9 4\n-0.167105 0.087622 0.196240 -0.248115 -0.595935 -0.763726 0.358901 0.647335 17 4 2\n-0.135442 0.100921 0.185423 -0.377819 -0.617267 -0.690054 0.356827 0.636287 49 18 9\n0.343930 -0.005998 1.317758 0.267678 -0.102512 0.958007 0.017470 0.389834 42 19 9\n0.373072 -0.048502 1.279571 0.189886 -0.753899 0.628925 0.027559 0.395646 60 28 14\n0.433660 -0.001013 1.294470 0.387799 -0.038331 0.920927 0.022740 0.406009 35 17 9\n-0.288196 0.137904 -0.139141 0.686605 -0.711997 0.147038 0.269953 0.238828 38 21 11\n-0.199475 0.108390 -0.181017 0.113437 -0.958556 0.261208 0.281107 0.255863 25 11 6\n-0.442005 -0.029214 1.306769 -0.229804 -0.656301 0.718619 0.012808 0.221954 60 32 19\n-0.349054 -0.045716 1.289764 -0.123417 -0.909330 0.397290 0.019661 0.241508 76 37 16\n-0.013360 -0.058860 1.329930 0.019227 -0.930906 0.364666 0.016403 0.313813 81 31 14\n0.194801 0.007679 1.364660 0.184057 -0.017640 0.982727 0.006997 0.358218 48 23 12\n0.174758 -0.047735 1.327335 0.074221 -0.814570 0.575274 0.018037 0.353147 66 32 15\n-0.060253 0.168754 -0.006405 -0.636982 -0.768487 -0.060457 0.342825 0.604325 88 59 42\n0.004757 0.077105 -0.012738 -0.575457 -0.803156 -0.154118 0.354445 0.597700 70 52 39\n0.650851 -0.043134 1.145164 0.527268 -0.403119 0.747948 0.504200 0.704552 41 21 9\n0.758621 0.006374 1.107076 0.566820 -0.009552 0.823756 0.508032 0.680490 20 10 6\n0.658129 0.051586 1.148238 0.490341 0.310221 0.814417 0.515638 0.703279 35 16 9\n-0.256555 0.085316 0.081743 0.258583 -0.965850 0.015503 0.089649 0.760292 102 68 39\n-0.167054 0.115649 0.245350 -0.692496 -0.598865 -0.402173 0.193031 0.874864 23 5 2\n-0.190665 0.114052 0.182037 -0.015198 -0.977111 -0.212043 0.199995 0.871069 37 16 7\n-0.173324 0.055538 0.232598 -0.463607 -0.551958 -0.693075 0.198262 0.878264 45 14 7\n1.197107 0.074811 0.020736 0.940489 -0.339763 -0.002838 0.735827 0.699203 88 45 18\n1.205250 0.086238 0.115052 0.983673 -0.153172 0.094333 0.733656 0.679775 76 39 12\n0.650851 -0.043134 1.145164 0.527268 -0.403119 0.747948 0.420000 0.857000 41 21 9\n0.730665 -0.042291 1.087628 0.391064 -0.548692 0.738884 0.423034 0.872187 57 24 11\n0.758621 0.006374 1.107076 0.566820 -0.009552 0.823756 0.415169 0.873523 20 10 6\n-0.024520 0.121065 -0.108279 -0.702353 -0.709464 -0.057588 0.271368 0.293539 37 24 10\n-0.029037 0.102178 -0.166825 -0.749687 -0.608661 0.259713 0.279920 0.291790 61 41 22\n-0.342770 0.105098 -0.013989 0.525742 -0.824519 -0.209113 0.091155 0.799056 36 14 6\n-0.269155 0.097865 0.021913 0.192053 -0.856594 -0.478866 0.084600 0.803900 102 68 36\n-0.315939 0.088613 0.192181 0.389203 -0.918516 -0.069338 0.312788 0.860883 51 20 7\n-0.303798 0.086554 0.148838 0.536973 -0.830714 0.146733 0.306432 0.859040 49 17 6\n-0.269886 0.090908 0.160461 0.222663 -0.974822 -0.009186 0.308830 0.851721 64 37 20\n-0.288196 0.137904 -0.139141 0.686605 -0.711997 0.147038 0.238305 0.853226 38 21 11\n-0.276217 0.130256 -0.112755 0.447493 -0.838771 0.310099 0.244203 0.852047 40 22 12\n-0.300439 0.095245 -0.156881 0.631794 -0.272805 0.725516 0.236558 0.858775 28 9 5\n-0.173324 0.055538 0.232598 -0.463607 -0.551958 -0.693075 0.365583 0.651794 45 14 7\n-0.118360 0.139867 -0.227175 -0.204199 -0.613025 0.763176 0.286900 0.274600 48 29 16\n0.578436 -0.005196 1.212256 0.482803 -0.041688 0.874722 0.859500 0.624800 103 46 17\n0.650851 -0.043134 1.145164 0.527268 -0.403119 0.747948 0.855300 0.618000 41 21 9\n0.658129 0.051586 1.148238 0.490341 0.310221 0.814417 0.859500 0.612500 35 16 9\n-0.118360 0.139867 -0.227175 -0.204199 -0.613025 0.763176 0.287914 0.270930 48 29 16\n-0.149273 0.111284 -0.225884 -0.108280 -0.720725 0.684683 0.288169 0.265491 40 20 10\n1.176209 0.053682 -0.087770 0.854854 -0.504898 -0.119388 0.740604 0.721115 101 48 17\n1.171088 0.047130 -0.128048 0.764672 -0.641224 -0.063662 0.742856 0.732165 103 53 23\n-0.252910 -0.056116 1.312651 -0.105808 -0.905606 0.410627 0.016463 0.261534 81 40 20\n-0.258846 0.041331 0.309852 0.199316 -0.162847 -0.966277 0.294000 0.898000 10 2 1\n-0.303703 0.060038 0.247298 0.284982 -0.620472 -0.730583 0.289200 0.893700 39 13 5\n-0.229656 0.077091 0.259418 0.045717 -0.587268 -0.808069 0.294000 0.886600 23 6 2\n-0.319837 0.110076 -0.117984 0.660543 -0.543535 0.517869 0.319500 0.903000 35 14 8\n-0.338593 0.123228 -0.068117 0.818232 -0.571459 0.062136 0.318388 0.894832 44 19 9\n-0.342891 0.082690 -0.091408 0.962066 -0.225898 0.152776 0.320600 0.898700 31 9 4\n1.208581 0.139031 -0.315903 0.995025 0.099307 -0.003052 0.724588 0.769796 61 39 20\n1.201873 0.152065 -0.212727 0.989776 0.131870 -0.054109 0.722200 0.745500 80 41 17\n1.193191 0.103946 -0.209769 0.965911 -0.256142 0.037019 0.731538 0.748344 96 49 15\n-0.045565 0.100357 -0.060977 -0.724479 -0.689169 0.011902 0.167100 0.898400 87 69 47\n0.004757 0.077105 -0.012738 -0.575457 -0.803156 -0.154118 0.167100 0.905700 70 52 39\n-0.060253 0.168754 -0.006405 -0.636982 -0.768487 -0.060457 0.162600 0.904800 88 59 42\n-0.245847 0.099999 0.212493 0.380261 -0.907987 -0.175878 0.372434 0.884268 32 12 6\n-0.229656 0.077091 0.259418 0.045717 -0.587268 -0.808069 0.368500 0.894700 23 6 2\n-0.303703 0.060038 0.247298 0.284982 -0.620472 -0.730583 0.368526 0.883233 39 13 5\n-0.024520 0.121065 -0.108279 -0.702353 -0.709464 -0.057588 0.108400 0.857109 37 24 10\n-0.045565 0.100357 -0.060977 -0.724479 -0.689169 0.011902 0.100922 0.851621 87 69 47\n-0.074114 0.145231 -0.113789 -0.498795 -0.826716 0.260140 0.109786 0.849604 81 62 40\n-0.303703 0.060038 0.247298 0.284982 -0.620472 -0.730583 0.306800 0.903000 39 13 5\n-0.269886 0.090908 0.160461 0.222663 -0.974822 -0.009186 0.306800 0.908500 64 37 20\n-0.245847 0.099999 0.212493 0.380261 -0.907987 -0.175878 0.302100 0.903100 32 12 6\n-0.303703 0.060038 0.247298 0.284982 -0.620472 -0.730583 0.314600 0.854800 39 13 5\n-0.247692 0.093185 -0.181542 0.634938 -0.266488 0.725120 0.280044 0.246465 39 11 5\n-0.300439 0.095245 -0.156881 0.631794 -0.272805 0.725516 0.277200 0.236900 28 9 5\n-0.269886 0.090908 0.160461 0.222663 -0.974822 -0.009186 0.076785 0.763491 64 37 20\n-0.303798 0.086554 0.148838 0.536973 -0.830714 0.146733 0.075689 0.755504 49 17 6\n-0.296936 0.087429 0.101543 0.415082 -0.909116 0.034211 0.082448 0.754101 81 43 17\n0.151333 -0.057348 1.286788 0.001007 -0.995453 0.094913 0.029356 0.347679 100 44 18\n-0.233614 0.095406 0.040328 0.410291 -0.863552 -0.293008 0.096200 0.763600 99 67 30\n-0.040275 0.049591 0.073619 -0.702231 -0.609272 -0.368206 0.363186 0.613546 73 36 21\n0.002840 0.033423 0.052875 -0.636891 -0.587054 -0.499649 0.366070 0.603392 70 40 19\n0.578436 -0.005196 1.212256 0.482803 -0.041688 0.874722 0.033900 0.425800 103 46 17\n0.442070 -0.056252 1.243446 0.235572 -0.802576 0.548021 0.036132 0.409365 64 36 18\n-0.445678 0.210605 -1.102647 -0.332194 0.341716 -0.879116 0.789500 0.681685 59 33 15\n-0.304543 0.279506 -1.135046 -0.457625 0.498886 -0.735954 0.788012 0.660854 74 42 19\n-0.370515 0.147370 -1.127284 -0.447645 -0.032624 -0.893582 0.803322 0.667919 26 9 4\n-0.256555 0.085316 0.081743 0.258583 -0.965850 0.015503 0.011100 0.903100 102 68 39\n-0.269155 0.097865 0.021913 0.192053 -0.856594 -0.478866 0.006400 0.898900 102 68 36\n-0.233614 0.095406 0.040328 0.410291 -0.863552 -0.293008 0.008434 0.895186 99 67 30\n-0.313396 0.074315 0.054924 0.535386 -0.787378 -0.305521 0.084500 0.796900 71 37 13\n-0.338604 0.065108 -0.058136 0.921903 -0.286294 0.260903 0.491131 0.637549 64 29 12\n-0.303703 0.060038 0.247298 0.284982 -0.620472 -0.730583 0.362377 0.678904 39 13 5\n-0.340732 0.063404 0.244691 0.574145 -0.510788 -0.639821 0.358864 0.684644 51 20 7\n-0.315939 0.088613 0.192181 0.389203 -0.918516 -0.069338 0.353500 0.679800 51 20 7\n-0.300439 0.095245 -0.156881 0.631794 -0.272805 0.725516 0.837400 0.913600 28 9 5\n-0.276217 0.130256 -0.112755 0.447493 -0.838771 0.310099 0.840600 0.909300 40 22 12\n-0.319837 0.110076 -0.117984 0.660543 -0.543535 0.517869 0.840600 0.913800 35 14 8\n-0.229656 0.077091 0.259418 0.045717 -0.587268 -0.808069 0.362974 0.665293 23 6 2\n-0.212006 0.101094 0.263120 0.132328 -0.458968 -0.878506 0.358983 0.660975 25 9 4\n-0.135442 0.100921 0.185423 -0.377819 -0.617267 -0.690054 0.358712 0.641105 49 18 9\n-0.121225 0.059916 0.200465 -0.630390 -0.627644 -0.456771 0.365468 0.639876 53 24 9\n-0.093256 0.034746 0.166177 -0.579241 -0.637989 -0.507340 0.369169 0.630976 45 22 16\n-0.313396 0.074315 0.054924 0.535386 -0.787378 -0.305521 0.091621 0.743967 71 37 13\n-0.269155 0.097865 0.021913 0.192053 -0.856594 -0.478866 0.097387 0.751879 102 68 36\n-0.247692 0.093185 -0.181542 0.634938 -0.266488 0.725120 0.447500 0.910400 39 11 5\n-0.251987 0.122167 -0.205276 0.750206 -0.660329 0.033601 0.443258 0.909239 11 3 2\n-0.199475 0.108390 -0.181017 0.113437 -0.958556 0.261208 0.446800 0.905800 25 11 6\n0.576774 -0.059697 1.189529 0.326212 -0.695761 0.639882 0.048516 0.437709 75 39 17\n-0.251987 0.122167 -0.205276 0.750206 -0.660329 0.033601 0.286566 0.247817 11 3 2\n-0.202276 0.113024 -0.228069 0.033296 -0.941343 0.335734 0.289782 0.254393 39 18 10\n0.949522 0.019705 0.895949 0.802484 0.092532 0.589404 0.524529 0.627922 35 15 7\n0.868415 0.027009 0.993027 0.765221 0.196265 0.613086 0.519739 0.649157 36 15 6\n0.917957 -0.028502 0.923951 0.742943 -0.243843 0.623341 0.517243 0.632562 31 14 7\n-0.313396 0.074315 0.054924 0.535386 -0.787378 -0.305521 0.286136 0.864074 71 37 13\n-0.396765 0.081090 -0.015870 0.921781 -0.386578 0.029145 0.278094 0.850913 21 6 2\n-0.342770 0.105098 -0.013989 0.525742 -0.824519 -0.209113 0.285825 0.855991 36 14 6\n0.820858 -0.015253 1.046373 0.672994 -0.255776 0.693960 0.437000 0.895500 35 17 8\n0.758621 0.006374 1.107076 0.566820 -0.009552 0.823756 0.442300 0.886000 20 10 6\n0.748796 -0.078304 1.057290 0.355571 -0.733970 0.578600 0.443000 0.895500 65 29 14\n0.868415 0.027009 0.993027 0.765221 0.196265 0.613086 0.406510 0.840706 36 15 6\n0.820858 -0.015253 1.046373 0.672994 -0.255776 0.693960 0.396299 0.839555 35 17 8\n0.833677 -0.074072 0.987675 0.548357 -0.623981 0.556688 0.395767 0.824663 58 27 12\n-0.296936 0.087429 0.101543 0.415082 -0.909116 0.034211 0.226521 0.754916 81 43 17\n-0.303798 0.086554 0.148838 0.536973 -0.830714 0.146733 0.227549 0.746151 49 17 6\n-0.333901 0.019945 0.129159 0.911954 -0.403424 0.074343 0.241894 0.753033 66 22 9\n1.199743 0.165610 -0.451474 0.921964 0.384777 -0.043458 0.718853 0.798630 70 43 22\n1.190127 0.087971 -0.375901 0.971496 -0.230659 -0.054079 0.734914 0.781959 91 43 16\n-0.023256 0.032436 0.123680 -0.693411 -0.596545 -0.404096 0.155800 0.907500 45 19 8\n-0.064007 0.081957 0.114923 -0.758171 -0.440748 -0.480483 0.159400 0.904200 41 12 5\n-0.040275 0.049591 0.073619 -0.702231 -0.609272 -0.368206 0.159400 0.910500 73 36 21\n-0.664545 -0.029934 1.237198 -0.355907 -0.529283 0.770135 0.024847 0.174273 65 38 21\n-0.768511 -0.019966 1.186536 -0.423658 -0.399609 0.812860 0.030981 0.154392 64 36 21\n-0.686456 -0.053244 1.164277 -0.139592 -0.970183 0.198096 0.039012 0.168427 95 47 21\n0.004757 0.077105 -0.012738 -0.575457 -0.803156 -0.154118 0.159057 0.810913 70 52 39\n-0.045565 0.100357 -0.060977 -0.724479 -0.689169 0.011902 0.148561 0.819560 87 69 47\n0.003631 0.072991 -0.080317 -0.813227 -0.527512 0.245674 0.147087 0.808324 74 61 47\n-0.571934 -0.054150 1.217049 -0.055025 -0.972289 0.227119 0.031279 0.193565 95 50 22\n-0.044205 -0.054292 1.235550 0.013184 -0.998962 -0.043245 0.033168 0.305922 79 32 11\n-0.290355 0.214963 -1.163581 -0.698752 0.268166 -0.663167 0.794800 0.646300 74 29 9\n-0.304543 0.279506 -1.135046 -0.457625 0.498886 -0.735954 0.785003 0.647938 74 42 19\n0.031912 -0.053913 1.258264 -0.013916 -0.997436 -0.070101 0.028591 0.322102 59 17 5\n-0.340732 0.063404 0.244691 0.574145 -0.510788 -0.639821 0.235401 0.728837 51 20 7\n-0.355115 0.038504 0.211461 0.998321 -0.057375 -0.005585 0.239452 0.736885 55 15 3\n-0.315939 0.088613 0.192181 0.389203 -0.918516 -0.069338 0.230330 0.736261 51 20 7\n-0.024520 0.121065 -0.108279 -0.702353 -0.709464 -0.057588 0.391056 0.782587 37 24 10\n-0.029037 0.102178 -0.166825 -0.749687 -0.608661 0.259713 0.386075 0.790011 61 41 22\n-0.021581 0.047735 -0.146237 -0.917386 -0.397961 -0.004181 0.378345 0.781388 68 42 21\n-0.396765 0.081090 -0.015870 0.921781 -0.386578 0.029145 0.228478 0.784947 21 6 2\n-0.313396 0.074315 0.054924 0.535386 -0.787378 -0.305521 0.229514 0.769254 71 37 13\n-0.339231 0.043018 0.036186 0.845698 -0.199683 -0.494888 0.237133 0.771134 96 63 35\n-0.338604 0.065108 -0.058136 0.921903 -0.286294 0.260903 0.288024 0.849563 64 29 12\n-0.247692 0.093185 -0.181542 0.634938 -0.266488 0.725120 0.202368 0.907668 39 11 5\n-0.228935 0.096225 -0.237752 0.574755 0.239723 0.782403 0.198000 0.908700 26 8 5\n-0.251987 0.122167 -0.205276 0.750206 -0.660329 0.033601 0.199100 0.903500 11 3 2\n-0.118360 0.139867 -0.227175 -0.204199 -0.613025 0.763176 0.452300 0.908000 48 29 16\n-0.149273 0.111284 -0.225884 -0.108280 -0.720725 0.684683 0.447700 0.908000 40 20 10\n-0.086744 0.110580 -0.193119 -0.375805 -0.738639 0.559587 0.448400 0.902000 66 41 25\n-0.228935 0.096225 -0.237752 0.574755 0.239723 0.782403 0.293545 0.249079 26 8 5\n-0.142611 -0.052368 1.237864 0.018708 -0.999390 0.028504 0.030877 0.286178 100 45 16\n-0.369828 -0.060320 1.222751 -0.057375 -0.995361 0.076998 0.031495 0.236150 103 51 22\n-0.313396 0.074315 0.054924 0.535386 -0.787378 -0.305521 0.090637 0.744548 71 37 13\n-0.623745 -0.056049 1.180562 -0.022919 -0.995727 0.089358 0.036738 0.179921 95 50 23\n1.180986 0.037010 0.112749 0.776269 -0.627186 0.063570 0.744269 0.681168 76 43 15\n0.650851 -0.043134 1.145164 0.527268 -0.403119 0.747948 0.056317 0.455123 41 21 9\n0.578436 -0.005196 1.212256 0.482803 -0.041688 0.874722 0.043216 0.441573 103 46 17\n-0.184141 0.093042 -0.259896 0.086673 0.096194 0.991577 0.297147 0.258593 70 34 19\n1.181417 0.063797 -0.233436 0.812464 -0.581683 0.038850 0.739282 0.753002 104 54 20\n-0.196078 -0.053697 1.231370 0.020234 -0.998627 0.047914 0.031725 0.272854 69 22 7\n-0.510236 -0.054600 1.173615 -0.009735 -0.998138 0.059999 0.039311 0.206013 107 57 25\n-0.149506 -0.059512 1.179187 0.049348 -0.998718 -0.008698 0.043242 0.282325 113 56 20\n-0.023256 0.032436 0.123680 -0.693411 -0.596545 -0.404096 0.369698 0.614258 45 19 8\n0.151215 -0.056708 1.178916 -0.010254 -0.998840 -0.046602 0.045364 0.348075 109 59 25\n1.189866 0.102260 -0.294608 0.923643 -0.377026 -0.068361 0.732968 0.765598 86 47 17\n-0.362222 -0.051397 1.157240 0.014191 -0.995148 -0.097354 0.043900 0.239277 82 31 11\n-0.301349 -0.054448 1.092432 0.243538 -0.930204 0.274545 0.056426 0.249387 82 32 9\n-0.299422 -0.034981 1.131027 0.150945 -0.985412 -0.078310 0.048386 0.250720 65 23 8\n0.042723 -0.040942 1.149153 -0.076571 -0.985870 0.148930 0.048023 0.322614 69 28 9\n-0.362222 -0.051397 1.157240 0.014191 -0.995148 -0.097354 0.865300 0.843200 82 31 11\n-0.299422 -0.034981 1.131027 0.150945 -0.985412 -0.078310 0.861900 0.840600 65 23 8\n-0.238027 -0.060647 1.162784 -0.037721 -0.979278 -0.198950 0.865300 0.832200 103 46 13\n0.003631 0.072991 -0.080317 -0.813227 -0.527512 0.245674 0.098100 0.862400 74 61 47\n0.099809 -0.054397 1.127515 -0.036073 -0.997314 0.063387 0.053584 0.334396 84 36 13\n-1.081946 -0.023481 0.930568 -0.707724 -0.295602 0.641652 0.075673 0.081555 36 19 10\n-1.005061 -0.048813 0.969871 -0.231483 -0.912076 0.338328 0.072100 0.097056 88 48 25\n-1.012141 -0.022217 1.004401 -0.602985 -0.396924 0.691946 0.064699 0.097528 62 32 18\n-0.021581 0.047735 -0.146237 -0.917386 -0.397961 -0.004181 0.859300 0.801900 68 42 21\n0.003631 0.072991 -0.080317 -0.813227 -0.527512 0.245674 0.855300 0.793600 74 61 47\n-0.024520 0.121065 -0.108279 -0.702353 -0.709464 -0.057588 0.859500 0.793435 37 24 10\n-0.342891 0.082690 -0.091408 0.962066 -0.225898 0.152776 0.482785 0.638125 31 9 4\n0.917957 -0.028502 0.923951 0.742943 -0.243843 0.623341 0.406106 0.826697 31 14 7\n-0.830466 -0.045864 1.125209 -0.253853 -0.871944 0.418622 0.045157 0.137454 63 34 17\n-0.732480 -0.055301 1.119415 -0.065981 -0.989349 0.129521 0.047296 0.154399 98 49 21\n-0.023022 0.083707 -0.199455 -0.630879 -0.724052 0.278695 0.288705 0.293282 67 36 18\n0.198761 -0.051584 1.125219 0.142186 -0.979278 0.144169 0.056852 0.355962 69 28 8\n0.271763 -0.033755 1.110834 0.024720 -0.999634 -0.008515 0.058008 0.372287 69 34 13\n0.267881 -0.059361 1.148583 -0.119694 -0.944029 -0.307321 0.169639 0.825926 97 52 25\n0.151215 -0.056708 1.178916 -0.010254 -0.998840 -0.046602 0.170900 0.843300 109 59 25\n0.271763 -0.033755 1.110834 0.024720 -0.999634 -0.008515 0.163668 0.820372 69 34 13\n-0.238027 -0.060647 1.162784 -0.037721 -0.979278 -0.198950 0.044651 0.263177 103 46 13\n-0.064832 -0.052570 1.126559 0.013001 -0.997650 0.066958 0.053170 0.301290 97 43 16\n0.323986 -0.064630 1.257742 0.025575 -0.974303 0.223701 0.035871 0.384692 90 45 23\n-0.238027 -0.060647 1.162784 -0.037721 -0.979278 -0.198950 0.235100 0.863878 103 46 13\n-0.225242 -0.030088 1.100398 -0.047884 -0.998718 0.015656 0.228895 0.855711 71 29 12\n-0.166560 -0.046177 1.111421 -0.123661 -0.989715 -0.071535 0.233864 0.847116 90 46 20\n-0.166560 -0.046177 1.111421 -0.123661 -0.989715 -0.071535 0.054837 0.277772 90 46 20\n-0.682787 -0.051878 1.086365 0.002747 -0.999573 -0.028443 0.054545 0.169015 107 48 18\n1.161231 0.029405 0.208555 0.808588 -0.565508 -0.162236 0.748639 0.662476 81 47 20\n1.186190 0.049407 0.303333 0.994690 -0.001099 0.102817 0.740932 0.641200 61 26 9\n1.162788 -0.028999 0.263935 0.960082 -0.234077 -0.152898 0.758233 0.649454 83 39 16\n-0.931281 -0.053692 0.986630 -0.101901 -0.989319 0.104099 0.069617 0.112371 103 49 20\n-0.943916 -0.034643 1.060016 -0.525285 -0.594501 0.608753 0.056293 0.110099 68 40 22\n-0.339231 0.043018 0.036186 0.845698 -0.199683 -0.494888 0.088200 0.743800 96 63 35\n0.488088 -0.076389 1.166621 -0.006592 -0.991577 0.129215 0.053858 0.419432 69 22 7\n-0.183047 0.007589 0.274459 -0.089816 -0.293802 -0.951598 0.377791 0.658520 50 12 4\n-0.483704 -0.055058 1.111674 0.057649 -0.995117 -0.079867 0.051336 0.211232 122 66 24\n-0.434332 -0.040023 1.076170 -0.003632 -0.999298 0.036653 0.057132 0.222734 91 46 19\n1.199099 0.144624 -0.543118 0.977050 0.172246 -0.125095 0.723559 0.818203 52 35 24\n1.174535 0.031487 -0.412703 0.935148 -0.354045 0.010895 0.745142 0.788929 102 47 15\n-0.299422 -0.034981 1.131027 0.150945 -0.985412 -0.078310 0.229598 0.867850 65 23 8\n-0.225242 -0.030088 1.100398 -0.047884 -0.998718 0.015656 0.054902 0.266323 71 29 12\n0.730665 -0.042291 1.087628 0.391064 -0.548692 0.738884 0.068754 0.469304 57 24 11\n0.748796 -0.078304 1.057290 0.355571 -0.733970 0.578600 0.075362 0.473766 65 29 14\n0.758621 0.006374 1.107076 0.566820 -0.009552 0.823756 0.061500 0.475800 20 10 6\n-0.023022 0.083707 -0.199455 -0.630879 -0.724052 0.278695 0.381164 0.795227 67 36 18\n-0.300439 0.095245 -0.156881 0.631794 -0.272805 0.725516 0.375695 0.707880 28 9 5\n-0.319837 0.110076 -0.117984 0.660543 -0.543535 0.517869 0.374800 0.699100 35 14 8\n-0.342891 0.082690 -0.091408 0.962066 -0.225898 0.152776 0.377300 0.693200 31 9 4\n-0.205890 0.085350 -0.217033 0.476669 0.671957 0.566759 0.381384 0.730091 23 7 4\n-0.228935 0.096225 -0.237752 0.574755 0.239723 0.782403 0.374300 0.723200 26 8 5\n-0.247692 0.093185 -0.181542 0.634938 -0.266488 0.725120 0.378212 0.718690 39 11 5\n-0.340529 0.019556 0.156689 0.963073 -0.251076 0.097018 0.241449 0.747558 76 31 12\n-0.315939 0.088613 0.192181 0.389203 -0.918516 -0.069338 0.228516 0.739126 51 20 7\n-0.109492 0.025750 0.277715 -0.525254 -0.445875 -0.724754 0.372700 0.648300 34 9 4\n-0.109492 0.025750 0.277715 -0.525254 -0.445875 -0.724754 0.088405 0.868410 34 9 4\n-0.173324 0.055538 0.232598 -0.463607 -0.551958 -0.693075 0.089105 0.879956 45 14 7\n-0.121225 0.059916 0.200465 -0.630390 -0.627644 -0.456771 0.083173 0.872862 53 24 9\n-0.118923 0.068198 -0.227524 -0.099734 -0.643544 0.758843 0.295116 0.271221 29 11 7\n1.093218 0.012471 0.647811 0.913053 0.096072 0.396313 0.753916 0.565968 35 13 5\n1.035486 0.008994 0.773399 0.875149 -0.004975 0.483810 0.757780 0.551320 39 20 10\n1.056998 -0.065435 0.678531 0.806513 -0.458327 0.373363 0.770181 0.567211 57 29 10\n0.391207 -0.058790 1.098529 -0.129398 -0.991394 -0.018281 0.169054 0.803421 102 51 20\n-0.813030 -0.049712 0.970779 0.009766 -0.999908 0.007721 0.072592 0.141747 98 48 18\n0.267881 -0.059361 1.148583 -0.119694 -0.944029 -0.307321 0.051051 0.373025 97 52 25\n1.182984 0.039921 -0.024975 0.792840 -0.599506 -0.109378 0.743824 0.708814 86 34 10\n1.164137 0.015629 0.037474 0.659169 -0.751976 -0.002655 0.747896 0.696764 94 53 18\n0.168983 -0.063758 1.045096 0.010132 -0.997467 0.070193 0.070001 0.348889 105 52 21\n0.272298 -0.056170 1.077272 0.148045 -0.929380 0.338084 0.064695 0.372125 88 41 15\n0.046601 0.063616 -0.016828 -0.806360 -0.591174 0.015381 0.158675 0.803476 27 11 6\n-0.269527 -0.007330 0.270130 0.333872 0.086489 -0.938627 0.248700 0.850500 39 14 7\n-0.303703 0.060038 0.247298 0.284982 -0.620472 -0.730583 0.253707 0.841467 39 13 5\n-0.258846 0.041331 0.309852 0.199316 -0.162847 -0.966277 0.257722 0.855286 10 2 1\n-0.258846 0.041331 0.309852 0.199316 -0.162847 -0.966277 0.370728 0.675093 10 2 1\n-0.338604 0.065108 -0.058136 0.921903 -0.286294 0.260903 0.429704 0.868547 64 29 12\n-0.396765 0.081090 -0.015870 0.921781 -0.386578 0.029145 0.423300 0.857500 21 6 2\n-0.380291 0.026399 -0.029846 0.919431 -0.377819 0.108829 0.431754 0.855137 45 15 9\n-0.326202 -0.005076 0.249564 0.675436 -0.085788 -0.732383 0.247541 0.729949 67 19 4\n-0.348749 0.056755 -0.104354 0.916440 -0.148778 0.371471 0.381354 0.695079 25 6 3\n-0.228935 0.096225 -0.237752 0.574755 0.239723 0.782403 0.241500 0.884900 26 8 5\n-0.205890 0.085350 -0.217033 0.476669 0.671957 0.566759 0.241323 0.875445 23 7 4\n-0.184141 0.093042 -0.259896 0.086673 0.096194 0.991577 0.247598 0.877482 70 34 19\n1.035486 0.008994 0.773399 0.875149 -0.004975 0.483810 0.530300 0.606800 39 20 10\n0.949522 0.019705 0.895949 0.802484 0.092532 0.589404 0.529372 0.621185 35 15 7\n0.947998 -0.067868 0.863837 0.720176 -0.464583 0.515244 0.522100 0.615400 41 20 9\n-0.302023 -0.065765 1.037596 0.023591 -0.994385 0.103061 0.067743 0.248994 87 34 10\n0.417279 -0.072545 1.202765 0.010529 -0.993316 0.114841 0.045976 0.403912 90 44 21\n0.680249 -0.085776 1.078542 0.192328 -0.909116 0.369427 0.072705 0.456733 84 41 21\n-0.123958 -0.067270 1.027290 -0.033143 -0.996673 0.074160 0.070314 0.286593 112 54 21\n-0.769254 -0.045104 0.990699 0.084597 -0.995331 -0.046327 0.070213 0.148507 94 45 19\n0.391207 -0.058790 1.098529 -0.129398 -0.991394 -0.018281 0.062443 0.398713 102 51 20\n-0.624124 -0.053067 1.008917 -0.001160 -0.999695 0.024293 0.069548 0.180649 93 39 12\n-0.093256 0.034746 0.166177 -0.579241 -0.637989 -0.507340 0.347500 0.900900 45 22 16\n-0.091642 0.003795 0.230047 -0.680258 -0.562273 -0.470138 0.347500 0.907400 58 16 4\n-0.121225 0.059916 0.200465 -0.630390 -0.627644 -0.456771 0.343044 0.903491 53 24 9\n-0.525490 -0.047731 0.983539 -0.078097 -0.988952 0.125828 0.073416 0.199991 97 54 23\n-0.789524 -0.048126 0.908691 -0.102176 -0.990997 0.086184 0.084297 0.141852 63 21 6\n0.371741 -0.066549 1.013993 -0.037294 -0.996551 0.073824 0.081838 0.395100 100 36 10\n0.442008 -0.066871 1.073872 -0.046876 -0.995117 -0.086734 0.068839 0.408519 88 37 14\n-0.454128 -0.065651 1.004822 -0.159337 -0.961150 0.225349 0.072843 0.215226 113 55 19\n-0.121225 0.059916 0.200465 -0.630390 -0.627644 -0.456771 0.470700 0.846700 53 24 9\n-0.091642 0.003795 0.230047 -0.680258 -0.562273 -0.470138 0.473445 0.854213 58 16 4\n-0.109492 0.025750 0.277715 -0.525254 -0.445875 -0.724754 0.467397 0.857645 34 9 4\n1.160336 0.015857 0.435051 0.969817 0.038209 0.240761 0.749400 0.614721 42 18 8\n1.155158 -0.021088 0.390983 0.987579 -0.088839 0.129398 0.755581 0.625094 51 20 8\n-0.467392 0.151844 -1.107468 -0.207709 -0.093753 -0.973662 0.798899 0.686734 68 35 15\n-0.506843 0.152840 -1.099147 -0.228126 0.039155 -0.972839 0.796327 0.696332 46 24 10\n-0.051094 0.071315 -0.230523 -0.184606 -0.850154 0.493057 0.296175 0.285605 57 31 20\n1.168490 0.008659 0.314720 0.970244 -0.234535 0.059847 0.750611 0.639350 59 23 8\n0.917957 -0.028502 0.923951 0.742943 -0.243843 0.623341 0.769829 0.528396 31 14 7\n0.947998 -0.067868 0.863837 0.720176 -0.464583 0.515244 0.776314 0.535326 41 20 9\n0.949522 0.019705 0.895949 0.802484 0.092532 0.589404 0.758957 0.529827 35 15 7\n1.006358 -0.093549 0.744067 0.689901 -0.612842 0.385266 0.776821 0.555795 41 10 3\n0.833677 -0.074072 0.987675 0.548357 -0.623981 0.556688 0.087876 0.489655 58 27 12\n0.820858 -0.015253 1.046373 0.672994 -0.255776 0.693960 0.073636 0.487841 35 17 8\n0.917957 -0.028502 0.923951 0.742943 -0.243843 0.623341 0.695700 0.904900 31 14 7\n0.833677 -0.074072 0.987675 0.548357 -0.623981 0.556688 0.695700 0.911800 58 27 12\n0.876907 -0.082570 0.940812 0.516526 -0.690512 0.506302 0.692600 0.908600 63 30 13\n1.180986 0.037010 0.112749 0.776269 -0.627186 0.063570 0.747800 0.677600 76 43 15\n0.272235 -0.069418 0.950371 -0.008209 -0.999817 -0.015748 0.089624 0.367809 118 59 25\n-0.348749 0.056755 -0.104354 0.916440 -0.148778 0.371471 0.483476 0.644990 25 6 3\n-0.716125 -0.059309 0.908691 -0.000916 -0.999481 0.031434 0.086606 0.158785 113 54 17\n-0.148054 -0.064100 0.986718 -0.016633 -0.999420 0.028718 0.078789 0.281920 104 50 21\n-1.124293 -0.046547 0.856799 -0.572131 -0.725913 0.381634 0.090183 0.071514 30 16 10\n0.442008 -0.066871 1.073872 -0.046876 -0.995117 -0.086734 0.077931 0.821175 88 37 14\n0.496370 -0.056647 1.051787 -0.079409 -0.979858 -0.183081 0.080109 0.835191 77 37 17\n0.536418 -0.077894 1.076932 -0.165532 -0.973754 -0.156072 0.075358 0.840315 71 21 6\n0.039457 -0.066398 1.013659 0.018952 -0.997314 0.070376 0.075707 0.321510 108 54 21\n0.003631 0.072991 -0.080317 -0.813227 -0.527512 0.245674 0.388499 0.771529 74 61 47\n0.013044 0.028098 -0.079020 -0.772057 -0.450179 0.448592 0.381351 0.767704 52 30 17\n0.046601 0.063616 -0.016828 -0.806360 -0.591174 0.015381 0.393162 0.757047 27 11 6\n-0.118923 0.068198 -0.227524 -0.099734 -0.643544 0.758843 0.389196 0.745337 29 11 7\n-0.184141 0.093042 -0.259896 0.086673 0.096194 0.991577 0.385700 0.744900 70 34 19\n-0.370515 0.147370 -1.127284 -0.447645 -0.032624 -0.893582 0.198718 0.848179 26 9 4\n-0.290355 0.214963 -1.163581 -0.698752 0.268166 -0.663167 0.192100 0.834000 74 29 9\n-0.284985 0.164946 -1.216263 -0.539293 0.474410 -0.695730 0.203700 0.832900 23 11 6\n-0.326280 -0.013222 0.193273 0.980560 -0.163060 -0.108982 0.249072 0.739521 77 27 9\n0.008994 -0.071957 0.954367 0.029054 -0.997864 0.058260 0.087149 0.316261 81 34 12\n-0.953734 -0.049626 0.855720 0.049867 -0.998169 0.034150 0.092387 0.105633 55 19 6\n-0.791400 -0.058928 0.871058 -0.098025 -0.976379 0.192450 0.093370 0.142344 101 45 19\n0.046601 0.063616 -0.016828 -0.806360 -0.591174 0.015381 0.361062 0.592782 27 11 6\n-0.445678 0.210605 -1.102647 -0.332194 0.341716 -0.879116 0.499400 0.624900 59 33 15\n-0.370515 0.147370 -1.127284 -0.447645 -0.032624 -0.893582 0.499400 0.641500 26 9 4\n-0.467392 0.151844 -1.107468 -0.207709 -0.093753 -0.973662 0.495600 0.632600 68 35 15\n-0.874275 -0.053315 0.842398 -0.050844 -0.993378 0.102817 0.097232 0.122744 85 34 10\n-0.093256 0.034746 0.166177 -0.579241 -0.637989 -0.507340 0.311300 0.871000 45 22 16\n-0.044561 0.017896 0.181407 -0.624348 -0.635090 -0.454787 0.308832 0.878448 51 15 6\n-0.091642 0.003795 0.230047 -0.680258 -0.562273 -0.470138 0.305517 0.867748 58 16 4\n-0.044561 0.017896 0.181407 -0.624348 -0.635090 -0.454787 0.375759 0.623197 51 15 6\n0.536418 -0.077894 1.076932 -0.165532 -0.973754 -0.156072 0.071346 0.427445 71 21 6\n0.164360 -0.059422 0.895791 0.051424 -0.998016 0.036195 0.098411 0.345516 108 67 36\n1.182510 0.045994 -0.321840 0.860317 -0.497787 0.109714 0.742459 0.771583 100 52 19\n-0.295271 -0.062448 0.993724 -0.000824 -0.999969 -0.003113 0.076901 0.249608 85 30 10\n-0.630247 -0.060202 0.911070 -0.024751 -0.987365 -0.156407 0.087874 0.177668 121 61 24\n-0.995989 -0.058209 0.885704 0.092685 -0.993378 0.067843 0.088741 0.098193 111 54 19\n0.574759 -0.071124 1.002839 -0.143803 -0.989074 0.031709 0.081725 0.845889 68 27 9\n-0.380291 0.026399 -0.029846 0.919431 -0.377819 0.108829 0.239281 0.784793 45 15 9\n-0.285449 0.043457 -0.161739 0.574480 -0.253059 0.778375 0.384652 0.707011 49 20 9\n-0.326202 -0.005076 0.249564 0.675436 -0.085788 -0.732383 0.367937 0.685149 67 19 4\n-0.170429 0.026562 -0.228867 0.643849 -0.361400 0.674398 0.389396 0.728946 76 39 20\n-0.205890 0.085350 -0.217033 0.476669 0.671957 0.566759 0.291639 0.255175 23 7 4\n-0.137645 0.041360 -0.261740 0.395276 -0.742119 0.541246 0.302451 0.266583 70 31 13\n0.015529 0.037145 -0.225339 -0.714560 -0.633381 0.296976 0.297152 0.299862 74 38 20\n-0.258846 0.041331 0.309852 0.199316 -0.162847 -0.966277 0.264300 0.869900 10 2 1\n-0.183047 0.007589 0.274459 -0.089816 -0.293802 -0.951598 0.266988 0.860305 50 12 4\n-0.269527 -0.007330 0.270130 0.333872 0.086489 -0.938627 0.272991 0.865840 39 14 7\n-0.609773 -0.037557 0.862413 -0.100101 -0.994812 -0.017518 0.095869 0.180716 78 35 16\n-0.599527 -0.063882 0.799899 -0.061983 -0.983276 0.171117 0.108797 0.182681 110 56 22\n-0.549979 -0.055640 0.872437 -0.119114 -0.992401 -0.030641 0.096066 0.194511 82 31 12\n0.059574 0.019110 0.019974 -0.700705 -0.627338 -0.339671 0.369305 0.591051 16 5 2\n0.625246 -0.085477 1.030406 -0.116031 -0.992462 -0.038636 0.080186 0.444135 92 39 13\n-0.362117 0.008403 -0.084531 0.765313 -0.413923 0.492843 0.490928 0.651176 50 17 8\n0.947998 -0.067868 0.863837 0.720176 -0.464583 0.515244 0.360341 0.859448 41 20 9\n0.917957 -0.028502 0.923951 0.742943 -0.243843 0.623341 0.355185 0.863208 31 14 7\n0.876907 -0.082570 0.940812 0.516526 -0.690512 0.506302 0.351267 0.853350 63 30 13\n-0.495881 -0.066736 0.930244 -0.093509 -0.993683 0.061556 0.086471 0.205007 115 60 22\n-0.088530 -0.072934 0.927122 -0.008911 -0.994964 0.099582 0.092324 0.294037 84 33 11\n1.123388 0.010793 0.560847 0.954222 0.016633 0.298532 0.752400 0.590500 46 20 8\n1.093218 0.012471 0.647811 0.913053 0.096072 0.396313 0.753680 0.575817 35 13 5\n1.085854 -0.060125 0.613868 0.876034 -0.350658 0.331034 0.768395 0.579682 57 28 11\n-0.406371 -0.066589 0.941015 -0.007752 -0.998810 0.047945 0.084491 0.224864 93 35 12\n0.496370 -0.056647 1.051787 -0.079409 -0.979858 -0.183081 0.074134 0.420035 77 37 17\n0.332410 -0.058628 0.826283 -0.056734 -0.998291 0.013031 0.112910 0.381900 97 40 12\n-0.726823 -0.060643 0.833364 0.076724 -0.991394 0.105808 0.101538 0.155222 108 51 18\n-0.630247 -0.060202 0.911070 -0.024751 -0.987365 -0.156407 0.357600 0.893500 121 61 24\n-0.609773 -0.037557 0.862413 -0.100101 -0.994812 -0.017518 0.352300 0.885944 78 35 16\n-0.549979 -0.055640 0.872437 -0.119114 -0.992401 -0.030641 0.354678 0.881259 82 31 12\n0.625246 -0.085477 1.030406 -0.116031 -0.992462 -0.038636 0.475200 0.740900 92 39 13\n0.536418 -0.077894 1.076932 -0.165532 -0.973754 -0.156072 0.475100 0.747500 71 21 6\n0.574759 -0.071124 1.002839 -0.143803 -0.989074 0.031709 0.473545 0.737170 68 27 9\n-1.030364 -0.057109 0.783032 -0.003906 -0.999878 0.013550 0.107819 0.090713 96 40 15\n-0.470038 -0.066676 0.848345 -0.095553 -0.994232 0.048311 0.099845 0.211005 108 47 19\n-1.203775 -0.038756 0.733989 -0.543687 -0.749474 0.377636 0.113408 0.056285 87 51 27\n-1.143631 -0.056757 0.728281 -0.182836 -0.982849 0.023316 0.117090 0.067822 107 53 20\n-0.269527 -0.007330 0.270130 0.333872 0.086489 -0.938627 0.376770 0.673990 39 14 7\n-0.609241 0.114088 -1.073366 -0.294504 -0.119572 -0.948119 0.799564 0.720922 66 34 14\n-0.618505 0.168998 -1.065691 -0.407453 0.172491 -0.896756 0.789189 0.719318 73 35 13\n0.479019 -0.075150 0.872631 -0.037477 -0.986663 0.158300 0.107005 0.414069 90 40 13\n0.513148 -0.060165 0.904314 -0.132145 -0.990204 0.044465 0.101525 0.420579 60 24 8\n-0.343853 -0.014679 0.075061 0.848140 -0.529435 -0.017701 0.247271 0.762635 98 59 33\n-0.300776 -0.068572 0.912663 -0.010834 -0.993744 0.110874 0.091021 0.247892 74 29 9\n1.161231 0.029405 0.208555 0.808588 -0.565508 -0.162236 0.308288 0.823234 81 47 20\n1.124681 -0.002039 0.183121 0.940886 -0.293527 -0.168950 0.305300 0.821100 21 5 3\n1.133414 0.004650 0.115818 0.901547 -0.428510 0.059755 0.308505 0.811021 27 7 4\n-0.939401 -0.055178 0.802135 -0.019990 -0.997894 0.061434 0.103985 0.109482 75 25 9\n-0.387794 0.101694 -1.107244 -0.420545 0.386334 -0.820887 0.813283 0.673219 24 7 4\n0.978230 -0.087426 0.799265 0.734642 -0.506119 0.451766 0.778478 0.548447 72 34 14\n-0.636785 -0.061964 0.809654 0.040437 -0.970763 0.236549 0.106045 0.172715 95 43 16\n1.113186 -0.063523 0.528075 0.882992 -0.380718 0.274453 0.767582 0.597805 64 32 13\n0.544692 -0.083757 0.935188 -0.191076 -0.980621 -0.042756 0.097812 0.427474 113 61 25\n-0.023256 0.032436 0.123680 -0.693411 -0.596545 -0.404096 0.082278 0.882361 45 19 8\n-0.040275 0.049591 0.073619 -0.702231 -0.609272 -0.368206 0.089000 0.880607 73 36 21\n0.002840 0.033423 0.052875 -0.636891 -0.587054 -0.499649 0.089000 0.890800 70 40 19\n-0.021581 0.047735 -0.146237 -0.917386 -0.397961 -0.004181 0.265661 0.822396 68 42 21\n-0.023022 0.083707 -0.199455 -0.630879 -0.724052 0.278695 0.273925 0.814561 67 36 18\n0.039672 0.008507 -0.198845 -0.710166 -0.698355 0.088931 0.275273 0.833103 62 26 8\n-0.388581 0.001228 -0.006307 0.821375 -0.284799 -0.494186 0.243994 0.784638 63 27 10\n0.127096 -0.072978 0.838728 0.081576 -0.994079 0.071657 0.108110 0.337744 113 56 25\n-0.380291 0.026399 -0.029846 0.919431 -0.377819 0.108829 0.494700 0.645300 45 15 9\n0.224953 -0.063839 0.771250 0.055055 -0.998474 -0.002197 0.123908 0.357552 103 40 14\n-0.795962 -0.070843 0.808158 -0.114170 -0.988495 0.098972 0.105657 0.140490 88 41 19\n-0.207712 0.023492 -0.214864 0.392285 -0.425764 0.815332 0.389682 0.725558 87 50 23\n-0.106889 0.041359 -0.284624 0.182867 -0.699393 0.690909 0.308263 0.274645 67 29 14\n-0.046858 0.056005 -0.288894 -0.230567 -0.754326 0.614643 0.307461 0.286273 40 14 7\n0.015529 0.037145 -0.225339 -0.714560 -0.633381 0.296976 0.296637 0.302179 74 38 20\n-0.199354 -0.081780 0.842802 -0.017548 -0.994934 0.098819 0.104281 0.268741 86 37 14\n1.171675 -0.047360 0.332553 0.990478 -0.128483 0.048799 0.761369 0.635642 70 24 7\n1.143625 -0.025010 0.225195 0.914548 -0.078799 -0.396680 0.758392 0.658764 81 39 17\n1.124681 -0.002039 0.183121 0.940886 -0.293527 -0.168950 0.755112 0.668928 21 5 3\n1.180986 0.037010 0.112749 0.776269 -0.627186 0.063570 0.318098 0.811622 76 43 15\n1.164137 0.015629 0.037474 0.659169 -0.751976 -0.002655 0.318024 0.794946 94 53 18\n-0.348250 -0.080831 0.817938 -0.044160 -0.996368 0.072481 0.108959 0.235990 93 42 14\n0.039672 0.008507 -0.198845 -0.710166 -0.698355 0.088931 0.653500 0.912000 62 26 8\n-0.023022 0.083707 -0.199455 -0.630879 -0.724052 0.278695 0.650300 0.908700 67 36 18\n0.015529 0.037145 -0.225339 -0.714560 -0.633381 0.296976 0.653500 0.905700 74 38 20\n-0.851216 -0.060924 0.760802 -0.075961 -0.996399 0.037324 0.113749 0.129918 103 45 14\n1.170090 0.038202 -0.491851 0.939207 -0.327952 -0.101291 0.745220 0.806868 99 42 14\n-0.052597 -0.078036 0.846922 0.073885 -0.993988 0.080599 0.106787 0.299083 112 52 23\n-0.025412 -0.025531 0.150977 -0.721885 -0.537126 -0.436293 0.382802 0.617010 83 32 12\n0.574759 -0.071124 1.002839 -0.143803 -0.989074 0.031709 0.085050 0.434779 68 27 9\n1.115141 -0.007848 -0.036727 0.917142 -0.339824 -0.208106 0.755956 0.715504 51 23 10\n-0.992188 -0.054979 0.680371 -0.024049 -0.999664 -0.007172 0.125607 0.096837 122 56 20\n-0.348749 0.056755 -0.104354 0.916440 -0.148778 0.371471 0.382100 0.689900 25 6 3\n-0.362117 0.008403 -0.084531 0.765313 -0.413923 0.492843 0.388800 0.688700 50 17 8\n-0.170429 0.026562 -0.228867 0.643849 -0.361400 0.674398 0.298043 0.259365 76 39 20\n-0.247692 0.093185 -0.181542 0.634938 -0.266488 0.725120 0.285200 0.242000 39 11 5\n-0.207712 0.023492 -0.214864 0.392285 -0.425764 0.815332 0.295500 0.252106 87 50 23\n-0.137645 0.041360 -0.261740 0.395276 -0.742119 0.541246 0.389705 0.742938 70 31 13\n-0.355115 0.038504 0.211461 0.998321 -0.057375 -0.005585 0.241100 0.907000 55 15 3\n-0.326202 -0.005076 0.249564 0.675436 -0.085788 -0.732383 0.245300 0.903500 67 19 4\n-0.326280 -0.013222 0.193273 0.980560 -0.163060 -0.108982 0.245300 0.909200 77 27 9\n-0.325323 -0.034195 0.253217 0.528001 -0.430006 -0.732292 0.379473 0.684442 88 36 12\n0.809674 -0.097851 0.957679 0.141453 -0.967956 0.207343 0.097308 0.484786 87 43 22\n-0.125754 -0.045399 0.284370 -0.124332 -0.768578 -0.627522 0.390815 0.648702 128 66 21\n-0.109492 0.025750 0.277715 -0.525254 -0.445875 -0.724754 0.377546 0.643919 34 9 4\n-0.125754 -0.045399 0.284370 -0.124332 -0.768578 -0.627522 0.475000 0.867500 128 66 21\n-1.102968 -0.060987 0.640195 -0.041108 -0.995697 0.082675 0.132009 0.072966 105 53 16\n-1.018787 -0.050266 0.710810 -0.076144 -0.996216 -0.041139 0.119972 0.090836 106 49 18\n-0.462146 -0.075802 0.750422 -0.069918 -0.996063 0.054170 0.120773 0.208669 72 24 8\n0.296095 -0.061375 0.712866 -0.061281 -0.996979 0.047609 0.134650 0.372706 114 60 30\n1.104421 0.013020 -0.131010 0.806269 -0.505417 -0.307260 0.297499 0.532285 61 26 11\n1.139780 0.035437 -0.257501 0.271065 -0.955168 0.118900 0.316086 0.540754 94 55 26\n1.181417 0.063797 -0.233436 0.812464 -0.581683 0.038850 0.309098 0.549424 104 54 20\n0.015727 -0.067252 0.861226 0.053438 -0.998352 0.020508 0.105094 0.314460 97 49 21\n-0.724296 -0.068090 0.767273 0.003815 -0.999237 0.038179 0.115015 0.154286 115 61 29\n1.139780 0.035437 -0.257501 0.271065 -0.955168 0.118900 0.745079 0.763320 94 55 26\n0.685247 -0.091564 0.958057 -0.058931 -0.997589 0.036531 0.095970 0.456788 91 34 11\n1.150805 -0.058520 0.422171 0.932157 -0.283853 0.224616 0.765204 0.617149 60 26 10\n-1.253533 -0.053577 0.643783 -0.572649 -0.752922 0.324259 0.129061 0.041112 77 51 34\n1.133414 0.004650 0.115818 0.901547 -0.428510 0.059755 0.754193 0.682046 27 7 4\n1.121286 -0.003600 0.044945 0.935362 -0.341502 -0.091678 0.756186 0.696372 29 9 4\n-0.270828 -0.084180 0.771260 -0.026337 -0.998566 0.046419 0.118309 0.250856 102 52 23\n0.876907 -0.082570 0.940812 0.516526 -0.690512 0.506302 0.099844 0.499149 63 30 13\n-0.795989 -0.062590 0.711002 -0.016236 -0.998871 -0.044282 0.122811 0.138513 132 70 36\n-0.854736 -0.055830 0.619680 0.101413 -0.994293 -0.032441 0.139163 0.126018 96 47 16\n-0.749938 -0.063554 0.691478 -0.097812 -0.994934 0.022980 0.126946 0.148252 105 51 17\n-0.343853 -0.014679 0.075061 0.848140 -0.529435 -0.017701 0.365802 0.896757 98 59 33\n-0.348460 -0.005896 0.038567 0.894925 -0.194250 -0.401685 0.367100 0.902900 74 28 14\n-0.339231 0.043018 0.036186 0.845698 -0.199683 -0.494888 0.365200 0.906100 96 63 35\n0.513148 -0.060165 0.904314 -0.132145 -0.990204 0.044465 0.495095 0.696936 60 24 8\n0.614816 -0.093421 0.857552 -0.083468 -0.992492 0.089145 0.497400 0.683000 90 47 17\n0.544692 -0.083757 0.935188 -0.191076 -0.980621 -0.042756 0.498865 0.694686 113 61 25\n-0.975562 -0.046308 0.632005 -0.076662 -0.996796 0.022492 0.134304 0.100432 76 30 11\n-0.888008 -0.068524 0.637298 0.051454 -0.998596 -0.011139 0.136217 0.116163 109 45 15\n1.104421 0.013020 -0.131010 0.806269 -0.505417 -0.307260 0.751027 0.737970 61 26 11\n0.037920 -0.031608 0.059573 -0.389874 -0.758080 -0.522721 0.380508 0.597923 114 79 36\n-0.459451 0.055269 -1.073410 -0.685873 0.034211 -0.726890 0.819294 0.691937 22 4 2\n0.059574 0.019110 0.019974 -0.700705 -0.627338 -0.339671 0.389682 0.747068 16 5 2\n-1.218189 -0.007180 0.739221 -0.821314 -0.081851 0.564531 0.117000 0.045700 52 29 18\n-0.348460 -0.005896 0.038567 0.894925 -0.194250 -0.401685 0.245076 0.772336 74 28 14\n-0.318052 0.125603 -1.162919 -0.783502 0.336528 -0.522324 0.807700 0.651700 24 8 4\n-0.370515 0.147370 -1.127284 -0.447645 -0.032624 -0.893582 0.803774 0.658189 26 9 4\n-0.284985 0.164946 -1.216263 -0.539293 0.474410 -0.695730 0.801452 0.642009 23 11 6\n1.155158 -0.021088 0.390983 0.987579 -0.088839 0.129398 0.757888 0.622944 51 20 8\n-1.078291 -0.068002 0.597984 0.001465 -0.998749 0.049623 0.141713 0.077251 108 54 16\n-0.592558 -0.071426 0.669746 -0.005676 -0.999359 0.034883 0.131931 0.182984 112 53 18\n-0.074963 -0.089086 0.771954 0.051485 -0.996155 0.070833 0.122885 0.294615 89 44 18\n-0.948329 -0.066175 0.596955 -0.171789 -0.964171 0.202063 0.142357 0.104229 87 33 10\n0.149002 -0.058665 0.657334 0.041414 -0.998596 -0.032533 0.142628 0.340223 116 60 28\n-0.025412 -0.025531 0.150977 -0.721885 -0.537126 -0.436293 0.263801 0.871904 83 32 12\n-0.049546 -0.023634 0.219726 -0.639241 -0.699942 -0.318430 0.261884 0.882502 65 25 9\n-0.044561 0.017896 0.181407 -0.624348 -0.635090 -0.454787 0.257713 0.870375 51 15 6\n0.076509 -0.077859 0.739757 0.083071 -0.996033 -0.031831 0.128403 0.324639 115 56 23\n-0.454252 0.096763 -1.090296 -0.436598 -0.117344 -0.891934 0.811882 0.689744 72 37 14\n0.931631 -0.113692 0.813402 0.245674 -0.933622 0.260720 0.360638 0.848461 91 48 26\n1.161497 0.047063 -0.577559 0.947539 -0.301126 -0.107120 0.743455 0.824079 105 50 15\n0.472048 -0.087510 0.714494 -0.136052 -0.990356 0.026063 0.137396 0.410194 83 46 21\n-1.207112 -0.064888 0.589425 -0.030732 -0.996979 0.070956 0.140918 0.051554 110 57 26\n-0.356594 -0.027200 0.147228 0.862850 -0.431959 -0.262398 0.251469 0.751186 104 47 12\n-0.049546 -0.023634 0.219726 -0.639241 -0.699942 -0.318430 0.385516 0.628233 65 25 9\n-0.091642 0.003795 0.230047 -0.680258 -0.562273 -0.470138 0.380957 0.637702 58 16 4\n0.614816 -0.093421 0.857552 -0.083468 -0.992492 0.089145 0.112256 0.438961 90 47 17\n-0.673619 -0.075422 0.644513 -0.008881 -0.999237 0.037538 0.136982 0.164490 102 47 17\n-0.759577 -0.074879 0.601282 -0.113437 -0.991974 0.055391 0.145018 0.146268 127 63 23\n0.114160 -0.060286 0.581082 -0.039796 -0.998474 -0.037507 0.157354 0.331994 113 57 25\n-0.006851 -0.044428 0.587176 0.224219 -0.949370 -0.219977 0.154014 0.306175 37 19 14\n0.028733 -0.049424 0.511725 0.019654 -0.999023 0.038972 0.167361 0.313313 44 22 16\n1.052805 0.029367 -0.196493 0.818964 -0.453688 -0.351299 0.303642 0.523943 18 5 4\n1.084340 0.043317 -0.253379 0.234321 -0.968932 0.078982 0.313784 0.528837 100 69 50\n-0.318052 0.125603 -1.162919 -0.783502 0.336528 -0.522324 0.808807 0.657241 24 8 4\n1.082677 -0.095396 0.572587 0.756127 -0.589312 0.284433 0.775150 0.588333 67 25 9\n-0.003255 -0.081427 0.695934 0.110080 -0.992828 -0.045930 0.136424 0.307922 97 44 15\n1.138956 -0.042912 0.128069 0.992309 -0.070070 0.101901 0.762346 0.680180 41 15 8\n0.010175 -0.075657 0.644431 0.152440 -0.965331 -0.211798 0.035665 0.885707 110 56 19\n-0.006851 -0.044428 0.587176 0.224219 -0.949370 -0.219977 0.030400 0.888800 37 19 14\n0.114160 -0.060286 0.581082 -0.039796 -0.998474 -0.037507 0.029000 0.877800 113 57 25\n1.121286 -0.003600 0.044945 0.935362 -0.341502 -0.091678 0.311359 0.794696 29 9 4\n1.115141 -0.007848 -0.036727 0.917142 -0.339824 -0.208106 0.313706 0.784438 51 23 10\n1.104421 0.013020 -0.131010 0.806269 -0.505417 -0.307260 0.070709 0.865586 61 26 11\n1.171088 0.047130 -0.128048 0.764672 -0.641224 -0.063662 0.064005 0.855361 103 53 23\n1.115141 -0.007848 -0.036727 0.917142 -0.339824 -0.208106 0.072170 0.852566 51 23 10\n-1.038491 -0.066475 0.520404 -0.044649 -0.995331 0.085421 0.155054 0.088318 116 59 25\n0.762878 -0.093282 0.845300 -0.049409 -0.997620 0.047700 0.118272 0.473393 78 32 10\n0.099947 -0.027344 0.055212 -0.417035 -0.800287 -0.430799 0.383287 0.586635 25 9 7\n0.059574 0.019110 0.019974 -0.700705 -0.627338 -0.339671 0.254245 0.312766 16 5 2\n0.013044 0.028098 -0.079020 -0.772057 -0.450179 0.448592 0.271501 0.302435 52 30 17\n0.055723 0.005559 -0.075485 -0.374920 -0.920316 0.111301 0.274253 0.311257 45 17 13\n-0.228127 -0.057430 0.286447 0.087985 -0.756340 -0.648183 0.389241 0.669855 137 87 52\n-0.341262 -0.083593 0.715427 -0.048738 -0.998047 0.038850 0.128591 0.237278 109 55 23\n-1.153041 -0.059771 0.556860 0.031312 -0.999359 0.015809 0.147544 0.061653 101 42 13\n-0.815003 -0.061903 0.568508 -0.098300 -0.992431 0.073366 0.148203 0.133058 93 39 13\n-0.285449 0.043457 -0.161739 0.574480 -0.253059 0.778375 0.282576 0.237025 49 20 9\n-0.297594 -0.013870 -0.195421 0.376720 -0.654683 0.655293 0.294438 0.234594 82 43 18\n0.978230 -0.087426 0.799265 0.734642 -0.506119 0.451766 0.125564 0.515593 72 34 14\n0.947998 -0.067868 0.863837 0.720176 -0.464583 0.515244 0.112275 0.512630 41 20 9\n0.931631 -0.113692 0.813402 0.245674 -0.933622 0.260720 0.126678 0.508522 91 48 26\n1.081622 0.010730 -0.340064 0.549883 -0.787286 0.278817 0.332939 0.527189 28 10 5\n1.182510 0.045994 -0.321840 0.860317 -0.497787 0.109714 0.325600 0.548600 100 52 19\n1.147375 0.006221 -0.353202 0.442000 -0.844447 0.302499 0.336804 0.540601 114 68 31\n-0.050106 -0.070377 0.539725 0.396161 -0.917692 -0.029328 0.162709 0.296853 77 43 24\n-1.293162 -0.060060 0.520686 -0.539201 -0.813257 0.218726 0.153259 0.031906 60 37 21\n-0.362117 0.008403 -0.084531 0.765313 -0.413923 0.492843 0.862500 0.857200 50 17 8\n-0.350449 -0.015120 -0.115056 0.780358 -0.560961 0.276223 0.864100 0.859600 99 57 21\n-0.285449 0.043457 -0.161739 0.574480 -0.253059 0.778375 0.860100 0.862900 49 20 9\n-0.046858 0.056005 -0.288894 -0.230567 -0.754326 0.614643 0.089100 0.899000 40 14 7\n-0.046484 0.016145 -0.310812 -0.087100 -0.013764 0.996094 0.092400 0.899685 102 47 26\n0.015529 0.037145 -0.225339 -0.714560 -0.633381 0.296976 0.090500 0.906500 74 38 20\n-0.331080 0.108576 -1.217490 -0.661580 0.344279 -0.666128 0.318192 0.841169 22 9 4\n-0.318052 0.125603 -1.162919 -0.783502 0.336528 -0.522324 0.307456 0.840207 24 8 4\n-0.284985 0.164946 -1.216263 -0.539293 0.474410 -0.695730 0.308600 0.825100 23 11 6\n0.025250 -0.045986 0.120976 -0.492599 -0.810938 -0.315714 0.385568 0.606539 44 14 11\n1.145691 -0.047228 0.283440 0.970550 -0.226203 -0.082736 0.762900 0.646147 67 24 6\n-0.355441 -0.005263 -0.162945 0.742058 -0.513535 0.430799 0.864100 0.866900 61 26 10\n1.052805 0.029367 -0.196493 0.818964 -0.453688 -0.351299 0.317600 0.525400 18 5 4\n-0.377578 -0.067305 0.209281 0.364727 -0.924863 -0.107486 0.260537 0.737784 130 59 24\n-0.325323 -0.034195 0.253217 0.528001 -0.430006 -0.732292 0.254027 0.726466 88 36 12\n-0.046484 0.016145 -0.310812 -0.087100 -0.013764 0.996094 0.314686 0.287055 102 47 26\n0.369026 -0.076753 0.612762 -0.095706 -0.995239 0.016877 0.154258 0.385730 112 57 26\n0.010175 -0.075657 0.644431 0.152440 -0.965331 -0.211798 0.146351 0.310575 110 56 19\n0.336838 -0.073634 0.552348 -0.061342 -0.997528 -0.033418 0.167304 0.376965 118 62 29\n-0.922338 -0.073348 0.525272 0.000488 -0.995544 0.094211 0.158202 0.110125 116 62 22\n0.844569 -0.108317 0.854701 -0.053987 -0.997345 0.048677 0.117604 0.492682 89 40 18\n0.840023 -0.096673 0.767678 -0.113987 -0.977691 0.176397 0.131535 0.487957 52 16 6\n0.099947 -0.027344 0.055212 -0.417035 -0.800287 -0.430799 0.254719 0.324478 25 9 7\n0.824906 -0.110162 0.721616 -0.023743 -0.996765 0.076479 0.141831 0.484583 93 39 13\n-0.089425 -0.076599 0.450781 0.163152 -0.977996 -0.129948 0.178956 0.286899 102 37 8\n0.000958 -0.051922 0.481137 0.123936 -0.992248 -0.007630 0.175597 0.306506 58 37 23\n-0.388581 0.001228 -0.006307 0.821375 -0.284799 -0.494186 0.044700 0.862100 63 27 10\n-0.415650 -0.023183 -0.049520 0.962279 -0.231697 0.142430 0.048150 0.856035 86 41 16\n-0.380291 0.026399 -0.029846 0.919431 -0.377819 0.108829 0.046351 0.865775 45 15 9\n-1.091430 -0.062496 0.514612 -0.054170 -0.997559 0.043886 0.155958 0.074335 103 50 19\n-0.516731 -0.073305 0.617667 -0.014283 -0.999847 -0.007538 0.143910 0.199247 118 58 20\n1.180091 0.120661 -0.641139 0.975616 0.065096 -0.209571 0.728600 0.838300 78 41 19\n0.012692 -0.009799 -0.126621 -0.386822 -0.921171 0.042177 0.283283 0.301780 122 90 53\n0.012692 -0.009799 -0.126621 -0.386822 -0.921171 0.042177 0.372800 0.775700 122 90 53\n-0.402948 -0.083980 0.635014 -0.096133 -0.995056 -0.024720 0.142933 0.222487 105 49 19\n-0.465370 -0.065954 0.578244 0.058168 -0.998016 0.022889 0.151583 0.208649 71 26 9\n-1.164810 -0.067734 0.450455 -0.004608 -0.995361 0.095798 0.168310 0.059873 120 69 25\n-0.637772 -0.074147 0.553612 0.008148 -0.999573 0.027833 0.153283 0.171181 101 49 17\n0.012692 -0.009799 -0.126621 -0.386822 -0.921171 0.042177 0.264377 0.833397 122 90 53\n-0.257729 -0.091417 0.641046 -0.008576 -0.999786 -0.018189 0.144616 0.253036 106 55 22\n-0.367018 -0.055969 0.153727 0.613971 -0.774010 -0.154668 0.257794 0.750919 141 92 52\n-0.186913 -0.000816 -0.280536 0.583911 -0.772576 0.249306 0.308547 0.256945 107 59 28\n-0.837187 -0.072277 0.510713 -0.002594 -0.992309 0.123569 0.160287 0.128008 115 54 22\n1.150948 -0.027560 -0.428848 0.686026 -0.704123 0.183172 0.757809 0.794613 110 55 18\n-0.027943 -0.045012 0.246417 -0.267800 -0.944975 -0.187719 0.389793 0.628500 86 30 7\n0.229009 -0.064440 0.511817 -0.045228 -0.998962 -0.002594 0.171364 0.355512 102 42 15\n0.119564 -0.059273 0.423666 -0.163884 -0.972503 -0.165380 0.187139 0.329097 106 59 33\n-0.043031 -0.058094 0.393291 0.081576 -0.992187 -0.094180 0.190093 0.295414 112 57 31\n0.541287 -0.090035 0.648691 -0.162694 -0.986175 -0.031098 0.151389 0.424730 51 25 19\n-0.377240 -0.030676 0.096652 0.776574 -0.625996 -0.070803 0.252880 0.762402 84 35 14\n0.177483 -0.067785 0.406718 -0.057894 -0.998291 0.000610 0.190948 0.344907 112 55 24\n-0.355441 -0.005263 -0.162945 0.742058 -0.513535 0.430799 0.284412 0.222786 61 26 10\n-0.220039 -0.023614 -0.249310 0.478805 -0.780633 0.401593 0.304504 0.250413 155 114 61\n-0.170803 -0.002840 -0.309938 0.350078 -0.861354 0.368053 0.315517 0.260634 73 23 13\n-0.751889 -0.078305 0.482827 -0.023927 -0.997772 0.061892 0.165622 0.145990 118 52 22\n0.029982 -0.021345 -0.273217 -0.358654 -0.917905 0.169713 0.310969 0.302984 115 53 24\n1.052805 0.029367 -0.196493 0.818964 -0.453688 -0.351299 0.753047 0.749575 18 5 4\n1.104421 0.013020 -0.131010 0.806269 -0.505417 -0.307260 0.754198 0.732875 61 26 11\n1.124542 -0.028090 -0.122381 0.896512 0.365795 0.249855 0.758782 0.733407 42 20 11\n-0.362117 0.008403 -0.084531 0.765313 -0.413923 0.492843 0.145600 0.876200 50 17 8\n-0.380291 0.026399 -0.029846 0.919431 -0.377819 0.108829 0.139673 0.883062 45 15 9\n-0.415650 -0.023183 -0.049520 0.962279 -0.231697 0.142430 0.140500 0.872400 86 41 16\n0.039672 0.008507 -0.198845 -0.710166 -0.698355 0.088931 0.294509 0.307491 62 26 8\n0.442843 -0.082127 0.537064 -0.106510 -0.992370 -0.061922 0.170075 0.399645 124 56 27\n0.519669 -0.091503 0.607682 -0.112217 -0.993439 0.022004 0.160434 0.418274 65 38 19\n0.682403 -0.108310 0.748461 0.012085 -0.993378 0.114017 0.135947 0.454008 90 49 21\n-0.444731 -0.076087 0.509455 -0.027284 -0.999542 0.012238 0.165260 0.211090 126 63 29\n1.081622 0.010730 -0.340064 0.549883 -0.787286 0.278817 0.756481 0.778654 28 10 5\n1.052805 0.029367 -0.196493 0.818964 -0.453688 -0.351299 0.753297 0.760157 18 5 4\n1.063237 -0.021623 -0.259675 0.958129 0.264290 -0.110050 0.762337 0.763974 26 8 5\n1.147375 0.006221 -0.353202 0.442000 -0.844447 0.302499 0.751951 0.779404 114 68 31\n0.602059 -0.113795 0.707045 -0.126835 -0.991729 0.018220 0.143034 0.437780 62 37 35\n0.010175 -0.075657 0.644431 0.152440 -0.965331 -0.211798 0.386083 0.827314 110 56 19\n-0.081092 -0.091290 0.583207 0.208136 -0.972777 -0.101840 0.392204 0.834913 117 61 28\n-0.006851 -0.044428 0.587176 0.224219 -0.949370 -0.219977 0.382695 0.839351 37 19 14\n-0.081092 -0.091290 0.583207 0.208136 -0.972777 -0.101840 0.156828 0.290733 117 61 28\n-0.362968 -0.038616 0.021783 0.809107 -0.465712 -0.358318 0.309000 0.893500 83 37 14\n-0.343853 -0.014679 0.075061 0.848140 -0.529435 -0.017701 0.309226 0.885865 98 59 33\n-0.377240 -0.030676 0.096652 0.776574 -0.625996 -0.070803 0.312600 0.891400 84 35 14\n-1.059935 -0.075010 0.430345 -0.068789 -0.988037 0.137852 0.173404 0.079589 93 45 16\n-0.089425 -0.076599 0.450781 0.163152 -0.977996 -0.129948 0.649100 0.898700 102 37 8\n-0.050106 -0.070377 0.539725 0.396161 -0.917692 -0.029328 0.653500 0.904241 77 43 24\n-0.081092 -0.091290 0.583207 0.208136 -0.972777 -0.101840 0.650500 0.905400 117 61 28\n-0.027943 -0.045012 0.246417 -0.267800 -0.944975 -0.187719 0.016400 0.891600 86 30 7\n-0.049546 -0.023634 0.219726 -0.639241 -0.699942 -0.318430 0.015672 0.900446 65 25 9\n-0.025412 -0.025531 0.150977 -0.721885 -0.537126 -0.436293 0.012804 0.897013 83 32 12\n-0.166736 -0.097350 0.649976 -0.033509 -0.998779 -0.035798 0.142081 0.272837 115 61 33\n1.150252 -0.074722 0.030528 0.988861 0.032563 0.145085 0.767778 0.696945 36 12 8\n0.091252 -0.007620 -0.117427 -0.388684 -0.915738 0.101444 0.282915 0.320293 25 8 7\n-0.955343 -0.080677 0.449981 0.046175 -0.996063 0.075533 0.172813 0.102798 120 67 30\n0.369592 -0.068380 0.503787 -0.023438 -0.998413 -0.050874 0.174655 0.385607 97 40 13\n0.030935 -0.054237 0.333398 -0.050142 -0.998199 -0.032624 0.201965 0.311459 108 51 30\n-0.697335 0.103141 -1.031649 -0.401410 0.061708 -0.913785 0.798004 0.739704 59 30 12\n-0.681790 0.029808 -1.029146 -0.280313 -0.392438 -0.876003 0.810856 0.740061 91 47 18\n-0.050218 -0.003063 -0.298467 0.025483 -0.539018 0.841884 0.313358 0.285689 76 30 14\n-0.046484 0.016145 -0.310812 -0.087100 -0.013764 0.996094 0.180686 0.891498 102 47 26\n-0.106889 0.041359 -0.284624 0.182867 -0.699393 0.690909 0.185200 0.884800 67 29 14\n-0.050218 -0.003063 -0.298467 0.025483 -0.539018 0.841884 0.184331 0.894219 76 30 14\n-0.387794 0.101694 -1.107244 -0.420545 0.386334 -0.820887 0.489200 0.859700 24 7 4\n-0.318052 0.125603 -1.162919 -0.783502 0.336528 -0.522324 0.485766 0.848228 24 8 4\n-0.331080 0.108576 -1.217490 -0.661580 0.344279 -0.666128 0.490300 0.841335 22 9 4\n1.105152 -0.043552 -0.095607 0.952513 0.285653 0.105380 0.859604 0.876754 39 14 8\n1.124542 -0.028090 -0.122381 0.896512 0.365795 0.249855 0.855784 0.872640 42 20 11\n1.104421 0.013020 -0.131010 0.806269 -0.505417 -0.307260 0.859800 0.867000 61 26 11\n-0.027943 -0.045012 0.246417 -0.267800 -0.944975 -0.187719 0.217529 0.296417 86 30 7\n-0.324859 -0.055938 0.295257 0.118168 -0.964782 -0.234993 0.386535 0.683672 151 92 48\n-0.362968 -0.038616 0.021783 0.809107 -0.465712 -0.358318 0.252236 0.778019 83 37 14\n1.105152 -0.043552 -0.095607 0.952513 0.285653 0.105380 0.762133 0.725159 39 14 8\n0.048520 -0.060082 0.219533 -0.185949 -0.982452 0.014252 0.224463 0.313674 109 64 39\n-0.524113 -0.073458 0.416240 -0.005493 -0.998169 -0.060152 0.180266 0.193611 114 50 17\n-0.384734 -0.072640 0.446591 -0.044343 -0.995270 -0.086337 0.180395 0.222456 116 47 19\n0.336513 -0.071011 0.406905 -0.043916 -0.998901 0.015351 0.190920 0.379121 125 75 34\n-1.239018 -0.073401 0.423162 -0.021363 -0.996063 0.085726 0.173254 0.039391 126 80 50\n0.279881 -0.069301 0.354785 -0.027558 -0.999268 0.025361 0.201429 0.361916 86 33 23\n-0.911493 -0.071099 0.446471 0.084017 -0.996399 -0.008301 0.172327 0.112088 116 63 25\n-0.315949 -0.090842 0.525670 -0.053133 -0.997528 -0.045686 0.164392 0.239651 122 59 25\n-0.350449 -0.015120 -0.115056 0.780358 -0.560961 0.276223 0.421500 0.903200 99 57 21\n-0.362117 0.008403 -0.084531 0.765313 -0.413923 0.492843 0.417647 0.900700 50 17 8\n-0.415650 -0.023183 -0.049520 0.962279 -0.231697 0.142430 0.421500 0.893600 86 41 16\n-0.837379 -0.080309 0.433124 -0.024049 -0.999146 0.033509 0.174976 0.128157 124 57 19\n-0.644771 -0.080238 0.434520 0.053346 -0.998505 0.011078 0.176416 0.167336 87 28 8\n-0.125754 -0.045399 0.284370 -0.124332 -0.768578 -0.627522 0.205473 0.277311 128 66 21\n0.369592 -0.068380 0.503787 -0.023438 -0.998413 -0.050874 0.436851 0.867285 97 40 13\n0.446463 -0.077355 0.477994 -0.103275 -0.994018 -0.034822 0.436900 0.879700 108 56 20\n0.442843 -0.082127 0.537064 -0.106510 -0.992370 -0.061922 0.433219 0.878061 124 56 27\n-0.331080 0.108576 -1.217490 -0.661580 0.344279 -0.666128 0.111796 0.848856 22 9 4\n-0.381339 0.084898 -1.148883 -0.691885 0.383801 -0.611499 0.108303 0.837535 25 6 3\n-0.387794 0.101694 -1.107244 -0.420545 0.386334 -0.820887 0.112100 0.830800 24 7 4\n1.052805 0.029367 -0.196493 0.818964 -0.453688 -0.351299 0.351721 0.804584 18 5 4\n1.124542 -0.028090 -0.122381 0.896512 0.365795 0.249855 0.362355 0.789840 42 20 11\n1.121976 -0.044679 -0.167669 0.913785 0.267220 -0.305887 0.365975 0.793960 35 14 7\n1.134895 -0.098123 0.131146 0.829768 -0.284555 -0.480087 0.773204 0.677476 17 5 3\n-0.227387 0.143749 -1.263102 -0.518357 0.258522 -0.815119 0.806565 0.630588 80 45 20\n-0.272238 0.041197 -1.248325 -0.466506 -0.225867 -0.855190 0.821707 0.640855 44 15 6\n1.090530 -0.046848 -0.239842 0.866817 0.362407 -0.342387 0.363773 0.815069 29 7 5\n-0.753770 -0.080911 0.425478 -0.031312 -0.999359 0.015656 0.177993 0.144988 122 55 20\n-0.324859 -0.055938 0.295257 0.118168 -0.964782 -0.234993 0.260900 0.728300 151 92 48\n-0.268978 -0.082381 0.421457 -0.013153 -0.990265 -0.138524 0.183989 0.246905 103 50 15\n-1.150989 -0.067094 0.350547 -0.227546 -0.971435 -0.067080 0.186849 0.060091 61 25 7\n-1.178018 -0.075362 0.397894 0.166784 -0.984100 0.060671 0.178498 0.053634 117 59 23\n0.112430 -0.058863 0.273012 -0.102329 -0.989746 0.099460 0.212701 0.327734 107 67 36\n-0.228127 -0.057430 0.286447 0.087985 -0.756340 -0.648183 0.205399 0.257335 137 87 52\n-0.342556 -0.067000 0.356445 0.010468 -0.993133 -0.116306 0.192861 0.231868 107 50 26\n-0.348460 -0.005896 0.038567 0.894925 -0.194250 -0.401685 0.644300 0.914000 74 28 14\n-0.343853 -0.014679 0.075061 0.848140 -0.529435 -0.017701 0.641600 0.910900 98 59 33\n-0.362968 -0.038616 0.021783 0.809107 -0.465712 -0.358318 0.644300 0.907500 83 37 14\n0.446463 -0.077355 0.477994 -0.103275 -0.994018 -0.034822 0.181412 0.402719 108 56 20\n0.555882 -0.090402 0.486336 -0.097781 -0.994385 -0.040315 0.182294 0.425404 100 39 12\n1.139069 0.003211 -0.655493 0.877224 -0.417676 -0.236610 0.754126 0.841968 108 48 17\n1.129025 0.044459 -0.725369 0.887967 -0.297098 -0.350993 0.746438 0.856302 112 56 22\n-0.213311 -0.081177 0.594978 -0.000641 -0.997803 -0.066073 0.152109 0.261517 63 32 18\n1.083684 0.082366 -0.860609 0.839412 -0.130894 -0.527451 0.741742 0.889234 43 19 8\n1.121125 0.115562 -0.802410 0.893765 0.011078 -0.448347 0.734114 0.875721 44 21 8\n1.087576 -0.010792 -0.765422 0.649709 -0.668111 -0.362560 0.759041 0.867180 112 58 21\n-0.324859 -0.055938 0.295257 0.118168 -0.964782 -0.234993 0.205102 0.231696 151 92 48\n0.153361 -0.050286 0.019732 -0.353984 -0.874355 -0.331889 0.260442 0.332915 45 22 23\n-0.451135 -0.074999 0.293633 0.077792 -0.996887 0.010315 0.205708 0.207338 114 46 14\n1.006358 -0.093549 0.744067 0.689901 -0.612842 0.385266 0.142216 0.521987 41 10 3\n-0.189327 -0.089619 0.523049 0.010010 -0.999817 -0.015595 0.168024 0.267781 106 76 42\n-1.276654 -0.074149 0.293312 -0.109867 -0.986267 0.123234 0.197739 0.032159 87 31 10\n-0.585129 -0.067095 0.393157 0.054231 -0.998291 -0.021180 0.185586 0.180911 99 46 21\n0.777929 -0.112828 0.663892 0.032136 -0.997436 0.063692 0.152595 0.474418 71 42 26\n0.855592 -0.104360 0.649539 0.006317 -0.992553 0.121525 0.156137 0.491179 49 16 6\n0.680949 -0.118056 0.602869 -0.078127 -0.995941 -0.044404 0.165362 0.453832 113 75 48\n-0.392332 -0.072633 0.070497 0.513962 -0.857784 -0.002777 0.259521 0.768434 124 60 18\n-0.488482 -0.074022 0.350219 0.028626 -0.999023 0.033418 0.194470 0.199528 116 51 17\n0.025250 -0.045986 0.120976 -0.492599 -0.810938 -0.315714 0.241477 0.307666 44 14 11\n-0.025412 -0.025531 0.150977 -0.721885 -0.537126 -0.436293 0.232576 0.297380 83 32 12\n0.099947 -0.027344 0.055212 -0.417035 -0.800287 -0.430799 0.248390 0.319362 25 9 7\n0.037920 -0.031608 0.059573 -0.389874 -0.758080 -0.522721 0.250697 0.310399 114 79 36\n-0.814843 0.091559 -0.986044 -0.413495 0.165349 -0.895352 0.795418 0.766552 69 38 18\n-0.697335 0.103141 -1.031649 -0.401410 0.061708 -0.913785 0.798907 0.740156 59 30 12\n1.063237 -0.021623 -0.259675 0.958129 0.264290 -0.110050 0.359470 0.817979 26 8 5\n1.160720 -0.107460 0.251952 0.952635 -0.299661 0.051363 0.773838 0.650452 72 24 6\n-0.170429 0.026562 -0.228867 0.643849 -0.361400 0.674398 0.346594 0.851545 76 39 20\n-0.220039 -0.023614 -0.249310 0.478805 -0.780633 0.401593 0.350705 0.863687 155 114 61\n-0.186913 -0.000816 -0.280536 0.583911 -0.772576 0.249306 0.344204 0.859416 107 59 28\n-0.103320 -0.012171 -0.384447 0.077731 -0.976135 0.202734 0.329589 0.271193 65 22 14\n0.359639 0.067271 -1.294928 0.074831 -0.716178 -0.693869 0.427154 0.758964 89 40 15\n0.351640 0.156603 -1.326921 0.086367 0.009980 -0.996185 0.409497 0.765405 63 24 7\n0.387047 0.139683 -1.325147 0.135533 -0.130802 -0.982086 0.412539 0.755582 59 22 6\n-0.679848 -0.087636 0.356040 0.024476 -0.996765 0.076357 0.191842 0.159144 138 75 30\n-1.320973 -0.072049 0.366310 -0.364299 -0.917386 0.160161 0.182360 0.023216 98 52 28\n-0.823521 -0.073007 0.373680 0.101779 -0.974364 0.200476 0.186820 0.129720 108 58 26\n0.878762 -0.116150 0.609917 -0.064577 -0.992218 0.106235 0.164882 0.495176 82 36 15\n1.056998 -0.065435 0.678531 0.806513 -0.458327 0.373363 0.156041 0.529927 57 29 10\n1.007370 -0.127136 0.653020 0.310190 -0.929472 0.199500 0.157887 0.522308 100 49 26\n-0.350449 -0.015120 -0.115056 0.780358 -0.560961 0.276223 0.033066 0.862138 99 57 21\n-0.415650 -0.023183 -0.049520 0.962279 -0.231697 0.142430 0.029494 0.873984 86 41 16\n-0.395899 -0.054912 -0.081976 0.678365 -0.655171 0.332438 0.029188 0.868115 124 58 22\n-0.170244 -0.020925 -0.364600 0.321390 -0.899258 0.296609 0.325951 0.259780 104 53 18\n1.149020 -0.017501 -0.491618 0.878536 -0.472365 -0.070681 0.756249 0.807424 103 44 13\n-0.878082 -0.084075 0.376738 0.057558 -0.991180 0.119144 0.186188 0.118730 106 54 17\n0.474350 -0.079318 0.361659 -0.066713 -0.997742 0.005341 0.203434 0.406347 119 55 22\n-1.228223 -0.087560 0.288062 0.061678 -0.994110 0.088992 0.199564 0.041982 125 69 29\n-1.164960 -0.055856 0.255085 -0.128208 -0.943571 0.305277 0.204500 0.055039 62 32 15\n1.079228 -0.126335 0.499677 0.539018 -0.818506 0.198645 0.780151 0.603417 87 39 15\n0.264553 0.123821 -1.328862 0.077303 -0.218787 -0.972686 0.419900 0.777200 63 24 8\n0.611716 0.189260 -1.257395 0.399030 0.248207 -0.882687 0.402607 0.718453 64 23 7\n0.547344 0.084414 -1.272725 0.257973 -0.544664 -0.797967 0.421868 0.724103 72 29 14\n0.538049 0.168107 -1.280952 0.366436 0.039552 -0.929594 0.412000 0.727200 51 17 6\n-0.410712 -0.052639 -0.033585 0.800989 -0.574084 -0.169744 0.254322 0.791097 123 70 26\n-0.415650 -0.023183 -0.049520 0.962279 -0.231697 0.142430 0.248908 0.793823 86 41 16\n-0.410712 -0.052639 -0.033585 0.800989 -0.574084 -0.169744 0.492400 0.913600 123 70 26\n-0.395899 -0.054912 -0.081976 0.678365 -0.655171 0.332438 0.489200 0.909100 124 58 22\n-0.415650 -0.023183 -0.049520 0.962279 -0.231697 0.142430 0.492400 0.908900 86 41 16\n-0.046484 0.016145 -0.310812 -0.087100 -0.013764 0.996094 0.692500 0.914100 102 47 26\n-0.050218 -0.003063 -0.298467 0.025483 -0.539018 0.841884 0.690200 0.914100 76 30 14\n0.029982 -0.021345 -0.273217 -0.358654 -0.917905 0.169713 0.690300 0.907100 115 53 24\n-0.387794 0.101694 -1.107244 -0.420545 0.386334 -0.820887 0.295881 0.870459 24 7 4\n-0.381339 0.084898 -1.148883 -0.691885 0.383801 -0.611499 0.301299 0.867322 25 6 3\n-0.454252 0.096763 -1.090296 -0.436598 -0.117344 -0.891934 0.297302 0.882195 72 37 14\n0.267434 0.017183 -0.563818 -0.024873 -0.998138 -0.055300 0.363445 0.349998 125 64 27\n0.330777 -0.004481 -0.359261 -0.010865 -0.992676 -0.120304 0.330129 0.363189 102 53 30\n0.178295 0.006838 -0.487354 0.059114 -0.994720 -0.083651 0.349399 0.333577 125 67 34\n-0.377578 -0.067305 0.209281 0.364727 -0.924863 -0.107486 0.220067 0.222034 130 59 24\n-1.123559 -0.087011 0.321633 -0.348643 -0.937071 0.017426 0.193411 0.064450 55 20 8\n0.179015 -0.007883 -0.360707 0.025483 -0.991638 -0.126347 0.329445 0.334549 104 48 19\n1.082677 -0.095396 0.572587 0.756127 -0.589312 0.284433 0.780900 0.580900 67 25 9\n0.179256 0.066109 -1.317494 0.150212 -0.511368 -0.846095 0.841830 0.547787 49 22 17\n0.264553 0.123821 -1.328862 0.077303 -0.218787 -0.972686 0.837174 0.529440 63 24 8\n0.244239 0.067965 -1.303843 0.121799 -0.711264 -0.692282 0.845541 0.535602 62 27 12\n-0.052188 -0.010042 -0.370284 0.008972 -0.997192 0.074129 0.327394 0.285022 133 69 34\n0.566300 -0.086112 0.339670 -0.084841 -0.996094 -0.023713 0.209946 0.425818 92 37 11\n-0.782303 -0.082872 0.343195 -0.013489 -0.987243 0.158605 0.193145 0.137117 110 58 21\n-0.515196 -0.076647 0.278445 0.050417 -0.997436 0.050264 0.207534 0.193824 91 29 8\n-0.990576 -0.095216 0.344853 -0.009186 -0.985656 0.168432 0.193641 0.094965 103 57 27\n0.263949 -0.012245 -0.304946 0.027650 -0.998138 -0.053774 0.318896 0.350878 128 71 36\n0.385589 -0.018136 -0.280654 -0.054842 -0.998199 -0.024140 0.315687 0.378241 132 71 33\n-0.599865 -0.087280 0.311746 0.084353 -0.992309 0.090243 0.200549 0.177934 111 46 17\n-0.367018 -0.055969 0.153727 0.613971 -0.774010 -0.154668 0.231015 0.222919 141 92 52\n-0.463361 -0.066620 0.176173 0.230323 -0.973083 0.001617 0.226059 0.204290 114 47 15\n-1.079741 -0.098716 0.281196 -0.168523 -0.978698 0.117100 0.202112 0.071371 93 57 29\n-1.193298 -0.072662 0.225990 0.135502 -0.966826 0.216407 0.210779 0.048088 73 30 11\n0.340252 -0.071363 0.253074 0.036927 -0.999054 0.022309 0.221886 0.376152 99 50 32\n1.129981 -0.116491 0.385880 0.664296 -0.728629 0.166631 0.775772 0.624289 78 30 11\n0.051272 -0.003205 -0.498094 0.102329 -0.994507 -0.021516 0.352481 0.307607 125 61 29\n0.142899 0.014536 -0.659910 0.126072 -0.991302 -0.037141 0.383319 0.324084 134 68 29\n0.677999 -0.101505 0.487319 -0.100925 -0.991852 -0.077517 0.182521 0.450593 111 62 32\n1.145389 -0.026602 -0.549582 0.860317 -0.504715 -0.071047 0.759186 0.819467 114 55 23\n-1.353791 -0.076417 0.256436 -0.438215 -0.890896 0.119358 0.202943 0.014874 90 47 25\n0.423690 0.000126 -0.547496 -0.076632 -0.994140 -0.076205 0.365041 0.383839 108 39 10\n0.221829 0.023589 -0.731078 -0.003418 -0.997284 -0.073550 0.394996 0.337259 75 22 5\n-1.375264 -0.045647 0.310768 -0.824061 -0.528703 0.203406 0.189933 0.011063 68 41 26\n-1.375264 -0.045647 0.310768 -0.824061 -0.528703 0.203406 0.859200 0.540200 68 41 26\n-1.409734 -0.029562 0.139571 -0.938963 -0.339702 0.054140 0.859200 0.554000 123 81 41\n-1.353791 -0.076417 0.256436 -0.438215 -0.890896 0.119358 0.855300 0.545800 90 47 25\n0.611199 0.058057 -1.223469 0.241523 -0.776543 -0.581866 0.426750 0.712513 77 24 14\n0.648312 0.137874 -1.246179 0.311624 -0.127415 -0.941618 0.410244 0.710054 59 20 7\n0.168634 0.126651 -1.326506 -0.019684 -0.106235 -0.994140 0.828921 0.547287 60 23 7\n1.073010 0.022413 -0.845550 0.744377 -0.521592 -0.416883 0.753062 0.885176 102 46 16\n0.025250 -0.045986 0.120976 -0.492599 -0.810938 -0.315714 0.389789 0.599968 44 14 11\n0.127613 -0.078963 0.090207 -0.289865 -0.915006 -0.280557 0.393831 0.585214 73 49 51\n1.056728 -0.022834 -0.404470 0.321512 -0.909116 0.264748 0.346551 0.519931 70 45 33\n-0.170803 -0.002840 -0.309938 0.350078 -0.861354 0.368053 0.065934 0.899917 73 23 13\n-0.186913 -0.000816 -0.280536 0.583911 -0.772576 0.249306 0.061700 0.902300 107 59 28\n-0.240726 -0.049700 -0.314089 0.376751 -0.920377 0.104617 0.062865 0.892876 117 56 23\n0.256980 -0.070793 -0.004984 -0.004975 -0.980102 -0.198340 0.269125 0.352848 100 81 75\n-0.500657 -0.084948 0.095545 0.139409 -0.989807 0.028291 0.241702 0.195480 152 82 35\n0.179963 -0.047571 -0.115539 -0.171117 -0.984710 -0.032014 0.287833 0.332106 120 78 47\n0.194803 -0.089629 0.198877 -0.076632 -0.993896 0.079012 0.230690 0.343715 80 52 57\n0.057832 -0.018212 -0.343118 0.001495 -0.998535 -0.053682 0.325754 0.307925 118 55 23\n1.082677 -0.095396 0.572587 0.756127 -0.589312 0.284433 0.167140 0.534695 67 25 9\n0.274615 -0.020713 -0.358554 0.081759 -0.822932 -0.562212 0.329917 0.354386 108 44 32\n0.179015 -0.007883 -0.360707 0.025483 -0.991638 -0.126347 0.399872 0.883124 104 48 19\n0.330777 -0.004481 -0.359261 -0.010865 -0.992676 -0.120304 0.400000 0.896000 102 53 30\n0.274615 -0.020713 -0.358554 0.081759 -0.822932 -0.562212 0.395200 0.888400 108 44 32\n0.439088 0.100837 -1.303515 0.194464 -0.366314 -0.909909 0.419057 0.745591 65 25 10\n-0.502234 -0.084774 0.218795 0.121799 -0.992126 0.028809 0.219002 0.196722 147 81 37\n-1.409734 -0.029562 0.139571 -0.938963 -0.339702 0.054140 0.219392 0.003677 123 81 41\n-1.405016 -0.059175 0.058598 -0.808618 -0.583941 0.071413 0.236510 0.003173 81 56 33\n-1.367795 -0.073402 0.073944 -0.574572 -0.810938 0.110416 0.235860 0.009174 69 31 13\n0.469307 -0.015957 -0.375854 -0.089206 -0.994598 -0.053011 0.333680 0.396445 96 40 15\n0.505445 -0.035566 -0.096535 -0.062258 -0.991760 -0.111728 0.285231 0.405785 121 60 26\n0.535755 -0.024059 -0.226269 -0.147252 -0.985046 -0.089084 0.311617 0.410787 109 55 21\n0.381821 -0.064930 0.169925 0.059969 -0.996490 -0.057985 0.236805 0.383933 117 65 38\n0.506040 -0.075619 0.164526 -0.062655 -0.994232 -0.087008 0.238865 0.411967 129 67 29\n0.334631 -0.067527 0.060732 0.146580 -0.980529 -0.130528 0.257184 0.372151 107 68 39\n0.438795 -0.062408 0.078510 -0.006867 -0.993561 -0.112980 0.255113 0.394255 111 52 21\n0.638932 -0.033807 -0.393023 -0.026460 -0.998901 -0.038484 0.341500 0.432407 107 42 23\n0.127613 -0.078963 0.090207 -0.289865 -0.915006 -0.280557 0.249196 0.328844 73 49 51\n1.059975 -0.049589 -0.311445 0.992615 -0.052248 -0.109226 0.768524 0.773730 33 8 5\n0.384906 0.015950 -0.728718 -0.040345 -0.994629 -0.095065 0.395963 0.377168 114 47 12\n1.162723 -0.113973 0.204426 0.927366 -0.348674 -0.135563 0.774952 0.661662 93 42 12\n0.290161 -0.089686 0.151001 0.122257 -0.992248 -0.022187 0.242393 0.364120 87 54 51\n0.358682 -0.042710 -0.061526 0.065340 -0.983825 -0.166692 0.277497 0.375862 129 86 56\n0.587257 -0.042724 -0.197801 -0.243721 -0.964080 -0.105289 0.306231 0.422389 106 42 19\n0.605949 -0.055274 0.005519 -0.177435 -0.980041 -0.089419 0.270097 0.429519 70 24 11\n0.825389 -0.115838 0.551072 -0.016663 -0.999664 -0.019440 0.174529 0.481848 108 53 22\n1.150252 -0.074722 0.030528 0.988861 0.032563 0.145085 0.118200 0.872400 36 12 8\n1.149444 -0.087713 -0.054429 0.977783 -0.109256 -0.178747 0.122000 0.878500 45 16 10\n1.105152 -0.043552 -0.095607 0.952513 0.285653 0.105380 0.116500 0.882475 39 14 8\n-0.454252 0.096763 -1.090296 -0.436598 -0.117344 -0.891934 0.813228 0.682564 72 37 14\n-0.381339 0.084898 -1.148883 -0.691885 0.383801 -0.611499 0.813847 0.670658 25 6 3\n-0.444586 0.041477 -1.125552 -0.640767 0.225715 -0.733757 0.820655 0.685997 31 11 7\n-0.331080 0.108576 -1.217490 -0.661580 0.344279 -0.666128 0.812419 0.655112 22 9 4\n0.309593 0.024395 -0.787281 0.008179 -0.980804 -0.194678 0.407061 0.358192 129 59 18\n0.307614 0.042647 -0.828553 0.074648 -0.996612 -0.033753 0.413280 0.355954 104 44 15\n0.408082 0.024633 -0.811435 -0.056124 -0.995086 -0.081362 0.412729 0.378260 106 43 13\n0.069095 -0.005940 -0.587501 0.227363 -0.973449 0.026002 0.369629 0.305940 130 64 31\n-0.762751 -0.086287 0.302263 -0.005646 -0.995392 0.095614 0.201398 0.141948 113 61 27\n0.084714 0.016283 -0.841853 0.154241 -0.987823 -0.019288 0.414701 0.308788 127 65 29\n0.163062 0.037667 -0.766832 0.254158 -0.856136 -0.449904 0.401448 0.325240 83 30 9\n0.120533 0.021865 -0.785528 0.287790 -0.935514 -0.204779 0.405507 0.317096 121 51 17\n-1.296865 -0.089859 0.196899 -0.081301 -0.987671 0.133610 0.216361 0.023591 118 56 25\n0.227250 0.023442 -0.843885 0.036439 -0.999329 0.002991 0.416649 0.339562 93 31 5\n-0.678611 -0.093625 0.228470 0.064272 -0.997589 0.025239 0.217521 0.159244 141 75 33\n-0.561553 -0.082507 0.196989 0.022889 -0.999084 0.035371 0.223438 0.181922 128 65 22\n-0.350449 -0.015120 -0.115056 0.780358 -0.560961 0.276223 0.486892 0.657936 99 57 21\n-0.379032 -0.053192 -0.146524 0.581957 -0.805261 0.113315 0.488762 0.670441 122 57 22\n-0.355441 -0.005263 -0.162945 0.742058 -0.513535 0.430799 0.481410 0.661880 61 26 10\n0.731949 0.122116 -1.198558 0.434339 -0.319193 -0.842280 0.490300 0.820800 86 38 17\n0.611199 0.058057 -1.223469 0.241523 -0.776543 -0.581866 0.490147 0.840777 77 24 14\n0.648312 0.137874 -1.246179 0.311624 -0.127415 -0.941618 0.479648 0.830403 59 20 7\n0.153361 -0.050286 0.019732 -0.353984 -0.874355 -0.331889 0.386370 0.572857 45 22 23\n-0.821973 0.039957 -0.982068 -0.252968 -0.111576 -0.960997 0.808500 0.771645 68 33 13\n0.807439 -0.112441 0.481265 -0.058931 -0.996887 -0.052004 0.186003 0.479778 104 47 16\n0.753277 -0.102571 0.333634 -0.105625 -0.993957 -0.028871 0.214995 0.467094 115 56 19\n-0.877206 -0.092945 0.270613 0.089175 -0.990448 0.104892 0.206841 0.117443 42 20 7\n0.025740 -0.001469 -0.745235 0.163854 -0.984619 -0.060610 0.397449 0.295845 130 63 29\n0.221829 0.023589 -0.731078 -0.003418 -0.997284 -0.073550 0.413043 0.830139 75 22 5\n0.120533 0.021865 -0.785528 0.287790 -0.935514 -0.204779 0.414200 0.844800 121 51 17\n0.163062 0.037667 -0.766832 0.254158 -0.856136 -0.449904 0.409692 0.837814 83 30 9\n0.340368 0.028194 -0.869664 -0.033662 -0.997955 0.053896 0.423316 0.362410 129 55 16\n0.934654 -0.120536 0.492043 -0.127812 -0.991729 -0.008515 0.187811 0.505142 104 50 18\n-0.410712 -0.052639 -0.033585 0.800989 -0.574084 -0.169744 0.261300 0.214600 123 70 26\n-0.362968 -0.038616 0.021783 0.809107 -0.465712 -0.358318 0.255740 0.219900 83 37 14\n-0.470496 -0.084469 -0.046421 0.243568 -0.969787 0.013367 0.267725 0.201648 136 69 29\n-0.235400 -0.044700 -0.335297 0.490555 -0.868679 0.068575 0.066300 0.892400 116 62 28\n-0.121791 -0.028855 -0.453955 0.228675 -0.973327 0.016724 0.344768 0.268231 118 59 28\n0.480355 0.005288 -0.664765 -0.020478 -0.996094 -0.085665 0.389492 0.392137 94 33 8\n0.788622 0.039969 -1.115285 0.271798 -0.795282 -0.541856 0.434166 0.783472 111 54 20\n0.832631 0.128027 -1.136496 0.571123 -0.075320 -0.817377 0.436270 0.765450 45 20 9\n0.877990 0.031156 -1.048513 0.393567 -0.725028 -0.565111 0.448051 0.788090 116 62 25\n-1.367795 -0.073402 0.073944 -0.574572 -0.810938 0.110416 0.380809 0.881112 69 31 13\n-1.335534 -0.099443 0.111235 -0.358531 -0.929685 0.084384 0.378900 0.875600 99 56 26\n-1.409734 -0.029562 0.139571 -0.938963 -0.339702 0.054140 0.381700 0.871300 123 81 41\n-0.388143 0.053953 -1.120055 -0.681051 0.101108 -0.725181 0.820647 0.675096 37 10 4\n-0.470496 -0.084469 -0.046421 0.243568 -0.969787 0.013367 0.260800 0.784400 136 69 29\n-0.355441 -0.005263 -0.162945 0.742058 -0.513535 0.430799 0.287583 0.222833 61 26 10\n-0.379032 -0.053192 -0.146524 0.581957 -0.805261 0.113315 0.291598 0.215720 122 57 22\n0.673321 -0.076311 0.110628 -0.142582 -0.988281 -0.053865 0.251514 0.446242 102 45 19\n1.079228 -0.126335 0.499677 0.539018 -0.818506 0.198645 0.187285 0.536731 87 39 15\n1.009468 -0.136715 0.550031 0.008179 -0.998962 0.044496 0.180187 0.520770 99 44 18\n1.022654 0.037459 -0.927904 0.656423 -0.492172 -0.571673 0.752786 0.904551 101 47 19\n0.877990 0.031156 -1.048513 0.393567 -0.725028 -0.565111 0.761449 0.925559 116 62 25\n0.914029 0.106661 -1.067466 0.639424 -0.120090 -0.759392 0.745713 0.937412 52 20 6\n0.651157 0.026621 -0.766466 -0.034120 -0.998779 -0.035096 0.043282 0.844825 72 23 6\n0.761982 0.011788 -0.722488 -0.075991 -0.996826 0.022980 0.042429 0.858197 99 52 23\n0.710149 -0.001719 -0.711533 0.097934 -0.921201 -0.376507 0.037817 0.853919 87 33 7\n0.622556 0.014185 -0.819535 -0.031526 -0.999420 0.011902 0.416588 0.423915 121 65 21\n0.738453 0.004302 -0.759440 -0.173925 -0.959441 0.221747 0.408885 0.448733 118 57 17\n0.651157 0.026621 -0.766466 -0.034120 -0.998779 -0.035096 0.406571 0.430110 72 23 6\n0.656662 -0.092793 0.234904 -0.041047 -0.995819 -0.081240 0.230199 0.443745 100 40 12\n0.475887 0.026573 -0.897570 -0.016114 -0.994903 -0.099490 0.428175 0.391712 106 37 14\n0.309593 0.024395 -0.787281 0.008179 -0.980804 -0.194678 0.319700 0.845300 129 59 18\n0.227250 0.023442 -0.843885 0.036439 -0.999329 0.002991 0.319596 0.858359 93 31 5\n0.307614 0.042647 -0.828553 0.074648 -0.996612 -0.033753 0.316100 0.853200 104 44 15\n0.781667 0.010246 -0.657926 0.021821 -0.972045 -0.233680 0.389335 0.459612 87 44 21\n0.710149 -0.001719 -0.711533 0.097934 -0.921201 -0.376507 0.400839 0.444099 87 33 7\n0.761982 0.011788 -0.722488 -0.075991 -0.996826 0.022980 0.401120 0.454944 99 52 23\n0.869159 -0.020178 -0.653615 -0.217689 -0.971160 -0.097049 0.391356 0.476515 102 44 15\n-0.289930 -0.046164 -0.244575 0.237220 -0.905881 0.350780 0.305141 0.234919 115 69 42\n-0.392332 -0.072633 0.070497 0.513962 -0.857784 -0.002777 0.246940 0.216659 124 60 18\n1.129981 -0.116491 0.385880 0.664296 -0.728629 0.166631 0.021800 0.903600 78 30 11\n1.113186 -0.063523 0.528075 0.882992 -0.380718 0.274453 0.021800 0.909300 64 32 13\n1.079228 -0.126335 0.499677 0.539018 -0.818506 0.198645 0.017600 0.905900 87 39 15\n0.573122 -0.006361 -0.552865 -0.088260 -0.988403 -0.123325 0.368562 0.415357 86 32 10\n-1.236743 -0.095750 0.185353 0.082461 -0.988220 0.128788 0.219891 0.038900 122 65 25\n-1.127649 -0.101418 0.175094 -0.183050 -0.973418 0.137425 0.219652 0.061324 121 71 33\n-0.042522 -0.015168 -0.527483 0.098270 -0.994293 0.041353 0.357173 0.285752 113 49 25\n-0.137442 0.052434 -1.304493 -0.185003 -0.383221 -0.904935 0.825905 0.608367 73 30 12\n-0.086775 0.090631 -1.318694 -0.118473 -0.139317 -0.983123 0.821393 0.597829 49 20 9\n-0.018869 0.090735 -1.322982 -0.024018 -0.208045 -0.977813 0.824605 0.585345 41 15 5\n0.560583 0.013157 -0.780270 -0.011475 -0.996307 -0.084964 0.409438 0.411450 116 53 20\n0.558539 0.010815 -0.676902 -0.064455 -0.995941 -0.062593 0.389786 0.411461 67 16 5\n-1.335534 -0.099443 0.111235 -0.358531 -0.929685 0.084384 0.231850 0.016965 99 56 26\n1.124542 -0.028090 -0.122381 0.896512 0.365795 0.249855 0.187600 0.892400 42 20 11\n1.105152 -0.043552 -0.095607 0.952513 0.285653 0.105380 0.190600 0.900674 39 14 8\n1.132540 -0.088402 -0.127385 0.958861 -0.252663 -0.129368 0.185695 0.898045 90 51 18\n1.121976 -0.044679 -0.167669 0.913785 0.267220 -0.305887 0.764996 0.739369 35 14 7\n1.132540 -0.088402 -0.127385 0.958861 -0.252663 -0.129368 0.771479 0.731655 90 51 18\n1.132540 -0.088402 -0.127385 0.958861 -0.252663 -0.129368 0.121732 0.887029 90 51 18\n-0.454252 0.096763 -1.090296 -0.436598 -0.117344 -0.891934 0.396286 0.847629 72 37 14\n-0.444586 0.041477 -1.125552 -0.640767 0.225715 -0.733757 0.403577 0.855476 31 11 7\n-0.459451 0.055269 -1.073410 -0.685873 0.034211 -0.726890 0.396425 0.853677 22 4 2\n1.097562 -0.093183 0.082056 0.706015 -0.702200 0.091922 0.775504 0.687465 19 6 6\n0.419680 0.039738 -1.039606 0.050600 -0.993378 -0.102939 0.454469 0.379585 109 42 12\n0.386844 0.054994 -1.148986 0.036500 -0.998871 -0.030152 0.472958 0.369183 83 26 6\n0.497041 0.048420 -1.115640 -0.007111 -0.999756 0.020478 0.467477 0.393708 122 56 16\n0.496593 0.062767 -1.065567 0.014222 -0.998596 -0.050569 0.456814 0.393128 76 27 8\n0.244239 0.067965 -1.303843 0.121799 -0.711264 -0.692282 0.433106 0.776393 62 27 12\n0.781667 0.010246 -0.657926 0.021821 -0.972045 -0.233680 0.043400 0.842100 87 44 21\n0.869159 -0.020178 -0.653615 -0.217689 -0.971160 -0.097049 0.051354 0.839414 102 44 15\n0.823173 -0.019514 -0.596820 -0.068606 -0.961791 -0.264992 0.047539 0.843115 86 30 8\n0.600836 0.035273 -1.012642 -0.093783 -0.987518 -0.126499 0.451937 0.414720 122 57 20\n-0.647865 -0.088886 0.173034 0.095553 -0.993896 0.054903 0.226474 0.164167 115 51 19\n-0.114867 -0.010757 -0.528465 0.174322 -0.978149 0.113132 0.357428 0.269051 73 25 11\n0.663171 0.044211 -1.164143 0.146245 -0.916379 -0.372600 0.467000 0.842606 115 57 24\n0.611199 0.058057 -1.223469 0.241523 -0.776543 -0.581866 0.455423 0.836707 77 24 14\n0.731949 0.122116 -1.198558 0.434339 -0.319193 -0.842280 0.470200 0.825000 86 38 17\n0.557182 0.024340 -0.900144 0.247291 -0.907559 -0.339335 0.429467 0.410385 117 57 20\n-0.569428 -0.031964 -1.012366 -0.467360 -0.466536 -0.750908 0.832299 0.721198 43 11 3\n-0.349736 0.007588 -1.180113 -0.518937 -0.295236 -0.802179 0.827936 0.663362 69 27 11\n0.070571 0.090288 -1.325141 -0.056093 -0.131748 -0.989685 0.831135 0.567595 51 21 9\n0.006725 0.038719 -1.299657 -0.036805 -0.735374 -0.676626 0.837629 0.584886 40 9 4\n-0.450068 -0.068808 0.062119 0.085910 -0.991272 -0.099796 0.863700 0.723400 102 81 59\n-0.392332 -0.072633 0.070497 0.513962 -0.857784 -0.002777 0.866900 0.718400 124 60 18\n-0.500657 -0.084948 0.095545 0.139409 -0.989807 0.028291 0.866900 0.728400 152 82 35\n-0.395899 -0.054912 -0.081976 0.678365 -0.655171 0.332438 0.275337 0.214242 124 58 22\n-0.410712 -0.052639 -0.033585 0.800989 -0.574084 -0.169744 0.265631 0.211875 123 70 26\n-0.395899 -0.054912 -0.081976 0.678365 -0.655171 0.332438 0.495600 0.666000 124 58 22\n-0.426717 -0.075112 -0.224824 0.251503 -0.966582 0.049196 0.301078 0.206314 125 59 23\n0.750514 -0.025324 -0.616366 0.075411 -0.962951 -0.258797 0.390600 0.453400 96 35 9\n0.822835 -0.109454 0.183144 -0.138890 -0.988708 -0.055696 0.240497 0.477222 109 67 32\n0.316018 0.037260 -1.036586 0.029206 -0.999390 -0.019074 0.451917 0.357039 122 56 17\n0.698465 -0.088968 0.026479 -0.254707 -0.966948 0.010834 0.268742 0.448475 84 38 21\n0.532263 0.035237 -0.940322 -0.020051 -0.992035 -0.124241 0.438926 0.401839 110 50 16\n0.659570 -0.044943 -0.313370 -0.130802 -0.970397 -0.202979 0.327420 0.437526 95 43 14\n-0.758884 -0.104834 0.178632 0.085726 -0.995972 0.025666 0.224866 0.140077 111 53 14\n-0.179761 -0.042852 -0.421235 0.404889 0.167821 0.898801 0.338802 0.256924 126 61 27\n0.250148 0.031260 -0.950679 0.045808 -0.997925 -0.045137 0.438346 0.341296 119 60 19\n1.056728 -0.022834 -0.404470 0.321512 -0.909116 0.264748 0.764188 0.792293 70 45 33\n1.062076 -0.062693 -0.348469 0.888821 -0.333598 -0.314127 0.770243 0.780651 50 18 10\n0.094946 0.022952 -0.964864 0.108097 -0.993988 -0.017151 0.437071 0.309057 87 23 7\n-0.566509 -0.087713 0.097241 0.072420 -0.996155 0.049043 0.242326 0.180290 115 52 15\n1.052824 -0.076838 -0.475636 0.067721 -0.984008 0.164678 0.364390 0.519916 126 78 42\n0.305476 0.044162 -1.171907 0.076785 -0.996033 -0.044313 0.475131 0.351533 123 57 17\n-1.193512 -0.098515 0.139283 -0.041139 -0.997040 0.064699 0.228394 0.047816 133 74 37\n0.152169 0.024656 -1.039500 0.106021 -0.992218 -0.064943 0.451235 0.319410 134 55 17\n0.255333 0.035111 -1.070169 0.013489 -0.995300 -0.095676 0.456350 0.342209 126 49 13\n0.750514 -0.025324 -0.616366 0.075411 -0.962951 -0.258797 0.382963 0.451717 96 35 9\n-0.240726 -0.049700 -0.314089 0.376751 -0.920377 0.104617 0.346800 0.872900 117 56 23\n-0.235400 -0.044700 -0.335297 0.490555 -0.868679 0.068575 0.322631 0.247479 116 62 28\n0.654193 -0.011541 -0.677766 -0.112583 -0.987854 -0.107059 0.393823 0.432981 123 62 27\n0.663171 0.044211 -1.164143 0.146245 -0.916379 -0.372600 0.479296 0.427674 115 57 24\n0.628936 0.044269 -1.078326 -0.098819 -0.989502 -0.105197 0.462381 0.420732 63 16 4\n1.129981 -0.116491 0.385880 0.664296 -0.728629 0.166631 0.206099 0.544151 78 30 11\n1.057437 -0.140329 0.433991 0.117862 -0.992248 0.038881 0.202157 0.531193 99 41 21\n0.092716 0.044732 -1.319553 -0.019959 -0.530045 -0.847713 0.840953 0.565806 49 27 21\n0.221024 0.045573 -1.265303 0.170965 -0.942167 -0.288156 0.470791 0.909082 42 21 14\n0.179256 0.066109 -1.317494 0.150212 -0.511368 -0.846095 0.474000 0.903700 49 22 17\n0.244239 0.067965 -1.303843 0.121799 -0.711264 -0.692282 0.474000 0.910600 62 27 12\n0.832631 0.128027 -1.136496 0.571123 -0.075320 -0.817377 0.372800 0.805700 45 20 9\n0.788622 0.039969 -1.115285 0.271798 -0.795282 -0.541856 0.387357 0.805047 111 54 20\n0.731949 0.122116 -1.198558 0.434339 -0.319193 -0.842280 0.373201 0.824004 86 38 17\n-0.417985 0.029573 -1.146033 -0.524064 0.254860 -0.812616 0.316171 0.903996 31 8 3\n-0.444586 0.041477 -1.125552 -0.640767 0.225715 -0.733757 0.312600 0.904500 31 11 7\n-0.388143 0.053953 -1.120055 -0.681051 0.101108 -0.725181 0.315355 0.898902 37 10 4\n-0.388143 0.053953 -1.120055 -0.681051 0.101108 -0.725181 0.104496 0.833749 37 10 4\n-0.417985 0.029573 -1.146033 -0.524064 0.254860 -0.812616 0.098100 0.835200 31 8 3\n1.059975 -0.049589 -0.311445 0.992615 -0.052248 -0.109226 0.363100 0.826200 33 8 5\n0.742904 -0.031366 -0.462937 -0.151555 -0.986206 -0.066256 0.355554 0.451602 65 26 12\n0.709177 -0.016415 -0.375771 -0.200751 -0.971191 -0.128147 0.339604 0.447014 49 17 6\n0.687183 -0.039987 -0.433049 0.050295 -0.994476 0.092013 0.350324 0.441425 91 39 32\n-0.958243 -0.124057 0.226282 0.162725 -0.979461 0.118931 0.215761 0.098332 80 46 47\n-1.083521 -0.104855 0.216266 -0.149083 -0.983947 0.097842 0.216091 0.071528 105 69 35\n-1.248874 -0.100856 0.085375 0.171606 -0.985046 0.013550 0.233599 0.039410 100 45 11\n-1.190114 -0.077490 0.035052 -0.014252 -0.997345 -0.071230 0.245986 0.045637 106 60 29\n-0.129808 -0.032192 -0.568162 0.264229 -0.959319 0.099368 0.366580 0.265627 120 50 21\n-1.399111 -0.068102 -0.048859 -0.875362 -0.483261 -0.013001 0.257640 0.001551 61 37 23\n1.002570 -0.038046 -0.406354 0.704550 -0.702567 0.099887 0.769631 0.796361 30 5 2\n0.695788 0.027766 -1.051905 -0.056307 -0.991150 -0.120151 0.460320 0.435685 135 95 80\n-0.851280 -0.101855 0.163055 0.049257 -0.995758 0.077395 0.228072 0.120913 83 37 12\n0.654193 -0.011541 -0.677766 -0.112583 -0.987854 -0.107059 0.032600 0.847200 123 62 27\n-0.459451 0.055269 -1.073410 -0.685873 0.034211 -0.726890 0.395900 0.858300 22 4 2\n-0.490435 0.019821 -1.060512 -0.708487 0.272713 -0.650868 0.396964 0.863351 35 9 3\n-0.450068 -0.068808 0.062119 0.085910 -0.991272 -0.099796 0.248683 0.205147 102 81 59\n0.751434 0.017442 -0.882759 -0.062166 -0.991333 -0.115604 0.431782 0.452521 95 37 12\n0.777049 0.019961 -0.971410 -0.056642 -0.995911 -0.070040 0.446437 0.454438 103 42 13\n0.659570 -0.044943 -0.313370 -0.130802 -0.970397 -0.202979 0.863700 0.867000 95 43 14\n0.638932 -0.033807 -0.393023 -0.026460 -0.998901 -0.038484 0.863700 0.877300 107 42 23\n0.709177 -0.016415 -0.375771 -0.200751 -0.971191 -0.128147 0.859800 0.873300 49 17 6\n-0.240726 -0.049700 -0.314089 0.376751 -0.920377 0.104617 0.317905 0.245461 117 56 23\n-0.218003 -0.053029 -0.391148 0.304697 -0.939909 0.153905 0.334115 0.249749 124 61 25\n0.179434 0.045873 -1.099810 0.133854 -0.989654 -0.050996 0.462812 0.325333 84 35 13\n0.256980 -0.070793 -0.004984 -0.004975 -0.980102 -0.198340 0.390140 0.552480 100 81 75\n0.663171 0.044211 -1.164143 0.146245 -0.916379 -0.372600 0.392200 0.824400 115 57 24\n0.818427 -0.006421 -0.771398 -0.157903 -0.987426 0.001892 0.412104 0.465233 119 49 15\n-0.928356 -0.100554 0.231702 0.454390 -0.872860 -0.177740 0.214539 0.106443 66 27 15\n1.150948 -0.027560 -0.428848 0.686026 -0.704123 0.183172 0.353332 0.538590 110 55 18\n-0.108317 -0.021179 -0.642702 0.169439 -0.981628 -0.087344 0.378731 0.268787 101 40 10\n0.331652 0.046731 -1.246077 0.043825 -0.981079 -0.188513 0.489299 0.355229 131 61 25\n0.795651 -0.101693 0.090057 -0.187292 -0.981597 0.037019 0.261171 0.473714 96 49 37\n-0.135808 -0.015725 -0.716782 0.151921 -0.944334 -0.291726 0.393648 0.264045 101 41 12\n-0.196592 -0.006028 -0.762155 0.336589 -0.908017 -0.249336 0.399464 0.248753 100 38 16\n-0.113416 0.015347 -0.794750 -0.160192 -0.987060 0.005737 0.404868 0.265759 93 47 28\n0.009349 0.001487 -0.830543 0.186193 -0.980438 -0.063540 0.413668 0.293382 81 21 5\n0.359639 0.067271 -1.294928 0.074831 -0.716178 -0.693869 0.496500 0.362200 89 40 15\n0.611199 0.058057 -1.223469 0.241523 -0.776543 -0.581866 0.488525 0.397655 77 24 14\n0.244239 0.067965 -1.303843 0.121799 -0.711264 -0.692282 0.498100 0.350200 62 27 12\n0.711729 -0.077427 -0.158073 -0.237983 -0.968413 -0.074252 0.302426 0.449888 35 16 8\n0.750514 -0.025324 -0.616366 0.075411 -0.962951 -0.258797 0.190566 0.834658 96 35 9\n0.781667 0.010246 -0.657926 0.021821 -0.972045 -0.233680 0.185938 0.836588 87 44 21\n0.823173 -0.019514 -0.596820 -0.068606 -0.961791 -0.264992 0.189934 0.824491 86 30 8\n-0.381339 0.084898 -1.148883 -0.691885 0.383801 -0.611499 0.816497 0.667808 25 6 3\n-0.662623 -0.100698 0.118214 0.078097 -0.992157 0.097324 0.237664 0.160538 100 38 10\n0.911487 -0.124502 0.360199 -0.132145 -0.990509 0.037202 0.214186 0.501332 107 56 24\n-0.121791 -0.028855 -0.453955 0.228675 -0.973327 0.016724 0.325500 0.891800 118 59 28\n-0.187162 -0.050391 -0.522639 0.289010 -0.956572 0.037873 0.325317 0.900948 105 42 18\n-0.114867 -0.010757 -0.528465 0.174322 -0.978149 0.113132 0.320600 0.893101 73 25 11\n-0.734920 -0.097680 0.156391 0.124363 -0.991974 -0.021973 0.231494 0.144706 130 65 27\n1.129477 -0.134593 0.294762 0.439497 -0.892087 0.104801 0.780239 0.642807 104 50 27\n0.842694 0.011256 -0.869231 -0.061953 -0.932920 -0.354656 0.428732 0.468571 85 33 10\n-0.192825 0.004798 -0.811348 0.363201 -0.919919 0.147618 0.408544 0.249237 96 50 23\n0.191055 0.030073 -1.152546 0.130680 -0.980071 0.149480 0.471399 0.323632 81 32 22\n-1.135041 -0.108679 0.077332 -0.217780 -0.975555 -0.028565 0.309686 0.901835 95 52 24\n-1.193512 -0.098515 0.139283 -0.041139 -0.997040 0.064699 0.308700 0.893500 133 74 37\n-1.190114 -0.077490 0.035052 -0.014252 -0.997345 -0.071230 0.312600 0.897000 106 60 29\n-0.379032 -0.053192 -0.146524 0.581957 -0.805261 0.113315 0.284756 0.218860 122 57 22\n-0.071096 -0.016366 -0.703812 0.031373 -0.995422 -0.090182 0.391893 0.277557 76 22 3\n0.844748 0.018257 -1.029327 0.009583 -0.976318 -0.216010 0.445300 0.792400 128 65 26\n1.149444 -0.087713 -0.054429 0.977783 -0.109256 -0.178747 0.771011 0.714737 45 16 10\n1.145976 -0.120923 0.027663 0.715415 -0.655934 0.240547 0.777662 0.698711 126 111 77\n-1.287996 -0.105750 0.058623 -0.077273 -0.985656 0.149815 0.242956 0.026106 114 51 20\n-1.248874 -0.100856 0.085375 0.171606 -0.985046 0.013550 0.238460 0.034432 100 45 11\n-1.336007 -0.106391 0.000338 -0.339335 -0.939360 0.048891 0.252996 0.015606 101 49 25\n0.788622 0.039969 -1.115285 0.271798 -0.795282 -0.541856 0.476462 0.442410 111 54 20\n-1.135041 -0.108679 0.077332 -0.217780 -0.975555 -0.028565 0.238947 0.057089 95 52 24\n0.057825 0.017534 -1.033074 0.106998 -0.993957 -0.024262 0.448853 0.299923 154 86 32\n0.807585 -0.072391 -0.442475 -0.269936 -0.917417 -0.292306 0.355808 0.462343 71 50 54\n0.102826 0.022961 -1.159423 0.089816 -0.995727 0.021302 0.477274 0.310155 93 55 47\n-1.074277 -0.110933 0.077709 -0.157689 -0.985198 0.066836 0.242677 0.070666 121 63 24\n-1.239260 -0.101158 -0.007057 0.452773 -0.889248 -0.064669 0.255185 0.032940 120 53 19\n-1.135041 -0.108679 0.077332 -0.217780 -0.975555 -0.028565 0.244738 0.054726 95 52 24\n-1.142006 -0.091909 -0.018430 -0.363475 -0.931578 0.003235 0.257033 0.057847 90 38 12\n1.106746 -0.045947 -0.647789 0.523362 -0.820795 -0.228767 0.764329 0.840829 125 69 30\n-0.113237 -0.016078 -0.886489 0.144322 -0.983093 0.112552 0.424017 0.263720 132 65 27\n0.221024 0.045573 -1.265303 0.170965 -0.942167 -0.288156 0.492088 0.334571 42 21 14\n-0.407045 -0.071539 -0.341199 0.158055 -0.986633 0.039552 0.323426 0.208774 134 71 35\n1.090530 -0.046848 -0.239842 0.866817 0.362407 -0.342387 0.767255 0.756716 29 7 5\n1.101631 -0.123545 -0.257821 0.735130 -0.614704 -0.285775 0.780634 0.759139 67 28 19\n0.331652 0.046731 -1.246077 0.043825 -0.981079 -0.188513 0.855300 0.534300 131 61 25\n0.221024 0.045573 -1.265303 0.170965 -0.942167 -0.288156 0.850606 0.543463 42 21 14\n-0.197211 -0.044095 -0.688456 0.246834 -0.937803 -0.244026 0.383807 0.860500 96 30 7\n-0.196592 -0.006028 -0.762155 0.336589 -0.908017 -0.249336 0.389500 0.869400 100 38 16\n-0.135808 -0.015725 -0.716782 0.151921 -0.944334 -0.291726 0.383100 0.871800 101 41 12\n0.659570 -0.044943 -0.313370 -0.130802 -0.970397 -0.202979 0.291666 0.833196 95 43 14\n0.709177 -0.016415 -0.375771 -0.200751 -0.971191 -0.128147 0.300239 0.841265 49 17 6\n0.751809 -0.066493 -0.306077 -0.373974 -0.913968 -0.157414 0.289770 0.848250 81 42 21\n-0.064002 -0.015064 -0.815397 -0.083651 -0.996429 0.009583 0.410010 0.275933 131 58 19\n-0.564816 -0.093801 -0.017565 0.084109 -0.996338 0.014405 0.264707 0.178918 140 80 37\n-1.230628 -0.084309 -0.073946 0.189276 -0.977996 0.087436 0.268501 0.038659 96 42 14\n0.814500 -0.039418 -0.517869 -0.139256 -0.956542 -0.256081 0.365815 0.467584 117 57 23\n0.710149 -0.001719 -0.711533 0.097934 -0.921201 -0.376507 0.397876 0.443708 87 33 7\n-0.135808 -0.015725 -0.716782 0.151921 -0.944334 -0.291726 0.459838 0.869949 101 41 12\n-0.113416 0.015347 -0.794750 -0.160192 -0.987060 0.005737 0.460400 0.861500 93 47 28\n-0.071096 -0.016366 -0.703812 0.031373 -0.995422 -0.090182 0.464200 0.861800 76 22 3\n-0.920669 -0.122823 0.123562 0.195654 -0.979003 -0.056764 0.234412 0.106643 76 45 35\n0.844748 0.018257 -1.029327 0.009583 -0.976318 -0.216010 0.457435 0.466712 128 65 26\n0.877990 0.031156 -1.048513 0.393567 -0.725028 -0.565111 0.458765 0.477040 116 62 25\n0.996623 -0.016228 -0.855898 0.171148 -0.947996 -0.268227 0.428851 0.497233 121 58 22\n-0.839103 -0.110452 0.041526 0.014283 -0.996155 0.086154 0.251611 0.121350 106 48 17\n-0.753189 -0.098924 0.064142 0.058565 -0.994720 0.084140 0.246811 0.139428 103 43 16\n0.846515 -0.117768 -0.014215 -0.138798 -0.985015 -0.102054 0.279073 0.480251 93 62 39\n1.002570 -0.038046 -0.406354 0.704550 -0.702567 0.099887 0.349639 0.510749 30 5 2\n1.002251 -0.065586 -0.422611 0.446516 -0.893796 0.041200 0.354117 0.509298 69 21 5\n0.996623 -0.016228 -0.855898 0.171148 -0.947996 -0.268227 0.763527 0.900160 121 58 22\n-0.671501 -0.104304 0.007180 0.079318 -0.996704 0.015320 0.258696 0.156401 101 38 13\n0.739839 -0.059671 -0.383207 -0.652699 -0.693350 -0.305307 0.343034 0.453494 66 34 22\n0.751809 -0.066493 -0.306077 -0.373974 -0.913968 -0.157414 0.329917 0.456708 81 42 21\n-0.079851 -0.008002 -0.967938 0.178045 -0.982849 -0.047670 0.438400 0.272020 116 52 17\n0.926955 -0.001815 -0.784914 -0.044313 -0.997955 -0.045747 0.415262 0.488699 110 55 28\n0.918588 -0.025174 -0.724953 -0.097781 -0.977264 -0.188025 0.406134 0.487943 106 39 16\n1.022654 0.037459 -0.927904 0.656423 -0.492172 -0.571673 0.444800 0.494100 101 47 19\n0.869037 -0.021056 -0.828738 -0.056185 -0.989502 -0.133030 0.424260 0.476134 135 77 41\n0.751434 0.017442 -0.882759 -0.062166 -0.991333 -0.115604 0.417129 0.829527 95 37 12\n0.842694 0.011256 -0.869231 -0.061953 -0.932920 -0.354656 0.420430 0.840447 85 33 10\n0.869037 -0.021056 -0.828738 -0.056185 -0.989502 -0.133030 0.414334 0.843015 135 77 41\n1.112088 -0.098430 -0.180235 0.959716 -0.207404 -0.189459 0.776141 0.742736 55 19 11\n0.878488 -0.109743 0.153037 -0.180212 -0.983245 0.027131 0.248199 0.488975 18 5 3\n0.962330 -0.131957 0.226001 -0.165227 -0.985900 0.026124 0.240397 0.505634 36 13 6\n0.823173 -0.019514 -0.596820 -0.068606 -0.961791 -0.264992 0.379035 0.470466 86 30 8\n0.128382 0.019252 -1.282178 0.134373 -0.932188 -0.336039 0.869200 0.633700 46 20 17\n0.179256 0.066109 -1.317494 0.150212 -0.511368 -0.846095 0.866100 0.629700 49 22 17\n0.221024 0.045573 -1.265303 0.170965 -0.942167 -0.288156 0.867023 0.624844 42 21 14\n-1.239260 -0.101158 -0.007057 0.452773 -0.889248 -0.064669 0.155253 0.865503 120 53 19\n-1.248874 -0.100856 0.085375 0.171606 -0.985046 0.013550 0.160468 0.852229 100 45 11\n-1.269024 -0.114538 0.033916 0.126896 -0.986114 0.106937 0.161700 0.861358 135 85 60\n-0.781900 -0.112228 0.016837 0.054933 -0.990051 0.129337 0.254938 0.134680 110 52 16\n0.128382 0.019252 -1.282178 0.134373 -0.932188 -0.336039 0.846800 0.556300 46 20 17\n1.104590 -0.069563 -0.512500 0.413007 -0.910703 -0.004852 0.765900 0.803500 126 64 29\n-0.050993 0.011136 -1.152319 0.006043 -0.998505 0.053835 0.471457 0.275219 140 69 23\n-1.190114 -0.077490 0.035052 -0.014252 -0.997345 -0.071230 0.189562 0.855392 106 60 29\n-1.239260 -0.101158 -0.007057 0.452773 -0.889248 -0.064669 0.191711 0.868650 120 53 19\n-1.230628 -0.084309 -0.073946 0.189276 -0.977996 0.087436 0.186794 0.873308 96 42 14\n-0.548499 -0.094089 -0.123920 0.104831 -0.994232 0.021851 0.283843 0.182614 148 86 42\n-0.614340 -0.094974 -0.065613 0.094913 -0.995209 0.022980 0.272399 0.168369 109 51 19\n0.771925 -0.092261 -0.202725 -0.242409 -0.969054 -0.046297 0.315249 0.463307 84 35 26\n-0.881959 -0.102568 0.088776 0.090823 -0.995758 -0.012421 0.241598 0.112950 79 36 15\n0.128382 0.019252 -1.282178 0.134373 -0.932188 -0.336039 0.496781 0.313315 46 20 17\n-0.976546 -0.121326 0.069677 0.043184 -0.995941 -0.078738 0.245138 0.093227 84 52 25\n-0.949678 -0.114378 0.019408 0.045900 -0.998932 0.004456 0.254316 0.097583 110 70 31\n-0.280505 -0.070540 -0.415339 0.114200 -0.993378 -0.009949 0.339269 0.235731 117 59 37\n1.073488 -0.138366 0.324913 0.059694 -0.996460 0.058809 0.219164 0.528308 111 60 26\n0.922211 -0.050897 -0.528639 -0.090396 -0.971160 -0.220496 0.371578 0.489479 112 57 23\n-1.115889 -0.115366 0.005920 -0.302316 -0.949919 -0.078860 0.255351 0.062267 109 49 16\n-0.187162 -0.050391 -0.522639 0.289010 -0.956572 0.037873 0.358755 0.255422 105 42 18\n-1.359707 -0.100085 -0.087814 -0.494461 -0.868587 0.032228 0.269494 0.011178 88 44 22\n-0.221442 -0.062004 -0.581242 0.117405 -0.987396 -0.106113 0.368611 0.246947 93 40 31\n-0.224918 -0.053271 -0.616802 0.194586 -0.975463 -0.102725 0.375949 0.244486 78 25 16\n1.116762 -0.141083 0.150768 0.393750 -0.835963 -0.382183 0.781943 0.673732 131 73 35\n1.079745 -0.126902 0.124234 0.368450 -0.859676 -0.353801 0.780254 0.680009 98 48 24\n1.150252 -0.074722 0.030528 0.988861 0.032563 0.145085 0.208100 0.894700 36 12 8\n1.097562 -0.093183 0.082056 0.706015 -0.702200 0.091922 0.207050 0.901860 19 6 6\n1.145976 -0.120923 0.027663 0.715415 -0.655934 0.240547 0.202825 0.896318 126 111 77\n-0.197211 -0.044095 -0.688456 0.246834 -0.937803 -0.244026 0.387312 0.251467 96 30 7\n-0.928356 -0.100554 0.231702 0.454390 -0.872860 -0.177740 0.471488 0.618821 66 27 15\n-0.958243 -0.124057 0.226282 0.162725 -0.979461 0.118931 0.475077 0.618988 80 46 47\n-0.920669 -0.122823 0.123562 0.195654 -0.979003 -0.056764 0.472200 0.635900 76 45 35\n1.129477 -0.134593 0.294762 0.439497 -0.892087 0.104801 0.226944 0.543785 104 50 27\n1.160720 -0.107460 0.251952 0.952635 -0.299661 0.051363 0.233000 0.550100 72 24 6\n1.162723 -0.113973 0.204426 0.927366 -0.348674 -0.135563 0.237000 0.545600 93 42 12\n-0.242213 -0.035120 -0.723638 0.333781 -0.915677 -0.223823 0.389500 0.856100 93 27 6\n-0.050819 0.020344 -1.101240 0.006226 -0.997925 -0.064058 0.461457 0.275452 63 15 4\n-0.144486 0.021371 -1.106326 0.121281 -0.956694 -0.264565 0.462368 0.256553 77 27 7\n-0.546599 -0.094134 -0.193017 0.117405 -0.992462 0.034486 0.296075 0.181795 83 22 4\n-1.031176 -0.120782 0.103638 -0.121677 -0.992553 0.004364 0.239048 0.082506 70 33 9\n-0.327895 -0.051106 -0.492798 0.228736 -0.972503 0.043611 0.352468 0.225036 87 47 32\n-0.248569 -0.055929 -0.458102 0.105747 -0.993469 -0.042695 0.346770 0.241064 65 19 7\n-0.892789 -0.048977 -0.958776 -0.526170 -0.093142 -0.845241 0.819333 0.789340 57 14 4\n-0.927887 -0.007464 -0.943665 -0.501663 -0.024537 -0.864681 0.810607 0.796215 52 26 9\n-1.385369 -0.074857 -0.141526 -0.867458 -0.496994 -0.021210 0.869700 0.577800 38 17 9\n-1.359707 -0.100085 -0.087814 -0.494461 -0.868587 0.032228 0.869700 0.586200 88 44 22\n-1.399111 -0.068102 -0.048859 -0.875362 -0.483261 -0.013001 0.866500 0.584100 61 37 23\n-0.490435 0.019821 -1.060512 -0.708487 0.272713 -0.650868 0.825557 0.699749 35 9 3\n-0.851280 -0.101855 0.163055 0.049257 -0.995758 0.077395 0.213700 0.884700 83 37 12\n-0.920669 -0.122823 0.123562 0.195654 -0.979003 -0.056764 0.210200 0.882800 76 45 35\n-0.881959 -0.102568 0.088776 0.090823 -0.995758 -0.012421 0.212337 0.875556 79 36 15\n-0.976546 -0.121326 0.069677 0.043184 -0.995941 -0.078738 0.305200 0.877700 84 52 25\n-0.881959 -0.102568 0.088776 0.090823 -0.995758 -0.012421 0.302400 0.869700 79 36 15\n-0.920669 -0.122823 0.123562 0.195654 -0.979003 -0.056764 0.305200 0.865700 76 45 35\n1.049364 -0.044937 -0.708152 0.050722 -0.976959 -0.207282 0.405624 0.512976 121 56 22\n0.971299 -0.024973 -0.664935 0.091525 -0.974578 -0.204413 0.395680 0.500005 92 37 15\n0.739839 -0.059671 -0.383207 -0.652699 -0.693350 -0.305307 0.141506 0.831059 66 34 22\n0.709177 -0.016415 -0.375771 -0.200751 -0.971191 -0.128147 0.136134 0.831231 49 17 6\n0.807585 -0.072391 -0.442475 -0.269936 -0.917417 -0.292306 0.140008 0.808528 71 50 54\n-0.207117 0.011183 -1.143161 0.437117 -0.825343 0.357372 0.469125 0.242994 104 38 10\n-0.109976 0.016063 -1.171227 -0.001312 -0.992004 0.126072 0.473754 0.261646 105 49 17\n-0.100249 -0.004549 -1.059458 0.147404 -0.942656 -0.299417 0.455312 0.265747 118 53 14\n-0.170066 -0.034450 -0.885498 0.337779 -0.907956 0.247932 0.424762 0.253304 119 60 33\n-0.100249 -0.004549 -1.059458 0.147404 -0.942656 -0.299417 0.229376 0.900600 118 53 14\n-0.050819 0.020344 -1.101240 0.006226 -0.997925 -0.064058 0.228200 0.894400 63 15 4\n0.057825 0.017534 -1.033074 0.106998 -0.993957 -0.024262 0.232300 0.893100 154 86 32\n-0.356821 -0.073337 -0.442140 0.179785 -0.983673 -0.001984 0.342580 0.218765 101 49 32\n0.833423 -0.106421 -0.053167 -0.074648 -0.981689 -0.175237 0.288877 0.478799 29 8 6\n-0.028190 0.018511 -1.224609 0.120090 -0.987487 -0.101993 0.485437 0.280288 123 61 29\n0.918588 -0.025174 -0.724953 -0.097781 -0.977264 -0.188025 0.498887 0.586111 106 39 16\n0.926955 -0.001815 -0.784914 -0.044313 -0.997955 -0.045747 0.495600 0.578200 110 55 28\n1.049364 -0.044937 -0.708152 0.050722 -0.976959 -0.207282 0.499600 0.569200 121 56 22\n1.004560 -0.048957 -0.583443 -0.183355 -0.969481 -0.162572 0.382475 0.506724 121 56 21\n1.079745 -0.126902 0.124234 0.368450 -0.859676 -0.353801 0.052985 0.882641 98 48 24\n1.097562 -0.093183 0.082056 0.706015 -0.702200 0.091922 0.053559 0.875762 19 6 6\n1.134895 -0.098123 0.131146 0.829768 -0.284555 -0.480087 0.057100 0.877100 17 5 3\n1.008719 -0.146897 0.153751 -0.063417 -0.997986 -0.000763 0.252458 0.517386 75 42 29\n0.850698 -0.106344 -0.148383 -0.154424 -0.987732 -0.022340 0.306575 0.480090 58 30 25\n-0.417985 0.029573 -1.146033 -0.524064 0.254860 -0.812616 0.824781 0.682726 31 8 3\n-1.169943 -0.099817 -0.113380 -0.030488 -0.972808 0.229560 0.275903 0.049605 128 75 38\n-1.269024 -0.114538 0.033916 0.126896 -0.986114 0.106937 0.248331 0.029132 135 85 60\n-1.000421 -0.112243 -0.011584 -0.029511 -0.999420 -0.015107 0.260366 0.086774 122 64 24\n-0.196592 -0.006028 -0.762155 0.336589 -0.908017 -0.249336 0.355464 0.832595 100 38 16\n-0.281625 -0.066275 -0.792851 0.592517 -0.797021 0.116703 0.363293 0.841541 67 31 26\n-0.192825 0.004798 -0.811348 0.363201 -0.919919 0.147618 0.352015 0.839660 96 50 23\n-0.775972 -0.116589 -0.098556 0.215064 -0.975249 -0.051149 0.050000 0.900200 142 79 35\n-0.732891 -0.094907 -0.101665 0.194128 -0.976531 -0.093173 0.053900 0.897400 122 69 33\n-0.671501 -0.104304 0.007180 0.079318 -0.996704 0.015320 0.050077 0.904830 101 38 13\n-0.732891 -0.094907 -0.101665 0.194128 -0.976531 -0.093173 0.278773 0.143376 122 69 33\n-0.665066 -0.102853 -0.075464 0.003906 -0.999908 -0.012635 0.273661 0.157449 116 49 11\n-0.240792 -0.041095 -0.842344 0.524888 -0.784143 0.331034 0.417348 0.239067 37 12 10\n-0.725873 -0.040566 -0.956100 0.061251 -0.603442 -0.795007 0.827757 0.757287 74 33 14\n-0.290937 -0.064960 -0.540423 0.113254 -0.984710 0.132298 0.361637 0.231366 95 52 29\n-0.216760 -0.004692 -1.247287 -0.113193 -0.818781 -0.562822 0.834798 0.633556 105 50 22\n0.905301 -0.087441 -0.422824 -0.016602 -0.971526 -0.236335 0.142191 0.796503 38 14 11\n0.814500 -0.039418 -0.517869 -0.139256 -0.956542 -0.256081 0.132247 0.807975 117 57 23\n1.004350 -0.103430 -0.375049 0.283853 -0.824152 -0.490066 0.779791 0.789293 22 5 4\n1.002251 -0.065586 -0.422611 0.446516 -0.893796 0.041200 0.775823 0.798345 69 21 5\n0.905301 -0.087441 -0.422824 -0.016602 -0.971526 -0.236335 0.354498 0.492243 38 14 11\n-0.664544 -0.100359 -0.117769 -0.037660 -0.998566 0.037324 0.283670 0.158639 100 37 13\n-0.686659 -0.116274 -0.214259 -0.035157 -0.993194 0.110843 0.301786 0.152891 127 62 24\n-0.594168 -0.100140 -0.138242 0.104862 -0.993469 0.044313 0.286534 0.171490 128 56 22\n-1.300164 -0.120728 -0.105982 0.115299 -0.993316 -0.003052 0.274015 0.022697 113 55 34\n1.096172 -0.125201 -0.012490 0.216285 -0.950591 -0.222571 0.777800 0.715100 58 24 18\n1.104590 -0.069563 -0.512500 0.413007 -0.910703 -0.004852 0.372462 0.528348 126 64 29\n1.104590 -0.069563 -0.512500 0.413007 -0.910703 -0.004852 0.768755 0.818143 126 64 29\n0.128382 0.019252 -1.282178 0.134373 -0.932188 -0.336039 0.846828 0.566918 46 20 17\n1.087576 -0.010792 -0.765422 0.649709 -0.668111 -0.362560 0.413287 0.518119 112 58 21\n-0.050819 0.020344 -1.101240 0.006226 -0.997925 -0.064058 0.482181 0.862416 63 15 4\n-0.100249 -0.004549 -1.059458 0.147404 -0.942656 -0.299417 0.475359 0.844150 118 53 14\n-0.144486 0.021371 -1.106326 0.121281 -0.956694 -0.264565 0.482929 0.847780 77 27 7\n-0.242366 -0.006939 -1.111589 0.550737 -0.833613 0.041505 0.464437 0.236209 91 37 12\n-0.775972 -0.116589 -0.098556 0.215064 -0.975249 -0.051149 0.279009 0.135577 142 79 35\n0.963473 -0.059672 -0.449145 0.065432 -0.971526 -0.227699 0.358074 0.496129 68 23 9\n-0.207382 -0.015262 -1.161740 0.367870 -0.900021 0.233650 0.473478 0.242016 124 57 16\n-1.142006 -0.091909 -0.018430 -0.363475 -0.931578 0.003235 0.860227 0.669599 90 38 12\n-1.096821 -0.115155 -0.025874 -0.168584 -0.985046 -0.035035 0.860700 0.661500 134 70 33\n-1.115889 -0.115366 0.005920 -0.302316 -0.949919 -0.078860 0.863700 0.665950 109 49 16\n-1.040212 -0.110885 -0.118253 0.000458 -0.998505 0.054353 0.278498 0.077178 120 59 22\n-0.972512 -0.120702 -0.093573 -0.103732 -0.994140 0.029664 0.274894 0.091017 116 53 20\n1.116762 -0.141083 0.150768 0.393750 -0.835963 -0.382183 0.254252 0.540312 131 73 35\n-0.118290 0.001437 -1.258886 0.041047 -0.938536 -0.342692 0.838157 0.604124 135 66 29\n1.108493 -0.112087 -0.123673 0.386883 -0.921079 -0.043580 0.776000 0.728300 93 67 54\n-0.852790 -0.117181 -0.060315 0.020661 -0.998505 0.050539 0.270720 0.117173 131 77 37\n0.006725 0.038719 -1.299657 -0.036805 -0.735374 -0.676626 0.498800 0.289600 40 9 4\n-0.164560 -0.025303 -0.959988 0.208106 -0.972625 -0.103092 0.438688 0.253753 117 55 21\n0.006725 0.038719 -1.299657 -0.036805 -0.735374 -0.676626 0.496069 0.283645 40 9 4\n-0.118290 0.001437 -1.258886 0.041047 -0.938536 -0.342692 0.488867 0.262524 135 66 29\n-0.194254 -0.028187 -1.022821 0.115665 -0.991089 -0.065859 0.450604 0.246255 126 66 27\n1.059179 -0.141829 0.032372 0.165685 -0.985595 -0.033387 0.258601 0.866080 66 30 18\n1.097562 -0.093183 0.082056 0.706015 -0.702200 0.091922 0.249243 0.867599 19 6 6\n1.079745 -0.126902 0.124234 0.368450 -0.859676 -0.353801 0.249800 0.856600 98 48 24\n-1.096821 -0.115155 -0.025874 -0.168584 -0.985046 -0.035035 0.262733 0.067700 134 70 33\n-0.600529 -0.098087 -0.215359 0.119053 -0.992645 0.020661 0.301146 0.169064 109 47 16\n-0.189430 -0.012363 -1.079973 0.216376 -0.878048 -0.426832 0.384500 0.907700 35 10 4\n-0.144486 0.021371 -1.106326 0.121281 -0.956694 -0.264565 0.388600 0.903000 77 27 7\n-0.100249 -0.004549 -1.059458 0.147404 -0.942656 -0.299417 0.388600 0.909400 118 53 14\n1.096172 -0.125201 -0.012490 0.216285 -0.950591 -0.222571 0.287856 0.531584 58 24 18\n1.108493 -0.112087 -0.123673 0.386883 -0.921079 -0.043580 0.302793 0.534411 93 67 54\n1.149444 -0.087713 -0.054429 0.977783 -0.109256 -0.178747 0.288295 0.543953 45 16 10\n1.043824 -0.109869 -0.078716 0.064486 -0.994079 -0.087252 0.293386 0.522068 72 29 20\n-1.300164 -0.120728 -0.105982 0.115299 -0.993316 -0.003052 0.191300 0.878300 113 55 34\n1.106746 -0.045947 -0.647789 0.523362 -0.820795 -0.228767 0.391094 0.528314 125 69 30\n-0.543391 -0.101149 -0.259742 0.123020 -0.990478 0.061678 0.310307 0.181284 131 64 30\n0.817001 -0.098686 -0.288020 -0.229286 -0.968169 -0.100040 0.328080 0.471964 81 49 47\n-0.464944 -0.083176 -0.424245 0.143040 -0.989563 0.015748 0.341414 0.191739 136 75 29\n0.807585 -0.072391 -0.442475 -0.269936 -0.917417 -0.292306 0.350687 0.469729 71 50 54\n-1.382542 -0.092654 -0.233944 -0.729118 -0.608203 -0.313761 0.294452 0.003296 53 29 17\n-1.322418 -0.123377 -0.181863 -0.266549 -0.962004 0.058657 0.286855 0.016045 107 54 30\n-1.385369 -0.074857 -0.141526 -0.867458 -0.496994 -0.021210 0.279132 0.003404 38 17 9\n1.145976 -0.120923 0.027663 0.715415 -0.655934 0.240547 0.276857 0.543867 126 111 77\n1.097562 -0.093183 0.082056 0.706015 -0.702200 0.091922 0.264077 0.536654 19 6 6\n1.059179 -0.141829 0.032372 0.165685 -0.985595 -0.033387 0.275242 0.525315 66 30 18\n-0.808037 -0.062876 -0.973079 0.245003 -0.010315 -0.969451 0.827038 0.772723 74 26 8\n0.846515 -0.117768 -0.014215 -0.138798 -0.985015 -0.102054 0.347156 0.834443 93 62 39\n0.833423 -0.106421 -0.053167 -0.074648 -0.981689 -0.175237 0.350702 0.829692 29 8 6\n0.974084 -0.125885 -0.028021 -0.035859 -0.993255 -0.110019 0.351200 0.846000 56 18 11\n-0.189430 -0.012363 -1.079973 0.216376 -0.878048 -0.426832 0.483511 0.896122 35 10 4\n-0.242366 -0.006939 -1.111589 0.550737 -0.833613 0.041505 0.487000 0.902400 91 37 12\n-0.144486 0.021371 -1.106326 0.121281 -0.956694 -0.264565 0.482500 0.900800 77 27 7\n1.044622 -0.112308 -0.146144 0.119846 -0.980712 0.154332 0.306948 0.522030 43 18 13\n-1.331138 -0.118067 -0.220445 -0.378704 -0.924131 -0.049898 0.296521 0.011865 80 45 24\n-0.381838 -0.089976 -0.552304 0.167852 -0.977783 0.125401 0.364990 0.211679 87 45 28\n-1.382542 -0.092654 -0.233944 -0.729118 -0.608203 -0.313761 0.448413 0.882321 53 29 17\n-1.379331 -0.063209 -0.265322 -0.962279 -0.159490 -0.220313 0.451316 0.873258 40 27 21\n-1.331138 -0.118067 -0.220445 -0.378704 -0.924131 -0.049898 0.454900 0.884400 80 45 24\n1.079745 -0.126902 0.124234 0.368450 -0.859676 -0.353801 0.256700 0.530500 98 48 24\n1.096172 -0.125201 -0.012490 0.216285 -0.950591 -0.222571 0.281277 0.532500 58 24 18\n0.905301 -0.087441 -0.422824 -0.016602 -0.971526 -0.236335 0.219492 0.857181 38 14 11\n0.963473 -0.059672 -0.449145 0.065432 -0.971526 -0.227699 0.216039 0.848126 68 23 9\n1.002251 -0.065586 -0.422611 0.446516 -0.893796 0.041200 0.223900 0.846000 69 21 5\n-0.248428 -0.057772 -0.686420 0.167760 -0.948729 -0.267830 0.387200 0.850900 117 45 25\n0.974084 -0.125885 -0.028021 -0.035859 -0.993255 -0.110019 0.283806 0.505069 56 18 11\n0.987070 -0.125124 -0.113518 0.044252 -0.998932 0.010651 0.302387 0.508087 83 59 41\n-0.196592 -0.006028 -0.762155 0.336589 -0.908017 -0.249336 0.403800 0.242200 100 38 16\n-0.242213 -0.035120 -0.723638 0.333781 -0.915677 -0.223823 0.394841 0.239308 93 27 6\n-0.281625 -0.066275 -0.792851 0.592517 -0.797021 0.116703 0.408888 0.231902 67 31 26\n-0.225363 -0.057250 -0.878654 0.356059 -0.915250 0.188391 0.424375 0.241752 73 40 35\n-0.210385 -0.047212 -0.920943 0.301614 -0.937346 -0.174261 0.430846 0.244031 90 43 32\n1.112088 -0.098430 -0.180235 0.959716 -0.207404 -0.189459 0.312700 0.534400 55 19 11\n1.132540 -0.088402 -0.127385 0.958861 -0.252663 -0.129368 0.304900 0.539700 90 51 18\n1.053763 -0.114021 -0.338380 0.479476 -0.763237 -0.432997 0.780218 0.778397 97 66 58\n-0.832464 -0.127489 -0.239988 0.025758 -0.996307 0.081698 0.305175 0.119641 124 79 34\n-0.724438 -0.106832 -0.218914 -0.023133 -0.983520 0.179174 0.301541 0.142193 92 35 13\n-1.140618 -0.109106 -0.164008 -0.039033 -0.996063 0.079501 0.285071 0.054918 115 62 28\n-1.349109 -0.105540 -0.295143 -0.628712 -0.776147 -0.047792 0.870900 0.803500 44 21 14\n-1.379331 -0.063209 -0.265322 -0.962279 -0.159490 -0.220313 0.867000 0.803000 40 27 21\n-1.343913 -0.100609 -0.377725 -0.851222 -0.494400 -0.176000 0.870900 0.798600 44 19 10\n-0.330846 -0.079002 -0.601624 0.271889 -0.962310 0.001404 0.374607 0.222617 56 15 6\n-0.981675 -0.107959 -0.164319 -0.250862 -0.966002 -0.061983 0.288370 0.088426 100 40 12\n-0.248428 -0.057772 -0.686420 0.167760 -0.948729 -0.267830 0.388624 0.237685 117 45 25\n-0.197211 -0.044095 -0.688456 0.246834 -0.937803 -0.244026 0.388516 0.248124 96 30 7\n-0.330846 -0.079002 -0.601624 0.271889 -0.962310 0.001404 0.454900 0.887400 56 15 6\n-0.291474 -0.052695 -0.705911 0.392315 -0.919736 -0.011414 0.451598 0.892713 94 48 22\n-0.248428 -0.057772 -0.686420 0.167760 -0.948729 -0.267830 0.447766 0.885418 117 45 25\n-0.291474 -0.052695 -0.705911 0.392315 -0.919736 -0.011414 0.390823 0.229830 94 48 22\n-0.240792 -0.041095 -0.842344 0.524888 -0.784143 0.331034 0.360100 0.848300 37 12 10\n-0.888678 -0.120663 -0.137317 0.043611 -0.998871 0.018586 0.285642 0.109392 133 77 40\n1.042489 -0.127729 -0.211677 0.008026 -0.999908 0.007843 0.319755 0.520232 88 77 65\n-1.218133 -0.135847 -0.190478 0.195776 -0.979980 0.036073 0.291992 0.037531 121 52 15\n-0.189430 -0.012363 -1.079973 0.216376 -0.878048 -0.426832 0.459393 0.247408 35 10 4\n-0.207117 0.011183 -1.143161 0.437117 -0.825343 0.357372 0.319800 0.780800 104 38 10\n-0.242366 -0.006939 -1.111589 0.550737 -0.833613 0.041505 0.319800 0.784300 91 37 12\n-0.207382 -0.015262 -1.161740 0.367870 -0.900021 0.233650 0.316800 0.781400 124 57 16\n-0.607112 -0.104542 -0.306172 0.032899 -0.987793 0.152074 0.318853 0.167080 81 21 4\n-1.331138 -0.118067 -0.220445 -0.378704 -0.924131 -0.049898 0.177200 0.900600 80 45 24\n-1.379331 -0.063209 -0.265322 -0.962279 -0.159490 -0.220313 0.178400 0.908800 40 27 21\n-1.349109 -0.105540 -0.295143 -0.628712 -0.776147 -0.047792 0.174900 0.908800 44 21 14\n-0.242213 -0.035120 -0.723638 0.333781 -0.915677 -0.223823 0.461100 0.906500 93 27 6\n-0.248428 -0.057772 -0.686420 0.167760 -0.948729 -0.267830 0.465300 0.905600 117 45 25\n-0.291474 -0.052695 -0.705911 0.392315 -0.919736 -0.011414 0.462905 0.910283 94 48 22\n-1.072913 -0.131827 -0.172592 -0.049135 -0.981201 0.186499 0.290299 0.069770 132 68 30\n-1.132693 -0.109095 -0.223669 -0.180486 -0.977477 0.109134 0.297501 0.056683 65 34 18\n-1.079282 -0.127181 -0.235502 -0.136723 -0.985382 0.101566 0.301249 0.067422 104 56 21\n-0.472858 -0.030061 -1.100768 -0.594958 -0.230140 -0.770074 0.831738 0.697219 56 16 6\n1.004350 -0.103430 -0.375049 0.283853 -0.824152 -0.490066 0.345568 0.512403 22 5 4\n-0.397248 -0.047607 -1.118617 -0.107059 -0.869686 -0.481796 0.837985 0.679739 102 46 19\n-0.968750 -0.127300 -0.156622 -0.454634 -0.879543 -0.140233 0.287820 0.092217 136 70 36\n-0.968750 -0.127300 -0.156622 -0.454634 -0.879543 -0.140233 0.129764 0.836932 136 70 36\n-0.972512 -0.120702 -0.093573 -0.103732 -0.994140 0.029664 0.129000 0.842600 116 53 20\n-0.981675 -0.107959 -0.164319 -0.250862 -0.966002 -0.061983 0.125872 0.836462 100 40 12\n-0.866012 -0.090865 -0.983652 -0.379254 -0.249580 -0.890957 0.826360 0.783499 81 32 9\n-0.472858 -0.030061 -1.100768 -0.594958 -0.230140 -0.770074 0.833210 0.695562 56 16 6\n-1.039012 -0.128281 -0.222324 0.131718 -0.987335 0.088382 0.299547 0.077004 110 60 22\n-1.009112 -0.127078 -0.284443 0.573290 -0.683584 0.451674 0.310926 0.080415 90 50 24\n-0.915544 -0.122739 -0.224503 -0.018433 -0.996643 0.079470 0.301234 0.101080 96 35 13\n-0.861338 -0.119329 -0.207116 -0.207862 -0.978027 -0.015625 0.298405 0.113930 78 29 9\n-0.222141 -0.025108 -0.993810 0.170995 -0.977874 -0.120334 0.444399 0.240239 44 13 6\n-0.777164 -0.126647 -0.256959 0.093539 -0.978698 0.182623 0.308643 0.131265 130 69 32\n-0.216760 -0.004692 -1.247287 -0.113193 -0.818781 -0.562822 0.485260 0.236027 105 50 22\n-0.627807 -0.117535 -0.369174 0.113437 -0.993469 0.010346 0.329973 0.161672 134 67 28\n-1.211142 -0.108942 -0.234932 0.379833 -0.923399 -0.054842 0.299142 0.040736 80 50 24\n-0.493780 -0.082436 -0.532225 -0.022156 -0.999420 0.025697 0.358359 0.189361 79 32 10\n-0.578105 -0.103097 -0.477774 0.287942 -0.946226 -0.147252 0.349712 0.170706 68 20 6\n-0.493780 -0.082436 -0.532225 -0.022156 -0.999420 0.025697 0.213700 0.884800 79 32 10\n-0.578105 -0.103097 -0.477774 0.287942 -0.946226 -0.147252 0.213509 0.894732 68 20 6\n-0.559929 -0.071827 -0.568229 0.113315 -0.993255 0.023530 0.208600 0.889200 105 56 29\n-1.120866 -0.143005 -0.313804 -0.155492 -0.984161 0.085025 0.317096 0.060041 68 32 28\n-0.378376 -0.095664 -0.630980 0.245064 -0.968383 0.046419 0.381043 0.211823 85 53 42\n-0.714659 -0.122564 -0.291986 0.124577 -0.985809 0.112278 0.316957 0.144500 130 79 31\n-0.321639 -0.083805 -0.712658 0.562639 -0.797418 0.217902 0.395520 0.222428 87 44 38\n-0.547264 -0.065169 -1.029075 -0.669424 -0.351299 -0.654530 0.838435 0.716250 74 32 10\n-0.242366 -0.006939 -1.111589 0.550737 -0.833613 0.041505 0.855453 0.626876 91 37 12\n-0.189430 -0.012363 -1.079973 0.216376 -0.878048 -0.426832 0.859200 0.624800 35 10 4\n-0.292214 -0.037955 -1.078416 0.206732 -0.972503 -0.106906 0.856715 0.635386 85 23 5\n-0.620531 -0.121138 -0.441428 0.172216 -0.983612 0.053041 0.344938 0.161737 146 85 36\n-0.638753 -0.055527 -0.916842 -0.665487 -0.502884 -0.551530 0.143430 0.833932 55 23 11\n-0.725873 -0.040566 -0.956100 0.061251 -0.603442 -0.795007 0.143193 0.842393 74 33 14\n-0.619227 -0.054734 -0.955224 -0.451399 -0.470351 -0.758263 0.130360 0.833165 100 54 25\n-1.087683 -0.053581 -0.833939 -0.661763 -0.105533 -0.742210 0.814892 0.837258 38 14 6\n-1.098197 -0.100884 -0.802741 -0.532640 -0.611744 -0.584796 0.825474 0.843753 72 34 13\n-1.172536 -0.069951 -0.732038 -0.805872 -0.126621 -0.578356 0.819255 0.864256 33 12 6\n-0.559929 -0.071827 -0.568229 0.113315 -0.993255 0.023530 0.365268 0.173448 105 56 29\n-0.509080 -0.094510 -0.593918 -0.153142 -0.964538 0.214881 0.370809 0.183068 109 67 43\n1.101631 -0.123545 -0.257821 0.735130 -0.614704 -0.285775 0.328697 0.531835 67 28 19\n-0.321639 -0.083805 -0.712658 0.562639 -0.797418 0.217902 0.392900 0.906100 87 44 38\n-0.281625 -0.066275 -0.792851 0.592517 -0.797021 0.116703 0.392900 0.912400 67 31 26\n-0.291474 -0.052695 -0.705911 0.392315 -0.919736 -0.011414 0.389700 0.906600 94 48 22\n-0.619227 -0.054734 -0.955224 -0.451399 -0.470351 -0.758263 0.833700 0.736200 100 54 25\n1.108493 -0.112087 -0.123673 0.386883 -0.921079 -0.043580 0.779951 0.739281 93 67 54\n-0.580743 -0.045419 -0.973262 -0.394818 -0.588641 -0.705374 0.465500 0.896400 57 31 28\n-0.619227 -0.054734 -0.955224 -0.451399 -0.470351 -0.758263 0.469000 0.887200 100 54 25\n-0.569428 -0.031964 -1.012366 -0.467360 -0.466536 -0.750908 0.468994 0.900399 43 11 3\n-0.210385 -0.047212 -0.920943 0.301614 -0.937346 -0.174261 0.869229 0.879962 90 43 32\n-0.170066 -0.034450 -0.885498 0.337779 -0.907956 0.247932 0.866900 0.875000 119 60 33\n-0.225363 -0.057250 -0.878654 0.356059 -0.915250 0.188391 0.870700 0.876400 73 40 35\n-0.915544 -0.122739 -0.224503 -0.018433 -0.996643 0.079470 0.127671 0.827372 96 35 13\n-0.222141 -0.025108 -0.993810 0.170995 -0.977874 -0.120334 0.439666 0.235127 44 13 6\n-0.292214 -0.037955 -1.078416 0.206732 -0.972503 -0.106906 0.461163 0.227478 85 23 5\n-0.325499 -0.047189 -1.052443 0.202246 -0.958953 -0.198645 0.454294 0.216118 57 13 3\n-0.915544 -0.122739 -0.224503 -0.018433 -0.996643 0.079470 0.299647 0.101658 96 35 13\n-1.211142 -0.108942 -0.234932 0.379833 -0.923399 -0.054842 0.855744 0.670850 80 50 24\n-1.140618 -0.109106 -0.164008 -0.039033 -0.996063 0.079501 0.859700 0.661500 115 62 28\n-1.218133 -0.135847 -0.190478 0.195776 -0.979980 0.036073 0.859700 0.670600 121 52 15\n-0.272900 -0.072001 -0.865474 0.358165 -0.932798 0.039247 0.422418 0.231131 75 42 40\n-1.135349 -0.106915 -0.427423 -0.106845 -0.927244 0.358837 0.335598 0.053365 38 14 13\n-1.122210 -0.123474 -0.371720 -0.445540 -0.860653 -0.246406 0.329300 0.057300 22 6 7\n-1.148125 -0.113845 -0.385813 0.019166 -0.970550 -0.240059 0.328411 0.050693 14 5 6\n-0.489456 -0.064318 -1.067428 -0.207221 -0.762596 -0.612751 0.840245 0.703141 100 42 23\n-0.189430 -0.012363 -1.079973 0.216376 -0.878048 -0.426832 0.458274 0.242050 35 10 4\n-0.469618 -0.108848 -0.644763 -0.002533 -0.989776 0.142552 0.381315 0.191071 97 66 54\n-0.240792 -0.041095 -0.842344 0.524888 -0.784143 0.331034 0.415918 0.238161 37 12 10\n-1.037022 -0.002985 -0.873085 -0.598682 0.077731 -0.797174 0.806251 0.820338 70 37 16\n-0.996144 -0.106676 -0.872318 -0.411206 -0.626362 -0.662221 0.827619 0.820092 91 45 19\n-0.397248 -0.047607 -1.118617 -0.107059 -0.869686 -0.481796 0.463779 0.199736 102 46 19\n1.053763 -0.114021 -0.338380 0.479476 -0.763237 -0.432997 0.340228 0.521355 97 66 58\n-1.252493 -0.141175 -0.263838 0.096805 -0.991546 0.086337 0.306659 0.030477 107 57 29\n-1.252493 -0.141175 -0.263838 0.096805 -0.991546 0.086337 0.712500 0.906100 107 57 29\n-1.211142 -0.108942 -0.234932 0.379833 -0.923399 -0.054842 0.712500 0.912600 80 50 24\n-1.218133 -0.135847 -0.190478 0.195776 -0.979980 0.036073 0.709500 0.911000 121 52 15\n-0.324191 -0.090126 -0.742933 0.373516 -0.925901 0.055940 0.405801 0.220069 79 49 51\n-1.312158 -0.086825 -0.521188 -0.885922 -0.166173 -0.432997 0.824800 0.904200 25 9 4\n-1.255367 -0.085719 -0.603907 -0.831355 -0.097324 -0.547105 0.823827 0.890291 35 15 8\n-1.278107 -0.119620 -0.544123 -0.696616 -0.611896 -0.374554 0.832901 0.902104 55 30 15\n-0.578105 -0.103097 -0.477774 0.287942 -0.946226 -0.147252 0.258070 0.800493 68 20 6\n-0.648174 -0.115503 -0.623413 0.258217 -0.965880 -0.018952 0.258627 0.827030 120 68 26\n-0.559929 -0.071827 -0.568229 0.113315 -0.993255 0.023530 0.250212 0.816017 105 56 29\n-1.193450 -0.131493 -0.340331 0.108921 -0.993866 0.017579 0.320139 0.041305 70 43 27\n-1.349109 -0.105540 -0.295143 -0.628712 -0.776147 -0.047792 0.307149 0.009030 44 21 14\n-1.343913 -0.100609 -0.377725 -0.851222 -0.494400 -0.176000 0.319446 0.009441 44 19 10\n-0.869412 -0.130332 -0.319126 0.034608 -0.998016 0.052522 0.319692 0.111112 127 72 33\n-0.720740 -0.132336 -0.388476 0.100986 -0.994415 0.029939 0.334619 0.146112 123 63 24\n-1.078304 -0.116741 -0.427063 -0.433058 -0.779931 -0.451796 0.337391 0.064070 10 3 2\n-1.067604 -0.102567 -0.516675 0.088534 -0.995636 0.029328 0.353736 0.064789 47 21 13\n-1.046248 -0.112401 -0.482181 -0.245552 -0.933134 -0.262551 0.346695 0.070675 52 26 16\n-0.989557 -0.141510 -0.323058 0.044710 -0.992859 0.110416 0.318696 0.086018 108 66 31\n-0.660105 -0.105225 -0.410898 0.232978 -0.930906 0.281198 0.118400 0.910600 121 85 50\n-0.627807 -0.117535 -0.369174 0.113437 -0.993469 0.010346 0.115100 0.909500 134 67 28\n-0.720740 -0.132336 -0.388476 0.100986 -0.994415 0.029939 0.117009 0.903805 123 63 24\n-0.648174 -0.115503 -0.623413 0.258217 -0.965880 -0.018952 0.377317 0.154598 120 68 26\n-0.606833 -0.115842 -0.705175 -0.000549 -0.969878 0.243538 0.391878 0.163100 106 63 35\n-1.277895 -0.140582 -0.352341 -0.238502 -0.971099 0.007874 0.321454 0.022695 106 55 30\n-1.178786 -0.116971 -0.436321 0.355022 -0.925138 0.134404 0.337779 0.044672 48 25 18\n-0.638753 -0.055527 -0.916842 -0.665487 -0.502884 -0.551530 0.247600 0.833400 55 23 11\n-0.690206 -0.114654 -0.867844 -0.278085 -0.867641 -0.412091 0.244055 0.849065 88 34 11\n-0.725873 -0.040566 -0.956100 0.061251 -0.603442 -0.795007 0.238254 0.831045 74 33 14\n-1.039012 -0.128281 -0.222324 0.131718 -0.987335 0.088382 0.816200 0.910500 110 60 22\n-0.989557 -0.141510 -0.323058 0.044710 -0.992859 0.110416 0.812850 0.905233 108 66 31\n-1.009112 -0.127078 -0.284443 0.573290 -0.683584 0.451674 0.816200 0.904900 90 50 24\n-0.660105 -0.105225 -0.410898 0.232978 -0.930906 0.281198 0.337362 0.154543 121 85 50\n-1.015499 -0.102682 -0.588198 -0.068148 -0.996887 0.039491 0.366353 0.076014 85 44 19\n-1.002836 -0.121050 -0.498520 -0.358623 -0.925382 -0.122471 0.352018 0.082383 40 12 5\n-1.312158 -0.086825 -0.521188 -0.885922 -0.166173 -0.432997 0.321429 0.837933 25 9 4\n-1.263089 -0.141836 -0.521318 -0.413892 -0.893033 -0.176489 0.327777 0.838599 53 29 14\n-1.343913 -0.100609 -0.377725 -0.851222 -0.494400 -0.176000 0.327900 0.850800 44 19 10\n-1.078304 -0.116741 -0.427063 -0.433058 -0.779931 -0.451796 0.204800 0.819900 10 3 2\n-1.046248 -0.112401 -0.482181 -0.245552 -0.933134 -0.262551 0.206267 0.811233 52 26 16\n-1.066072 -0.142222 -0.427059 -0.377514 -0.838343 -0.393231 0.210381 0.816830 86 38 18\n-1.079282 -0.127181 -0.235502 -0.136723 -0.985382 0.101566 0.300336 0.067046 104 56 21\n-0.580743 -0.045419 -0.973262 -0.394818 -0.588641 -0.705374 0.840400 0.727400 57 31 28\n-0.661525 -0.088471 -0.935987 -0.978668 -0.134495 -0.155187 0.458264 0.904908 10 4 2\n-0.638753 -0.055527 -0.916842 -0.665487 -0.502884 -0.551530 0.454900 0.899900 55 23 11\n-0.619227 -0.054734 -0.955224 -0.451399 -0.470351 -0.758263 0.459900 0.900500 100 54 25\n-1.135349 -0.106915 -0.427423 -0.106845 -0.927244 0.358837 0.873300 0.812200 38 14 13\n-1.098104 -0.145024 -0.385675 -0.328074 -0.921842 -0.206275 0.873300 0.819600 17 4 3\n-1.122210 -0.123474 -0.371720 -0.445540 -0.860653 -0.246406 0.870800 0.816700 22 6 7\n-1.098104 -0.145024 -0.385675 -0.328074 -0.921842 -0.206275 0.211772 0.830759 17 4 3\n-1.135349 -0.106915 -0.427423 -0.106845 -0.927244 0.358837 0.203700 0.829000 38 14 13\n-1.078304 -0.116741 -0.427063 -0.433058 -0.779931 -0.451796 0.209349 0.823310 10 3 2\n-1.312158 -0.086825 -0.521188 -0.885922 -0.166173 -0.432997 0.708500 0.898700 25 9 4\n-1.278107 -0.119620 -0.544123 -0.696616 -0.611896 -0.374554 0.708500 0.906400 55 30 15\n-1.263089 -0.141836 -0.521318 -0.413892 -0.893033 -0.176489 0.704700 0.903600 53 29 14\n-1.122210 -0.123474 -0.371720 -0.445540 -0.860653 -0.246406 0.323542 0.051490 22 6 7\n-0.853054 -0.133432 -0.404448 0.044893 -0.998962 0.006073 0.335173 0.110735 110 55 17\n-0.957576 -0.139736 -0.421705 0.016633 -0.999176 -0.036897 0.338204 0.090507 123 79 32\n-1.107364 -0.136415 -0.597166 0.224464 -0.967589 0.115513 0.368567 0.058110 110 51 17\n-0.802681 -0.131817 -0.413153 0.003174 -0.999969 -0.000641 0.338105 0.123910 97 43 17\n-0.281625 -0.066275 -0.792851 0.592517 -0.797021 0.116703 0.394099 0.862508 67 31 26\n-0.324191 -0.090126 -0.742933 0.373516 -0.925901 0.055940 0.389835 0.863203 79 49 51\n-0.272900 -0.072001 -0.865474 0.358165 -0.932798 0.039247 0.391300 0.850900 75 42 40\n-1.166918 -0.120330 -0.698228 -0.609882 -0.632496 -0.477432 0.830314 0.865724 65 27 11\n-0.521219 -0.094916 -0.652957 -0.083193 -0.937986 0.336497 0.383445 0.181423 114 80 58\n-0.690206 -0.114654 -0.867844 -0.278085 -0.867641 -0.412091 0.242838 0.801270 88 34 11\n-0.638753 -0.055527 -0.916842 -0.665487 -0.502884 -0.551530 0.244664 0.820271 55 23 11\n-0.669542 -0.092241 -0.892641 -0.806085 0.271432 -0.525834 0.243792 0.810528 6 2 1\n-1.148125 -0.113845 -0.385813 0.019166 -0.970550 -0.240059 0.319800 0.774418 14 5 6\n-1.122210 -0.123474 -0.371720 -0.445540 -0.860653 -0.246406 0.316581 0.777188 22 6 7\n-1.193450 -0.131493 -0.340331 0.108921 -0.993866 0.017579 0.318600 0.763700 70 43 27\n-0.643695 -0.095372 -0.911761 -0.893033 -0.148198 -0.424818 0.240900 0.813700 10 2 1\n-0.540993 -0.112845 -0.984131 -0.131413 -0.870052 -0.475082 0.846719 0.720322 26 5 2\n-1.149264 -0.144003 -0.522493 0.241951 -0.956450 0.163060 0.355417 0.049324 120 54 21\n-0.913230 -0.120141 -0.900575 -0.248451 -0.861690 -0.442366 0.832972 0.801471 99 50 25\n-1.018819 -0.131238 -0.452684 -0.057405 -0.939024 -0.339000 0.213489 0.806590 114 87 50\n-0.661525 -0.088471 -0.935987 -0.978668 -0.134495 -0.155187 0.636900 0.911900 10 4 2\n-0.643695 -0.095372 -0.911761 -0.893033 -0.148198 -0.424818 0.633500 0.911600 10 2 1\n-0.638753 -0.055527 -0.916842 -0.665487 -0.502884 -0.551530 0.636130 0.907380 55 23 11\n-0.619227 -0.054734 -0.955224 -0.451399 -0.470351 -0.758263 0.400907 0.870738 100 54 25\n-0.580743 -0.045419 -0.973262 -0.394818 -0.588641 -0.705374 0.400513 0.881046 57 31 28\n-0.595537 -0.086812 -0.975258 -0.325053 0.060244 -0.943754 0.395200 0.876900 25 6 2\n-0.652125 -0.129482 -0.534977 0.189001 -0.980193 -0.058840 0.362775 0.153287 141 77 29\n-1.263089 -0.141836 -0.521318 -0.413892 -0.893033 -0.176489 0.349193 0.024142 53 29 14\n-1.343913 -0.100609 -0.377725 -0.851222 -0.494400 -0.176000 0.324894 0.011980 44 19 10\n-1.120866 -0.143005 -0.313804 -0.155492 -0.984161 0.085025 0.872256 0.720092 68 32 28\n-1.122210 -0.123474 -0.371720 -0.445540 -0.860653 -0.246406 0.872600 0.725900 22 6 7\n-1.098104 -0.145024 -0.385675 -0.328074 -0.921842 -0.206275 0.870000 0.724600 17 4 3\n-0.721868 -0.096228 -0.923716 0.489334 -0.583300 -0.648274 0.237455 0.841942 92 38 12\n-1.098104 -0.145024 -0.385675 -0.328074 -0.921842 -0.206275 0.329879 0.061828 17 4 3\n-0.994762 -0.102696 -0.671427 0.240120 -0.933927 0.264718 0.381392 0.080456 110 60 28\n-0.945348 -0.113482 -0.695060 0.048616 -0.980438 0.190558 0.387909 0.089699 118 61 25\n-0.382616 -0.087779 -0.969232 0.197394 -0.956969 -0.212622 0.440641 0.205253 76 43 42\n-1.066072 -0.142222 -0.427059 -0.377514 -0.838343 -0.393231 0.213919 0.823490 86 38 18\n-0.965734 -0.128673 -0.610915 -0.192816 -0.956359 -0.219459 0.372895 0.087041 137 78 33\n-0.781546 -0.122993 -0.642673 0.020020 -0.998932 -0.041505 0.114861 0.848383 134 75 33\n-0.680081 -0.119618 -0.680948 0.068270 -0.997467 0.018677 0.113244 0.833678 98 43 11\n-0.708028 -0.123480 -0.642440 0.047639 -0.996124 -0.073611 0.116426 0.836998 127 58 17\n-1.015499 -0.102682 -0.588198 -0.068148 -0.996887 0.039491 0.869800 0.543200 85 44 19\n-1.014764 -0.130978 -0.696144 0.280648 -0.937956 0.203528 0.869800 0.551300 108 49 17\n-0.994762 -0.102696 -0.671427 0.240120 -0.933927 0.264718 0.866500 0.547900 110 60 28\n-0.865503 -0.130493 -0.487309 0.033357 -0.999054 -0.027772 0.351150 0.110085 123 68 36\n-0.580743 -0.045419 -0.973262 -0.394818 -0.588641 -0.705374 0.871700 0.911000 57 31 28\n-0.540993 -0.112845 -0.984131 -0.131413 -0.870052 -0.475082 0.871700 0.915800 26 5 2\n-0.595537 -0.086812 -0.975258 -0.325053 0.060244 -0.943754 0.869900 0.913000 25 6 2\n-0.885830 -0.119901 -0.588810 -0.188543 -0.972137 -0.139256 0.367917 0.100345 138 81 34\n-0.971839 -0.142136 -0.527914 -0.278054 -0.955870 -0.094668 0.357801 0.086691 132 86 41\n-0.767495 -0.131414 -0.527032 0.027680 -0.999207 -0.028565 0.359722 0.129649 106 39 13\n-0.690994 -0.128882 -0.480317 0.057039 -0.998352 -0.000946 0.352401 0.147710 143 85 38\n-0.489456 -0.064318 -1.067428 -0.207221 -0.762596 -0.612751 0.451712 0.179750 100 42 23\n-1.002836 -0.121050 -0.498520 -0.358623 -0.925382 -0.122471 0.208800 0.804000 40 12 5\n-1.018819 -0.131238 -0.452684 -0.057405 -0.939024 -0.339000 0.343235 0.078160 114 87 50\n-1.235110 -0.150423 -0.445505 0.064638 -0.996704 0.048799 0.341802 0.032902 122 65 35\n-0.808037 -0.062876 -0.973079 0.245003 -0.010315 -0.969451 0.494565 0.880076 74 26 8\n-0.725873 -0.040566 -0.956100 0.061251 -0.603442 -0.795007 0.492300 0.874300 74 33 14\n-0.783465 -0.110687 -0.929149 0.237892 -0.887845 -0.393811 0.497594 0.874995 95 38 15\n-0.721868 -0.096228 -0.923716 0.489334 -0.583300 -0.648274 0.840171 0.761252 92 38 12\n-0.783465 -0.110687 -0.929149 0.237892 -0.887845 -0.393811 0.837287 0.773876 95 38 15\n-0.708028 -0.123480 -0.642440 0.047639 -0.996124 -0.073611 0.380729 0.142587 127 58 17\n-0.680081 -0.119618 -0.680948 0.068270 -0.997467 0.018677 0.388003 0.146857 98 43 11\n-1.015499 -0.102682 -0.588198 -0.068148 -0.996887 0.039491 0.859800 0.624200 85 44 19\n-0.945348 -0.113482 -0.695060 0.048616 -0.980438 0.190558 0.860020 0.614004 118 61 25\n-0.965734 -0.128673 -0.610915 -0.192816 -0.956359 -0.219459 0.863300 0.619055 137 78 33\n-0.902345 -0.104530 -0.631036 -0.111606 -0.987213 -0.113590 0.375987 0.100149 102 52 27\n-0.861001 -0.133366 -0.581168 -0.211188 -0.976623 -0.040010 0.368887 0.110584 134 67 29\n-1.066072 -0.142222 -0.427059 -0.377514 -0.838343 -0.393231 0.338126 0.068143 86 38 18\n-0.957576 -0.139736 -0.421705 0.016633 -0.999176 -0.036897 0.863300 0.580362 123 79 32\n-1.066072 -0.142222 -0.427059 -0.377514 -0.838343 -0.393231 0.861600 0.589800 86 38 18\n-1.018819 -0.131238 -0.452684 -0.057405 -0.939024 -0.339000 0.859651 0.583604 114 87 50\n-0.661525 -0.088471 -0.935987 -0.978668 -0.134495 -0.155187 0.492900 0.901400 10 4 2\n-0.619227 -0.054734 -0.955224 -0.451399 -0.470351 -0.758263 0.492900 0.908900 100 54 25\n-0.595537 -0.086812 -0.975258 -0.325053 0.060244 -0.943754 0.489200 0.903700 25 6 2\n-0.902345 -0.104530 -0.631036 -0.111606 -0.987213 -0.113590 0.870700 0.892300 102 52 27\n-0.869522 -0.123466 -0.666418 -0.165136 -0.986236 -0.001801 0.873200 0.890300 107 52 23\n-0.885830 -0.119901 -0.588810 -0.188543 -0.972137 -0.139256 0.872320 0.897172 138 81 34\n-0.885830 -0.119901 -0.588810 -0.188543 -0.972137 -0.139256 0.271970 0.882642 138 81 34\n-0.965734 -0.128673 -0.610915 -0.192816 -0.956359 -0.219459 0.275896 0.870358 137 78 33\n-0.902345 -0.104530 -0.631036 -0.111606 -0.987213 -0.113590 0.277200 0.884700 102 52 27\n-0.781546 -0.122993 -0.642673 0.020020 -0.998932 -0.041505 0.380148 0.125713 134 75 33\n-0.740810 -0.124796 -0.716812 0.015870 -0.999786 0.013062 0.394502 0.134848 127 67 31\n-0.885830 -0.119901 -0.588810 -0.188543 -0.972137 -0.139256 0.370100 0.103594 138 81 34\n-0.869522 -0.123466 -0.666418 -0.165136 -0.986236 -0.001801 0.383424 0.106673 107 52 23\n-1.002836 -0.121050 -0.498520 -0.358623 -0.925382 -0.122471 0.102115 0.883945 40 12 5\n-0.965734 -0.128673 -0.610915 -0.192816 -0.956359 -0.219459 0.103028 0.893435 137 78 33\n-0.971839 -0.142136 -0.527914 -0.278054 -0.955870 -0.094668 0.098100 0.888400 132 86 41\n-0.382616 -0.087779 -0.969232 0.197394 -0.956969 -0.212622 0.855300 0.693100 76 43 42\n-1.014764 -0.130978 -0.696144 0.280648 -0.937956 0.203528 0.387610 0.076337 108 49 17\n-0.570637 -0.130859 -0.812383 0.110050 -0.993896 -0.001862 0.418133 0.171398 77 54 61\n-0.805537 -0.105270 -0.987143 0.440504 -0.447462 -0.778283 0.498528 0.882175 96 45 23\n-0.831782 -0.124630 -0.730017 -0.089999 -0.995880 -0.007935 0.396148 0.113093 134 69 28\n-1.055209 -0.136520 -0.639572 0.234809 -0.956816 0.171331 0.377992 0.067395 127 60 24\n-1.145639 -0.141603 -0.682382 -0.231147 -0.946440 -0.225379 0.837229 0.866432 111 62 35\n-0.698768 -0.125663 -0.777863 -0.081149 -0.996521 0.017945 0.408961 0.142302 31 8 5\n-0.919598 -0.127557 -0.758465 0.086703 -0.994079 0.065401 0.400121 0.096359 144 73 28\n-0.869801 -0.106467 -0.746199 -0.144963 -0.783807 0.603778 0.398098 0.105218 77 18 5\n-0.831782 -0.124630 -0.730017 -0.089999 -0.995880 -0.007935 0.092400 0.911000 134 69 28\n-0.869522 -0.123466 -0.666418 -0.165136 -0.986236 -0.001801 0.096100 0.907300 107 52 23\n-0.869801 -0.106467 -0.746199 -0.144963 -0.783807 0.603778 0.096100 0.912200 77 18 5\n-0.540993 -0.112845 -0.984131 -0.131413 -0.870052 -0.475082 0.444215 0.185754 26 5 2\n-0.866012 -0.090865 -0.983652 -0.379254 -0.249580 -0.890957 0.864100 0.731000 81 32 9\n-0.808037 -0.062876 -0.973079 0.245003 -0.010315 -0.969451 0.863846 0.738826 74 26 8\n-0.805537 -0.105270 -0.987143 0.440504 -0.447462 -0.778283 0.860163 0.736408 96 45 23\n-1.278107 -0.119620 -0.544123 -0.696616 -0.611896 -0.374554 0.368200 0.032800 55 30 15\n-1.145639 -0.141603 -0.682382 -0.231147 -0.946440 -0.225379 0.384648 0.049926 111 62 35\n-0.813665 -0.117196 -0.817061 0.015137 -0.998108 -0.059236 0.411940 0.116751 73 18 4\n-0.646835 -0.132200 -0.762439 -0.105533 -0.971191 0.213599 0.404401 0.153158 95 68 50\n-0.643695 -0.095372 -0.911761 -0.893033 -0.148198 -0.424818 0.159346 0.903271 10 2 1\n-0.661525 -0.088471 -0.935987 -0.978668 -0.134495 -0.155187 0.155800 0.901933 10 4 2\n-0.611859 -0.119593 -0.967783 -0.347392 -0.651357 -0.674520 0.160000 0.895300 16 3 2\n-0.611859 -0.119593 -0.967783 -0.347392 -0.651357 -0.674520 0.847432 0.736108 16 3 2\n-0.661525 -0.088471 -0.935987 -0.978668 -0.134495 -0.155187 0.843081 0.745906 10 4 2\n-0.595537 -0.086812 -0.975258 -0.325053 0.060244 -0.943754 0.843178 0.731987 25 6 2\n-0.690206 -0.114654 -0.867844 -0.278085 -0.867641 -0.412091 0.422191 0.143327 88 34 11\n-0.783465 -0.110687 -0.929149 0.237892 -0.887845 -0.393811 0.431560 0.120781 95 38 15\n-0.721868 -0.096228 -0.923716 0.489334 -0.583300 -0.648274 0.429700 0.136100 92 38 12\n-1.145639 -0.141603 -0.682382 -0.231147 -0.946440 -0.225379 0.835679 0.854486 111 62 35\n-0.913230 -0.120141 -0.900575 -0.248451 -0.861690 -0.442366 0.428421 0.102334 99 50 25\n-1.007597 -0.134153 -0.789502 -0.086764 -0.981384 -0.171270 0.405376 0.076741 132 72 35\n-0.669542 -0.092241 -0.892641 -0.806085 0.271432 -0.525834 0.277900 0.902500 6 2 1\n-0.643695 -0.095372 -0.911761 -0.893033 -0.148198 -0.424818 0.281583 0.898254 10 2 1\n-0.656453 -0.136171 -0.900622 -0.454085 -0.765526 -0.455794 0.283216 0.903925 74 30 16\n-1.098197 -0.100884 -0.802741 -0.532640 -0.611744 -0.584796 0.405700 0.065700 72 34 13\n-0.996144 -0.106676 -0.872318 -0.411206 -0.626362 -0.662221 0.416105 0.077564 91 45 19\n-0.805537 -0.105270 -0.987143 0.440504 -0.447462 -0.778283 0.440444 0.115817 96 45 23\n-0.656453 -0.136171 -0.900622 -0.454085 -0.765526 -0.455794 0.236236 0.806318 74 30 16\n-0.866012 -0.090865 -0.983652 -0.379254 -0.249580 -0.890957 0.440565 0.107246 81 32 9\n-0.656453 -0.136171 -0.900622 -0.454085 -0.765526 -0.455794 0.430324 0.150470 74 30 16\n-0.611859 -0.119593 -0.967783 -0.347392 -0.651357 -0.674520 0.368900 0.894700 16 3 2\n-0.656453 -0.136171 -0.900622 -0.454085 -0.765526 -0.455794 0.372000 0.904699 74 30 16\n-0.643695 -0.095372 -0.911761 -0.893033 -0.148198 -0.424818 0.368300 0.900500 10 2 1\n-0.611859 -0.119593 -0.967783 -0.347392 -0.651357 -0.674520 0.443598 0.164436 16 3 2\n-1.255367 -0.085719 -0.603907 -0.831355 -0.097324 -0.547105 0.264000 0.837000 35 15 8\n-1.312158 -0.086825 -0.521188 -0.885922 -0.166173 -0.432997 0.272282 0.835828 25 9 4\n-1.268966 -0.016724 -0.528064 -0.787347 0.411817 -0.458724 0.273188 0.849191 24 8 5\n-1.265234 -0.014248 -0.562508 -0.881741 0.359844 -0.304971 0.266917 0.849349 73 53 36\n-1.172536 -0.069951 -0.732038 -0.805872 -0.126621 -0.578356 0.206742 0.560886 33 12 6\n-1.255367 -0.085719 -0.603907 -0.831355 -0.097324 -0.547105 0.222639 0.577781 35 15 8\n-1.221852 -0.003147 -0.614916 -0.780023 0.495346 -0.382305 0.208156 0.583518 70 40 17\n-1.203775 -0.038756 0.733989 -0.543687 -0.749474 0.377636 0.650000 0.616900 87 51 27\n-1.124293 -0.046547 0.856799 -0.572131 -0.725913 0.381634 0.653980 0.595355 30 16 10\n-1.163353 0.012277 0.813351 -0.862606 -0.003388 0.505814 0.661626 0.608169 45 26 15\n-1.221852 -0.003147 -0.614916 -0.780023 0.495346 -0.382305 0.097354 0.876179 70 40 17\n-1.255367 -0.085719 -0.603907 -0.831355 -0.097324 -0.547105 0.094800 0.888000 35 15 8\n-1.265234 -0.014248 -0.562508 -0.881741 0.359844 -0.304971 0.092468 0.878099 73 53 36\n-1.343913 -0.100609 -0.377725 -0.851222 -0.494400 -0.176000 0.621512 0.867188 44 19 10\n-1.319517 -0.014229 -0.479190 -0.831172 0.387127 -0.399060 0.637579 0.883615 82 50 24\n-1.312158 -0.086825 -0.521188 -0.885922 -0.166173 -0.432997 0.626947 0.884091 25 9 4\n-1.340670 -0.002389 0.477552 -0.930967 -0.120670 0.344554 0.185000 0.884800 54 34 20\n-1.359543 -0.010113 0.428423 -0.886441 -0.308817 0.344676 0.181934 0.878715 38 20 10\n-1.320973 -0.072049 0.366310 -0.364299 -0.917386 0.160161 0.185000 0.865600 98 52 28\n-1.343462 -0.000329 -0.365137 -0.884915 0.391705 -0.251839 0.638707 0.859581 68 38 17\n-1.379331 -0.063209 -0.265322 -0.962279 -0.159490 -0.220313 0.627289 0.839689 40 27 21\n-1.409734 -0.029562 0.139571 -0.938963 -0.339702 0.054140 0.633031 0.759555 123 81 41\n-1.375264 -0.045647 0.310768 -0.824061 -0.528703 0.203406 0.633338 0.719530 68 41 26\n-1.407422 0.011051 0.195631 -0.990600 0.066256 0.119419 0.640911 0.745171 42 20 11\n-1.340670 -0.002389 0.477552 -0.930967 -0.120670 0.344554 0.151700 0.023400 54 34 20\n-1.126080 0.002421 0.869035 -0.819788 0.065676 0.568834 0.663721 0.594557 44 26 15\n-1.170725 0.006925 -0.713207 -0.802484 0.374615 -0.464370 0.812837 0.855373 60 32 15\n-1.362171 0.027620 -0.231560 -0.897580 0.359172 -0.255593 0.643984 0.833480 66 43 26\n-1.399111 -0.068102 -0.048859 -0.875362 -0.483261 -0.013001 0.625922 0.794413 61 37 23\n-1.405016 -0.059175 0.058598 -0.808618 -0.583941 0.071413 0.627413 0.774243 81 56 33\n-1.404793 0.027793 -0.024867 -0.982330 0.172277 -0.072848 0.641911 0.791352 55 33 18\n-1.382542 -0.092654 -0.233944 -0.729118 -0.608203 -0.313761 0.619799 0.832675 53 29 17\n-1.385369 -0.074857 -0.141526 -0.867458 -0.496994 -0.021210 0.625586 0.813670 38 17 9\n-1.398217 0.003556 -0.105783 -0.983215 0.109104 -0.146123 0.638177 0.809013 55 34 17\n-0.861524 -0.016066 1.130648 -0.593432 -0.171911 0.786279 0.039998 0.131360 44 26 14\n-1.170725 0.006925 -0.713207 -0.802484 0.374615 -0.464370 0.193224 0.566570 60 32 15\n-1.312158 -0.086825 -0.521188 -0.885922 -0.166173 -0.432997 0.278105 0.872116 25 9 4\n-1.319517 -0.014229 -0.479190 -0.831172 0.387127 -0.399060 0.284734 0.866531 82 50 24\n-1.268966 -0.016724 -0.528064 -0.787347 0.411817 -0.458724 0.283233 0.877533 24 8 5\n-1.278477 0.009310 0.632254 -0.907315 0.000702 0.420423 0.653318 0.649604 50 30 16\n-1.293162 -0.060060 0.520686 -0.539201 -0.813257 0.218726 0.638700 0.665600 60 37 21\n-1.253533 -0.053577 0.643783 -0.572649 -0.752922 0.324259 0.642800 0.645900 77 51 34\n-1.081946 -0.023481 0.930568 -0.707724 -0.295602 0.641652 0.661832 0.580889 36 19 10\n-1.359543 -0.010113 0.428423 -0.886441 -0.308817 0.344676 0.171869 0.013272 38 20 10\n-0.960274 0.021874 1.049076 -0.608234 0.237098 0.757469 0.679685 0.552358 47 26 15\n-1.012141 -0.022217 1.004401 -0.602985 -0.396924 0.691946 0.668184 0.562936 62 32 18\n-0.943916 -0.034643 1.060016 -0.525285 -0.594501 0.608753 0.670863 0.549956 68 40 22\n-0.834243 0.018027 1.143491 -0.478561 0.300119 0.825129 0.172460 0.842090 50 35 20\n-0.861524 -0.016066 1.130648 -0.593432 -0.171911 0.786279 0.170900 0.837400 44 26 14\n-0.768511 -0.019966 1.186536 -0.423658 -0.399609 0.812860 0.173300 0.829100 64 36 21\n-1.359543 -0.010113 0.428423 -0.886441 -0.308817 0.344676 0.641560 0.695529 38 20 10\n-1.390107 0.003725 0.290826 -0.983306 0.021699 0.180578 0.643319 0.723569 53 31 17\n-1.218189 -0.007180 0.739221 -0.821314 -0.081851 0.564531 0.655513 0.627077 52 29 18\n-0.680919 0.031466 1.223432 -0.432417 0.284463 0.855586 0.023800 0.167100 41 22 13\n-1.093289 0.026477 0.911970 -0.708823 0.240425 0.663106 0.670538 0.586203 52 34 21\n-1.068712 0.013788 0.927253 -0.649983 0.248390 0.718192 0.669896 0.580699 48 29 15\n-1.340670 -0.002389 0.477552 -0.930967 -0.120670 0.344554 0.645686 0.683820 54 34 20\n-0.901443 0.025188 1.089537 -0.598743 0.244423 0.762719 0.684569 0.543192 48 30 17\n-0.664545 -0.029934 1.237198 -0.355907 -0.529283 0.770135 0.547600 0.959300 65 38 21\n-0.442005 -0.029214 1.306769 -0.229804 -0.656301 0.718619 0.541700 0.945900 60 32 19\n-0.488608 0.032374 1.296660 -0.320933 0.272652 0.906980 0.551331 0.941527 55 34 21\n-1.081946 -0.023481 0.930568 -0.707724 -0.295602 0.641652 0.661800 0.574700 36 19 10\n-1.035747 0.016698 0.979447 -0.711173 0.191717 0.676351 0.672688 0.568762 50 30 19\n-0.434000 0.026024 1.321100 -0.321055 0.171056 0.931455 0.005615 0.225060 49 30 18\n-1.000591 0.025718 1.000449 -0.671041 0.117527 0.731986 0.448011 0.899035 45 23 12\n-1.035747 0.016698 0.979447 -0.711173 0.191717 0.676351 0.450874 0.894775 50 30 19\n-1.012141 -0.022217 1.004401 -0.602985 -0.396924 0.691946 0.452700 0.902000 62 32 18\n-1.103156 0.036091 -0.795015 -0.732566 0.389721 -0.558061 0.800719 0.838797 86 51 24\n-0.861524 -0.016066 1.130648 -0.593432 -0.171911 0.786279 0.680648 0.531046 44 26 14\n-0.834243 0.018027 1.143491 -0.478561 0.300119 0.825129 0.687791 0.529503 50 35 20\n-1.171377 0.068983 0.765206 -0.764733 0.415601 0.492325 0.672741 0.619055 60 34 20\n-1.362454 0.064590 0.379607 -0.925047 0.273934 0.263070 0.656128 0.707545 35 11 9\n-0.680919 0.031466 1.223432 -0.432417 0.284463 0.855586 0.057767 0.864018 41 22 13\n-0.664545 -0.029934 1.237198 -0.355907 -0.529283 0.770135 0.055662 0.871886 65 38 21\n-0.621157 0.007041 1.255422 -0.338206 0.057131 0.939299 0.052900 0.860700 48 28 17\n-0.621157 0.007041 1.255422 -0.338206 0.057131 0.939299 0.557108 0.965935 48 28 17\n-1.000591 0.025718 1.000449 -0.671041 0.117527 0.731986 0.677118 0.563346 45 23 12\n-0.680919 0.031466 1.223432 -0.432417 0.284463 0.855586 0.079519 0.887506 41 22 13\n-0.756475 0.025519 1.178981 -0.480148 0.342967 0.807337 0.072771 0.888880 55 37 25\n-0.768511 -0.019966 1.186536 -0.423658 -0.399609 0.812860 0.075500 0.879700 64 36 21\n-0.834243 0.018027 1.143491 -0.478561 0.300119 0.825129 0.581080 0.997135 50 35 20\n-0.768511 -0.019966 1.186536 -0.423658 -0.399609 0.812860 0.572721 0.992510 64 36 21\n-0.756475 0.025519 1.178981 -0.480148 0.342967 0.807337 0.576501 0.985703 55 37 25\n-1.395870 0.076496 0.080804 -0.950285 0.311350 -0.001556 0.652046 0.771491 63 37 19\n-0.969647 0.037887 -0.905714 -0.519211 0.224921 -0.824488 0.801109 0.806015 68 37 16\n-1.153797 0.037870 0.829175 -0.782830 0.278451 0.556383 0.667881 0.604593 49 35 22\n-1.269729 0.056258 0.624431 -0.849483 0.325419 0.415265 0.661572 0.652262 63 43 27\n-1.283328 0.093949 0.545358 -0.794977 0.530473 0.294198 0.666125 0.668356 74 51 32\n-1.228275 0.089587 0.665818 -0.748009 0.487960 0.449812 0.671584 0.641801 69 46 28\n-0.488608 0.032374 1.296660 -0.320933 0.272652 0.906980 0.282400 0.801000 55 34 21\n-0.442005 -0.029214 1.306769 -0.229804 -0.656301 0.718619 0.289000 0.808277 60 32 19\n-0.434000 0.026024 1.321100 -0.321055 0.171056 0.931455 0.281500 0.806000 49 30 18\n-1.281736 0.055762 -0.388622 -0.776605 0.547502 -0.311594 0.655806 0.865436 74 50 29\n-1.265234 -0.014248 -0.562508 -0.881741 0.359844 -0.304971 0.649700 0.897100 73 53 36\n-1.268966 -0.016724 -0.528064 -0.787347 0.411817 -0.458724 0.645083 0.891340 24 8 5\n-1.219651 0.054803 -0.524782 -0.783258 0.397015 -0.478347 0.658446 0.892226 36 17 12\n-0.597885 0.051570 1.251493 -0.298532 0.468215 0.831629 0.053700 0.854600 61 41 25\n-1.161554 0.067852 -0.634328 -0.611225 0.786309 -0.089969 0.189284 0.586689 78 52 32\n-0.800493 0.038652 1.141421 -0.395520 0.479781 0.783135 0.584184 0.992161 47 30 17\n-0.901443 0.025188 1.089537 -0.598743 0.244423 0.762719 0.848900 0.909400 48 30 17\n-0.834243 0.018027 1.143491 -0.478561 0.300119 0.825129 0.844900 0.909900 50 35 20\n-0.840802 0.072674 1.112306 -0.451033 0.471511 0.757775 0.847669 0.905136 52 34 20\n-1.221852 -0.003147 -0.614916 -0.780023 0.495346 -0.382305 0.442233 0.847027 70 40 17\n-1.265234 -0.014248 -0.562508 -0.881741 0.359844 -0.304971 0.434789 0.840415 73 53 36\n-1.188479 0.036422 -0.567090 -0.690085 0.554979 -0.464492 0.445900 0.840698 21 9 7\n-1.375720 0.095159 -0.078294 -0.905667 0.414350 -0.089602 0.657413 0.804610 58 31 13\n-1.382529 0.080457 0.225945 -0.883724 0.440687 0.157353 0.655402 0.739333 63 38 22\n-1.188479 0.036422 -0.567090 -0.690085 0.554979 -0.464492 0.200033 0.596875 21 9 7\n-0.597885 0.051570 1.251493 -0.298532 0.468215 0.831629 0.563071 0.959136 61 41 25\n-1.006166 0.051573 0.994153 -0.626423 0.381451 0.679739 0.681942 0.565953 63 44 29\n-0.708749 0.087894 1.177639 -0.382916 0.593707 0.707694 0.409761 0.847127 68 45 30\n-0.756475 0.025519 1.178981 -0.480148 0.342967 0.807337 0.412500 0.856100 55 37 25\n-0.680919 0.031466 1.223432 -0.432417 0.284463 0.855586 0.404761 0.851588 41 22 13\n-0.273804 0.064988 1.333682 -0.115696 0.561174 0.819544 0.541410 0.901855 62 39 23\n-0.387080 0.066643 1.312660 -0.203162 0.549242 0.810572 0.550135 0.921292 65 42 26\n-0.210902 -0.001703 1.374397 -0.121860 -0.143620 0.982086 0.522835 0.893680 51 25 12\n0.343930 -0.005998 1.317758 0.267678 -0.102512 0.958007 0.501584 0.779451 42 19 9\n0.433660 -0.001013 1.294470 0.387799 -0.038331 0.920927 0.502107 0.760474 35 17 9\n0.377305 0.071794 1.268577 0.294351 0.594043 0.748619 0.517898 0.768799 45 27 17\n-0.840802 0.072674 1.112306 -0.451033 0.471511 0.757775 0.595334 0.996986 52 34 20\n-0.434000 0.026024 1.321100 -0.321055 0.171056 0.931455 0.543620 0.933379 49 30 18\n-1.219651 0.054803 -0.524782 -0.783258 0.397015 -0.478347 0.440611 0.831621 36 17 12\n-1.045552 0.076387 0.931456 -0.645253 0.495041 0.581835 0.682671 0.580866 66 42 27\n-1.086884 0.077031 0.880686 -0.785668 0.496719 0.368664 0.679628 0.591959 61 41 25\n-1.355526 0.105927 0.287417 -0.853481 0.515336 0.077120 0.662002 0.728130 64 41 25\n-1.304682 0.106012 0.450775 -0.787286 0.455092 0.415937 0.667304 0.690642 68 47 33\n-0.901443 0.025188 1.089537 -0.598743 0.244423 0.762719 0.252400 0.902600 48 30 17\n-0.840802 0.072674 1.112306 -0.451033 0.471511 0.757775 0.255800 0.902700 52 34 20\n-0.881495 0.064953 1.086367 -0.737724 0.460250 0.493851 0.253079 0.907885 55 39 24\n-0.027006 -0.002569 1.388605 0.006256 -0.149266 0.988769 0.511891 0.858381 50 28 16\n-0.103842 0.081263 1.332640 -0.032777 0.672018 0.739769 0.537223 0.869546 55 32 18\n0.194801 0.007679 1.364660 0.184057 -0.017640 0.982727 0.506381 0.812534 48 23 12\n0.290132 0.083986 1.288170 0.213630 0.624836 0.750938 0.522128 0.786453 49 30 17\n-0.800493 0.038652 1.141421 -0.395520 0.479781 0.783135 0.154346 0.864171 47 30 17\n-0.756475 0.025519 1.178981 -0.480148 0.342967 0.807337 0.149860 0.866479 55 37 25\n-0.786655 0.092211 1.127502 -0.391675 0.589282 0.706595 0.152082 0.852037 56 37 21\n0.578436 -0.005196 1.212256 0.482803 -0.041688 0.874722 0.504004 0.724062 103 46 17\n0.596188 0.038982 1.185781 0.471786 0.283822 0.834742 0.511355 0.718876 37 18 9\n0.572553 0.068492 1.190433 0.358531 0.512650 0.780114 0.517834 0.723522 41 23 14\n-1.061555 0.119001 -0.741346 -0.726798 0.629963 -0.273629 0.166403 0.577757 85 56 33\n-1.103156 0.036091 -0.795015 -0.732566 0.389721 -0.558061 0.178335 0.558095 86 51 24\n-0.007291 0.053714 1.359376 0.011628 0.573687 0.818964 0.522819 0.851240 49 29 17\n-0.967781 0.093396 -0.891195 -0.566942 0.426923 -0.704459 0.792015 0.812343 81 48 23\n-1.330054 0.119123 -0.196855 -0.800897 0.525040 -0.287820 0.664780 0.828161 70 43 23\n0.513129 0.073962 1.207413 0.313944 0.527879 0.789148 0.518659 0.737873 43 24 14\n0.133559 0.087243 1.316999 0.104007 0.675436 0.730003 0.526127 0.820596 50 31 18\n-0.708749 0.087894 1.177639 -0.382916 0.593707 0.707694 0.582949 0.976715 68 45 30\n-0.786655 0.092211 1.127502 -0.391675 0.589282 0.706595 0.593649 0.986969 56 37 21\n0.338102 0.062024 1.291302 0.253548 0.479965 0.839808 0.515732 0.778226 48 30 17\n-1.066751 0.126016 0.846574 -0.549211 0.726737 0.412519 0.690835 0.599802 114 67 34\n0.469537 0.057392 1.235100 0.360515 0.528855 0.768303 0.515440 0.747469 40 22 12\n-1.006166 0.051573 0.994153 -0.626423 0.381451 0.679739 0.208700 0.861000 63 44 29\n-0.960274 0.021874 1.049076 -0.608234 0.237098 0.757469 0.204165 0.848881 47 26 15\n-0.901443 0.025188 1.089537 -0.598743 0.244423 0.762719 0.210081 0.842385 48 30 17\n-1.161554 0.067852 -0.634328 -0.611225 0.786309 -0.089969 0.489300 0.882600 78 52 32\n-1.067024 0.115415 -0.697824 -0.779382 0.622578 -0.070040 0.494500 0.884727 79 57 39\n-1.170725 0.006925 -0.713207 -0.802484 0.374615 -0.464370 0.490306 0.890861 60 32 15\n0.691216 0.067100 1.116684 0.517350 0.563372 0.644154 0.519275 0.694784 39 17 9\n0.841700 0.032920 1.036582 0.621632 0.389569 0.679525 0.402660 0.845760 28 14 9\n-1.230752 0.103239 -0.445059 -0.905423 0.281045 -0.318064 0.665670 0.876844 54 44 32\n-0.860682 0.112684 1.064100 -0.439650 0.675985 0.591357 0.703645 0.547192 65 50 34\n0.238267 0.074691 1.310244 0.182318 0.636860 0.749077 0.520692 0.800078 48 28 16\n-1.067024 0.115415 -0.697824 -0.779382 0.622578 -0.070040 0.174908 0.585364 79 57 39\n-1.111327 0.117349 0.801611 -0.575091 0.701529 0.420820 0.684957 0.610695 91 72 55\n0.712605 0.069511 1.090443 0.509995 0.563219 0.650105 0.522592 0.687344 39 18 8\n0.801344 0.039115 1.048908 0.599170 0.388806 0.699850 0.517767 0.667404 35 14 6\n0.820858 -0.015253 1.046373 0.672994 -0.255776 0.693960 0.509354 0.663658 35 17 8\n-0.881495 0.064953 1.086367 -0.737724 0.460250 0.493851 0.694091 0.542372 55 39 24\n-0.680919 0.031466 1.223432 -0.432417 0.284463 0.855586 0.570841 0.974517 41 22 13\n-0.597885 0.051570 1.251493 -0.298532 0.468215 0.831629 0.565478 0.965811 61 41 25\n-1.161554 0.067852 -0.634328 -0.611225 0.786309 -0.089969 0.392700 0.740600 78 52 32\n-1.188479 0.036422 -0.567090 -0.690085 0.554979 -0.464492 0.395100 0.746400 21 9 7\n-1.093666 0.091420 -0.605947 -0.444899 0.863338 -0.238105 0.390900 0.746400 24 13 8\n-0.564846 0.125606 1.196582 -0.223518 0.772881 0.593829 0.578836 0.949838 82 60 41\n-0.991669 0.121174 0.935537 -0.482650 0.723350 0.493728 0.695076 0.578971 81 57 38\n-1.368546 0.134786 0.069286 -0.798853 0.601337 0.013855 0.665299 0.773332 78 54 34\n-0.421209 0.116048 1.259979 -0.199377 0.738060 0.644581 0.564879 0.926112 73 48 31\n-0.967781 0.093396 -0.891195 -0.566942 0.426923 -0.704459 0.792804 0.798941 81 48 23\n0.776228 0.075689 1.050908 0.536515 0.532853 0.654347 0.524720 0.672878 43 21 9\n0.841700 0.032920 1.036582 0.621632 0.389569 0.679525 0.517275 0.658107 28 14 9\n-0.840802 0.072674 1.112306 -0.451033 0.471511 0.757775 0.698582 0.536328 52 34 20\n0.838840 0.052162 0.993082 0.612964 0.577960 0.538682 0.525242 0.655008 34 14 7\n-1.337579 0.131584 0.382229 -0.723167 0.643452 0.250862 0.670262 0.706525 65 36 29\n-0.860682 0.112684 1.064100 -0.439650 0.675985 0.591357 0.604381 0.993650 65 50 34\n-1.093666 0.091420 -0.605947 -0.444899 0.863338 -0.238105 0.320013 0.833237 24 13 8\n-1.188479 0.036422 -0.567090 -0.690085 0.554979 -0.464492 0.324439 0.817410 21 9 7\n-1.184292 0.127958 -0.567677 -0.475600 0.357463 -0.803735 0.332940 0.832213 47 24 20\n1.008121 0.050549 0.795185 0.761467 0.432875 0.482437 0.539647 0.605577 38 21 11\n0.957610 0.081365 0.824978 0.597095 0.691305 0.406812 0.540783 0.618887 42 22 9\n-1.219651 0.054803 -0.524782 -0.783258 0.397015 -0.478347 0.330444 0.812944 36 17 12\n-1.245760 0.143470 0.496859 -0.503922 0.831996 0.231971 0.677935 0.677986 85 59 37\n-1.161554 0.067852 -0.634328 -0.611225 0.786309 -0.089969 0.172600 0.763600 78 52 32\n-1.093666 0.091420 -0.605947 -0.444899 0.863338 -0.238105 0.163006 0.766050 24 13 8\n-1.067024 0.115415 -0.697824 -0.779382 0.622578 -0.070040 0.165784 0.754296 79 57 39\n0.040935 0.118069 1.293391 0.011322 0.791742 0.610736 0.538222 0.836674 71 49 32\n-0.231720 0.122568 1.283100 -0.053438 0.787286 0.614215 0.552980 0.890530 71 47 29\n0.872692 0.091495 0.930880 0.515152 0.733390 0.443525 0.536065 0.644048 49 25 11\n-0.856098 0.121064 0.328493 -0.410230 0.892544 0.187201 0.865604 0.116040 98 87 69\n-0.896294 0.099340 0.406209 0.052492 0.993805 -0.097903 0.878592 0.117604 91 83 63\n-0.794296 0.125931 0.421931 -0.326304 0.935118 0.138066 0.876749 0.135963 84 71 57\n-1.184292 0.127958 -0.567677 -0.475600 0.357463 -0.803735 0.172106 0.783854 47 24 20\n-1.053088 0.131126 -0.544747 -0.572893 0.651021 -0.497879 0.152430 0.777602 12 5 5\n0.403620 0.106535 1.222272 0.261727 0.747612 0.610370 0.527627 0.757849 51 29 16\n1.094622 0.071194 0.594058 0.792322 0.487777 0.366405 0.742091 0.586410 39 17 8\n-1.346260 0.150018 -0.074287 -0.739006 0.663564 -0.116184 0.669151 0.802916 96 66 43\n-0.967781 0.093396 -0.891195 -0.566942 0.426923 -0.704459 0.158034 0.556498 81 48 23\n-0.999458 0.134337 -0.815302 -0.598895 0.627155 -0.497940 0.155066 0.566026 89 56 33\n-0.857432 0.118161 0.498163 0.030671 0.974273 -0.223212 0.895710 0.132561 97 72 53\n-1.194966 0.133041 0.652641 -0.538438 0.783929 0.309030 0.681892 0.644904 83 64 46\n-0.938596 0.102031 0.257734 0.045717 0.998810 0.015412 0.858411 0.099650 78 68 54\n1.113937 0.080723 0.513876 0.834620 0.488907 0.253639 0.739779 0.601427 62 33 20\n1.160336 0.015857 0.435051 0.969817 0.038209 0.240761 0.010500 0.878700 42 18 8\n1.110659 0.100621 0.476427 0.775079 0.578570 0.253914 0.012311 0.868220 60 33 17\n1.113937 0.080723 0.513876 0.834620 0.488907 0.253639 0.017100 0.873600 62 33 20\n1.110659 0.100621 0.476427 0.775079 0.578570 0.253914 0.446847 0.837711 60 33 17\n1.160336 0.015857 0.435051 0.969817 0.038209 0.240761 0.453999 0.836343 42 18 8\n1.146792 0.084496 0.410761 0.842219 0.450270 0.296426 0.452269 0.846527 58 30 14\n1.146792 0.084496 0.410761 0.842219 0.450270 0.296426 0.741599 0.621604 58 30 14\n0.918352 0.076507 0.913999 0.554674 0.433241 0.710349 0.534030 0.632852 36 18 10\n1.035486 0.008994 0.773399 0.875149 -0.004975 0.483810 0.536700 0.594400 39 20 10\n1.093218 0.012471 0.647811 0.913053 0.096072 0.396313 0.548212 0.579774 35 13 5\n-0.954190 0.115614 0.119004 -0.147374 0.959441 0.240272 0.833071 0.089020 70 52 37\n-0.977650 0.114410 0.155259 0.159764 0.987121 0.003265 0.838929 0.082377 90 71 47\n-1.015529 0.146944 0.413601 0.278634 0.948241 -0.152196 0.888463 0.094075 58 20 14\n-1.136720 0.141729 -0.549536 0.146428 0.536515 -0.831080 0.163879 0.783494 20 8 7\n-0.152405 0.120276 -1.306005 -0.342357 0.055361 -0.937925 0.811945 0.611458 71 30 11\n1.003906 0.085173 0.757785 0.644215 0.669851 0.369091 0.551308 0.603961 56 34 19\n0.493692 0.105235 1.185222 0.282327 0.751122 0.596698 0.529193 0.738453 59 40 24\n-1.276064 0.152603 -0.261789 -0.765648 0.596912 -0.239601 0.675166 0.839069 74 48 30\n-1.228660 0.199273 -0.374707 -0.883816 0.458754 -0.091556 0.686192 0.866627 64 43 25\n-1.314486 0.152821 0.264605 -0.567980 0.818476 0.086367 0.674771 0.730404 77 45 29\n-0.911193 0.169038 0.918692 -0.255440 0.934904 0.246345 0.701700 0.574000 89 54 34\n-1.082917 0.125685 0.039497 0.184088 0.968841 0.165532 0.827219 0.056228 87 71 54\n0.648959 0.113823 1.102948 0.343974 0.779077 0.524064 0.530673 0.701268 61 38 19\n-0.736539 0.161363 1.060107 -0.154180 0.930509 0.332194 0.609560 0.972911 95 64 44\n-0.680301 0.144185 1.118692 -0.222480 0.842708 0.490188 0.597756 0.966874 90 64 43\n0.822628 0.097285 0.983052 0.537370 0.706717 0.460158 0.534007 0.658202 50 24 10\n-1.158488 0.150325 0.134574 0.239631 0.970061 -0.038728 0.846141 0.047796 97 78 54\n-0.794296 0.125931 0.421931 -0.326304 0.935118 0.138066 0.132275 0.770217 84 71 57\n-0.807154 0.157998 0.354723 -0.359233 0.928465 0.094089 0.144247 0.773751 67 27 19\n-0.856098 0.121064 0.328493 -0.410230 0.892544 0.187201 0.136737 0.782634 98 87 69\n-0.782456 0.144423 0.244629 -0.192358 0.975036 -0.110782 0.843740 0.129625 79 70 49\n0.739467 0.110349 1.042437 0.380291 0.795312 0.472030 0.532962 0.679392 63 42 25\n1.037119 0.120425 0.617557 0.452437 0.863063 0.224433 0.569017 0.585867 82 52 27\n-0.704429 0.147083 0.530633 -0.194769 0.980499 -0.025819 0.892091 0.164999 78 62 45\n-0.778037 0.147647 0.582311 -0.037263 0.915616 -0.400281 0.906764 0.153343 57 30 25\n1.094622 0.071194 0.594058 0.792322 0.487777 0.366405 0.285400 0.890000 39 17 8\n1.123388 0.010793 0.560847 0.954222 0.016633 0.298532 0.288700 0.879600 46 20 8\n1.113937 0.080723 0.513876 0.834620 0.488907 0.253639 0.288700 0.895900 62 33 20\n-0.834898 0.138089 -0.955488 -0.471084 0.467147 -0.748192 0.789544 0.781589 85 50 27\n-1.093666 0.091420 -0.605947 -0.444899 0.863338 -0.238105 0.180000 0.598474 24 13 8\n-1.053088 0.131126 -0.544747 -0.572893 0.651021 -0.497879 0.177049 0.616229 12 5 5\n-0.845843 0.146094 1.022316 -0.316965 0.852809 0.414960 0.617824 0.986842 79 51 32\n-0.871526 0.176087 -0.896529 -0.468673 0.681234 -0.562304 0.649059 0.040740 99 63 34\n-0.967781 0.093396 -0.891195 -0.566942 0.426923 -0.704459 0.648817 0.022531 81 48 23\n-0.999458 0.134337 -0.815302 -0.598895 0.627155 -0.497940 0.666432 0.021227 89 56 33\n-0.834898 0.138089 -0.955488 -0.471084 0.467147 -0.748192 0.637485 0.037352 85 50 27\n0.297899 0.128672 1.236909 0.191351 0.807947 0.557298 0.534479 0.781849 65 41 25\n-0.825479 0.142525 0.124462 -0.059938 0.980102 0.189123 0.828594 0.113449 97 92 76\n-1.082917 0.125685 0.039497 0.184088 0.968841 0.165532 0.441400 0.849000 87 71 54\n-0.954190 0.115614 0.119004 -0.147374 0.959441 0.240272 0.445900 0.851300 70 52 37\n-1.109885 0.167855 -0.097324 0.124119 0.977874 0.168218 0.437760 0.859966 85 61 40\n-1.337579 0.131584 0.382229 -0.723167 0.643452 0.250862 0.676300 0.704300 65 36 29\n-1.111327 0.117349 0.801611 -0.575091 0.701529 0.420820 0.499700 0.672500 91 72 55\n-1.031968 0.180050 0.729301 -0.192114 0.968505 0.158208 0.499700 0.682900 109 82 59\n-1.194966 0.133041 0.652641 -0.538438 0.783929 0.309030 0.495600 0.678300 83 64 46\n-1.325244 0.171252 0.070276 -0.445021 0.894131 0.049196 0.676219 0.771816 97 67 45\n-0.991669 0.121174 0.935537 -0.482650 0.723350 0.493728 0.412566 0.869774 81 57 38\n-1.006830 0.157793 0.842306 -0.303751 0.913694 0.269967 0.411561 0.879380 88 63 40\n-1.066751 0.126016 0.846574 -0.549211 0.726737 0.412519 0.404000 0.870100 114 67 34\n-1.209987 0.186271 -0.499631 -0.832575 0.317576 -0.453810 0.684942 0.888697 49 33 32\n-1.184292 0.127958 -0.567677 -0.475600 0.357463 -0.803735 0.672883 0.897757 47 24 20\n-1.050835 0.156321 -0.633924 -0.957976 0.273904 -0.084964 0.166468 0.600910 53 30 16\n1.094622 0.071194 0.594058 0.792322 0.487777 0.366405 0.562245 0.572825 39 17 8\n0.755948 0.090066 0.336574 0.336161 0.927641 0.162603 0.772361 0.452342 62 46 32\n0.822815 0.089681 0.377848 -0.000916 0.932310 -0.361553 0.777871 0.467498 92 71 47\n0.840808 0.065953 0.331084 -0.042055 0.998505 -0.034120 0.766498 0.467906 49 34 24\n-1.024713 0.186653 -0.112006 -0.349681 0.887692 0.299478 0.444909 0.868956 89 75 60\n-1.059599 0.148295 0.244922 0.242561 0.965117 -0.098209 0.867186 0.070984 84 57 33\n-0.075811 0.153499 -1.322539 -0.143376 0.139256 -0.979797 0.810778 0.593757 64 28 11\n0.176685 0.149412 1.235977 0.060457 0.936460 0.345500 0.542573 0.805763 93 58 35\n-0.911193 0.169038 0.918692 -0.255440 0.934904 0.246345 0.710754 0.577840 89 54 34\n-0.845843 0.146094 1.022316 -0.316965 0.852809 0.414960 0.708800 0.558500 79 51 32\n-0.352423 0.155315 1.209753 -0.042024 0.957121 0.286538 0.573920 0.915338 99 68 47\n-1.006830 0.157793 0.842306 -0.303751 0.913694 0.269967 0.701102 0.611979 88 63 40\n0.718395 0.096611 0.376791 0.482315 0.874722 -0.047060 0.783317 0.446826 68 51 35\n0.011307 0.156754 1.227158 0.000793 0.971435 0.237159 0.550959 0.838815 87 54 32\n-0.823004 0.170270 0.616123 0.026643 0.971923 -0.233680 0.918235 0.145785 55 28 28\n-0.772699 0.161539 0.337434 -0.258370 0.965880 0.016511 0.864247 0.138474 66 29 25\n-1.131196 0.181033 0.553198 -0.171697 0.981506 0.084323 0.690086 0.664310 107 80 55\n-0.722528 0.133721 0.154354 -0.237190 0.962432 0.132084 0.827066 0.135157 52 31 24\n-0.954190 0.115614 0.119004 -0.147374 0.959441 0.240272 0.129673 0.555803 70 52 37\n-0.825479 0.142525 0.124462 -0.059938 0.980102 0.189123 0.137405 0.569092 97 92 76\n-0.929397 0.164773 0.055588 -0.291635 0.851924 0.434889 0.119704 0.563726 101 86 60\n-0.494936 0.163091 1.157162 -0.081851 0.963317 0.255501 0.585574 0.938018 98 69 49\n-0.911193 0.169038 0.918692 -0.255440 0.934904 0.246345 0.706206 0.583336 89 54 34\n-1.006830 0.157793 0.842306 -0.303751 0.913694 0.269967 0.703000 0.592000 88 63 40\n-1.082917 0.125685 0.039497 0.184088 0.968841 0.165532 0.154400 0.880300 87 71 54\n-1.109885 0.167855 -0.097324 0.124119 0.977874 0.168218 0.145800 0.881300 85 61 40\n-1.158488 0.150325 0.134574 0.239631 0.970061 -0.038728 0.153786 0.868959 97 78 54\n-1.024713 0.186653 -0.112006 -0.349681 0.887692 0.299478 0.199299 0.704017 89 75 60\n-0.954190 0.115614 0.119004 -0.147374 0.959441 0.240272 0.221790 0.732438 70 52 37\n-0.929397 0.164773 0.055588 -0.291635 0.851924 0.434889 0.213509 0.734349 101 86 60\n-0.905388 0.178729 0.659426 0.060488 0.992309 -0.107822 0.930048 0.130812 72 31 21\n0.497954 0.140261 1.129742 0.181768 0.923795 0.336924 0.537393 0.732587 87 55 32\n-0.856098 0.121064 0.328493 -0.410230 0.892544 0.187201 0.864326 0.127797 98 87 69\n-0.672403 0.169006 0.606774 -0.043794 0.994598 -0.093997 0.908800 0.175296 56 25 24\n-1.337579 0.131584 0.382229 -0.723167 0.643452 0.250862 0.898073 0.033623 65 36 29\n-1.233285 0.176250 0.362977 -0.281472 0.953856 0.104404 0.896195 0.046399 96 68 44\n-1.314486 0.152821 0.264605 -0.567980 0.818476 0.086367 0.881424 0.026030 77 45 29\n-0.911193 0.169038 0.918692 -0.255440 0.934904 0.246345 0.454894 0.854769 89 54 34\n-0.845843 0.146094 1.022316 -0.316965 0.852809 0.414960 0.452301 0.871369 79 51 32\n-0.817200 0.180034 0.929816 -0.051271 0.992157 0.113773 0.445900 0.862500 86 50 31\n-0.180962 0.147393 1.244297 0.005707 0.936949 0.349345 0.560288 0.877437 85 56 36\n-0.709568 0.170815 -1.007889 -0.465987 0.423109 -0.777032 0.787680 0.743257 81 46 22\n-0.834898 0.138089 -0.955488 -0.471084 0.467147 -0.748192 0.787826 0.765994 85 50 27\n0.755948 0.090066 0.336574 0.336161 0.927641 0.162603 0.444701 0.738743 62 46 32\n0.840808 0.065953 0.331084 -0.042055 0.998505 -0.034120 0.434329 0.722342 49 34 24\n0.793524 0.124928 0.211015 0.206977 0.936583 0.282693 0.455912 0.723712 91 69 45\n-0.679833 0.176578 0.447741 -0.211707 0.959624 0.185064 0.143100 0.754300 54 24 21\n-0.794296 0.125931 0.421931 -0.326304 0.935118 0.138066 0.137575 0.764619 84 71 57\n-0.704429 0.147083 0.530633 -0.194769 0.980499 -0.025819 0.136147 0.743776 78 62 45\n-0.754181 0.150659 0.088875 -0.136418 0.932432 0.334544 0.819809 0.128301 75 55 40\n-1.131196 0.181033 0.553198 -0.171697 0.981506 0.084323 0.924986 0.079047 107 80 55\n-1.194966 0.133041 0.652641 -0.538438 0.783929 0.309030 0.938195 0.074360 83 64 46\n-1.031968 0.180050 0.729301 -0.192114 0.968505 0.158208 0.948767 0.110336 109 82 59\n0.947767 0.124797 0.392565 -0.285012 0.954405 -0.088504 0.775671 0.493031 129 94 60\n0.908744 0.098267 0.282276 -0.326121 0.914853 0.238044 0.755303 0.476980 85 60 42\n-0.582881 0.165230 1.099248 -0.059816 0.988067 0.141728 0.594760 0.948372 97 67 45\n0.908744 0.098267 0.282276 -0.326121 0.914853 0.238044 0.441031 0.704018 85 60 42\n0.866166 0.136737 0.182730 -0.197577 0.930479 0.308420 0.457278 0.700574 85 54 34\n-0.494936 0.163091 1.157162 -0.081851 0.963317 0.255501 0.378500 0.901400 98 69 49\n-0.582881 0.165230 1.099248 -0.059816 0.988067 0.141728 0.378500 0.907000 97 67 45\n-0.564846 0.125606 1.196582 -0.223518 0.772881 0.593829 0.373500 0.902500 82 60 41\n1.159339 0.141024 0.255026 0.670003 0.700247 0.246406 0.372400 0.851600 95 74 51\n1.146792 0.084496 0.410761 0.842219 0.450270 0.296426 0.370438 0.861355 58 30 14\n1.186190 0.049407 0.303333 0.994690 -0.001099 0.102817 0.363500 0.851500 61 26 9\n-1.014287 0.170347 0.520927 0.174200 0.971007 -0.163640 0.912076 0.099315 116 88 55\n0.822628 0.097285 0.983052 0.537370 0.706717 0.460158 0.865100 0.843200 50 24 10\n0.872692 0.091495 0.930880 0.515152 0.733390 0.443525 0.865100 0.854900 49 25 11\n0.783923 0.147038 0.856507 0.231880 0.932646 0.276284 0.861900 0.849700 84 58 35\n0.952696 0.133705 0.706998 0.277383 0.952422 0.126102 0.564161 0.609405 89 49 34\n-1.179919 0.183460 0.419088 -0.079653 0.996033 0.039155 0.904100 0.062439 108 82 56\n-0.497863 0.155083 0.987853 0.024476 0.999237 -0.030061 0.966902 0.235670 114 83 57\n-0.401616 0.161787 0.876604 -0.026124 0.950774 0.308756 0.950090 0.238335 85 68 48\n-0.593321 0.148121 0.899705 0.027070 0.997589 0.063448 0.953604 0.210259 95 73 50\n-1.245760 0.143470 0.496859 -0.503922 0.831996 0.231971 0.904300 0.044500 85 59 37\n-0.845843 0.146094 1.022316 -0.316965 0.852809 0.414960 0.990100 0.171500 79 51 32\n-0.736539 0.161363 1.060107 -0.154180 0.930509 0.332194 0.989571 0.189622 95 64 44\n-0.817200 0.180034 0.929816 -0.051271 0.992157 0.113773 0.975573 0.166360 86 50 31\n-0.807154 0.157998 0.354723 -0.359233 0.928465 0.094089 0.868933 0.133428 67 27 19\n-1.031968 0.180050 0.729301 -0.192114 0.968505 0.158208 0.693746 0.628184 109 82 59\n-1.278227 0.179095 0.074052 -0.005493 0.997894 0.064577 0.845943 0.022449 120 100 72\n1.159339 0.141024 0.255026 0.670003 0.700247 0.246406 0.729563 0.651574 95 74 51\n-0.754181 0.150659 0.088875 -0.136418 0.932432 0.334544 0.142775 0.588736 75 55 40\n-0.754181 0.150659 0.088875 -0.136418 0.932432 0.334544 0.173799 0.800544 75 55 40\n-0.722528 0.133721 0.154354 -0.237190 0.962432 0.132084 0.178449 0.792260 52 31 24\n-0.691581 0.183864 0.098612 -0.512467 0.832026 0.212256 0.183462 0.804505 52 29 23\n0.312548 0.153336 1.181125 0.097629 0.964751 0.244362 0.544211 0.773871 97 62 36\n-1.236035 0.209536 -0.202278 -0.334910 0.934599 -0.119633 0.686253 0.831260 91 64 40\n-0.582881 0.165230 1.099248 -0.059816 0.988067 0.141728 0.603300 0.954200 97 67 45\n0.783923 0.147038 0.856507 0.231880 0.932646 0.276284 0.557590 0.653895 84 58 35\n0.874901 0.151073 0.764574 0.290475 0.951415 0.102023 0.564378 0.634519 74 31 22\n1.113937 0.080723 0.513876 0.834620 0.488907 0.253639 0.571503 0.562741 62 33 20\n1.146792 0.084496 0.410761 0.842219 0.450270 0.296426 0.581688 0.550875 58 30 14\n1.088062 0.143897 0.423090 0.417585 0.887204 0.196112 0.592671 0.561184 69 35 24\n1.110659 0.100621 0.476427 0.775079 0.578570 0.253914 0.579469 0.561769 60 33 17\n-0.794296 0.125931 0.421931 -0.326304 0.935118 0.138066 0.480600 0.902000 84 71 57\n-0.772699 0.161539 0.337434 -0.258370 0.965880 0.016511 0.475200 0.899000 66 29 25\n-0.807154 0.157998 0.354723 -0.359233 0.928465 0.094089 0.480205 0.895680 67 27 19\n0.865729 0.123833 0.472363 -0.008148 0.991333 -0.130955 0.793963 0.479907 138 96 58\n-0.316162 0.139506 0.936646 -0.073061 0.976531 0.202490 0.946457 0.269034 81 67 51\n-0.270791 0.153199 1.055344 0.011505 0.999603 -0.025636 0.964202 0.284676 112 86 56\n0.673728 0.137841 1.013051 0.178564 0.962249 0.205298 0.542821 0.703875 99 65 38\n0.673728 0.137841 1.013051 0.178564 0.962249 0.205298 0.543274 0.684396 99 65 38\n-0.601250 0.172937 0.639801 -0.390423 0.918577 -0.061068 0.909885 0.192471 63 41 26\n-0.663582 0.154120 0.708721 -0.085482 0.994110 -0.066530 0.925091 0.184365 77 55 37\n-0.806819 0.166985 0.694537 0.107852 0.975127 -0.193548 0.931435 0.152769 70 44 30\n-1.325244 0.171252 0.070276 -0.445021 0.894131 0.049196 0.847445 0.011091 97 67 45\n-0.911193 0.169038 0.918692 -0.255440 0.934904 0.246345 0.976836 0.144705 89 54 34\n-0.875911 0.175226 0.815432 -0.071780 0.995849 0.055666 0.958766 0.147612 103 82 58\n-1.006830 0.157793 0.842306 -0.303751 0.913694 0.269967 0.967524 0.123438 88 63 40\n-0.582881 0.165230 1.099248 -0.059816 0.988067 0.141728 0.990682 0.225074 97 67 45\n0.095644 0.145251 1.110821 0.004089 0.999939 -0.008454 0.954388 0.362863 114 80 51\n-0.111899 0.138714 1.023804 0.007111 0.996002 0.088809 0.948807 0.315715 84 64 45\n-0.119648 0.153881 1.152331 0.009919 0.999390 -0.033174 0.974569 0.324432 120 86 54\n-0.591682 0.165641 0.590203 -0.383862 0.911740 -0.146123 0.900449 0.190004 63 38 24\n0.718395 0.096611 0.376791 0.482315 0.874722 -0.047060 0.451580 0.745982 68 51 35\n0.705888 0.152321 0.261685 0.633076 0.742210 0.219825 0.461514 0.739270 80 45 18\n0.648959 0.113823 1.102948 0.343974 0.779077 0.524064 0.349300 0.883000 61 38 19\n0.739467 0.110349 1.042437 0.380291 0.795312 0.472030 0.348706 0.894112 63 42 25\n0.673728 0.137841 1.013051 0.178564 0.962249 0.205298 0.344200 0.887000 99 65 38\n-0.679833 0.176578 0.447741 -0.211707 0.959624 0.185064 0.880239 0.164547 54 24 21\n-1.245760 0.143470 0.496859 -0.503922 0.831996 0.231971 0.923304 0.062049 85 59 37\n-0.494936 0.163091 1.157162 -0.081851 0.963317 0.255501 0.995870 0.246743 98 69 49\n-0.352423 0.155315 1.209753 -0.042024 0.957121 0.286538 0.993711 0.275702 99 68 47\n-1.245760 0.143470 0.496859 -0.503922 0.831996 0.231971 0.909905 0.049381 85 59 37\n-0.056795 0.156368 0.971528 -0.037233 0.939940 0.339274 0.938441 0.339601 88 71 48\n1.046270 0.154476 0.300256 -0.086001 0.984222 0.154515 0.754725 0.505220 88 50 30\n1.146792 0.084496 0.410761 0.842219 0.450270 0.296426 0.586904 0.544971 58 30 14\n1.159339 0.141024 0.255026 0.670003 0.700247 0.246406 0.605933 0.535107 95 74 51\n-0.199820 0.162711 0.935518 -0.077334 0.944426 0.319437 0.944752 0.295671 95 79 59\n0.011307 0.156754 1.227158 0.000793 0.971435 0.237159 0.978558 0.355873 87 54 32\n-0.180962 0.147393 1.244297 0.005707 0.936949 0.349345 0.992939 0.315014 85 56 36\n0.708914 0.121618 0.442781 0.457167 0.866909 -0.198523 0.799716 0.447563 84 64 39\n-0.588844 0.187018 0.431686 -0.095340 0.994964 0.030824 0.874727 0.178534 91 71 55\n-0.696425 0.173906 0.811798 0.095065 0.994140 0.051271 0.946546 0.183882 94 70 49\n0.214026 0.145646 1.021137 0.002197 0.999756 -0.021027 0.933646 0.383833 112 83 47\n0.125126 0.154374 0.959998 0.092563 0.981017 0.170293 0.927374 0.361237 80 64 44\n-0.616013 0.168240 0.204544 -0.374493 0.882412 0.284677 0.833782 0.163217 61 43 38\n-0.699195 0.176681 0.298937 -0.145482 0.982971 -0.112186 0.854957 0.152753 104 86 61\n0.011567 0.168644 -1.322847 -0.118656 0.066225 -0.990722 0.812854 0.576727 64 27 8\n-0.846200 0.201253 0.003743 -0.061007 0.905759 0.419355 0.118518 0.586420 82 61 39\n1.187323 0.150468 0.155115 0.820826 0.515976 0.244850 0.722556 0.664797 71 43 23\n0.355159 0.142006 0.888267 0.067873 0.989868 0.124485 0.902737 0.406872 106 79 54\n0.434991 0.143766 0.990566 0.020539 0.992889 -0.117130 0.915501 0.427518 121 93 58\n0.507337 0.131060 0.901781 -0.079775 0.992767 0.089663 0.894066 0.432759 87 64 41\n0.845780 0.130808 0.653304 0.159642 0.977630 -0.136784 0.829944 0.488057 111 79 49\n0.949600 0.121845 0.547895 -0.014679 0.999786 0.013825 0.802650 0.505500 106 73 44\n-0.617581 0.178919 0.780268 -0.219642 0.972015 0.082949 0.936189 0.198016 110 79 55\n-1.109885 0.167855 -0.097324 0.124119 0.977874 0.168218 0.816792 0.051052 85 61 40\n-0.199820 0.162711 0.935518 -0.077334 0.944426 0.319437 0.012999 0.752577 95 79 59\n-0.111899 0.138714 1.023804 0.007111 0.996002 0.088809 0.000256 0.738246 84 64 45\n-0.056795 0.156368 0.971528 -0.037233 0.939940 0.339274 0.009495 0.727728 88 71 48\n0.194563 0.147144 0.902966 0.204993 0.919156 0.336314 0.912921 0.371574 52 34 20\n0.461123 0.147516 0.822147 -0.084628 0.915036 0.394360 0.884575 0.417645 79 60 36\n0.312548 0.153336 1.181125 0.097629 0.964751 0.244362 0.954128 0.413290 97 62 36\n0.497954 0.140261 1.129742 0.181768 0.923795 0.336924 0.935236 0.445771 87 55 32\n0.346390 0.157220 1.093317 0.018494 0.999817 -0.000641 0.938082 0.413744 134 104 69\n0.355159 0.142006 0.888267 0.067873 0.989868 0.124485 0.902792 0.406547 106 79 54\n-1.090056 0.168091 -0.200285 -0.153264 0.961547 0.227790 0.786252 0.040238 67 57 44\n-1.168678 0.205311 -0.247417 0.080508 0.995239 0.054842 0.784045 0.024104 90 70 42\n-1.109885 0.167855 -0.097324 0.124119 0.977874 0.168218 0.804540 0.041025 85 61 40\n0.176685 0.149412 1.235977 0.060457 0.936460 0.345500 0.973661 0.379362 93 58 35\n-1.117037 0.193051 -0.517198 0.141758 0.476669 -0.867550 0.157075 0.791996 18 7 6\n-1.043913 0.172387 -0.529940 -0.926939 0.155156 -0.341594 0.171064 0.621217 37 26 20\n-1.007599 0.187888 -0.726055 -0.624989 0.665456 -0.408063 0.688434 0.024786 92 58 33\n-0.153423 0.198348 -1.288302 -0.427717 0.396802 -0.812128 0.799665 0.613309 85 46 21\n-0.779273 0.196458 0.759159 0.044465 0.997589 -0.053163 0.942040 0.164015 51 19 15\n-0.833311 0.181756 0.727944 -0.035676 0.986328 -0.160863 0.941150 0.147865 60 26 19\n-0.316162 0.139506 0.936646 -0.073061 0.976531 0.202490 0.009924 0.778244 81 67 51\n-0.401616 0.161787 0.876604 -0.026124 0.950774 0.308756 0.019718 0.795333 85 68 48\n-0.933303 0.223478 -0.104850 -0.256447 0.882107 0.395032 0.194370 0.712762 95 82 62\n-1.109885 0.167855 -0.097324 0.124119 0.977874 0.168218 0.302031 0.765365 85 61 40\n-1.195621 0.210091 -0.141227 0.150517 0.982910 0.105930 0.289200 0.756900 90 58 35\n-1.278227 0.179095 0.074052 -0.005493 0.997894 0.064577 0.289224 0.746250 120 100 72\n0.575045 0.147548 0.986673 -0.001740 0.999481 0.031953 0.905559 0.453698 122 89 62\n-1.024713 0.186653 -0.112006 -0.349681 0.887692 0.299478 0.798349 0.055743 89 75 60\n-0.616013 0.168240 0.204544 -0.374493 0.882412 0.284677 0.191600 0.786000 61 43 38\n-0.632571 0.183328 0.175351 -0.449629 0.773247 0.447096 0.191366 0.792062 63 45 46\n-0.691581 0.183864 0.098612 -0.512467 0.832026 0.212256 0.221500 0.894900 52 29 23\n-0.701785 0.171308 0.044164 -0.385876 0.882534 0.268685 0.225727 0.901245 56 41 35\n-0.754181 0.150659 0.088875 -0.136418 0.932432 0.334544 0.220200 0.901600 75 55 40\n0.691915 0.149500 0.567238 0.522111 0.825800 -0.213111 0.822989 0.452397 61 37 23\n0.732772 0.146394 0.590568 0.247658 0.932615 -0.262398 0.823720 0.460581 91 69 53\n0.294460 0.170866 0.820957 0.203894 0.881497 0.425886 0.897200 0.387600 69 51 34\n-0.704429 0.147083 0.530633 -0.194769 0.980499 -0.025819 0.210439 0.860861 78 62 45\n-0.588844 0.187018 0.431686 -0.095340 0.994964 0.030824 0.213700 0.873700 91 71 55\n-0.679833 0.176578 0.447741 -0.211707 0.959624 0.185064 0.202917 0.869353 54 24 21\n0.108514 0.142192 -1.328924 0.016114 -0.114139 -0.993316 0.822878 0.558466 53 19 6\n0.793524 0.124928 0.211015 0.206977 0.936583 0.282693 0.357500 0.901700 91 69 45\n0.731982 0.162998 0.130017 0.620167 0.706290 0.341350 0.352100 0.897300 69 43 23\n0.705888 0.152321 0.261685 0.633076 0.742210 0.219825 0.357500 0.893500 80 45 18\n0.673728 0.137841 1.013051 0.178564 0.962249 0.205298 0.900189 0.475494 99 65 38\n-1.043913 0.172387 -0.529940 -0.926939 0.155156 -0.341594 0.145800 0.785200 37 26 20\n-1.062510 0.195247 -0.499473 -0.401471 0.401502 -0.823145 0.147256 0.791119 9 3 3\n-1.007599 0.187888 -0.726055 -0.624989 0.665456 -0.408063 0.152650 0.588363 92 58 33\n1.037119 0.120425 0.617557 0.452437 0.863063 0.224433 0.810831 0.522562 82 52 27\n0.952696 0.133705 0.706998 0.277383 0.952422 0.126102 0.831539 0.513978 89 49 34\n-1.236035 0.209536 -0.202278 -0.334910 0.934599 -0.119633 0.796717 0.009520 91 64 40\n-1.346260 0.150018 -0.074287 -0.739006 0.663564 -0.116184 0.822200 0.004200 96 66 43\n0.125126 0.154374 0.959998 0.092563 0.981017 0.170293 0.012678 0.686584 80 64 44\n0.138855 0.180439 0.885876 0.202490 0.765801 0.610309 0.025513 0.687369 54 37 22\n0.194563 0.147144 0.902966 0.204993 0.919156 0.336314 0.017007 0.673782 52 34 20\n0.783923 0.147038 0.856507 0.231880 0.932646 0.276284 0.871060 0.489258 84 58 35\n0.355159 0.142006 0.888267 0.067873 0.989868 0.124485 0.022801 0.642144 106 79 54\n0.461123 0.147516 0.822147 -0.084628 0.915036 0.394360 0.032347 0.617357 79 60 36\n0.294460 0.170866 0.820957 0.203894 0.881497 0.425886 0.031998 0.652169 69 51 34\n-0.509926 0.210253 0.763151 -0.115543 0.934294 0.337230 0.937200 0.223800 102 82 57\n1.030179 0.152093 0.428709 -0.046266 0.989532 0.136662 0.779164 0.511844 69 26 19\n1.046270 0.154476 0.300256 -0.086001 0.984222 0.154515 0.011891 0.856080 88 50 30\n1.002006 0.165190 0.231211 -0.298166 0.896054 0.328806 0.018003 0.843201 71 29 25\n0.908744 0.098267 0.282276 -0.326121 0.914853 0.238044 0.020838 0.854084 85 60 42\n1.088062 0.143897 0.423090 0.417585 0.887204 0.196112 0.783636 0.520814 69 35 24\n-0.897146 0.207645 -0.820281 -0.453261 0.792138 -0.408673 0.666349 0.039931 98 65 38\n-1.232764 0.195340 -0.271598 -0.471664 0.880917 -0.037904 0.685545 0.842359 88 66 40\n1.056279 0.141947 -0.892172 0.809626 0.260872 -0.525742 0.731712 0.895151 54 25 9\n0.914029 0.106661 -1.067466 0.639424 -0.120090 -0.759392 0.452346 0.778270 52 20 6\n-1.195621 0.210091 -0.141227 0.150517 0.982910 0.105930 0.806476 0.021996 90 58 35\n-0.833311 0.181756 0.727944 -0.035676 0.986328 -0.160863 0.499700 0.737500 60 26 19\n-0.875911 0.175226 0.815432 -0.071780 0.995849 0.055666 0.494500 0.728800 103 82 58\n-0.779273 0.196458 0.759159 0.044465 0.997589 -0.053163 0.499700 0.728200 51 19 15\n-1.051043 0.261971 -0.541634 -0.884762 0.465926 -0.008850 0.155163 0.625060 88 65 47\n0.874901 0.151073 0.764574 0.290475 0.951415 0.102023 0.849410 0.499694 74 31 22\n-0.593321 0.148121 0.899705 0.027070 0.997589 0.063448 0.012203 0.830316 95 73 50\n-0.509926 0.210253 0.763151 -0.115543 0.934294 0.337230 0.039476 0.813329 102 82 57\n0.682954 0.151918 0.340109 0.818232 0.554552 0.151463 0.165600 0.861500 70 36 15\n0.718395 0.096611 0.376791 0.482315 0.874722 -0.047060 0.167976 0.860432 68 51 35\n0.705888 0.152321 0.261685 0.633076 0.742210 0.219825 0.163600 0.869800 80 45 18\n-0.513944 0.204192 0.258183 -0.086978 0.903165 0.420362 0.835400 0.171100 46 25 26\n-0.521546 0.186536 0.300136 -0.148473 0.969420 0.195318 0.844951 0.186778 92 81 65\n0.637801 0.163540 0.860349 -0.016175 0.968413 0.248726 0.881774 0.459388 93 69 44\n-0.875911 0.175226 0.815432 -0.071780 0.995849 0.055666 0.035014 0.860397 103 82 58\n-0.696425 0.173906 0.811798 0.095065 0.994140 0.051271 0.043340 0.872990 94 70 49\n-0.779273 0.196458 0.759159 0.044465 0.997589 -0.053163 0.035400 0.870900 51 19 15\n0.949600 0.121845 0.547895 -0.014679 0.999786 0.013825 0.494895 0.781225 106 73 44\n1.088062 0.143897 0.423090 0.417585 0.887204 0.196112 0.499448 0.806554 69 35 24\n1.030179 0.152093 0.428709 -0.046266 0.989532 0.136662 0.494266 0.799980 69 26 19\n-0.591682 0.165641 0.590203 -0.383862 0.911740 -0.146123 0.473195 0.772777 63 38 24\n-0.601250 0.172937 0.639801 -0.390423 0.918577 -0.061068 0.474164 0.780091 63 41 26\n-0.527102 0.234258 0.588418 -0.504807 0.854335 -0.123417 0.458648 0.777213 71 30 23\n-0.490381 0.183167 0.378403 -0.108249 0.978179 -0.177282 0.858099 0.200160 96 78 49\n0.268029 0.192855 0.423171 0.559160 0.812433 0.165014 0.278817 0.572169 51 34 24\n0.335637 0.154673 0.436691 0.209113 0.973144 -0.096042 0.288400 0.589800 77 69 61\n0.359140 0.168071 0.328047 0.468947 0.790033 0.394848 0.276763 0.595450 50 40 32\n0.402308 0.145327 0.336704 0.125767 0.980316 0.151982 0.286800 0.597800 51 42 35\n-0.433746 0.175409 0.247842 0.088015 0.963469 0.252876 0.830512 0.203017 45 22 14\n-0.336610 0.185732 0.330613 -0.106265 0.978607 -0.176092 0.842634 0.227626 119 98 73\n-0.379923 0.189602 0.241876 -0.152074 0.954772 0.255470 0.827234 0.214213 113 91 81\n1.002006 0.165190 0.231211 -0.298166 0.896054 0.328806 0.448116 0.690626 71 29 25\n1.187323 0.150468 0.155115 0.820826 0.515976 0.244850 0.722511 0.674977 71 43 23\n1.005844 0.137174 -0.975163 0.777184 0.160680 -0.608386 0.734580 0.916877 57 27 10\n1.139203 0.162512 -0.756314 0.814020 0.386883 -0.433180 0.724167 0.864969 74 38 15\n-1.062510 0.195247 -0.499473 -0.401471 0.401502 -0.823145 0.145892 0.901794 9 3 3\n-1.051043 0.261971 -0.541634 -0.884762 0.465926 -0.008850 0.147000 0.893900 88 65 47\n-1.043913 0.172387 -0.529940 -0.926939 0.155156 -0.341594 0.150700 0.899511 37 26 20\n-1.172236 0.216223 -0.504276 -0.188421 0.367138 -0.910855 0.166572 0.799197 22 9 7\n0.470695 0.174605 0.421534 -0.282388 0.923765 -0.258583 0.810586 0.396530 123 100 73\n0.335637 0.154673 0.436691 0.209113 0.973144 -0.096042 0.819421 0.370323 77 69 61\n0.359899 0.173867 0.500530 0.025819 0.945524 -0.324442 0.834001 0.380279 75 48 36\n0.402308 0.145327 0.336704 0.125767 0.980316 0.151982 0.797259 0.378617 51 42 35\n-0.834898 0.138089 -0.955488 -0.471084 0.467147 -0.748192 0.634939 0.045649 85 50 27\n-0.709568 0.170815 -1.007889 -0.465987 0.423109 -0.777032 0.620236 0.065863 81 46 22\n0.778318 0.173710 0.776172 0.269478 0.952757 0.139927 0.569419 0.646009 97 63 40\n-0.701785 0.171308 0.044164 -0.385876 0.882534 0.268685 0.137850 0.605120 56 41 35\n0.718395 0.096611 0.376791 0.482315 0.874722 -0.047060 0.127718 0.893989 68 51 35\n0.682954 0.151918 0.340109 0.818232 0.554552 0.151463 0.129400 0.899700 70 36 15\n0.668429 0.175737 0.470511 0.836146 0.545457 -0.057283 0.123500 0.894500 84 47 23\n0.691915 0.149500 0.567238 0.522111 0.825800 -0.213111 0.125390 0.809598 61 37 23\n0.708914 0.121618 0.442781 0.457167 0.866909 -0.198523 0.125400 0.828700 84 64 39\n0.668429 0.175737 0.470511 0.836146 0.545457 -0.057283 0.120708 0.822348 84 47 23\n-1.094074 0.216046 -0.323392 -0.322642 0.815027 0.481216 0.183566 0.665139 33 23 19\n-1.090056 0.168091 -0.200285 -0.153264 0.961547 0.227790 0.197236 0.681529 67 57 44\n-1.047756 0.232325 -0.248852 -0.586688 0.747490 0.311472 0.181326 0.679728 93 84 65\n0.793524 0.124928 0.211015 0.206977 0.936583 0.282693 0.197634 0.764254 91 69 45\n0.866166 0.136737 0.182730 -0.197577 0.930479 0.308420 0.196014 0.781157 85 54 34\n0.867069 0.169357 -0.011136 -0.146458 0.944334 0.294504 0.178723 0.782138 83 59 43\n-0.013331 0.209440 0.886026 -0.017701 0.793115 0.608783 0.025012 0.716747 83 69 46\n0.801184 0.149455 0.064041 0.314066 0.860042 0.402051 0.176852 0.769356 46 34 19\n0.731982 0.162998 0.130017 0.620167 0.706290 0.341350 0.182361 0.753788 69 43 23\n-1.232764 0.195340 -0.271598 -0.471664 0.880917 -0.037904 0.782688 0.006102 88 66 40\n-0.846200 0.201253 0.003743 -0.061007 0.905759 0.419355 0.106206 0.588695 82 61 39\n-0.933303 0.223478 -0.104850 -0.256447 0.882107 0.395032 0.094191 0.584615 95 82 62\n-0.513944 0.204192 0.258183 -0.086978 0.903165 0.420362 0.234885 0.804733 46 25 26\n-0.632571 0.183328 0.175351 -0.449629 0.773247 0.447096 0.227377 0.828490 63 45 46\n-0.616013 0.168240 0.204544 -0.374493 0.882412 0.284677 0.225359 0.822126 61 43 38\n-0.521546 0.186536 0.300136 -0.148473 0.969420 0.195318 0.441713 0.795020 92 81 65\n-0.433746 0.175409 0.247842 0.088015 0.963469 0.252876 0.447415 0.814595 45 22 14\n-0.513944 0.204192 0.258183 -0.086978 0.903165 0.420362 0.436972 0.801579 46 25 26\n-0.621576 0.206383 0.119238 -0.325388 0.886380 0.329203 0.109074 0.873047 41 25 30\n-0.691581 0.183864 0.098612 -0.512467 0.832026 0.212256 0.113400 0.876900 52 29 23\n-0.632571 0.183328 0.175351 -0.449629 0.773247 0.447096 0.108100 0.881400 63 45 46\n-0.709568 0.170815 -1.007889 -0.465987 0.423109 -0.777032 0.786700 0.733200 81 46 22\n-0.612268 0.204007 -1.057050 -0.349162 0.544145 -0.762841 0.784510 0.718559 87 49 22\n-0.498974 0.197935 0.444427 -0.301950 0.929624 -0.211158 0.872385 0.199821 120 97 75\n-0.519268 0.233805 0.680700 -0.312754 0.941527 0.125187 0.924422 0.204827 114 87 59\n0.765293 0.173729 0.695138 0.392315 0.903836 -0.170629 0.843299 0.473104 99 67 46\n0.708914 0.121618 0.442781 0.457167 0.866909 -0.198523 0.169276 0.844210 84 64 39\n0.668429 0.175737 0.470511 0.836146 0.545457 -0.057283 0.162786 0.849458 84 47 23\n-1.094074 0.216046 -0.323392 -0.322642 0.815027 0.481216 0.124902 0.766802 33 23 19\n-1.168678 0.205311 -0.247417 0.080508 0.995239 0.054842 0.122796 0.752121 90 70 42\n-1.090056 0.168091 -0.200285 -0.153264 0.961547 0.227790 0.129535 0.751103 67 57 44\n0.079991 0.189999 -1.345287 -0.030091 0.053621 -0.998077 0.811698 0.560749 59 24 9\n0.970946 0.172883 -0.991352 0.650899 0.511185 -0.561235 0.730371 0.922402 73 36 13\n1.005844 0.137174 -0.975163 0.777184 0.160680 -0.608386 0.737967 0.913318 57 27 10\n0.221700 0.166503 -1.341617 0.067782 0.078707 -0.994568 0.826709 0.534441 43 19 9\n-1.201458 0.227714 -0.360172 -0.522660 0.736229 0.429823 0.693882 0.860624 41 23 18\n-1.034579 0.214902 -0.647142 -0.894559 0.280526 -0.347911 0.154860 0.602408 87 50 25\n0.164300 0.235168 0.829941 0.297311 0.810724 0.504288 0.040465 0.680362 81 70 58\n-0.474041 0.236672 0.206184 0.290109 0.943419 0.160405 0.433560 0.817634 66 35 28\n-0.591682 0.165641 0.590203 -0.383862 0.911740 -0.146123 0.891918 0.198514 63 38 24\n0.563086 0.171212 0.304077 -0.157964 0.984375 0.077548 0.782989 0.410708 66 49 37\n0.463756 0.147640 0.298479 -0.108798 0.928739 0.354320 0.788861 0.389823 44 35 33\n-0.150686 0.239000 0.804835 -0.179449 0.906430 0.382275 0.036587 0.744247 113 98 74\n0.463756 0.147640 0.298479 -0.108798 0.928739 0.354320 0.284142 0.620122 44 35 33\n0.389700 0.214306 0.235973 0.258034 0.722343 0.641560 0.264273 0.613186 24 13 11\n0.402308 0.145327 0.336704 0.125767 0.980316 0.151982 0.284955 0.604773 51 42 35\n-1.209987 0.186271 -0.499631 -0.832575 0.317576 -0.453810 0.172714 0.796319 49 33 32\n-0.701785 0.171308 0.044164 -0.385876 0.882534 0.268685 0.180353 0.813329 56 41 35\n-0.649850 0.219400 0.067074 -0.400952 0.888638 0.222449 0.190796 0.813588 57 30 30\n0.778318 0.173710 0.776172 0.269478 0.952757 0.139927 0.858937 0.480969 97 63 40\n-0.699562 0.212982 -0.976466 -0.426313 0.710227 -0.560167 0.628006 0.070787 95 59 34\n-0.385824 0.243545 0.447084 -0.103763 0.925962 -0.362987 0.867035 0.222967 135 105 66\n-0.612268 0.204007 -1.057050 -0.349162 0.544145 -0.762841 0.089000 0.898600 87 49 22\n-0.709568 0.170815 -1.007889 -0.465987 0.423109 -0.777032 0.082500 0.892700 81 46 22\n-0.699562 0.212982 -0.976466 -0.426313 0.710227 -0.560167 0.088891 0.892167 95 59 34\n-0.260590 0.195555 0.246811 -0.157323 0.974090 0.162420 0.822773 0.237340 108 98 79\n0.492417 0.201889 0.737380 -0.051241 0.907498 0.416883 0.048870 0.607257 91 66 42\n0.404744 0.183728 -1.315695 0.259041 0.204688 -0.943907 0.404763 0.755982 72 33 10\n0.494727 0.171130 -1.303699 0.222633 0.085635 -0.971129 0.405534 0.738557 63 25 8\n0.782135 0.156223 -1.155835 0.580798 0.261940 -0.770714 0.075164 0.806679 49 18 5\n0.832631 0.128027 -1.136496 0.571123 -0.075320 -0.817377 0.079630 0.811256 45 20 9\n0.731949 0.122116 -1.198558 0.434339 -0.319193 -0.842280 0.065892 0.820768 86 38 17\n1.178929 0.171019 -0.554529 0.732139 0.660665 -0.165624 0.722800 0.827500 78 54 33\n0.264553 0.123821 -1.328862 0.077303 -0.218787 -0.972686 0.460600 0.876500 63 24 8\n0.221700 0.166503 -1.341617 0.067782 0.078707 -0.994568 0.458742 0.890087 43 19 9\n0.251309 0.176436 -1.321700 0.186865 0.163396 -0.968688 0.455242 0.880156 67 30 9\n0.300709 0.174582 -1.332024 0.026582 0.163305 -0.986206 0.408113 0.775292 68 28 9\n0.251309 0.176436 -1.321700 0.186865 0.163396 -0.968688 0.411053 0.783238 67 30 9\n0.731949 0.122116 -1.198558 0.434339 -0.319193 -0.842280 0.863500 0.649500 86 38 17\n0.648312 0.137874 -1.246179 0.311624 -0.127415 -0.941618 0.863500 0.660500 59 20 7\n0.710532 0.175484 -1.197339 0.344951 0.320261 -0.882260 0.859500 0.653100 56 22 7\n-0.649850 0.219400 0.067074 -0.400952 0.888638 0.222449 0.113216 0.866644 57 30 30\n-0.666791 0.212427 0.020278 -0.594958 0.737175 0.320200 0.184007 0.819558 69 45 33\n-0.348110 0.241625 0.703682 -0.090548 0.917508 0.387188 0.051612 0.780912 94 74 47\n-0.217844 0.240568 0.744657 -0.138401 0.956236 0.257698 0.048500 0.755234 92 78 60\n-0.617581 0.178919 0.780268 -0.219642 0.972015 0.082949 0.935226 0.197119 110 79 55\n-0.509926 0.210253 0.763151 -0.115543 0.934294 0.337230 0.928244 0.216476 102 82 57\n-0.519268 0.233805 0.680700 -0.312754 0.941527 0.125187 0.467953 0.797155 114 87 59\n-0.632571 0.183328 0.175351 -0.449629 0.773247 0.447096 0.048700 0.901900 63 45 46\n-0.513944 0.204192 0.258183 -0.086978 0.903165 0.420362 0.043400 0.897300 46 25 26\n-0.621576 0.206383 0.119238 -0.325388 0.886380 0.329203 0.048700 0.893400 41 25 30\n0.221700 0.166503 -1.341617 0.067782 0.078707 -0.994568 0.824400 0.536300 43 19 9\n0.193518 0.201531 -1.327028 0.010620 0.232093 -0.972625 0.815827 0.540725 76 33 11\n1.088062 0.143897 0.423090 0.417585 0.887204 0.196112 0.773092 0.523127 69 35 24\n1.159339 0.141024 0.255026 0.670003 0.700247 0.246406 0.746546 0.521523 95 74 51\n-0.401616 0.161787 0.876604 -0.026124 0.950774 0.308756 0.408300 0.880200 85 68 48\n-0.150686 0.239000 0.804835 -0.179449 0.906430 0.382275 0.408300 0.894400 113 98 74\n-0.217844 0.240568 0.744657 -0.138401 0.956236 0.257698 0.403500 0.888300 92 78 60\n0.731982 0.162998 0.130017 0.620167 0.706290 0.341350 0.757100 0.432600 69 43 23\n0.685529 0.182303 0.226315 0.440748 0.889248 0.122196 0.765824 0.427842 113 91 61\n0.705888 0.152321 0.261685 0.633076 0.742210 0.219825 0.761718 0.437296 80 45 18\n-1.094074 0.216046 -0.323392 -0.322642 0.815027 0.481216 0.769529 0.020578 33 23 19\n-1.201458 0.227714 -0.360172 -0.522660 0.736229 0.429823 0.771223 0.005839 41 23 18\n0.731982 0.162998 0.130017 0.620167 0.706290 0.341350 0.284280 0.687293 69 43 23\n0.801184 0.149455 0.064041 0.314066 0.860042 0.402051 0.282612 0.705446 46 34 19\n0.715603 0.207363 0.111574 0.428938 0.710959 0.557237 0.272323 0.685184 65 50 34\n0.347720 0.217122 0.633135 0.296182 0.903043 -0.311045 0.859008 0.385662 84 51 34\n1.002006 0.165190 0.231211 -0.298166 0.896054 0.328806 0.338669 0.807531 71 29 25\n1.042485 0.208992 0.120180 -0.150182 0.948943 0.277291 0.349976 0.796380 90 43 19\n0.866166 0.136737 0.182730 -0.197577 0.930479 0.308420 0.341274 0.825971 85 54 34\n0.778318 0.173710 0.776172 0.269478 0.952757 0.139927 0.041387 0.554079 97 63 40\n0.637801 0.163540 0.860349 -0.016175 0.968413 0.248726 0.028192 0.580794 93 69 44\n0.783923 0.147038 0.856507 0.231880 0.932646 0.276284 0.032962 0.556264 84 58 35\n1.189849 0.174277 0.012378 0.718863 0.690298 0.081576 0.716034 0.714567 82 56 32\n-0.379923 0.189602 0.241876 -0.152074 0.954772 0.255470 0.446442 0.826389 113 91 81\n-0.456815 0.209156 0.157672 0.176122 0.982574 0.058962 0.440000 0.821600 79 42 26\n-0.612268 0.204007 -1.057050 -0.349162 0.544145 -0.762841 0.608184 0.084592 87 49 22\n-0.511855 0.239369 -1.051168 -0.303049 0.611988 -0.730461 0.605227 0.103617 89 50 23\n-0.506843 0.152840 -1.099147 -0.228126 0.039155 -0.972839 0.594108 0.101220 46 24 10\n0.866166 0.136737 0.182730 -0.197577 0.930479 0.308420 0.220200 0.796900 85 54 34\n0.947913 0.216030 0.041413 -0.317240 0.921842 0.222510 0.205010 0.780517 67 31 26\n0.867069 0.169357 -0.011136 -0.146458 0.944334 0.294504 0.218729 0.775208 83 59 43\n0.685529 0.182303 0.226315 0.440748 0.889248 0.122196 0.284049 0.671747 113 91 61\n-0.075811 0.153499 -1.322539 -0.143376 0.139256 -0.979797 0.216849 0.876341 64 28 11\n-0.027911 0.208823 -1.310425 -0.137700 0.249123 -0.958617 0.213800 0.868800 77 37 13\n0.011567 0.168644 -1.322847 -0.118656 0.066225 -0.990722 0.219855 0.862866 64 27 8\n0.644102 0.219322 0.652722 0.391064 0.919706 -0.034059 0.845410 0.447967 90 51 28\n0.668429 0.175737 0.470511 0.836146 0.545457 -0.057283 0.824452 0.443848 84 47 23\n-0.621576 0.206383 0.119238 -0.325388 0.886380 0.329203 0.341751 0.830468 41 25 30\n-0.513944 0.204192 0.258183 -0.086978 0.903165 0.420362 0.345500 0.849519 46 25 26\n-0.540064 0.223700 0.138255 -0.112186 0.986541 0.118686 0.336206 0.839424 51 29 31\n0.448039 0.181882 -1.294694 0.062380 0.027131 -0.997681 0.405683 0.748857 71 27 9\n-0.469183 0.219162 -0.139313 0.318125 0.741722 -0.590442 0.766095 0.169875 59 44 30\n-0.412722 0.214123 -0.137735 -0.186346 0.887722 -0.420942 0.763004 0.182000 54 36 25\n-0.469024 0.191608 -0.171408 0.350719 0.936125 -0.025361 0.758987 0.168994 37 25 21\n0.947913 0.216030 0.041413 -0.317240 0.921842 0.222510 0.469400 0.683800 67 31 26\n1.042485 0.208992 0.120180 -0.150182 0.948943 0.277291 0.462299 0.661268 90 43 19\n-1.064452 0.234362 -0.480027 -0.316111 -0.318308 -0.893704 0.864000 0.753800 12 5 4\n-1.117037 0.193051 -0.517198 0.141758 0.476669 -0.867550 0.861793 0.762190 18 7 6\n-1.121287 0.237574 -0.501706 0.069887 0.374004 -0.924772 0.860281 0.756117 17 7 6\n-1.062510 0.195247 -0.499473 -0.401471 0.401502 -0.823145 0.469363 0.902103 9 3 3\n-1.117037 0.193051 -0.517198 0.141758 0.476669 -0.867550 0.469400 0.908100 18 7 6\n-1.064452 0.234362 -0.480027 -0.316111 -0.318308 -0.893704 0.466208 0.901870 12 5 4\n-0.527102 0.234258 0.588418 -0.504807 0.854335 -0.123417 0.460600 0.891500 71 30 23\n-0.498974 0.197935 0.444427 -0.301950 0.929624 -0.211158 0.460600 0.899900 120 97 75\n-0.591682 0.165641 0.590203 -0.383862 0.911740 -0.146123 0.454900 0.893400 63 38 24\n-0.074229 0.231323 -1.295506 -0.198340 0.465133 -0.862697 0.799144 0.594439 87 45 18\n0.279647 0.239750 0.325829 0.510788 0.730277 0.453597 0.260134 0.581720 76 59 45\n0.746215 0.164283 -1.210684 0.359844 0.187872 -0.913877 0.296500 0.892200 48 18 7\n0.731949 0.122116 -1.198558 0.434339 -0.319193 -0.842280 0.296404 0.884148 86 38 17\n0.710532 0.175484 -1.197339 0.344951 0.320261 -0.882260 0.301331 0.891586 56 22 7\n0.261050 0.198897 0.489690 0.461135 0.810236 -0.361675 0.837705 0.359095 40 17 13\n0.117313 0.207923 -1.332964 0.086306 0.173009 -0.981109 0.811479 0.554075 65 26 9\n0.483103 0.193778 0.273191 -0.117130 0.679006 0.724693 0.276545 0.626714 45 24 22\n1.170291 0.190252 -0.377717 0.690085 0.723655 -0.007874 0.717519 0.784836 73 46 24\n1.117780 0.203605 -0.635565 0.574175 0.809961 -0.119419 0.174500 0.870200 62 34 15\n1.180091 0.120661 -0.641139 0.975616 0.065096 -0.209571 0.180600 0.865600 78 41 19\n1.158965 0.166880 -0.713248 0.870540 0.415662 -0.263344 0.178370 0.882176 72 53 39\n1.100379 0.176321 -0.786966 0.664205 0.609729 -0.432417 0.495600 0.664600 67 35 15\n1.139203 0.162512 -0.756314 0.814020 0.386883 -0.433180 0.497200 0.657100 74 38 15\n1.121125 0.115562 -0.802410 0.893765 0.011078 -0.448347 0.498879 0.669175 44 21 8\n0.931363 0.173280 -1.040632 0.554430 0.464064 -0.690786 0.731269 0.934288 63 32 9\n0.746215 0.164283 -1.210684 0.359844 0.187872 -0.913877 0.062868 0.810908 48 18 7\n1.139203 0.162512 -0.756314 0.814020 0.386883 -0.433180 0.723400 0.862100 74 38 15\n0.507337 0.131060 0.901781 -0.079775 0.992767 0.089663 0.023516 0.609283 87 64 41\n1.187323 0.150468 0.155115 0.820826 0.515976 0.244850 0.306800 0.903000 71 43 23\n1.108676 0.192209 0.160912 0.256966 0.897732 0.357738 0.302100 0.895100 90 62 39\n1.159339 0.141024 0.255026 0.670003 0.700247 0.246406 0.306800 0.895000 95 74 51\n-0.649850 0.219400 0.067074 -0.400952 0.888638 0.222449 0.138352 0.868690 57 30 30\n-0.621576 0.206383 0.119238 -0.325388 0.886380 0.329203 0.132847 0.865943 41 25 30\n-0.540064 0.223700 0.138255 -0.112186 0.986541 0.118686 0.135300 0.849000 51 29 31\n0.696644 0.204938 0.759466 0.203101 0.951353 0.231544 0.047596 0.567542 70 24 16\n0.563086 0.171212 0.304077 -0.157964 0.984375 0.077548 0.286941 0.642000 66 49 37\n0.668429 0.175737 0.470511 0.836146 0.545457 -0.057283 0.241007 0.871053 84 47 23\n0.682954 0.151918 0.340109 0.818232 0.554552 0.151463 0.241100 0.884800 70 36 15\n0.633056 0.221321 0.379066 0.339305 0.915769 -0.214850 0.237454 0.878808 130 85 41\n0.682954 0.151918 0.340109 0.818232 0.554552 0.151463 0.343700 0.883000 70 36 15\n0.705888 0.152321 0.261685 0.633076 0.742210 0.219825 0.344700 0.877600 80 45 18\n0.633056 0.221321 0.379066 0.339305 0.915769 -0.214850 0.348726 0.879804 130 85 41\n-1.117037 0.193051 -0.517198 0.141758 0.476669 -0.867550 0.156800 0.843354 18 7 6\n-1.172236 0.216223 -0.504276 -0.188421 0.367138 -0.910855 0.152026 0.832614 22 9 7\n-1.121287 0.237574 -0.501706 0.069887 0.374004 -0.924772 0.159902 0.839298 17 7 6\n-1.034579 0.214902 -0.647142 -0.894559 0.280526 -0.347911 0.704126 0.023510 87 50 25\n-1.032133 0.266046 -0.603468 -0.652913 0.679617 -0.334269 0.718236 0.027799 106 74 46\n0.643428 0.184521 0.250699 -0.009552 0.998993 -0.043550 0.285675 0.657225 79 61 37\n0.583442 0.203068 0.223059 0.368419 0.856777 0.360729 0.279720 0.649128 28 18 15\n0.462139 0.216946 0.569870 -0.197638 0.969054 -0.147710 0.842261 0.405299 119 90 58\n0.049515 0.259805 0.842132 0.060854 0.852901 0.518479 0.039833 0.707083 102 83 53\n0.439088 0.100837 -1.303515 0.194464 -0.366314 -0.909909 0.413700 0.902200 65 25 10\n0.404744 0.183728 -1.315695 0.259041 0.204688 -0.943907 0.408407 0.896741 72 33 10\n0.448039 0.181882 -1.294694 0.062380 0.027131 -0.997681 0.413700 0.894700 71 27 9\n0.570017 0.235530 0.451406 -0.373852 0.886166 -0.273659 0.817833 0.419746 76 28 20\n-0.433746 0.175409 0.247842 0.088015 0.963469 0.252876 0.120600 0.902700 45 22 14\n-0.456815 0.209156 0.157672 0.176122 0.982574 0.058962 0.115100 0.897400 79 42 26\n-0.474041 0.236672 0.206184 0.290109 0.943419 0.160405 0.120600 0.896100 66 35 28\n1.108676 0.192209 0.160912 0.256966 0.897732 0.357738 0.484807 0.570570 90 62 39\n1.046270 0.154476 0.300256 -0.086001 0.984222 0.154515 0.481646 0.600956 88 50 30\n1.159339 0.141024 0.255026 0.670003 0.700247 0.246406 0.473518 0.583081 95 74 51\n0.403080 0.213701 0.699357 0.074129 0.973388 0.216712 0.057396 0.626466 88 55 32\n0.268534 0.232946 0.712260 0.183172 0.931303 0.314768 0.056230 0.653547 70 45 30\n-0.348322 0.224348 -0.229604 -0.147618 0.977477 0.150609 0.745130 0.188681 105 94 87\n-0.436449 0.212369 -0.228831 0.196356 0.896664 0.396771 0.750291 0.174968 60 51 49\n0.696644 0.204938 0.759466 0.203101 0.951353 0.231544 0.861715 0.464909 70 24 16\n0.319945 0.210787 0.591678 0.454237 0.834193 -0.312632 0.853573 0.377533 51 32 21\n0.536248 0.230581 0.227865 0.232704 0.846004 0.479659 0.271284 0.640909 44 23 25\n-1.209987 0.186271 -0.499631 -0.832575 0.317576 -0.453810 0.146959 0.828620 49 33 32\n-1.181128 0.274865 -0.488784 -0.470656 0.492569 -0.731986 0.154900 0.825100 37 18 13\n-0.445678 0.210605 -1.102647 -0.332194 0.341716 -0.879116 0.591332 0.114637 59 33 15\n-1.032133 0.266046 -0.603468 -0.652913 0.679617 -0.334269 0.150049 0.614597 106 74 46\n-0.142229 0.236936 0.408920 -0.217689 0.969726 -0.110385 0.846940 0.270884 107 81 49\n0.643428 0.184521 0.250699 -0.009552 0.998993 -0.043550 0.772441 0.421321 79 61 37\n0.648733 0.190745 0.175812 0.227088 0.938902 0.258553 0.764498 0.418942 33 23 16\n0.583442 0.203068 0.223059 0.368419 0.856777 0.360729 0.771769 0.409722 28 18 15\n-0.174970 0.221445 0.210638 -0.121708 0.989288 0.080325 0.813884 0.251169 105 97 71\n-0.513944 0.204192 0.258183 -0.086978 0.903165 0.420362 0.106400 0.879100 46 25 26\n-0.474041 0.236672 0.206184 0.290109 0.943419 0.160405 0.098160 0.875259 66 35 28\n-0.540064 0.223700 0.138255 -0.112186 0.986541 0.118686 0.104534 0.863764 51 29 31\n-1.062510 0.195247 -0.499473 -0.401471 0.401502 -0.823145 0.170331 0.627365 9 3 3\n-1.047316 0.233719 -0.513735 -0.926542 0.375011 0.029389 0.161795 0.628265 36 11 8\n1.199743 0.165610 -0.451474 0.921964 0.384777 -0.043458 0.865600 0.526100 70 43 22\n1.199099 0.144624 -0.543118 0.977050 0.172246 -0.125095 0.865600 0.537300 52 35 24\n1.165268 0.190312 -0.483761 0.602771 0.792261 -0.094668 0.862300 0.528300 75 43 26\n0.813782 0.193895 -1.123047 0.337046 0.503494 -0.795526 0.081060 0.799670 71 34 12\n0.897994 0.179871 -1.050576 0.619648 0.421247 -0.662221 0.453189 0.759294 62 26 8\n0.931363 0.173280 -1.040632 0.554430 0.464064 -0.690786 0.456200 0.762400 63 32 9\n0.255332 0.238673 0.529540 0.483352 0.753166 -0.446181 0.848151 0.359874 32 14 12\n0.867069 0.169357 -0.011136 -0.146458 0.944334 0.294504 0.278942 0.720061 83 59 43\n0.775574 0.216329 0.029312 0.690573 0.644856 0.327433 0.267114 0.705997 56 26 13\n0.685529 0.182303 0.226315 0.440748 0.889248 0.122196 0.348200 0.872900 113 91 61\n-0.027911 0.208823 -1.310425 -0.137700 0.249123 -0.958617 0.803165 0.582955 77 37 13\n0.043581 0.239792 -1.316390 -0.172460 0.471480 -0.864834 0.803715 0.571935 80 38 15\n-1.024713 0.186653 -0.112006 -0.349681 0.887692 0.299478 0.084564 0.577153 89 75 60\n-0.950463 0.263640 -0.186799 -0.286111 0.877773 0.384198 0.079522 0.593744 95 80 59\n0.268029 0.192855 0.423171 0.559160 0.812433 0.165014 0.825076 0.358877 51 34 24\n-0.796743 0.244673 -0.101613 -0.200140 0.855953 0.476669 0.108481 0.608658 94 80 59\n1.042485 0.208992 0.120180 -0.150182 0.948943 0.277291 0.485100 0.584500 90 43 19\n1.002006 0.165190 0.231211 -0.298166 0.896054 0.328806 0.491780 0.595825 71 29 25\n-1.062128 0.254662 -0.343468 -0.362102 0.812891 0.456099 0.169633 0.662610 23 13 13\n-1.171445 0.330796 -0.446071 -0.356090 0.910001 -0.212256 0.711721 0.878294 73 61 66\n-0.812535 0.279460 -0.735973 -0.312265 0.884091 -0.347575 0.682386 0.060521 105 76 58\n0.200041 0.245975 0.487079 0.515946 0.843623 -0.148503 0.843337 0.347394 76 59 39\n-0.728684 0.263429 -0.871033 -0.340068 0.860469 -0.379376 0.652552 0.071529 122 90 59\n-0.422330 0.260127 0.513946 -0.200995 0.963866 -0.174780 0.884680 0.220710 144 114 82\n-0.653812 0.249921 -0.069958 0.095767 0.937895 0.333384 0.793111 0.142005 98 82 65\n-0.666791 0.212427 0.020278 -0.594958 0.737175 0.320200 0.808347 0.142605 69 45 33\n-0.649850 0.219400 0.067074 -0.400952 0.888638 0.222449 0.813787 0.146515 57 30 30\n-0.379923 0.189602 0.241876 -0.152074 0.954772 0.255470 0.459594 0.555635 113 91 81\n-0.260590 0.195555 0.246811 -0.157323 0.974090 0.162420 0.465389 0.588928 108 98 79\n-0.245211 0.244880 0.138544 -0.044649 0.950377 0.307840 0.451445 0.589900 97 59 40\n-0.666791 0.212427 0.020278 -0.594958 0.737175 0.320200 0.136055 0.615036 69 45 33\n-0.741367 0.287444 -0.131185 -0.159581 0.853664 0.495712 0.104557 0.624686 96 87 66\n-0.469024 0.191608 -0.171408 0.350719 0.936125 -0.025361 0.142345 0.671036 37 25 21\n-0.436449 0.212369 -0.228831 0.196356 0.896664 0.396771 0.138964 0.683504 60 51 49\n-0.515008 0.238796 -0.163046 0.772546 0.634938 -0.001038 0.132007 0.664207 35 27 15\n1.202939 0.146778 -0.078682 0.966918 -0.252846 0.032868 0.241100 0.893200 84 40 14\n1.220111 0.169899 -0.116709 0.984375 0.174291 0.024384 0.246789 0.886436 62 41 25\n1.189849 0.174277 0.012378 0.718863 0.690298 0.081576 0.248000 0.893200 82 56 32\n1.201873 0.152065 -0.212727 0.989776 0.131870 -0.054109 0.499400 0.624900 80 41 17\n1.208581 0.139031 -0.315903 0.995025 0.099307 -0.003052 0.495750 0.615784 61 39 20\n1.170291 0.190252 -0.377717 0.690085 0.723655 -0.007874 0.499400 0.608000 73 46 24\n-1.064452 0.234362 -0.480027 -0.316111 -0.318308 -0.893704 0.366600 0.881600 12 5 4\n-1.121287 0.237574 -0.501706 0.069887 0.374004 -0.924772 0.365062 0.876429 17 7 6\n-1.074990 0.242623 -0.502074 -0.102512 -0.347911 -0.931883 0.370321 0.878137 11 4 4\n-1.064452 0.234362 -0.480027 -0.316111 -0.318308 -0.893704 0.165071 0.633488 12 5 4\n1.165268 0.190312 -0.483761 0.602771 0.792261 -0.094668 0.860000 0.603111 75 43 26\n1.199099 0.144624 -0.543118 0.977050 0.172246 -0.125095 0.857900 0.612500 52 35 24\n1.178929 0.171019 -0.554529 0.732139 0.660665 -0.165624 0.855333 0.602228 78 54 33\n1.180091 0.120661 -0.641139 0.975616 0.065096 -0.209571 0.576800 0.475600 78 41 19\n1.117780 0.203605 -0.635565 0.574175 0.809961 -0.119419 0.588371 0.463106 62 34 15\n1.178929 0.171019 -0.554529 0.732139 0.660665 -0.165624 0.596904 0.480013 78 54 33\n1.100379 0.176321 -0.786966 0.664205 0.609729 -0.432417 0.559810 0.450830 67 35 15\n1.121125 0.115562 -0.802410 0.893765 0.011078 -0.448347 0.549900 0.445300 44 21 8\n1.023556 0.190906 -0.895497 0.674398 0.605274 -0.422803 0.544753 0.426838 77 42 19\n1.056279 0.141947 -0.892172 0.809626 0.260872 -0.525742 0.540217 0.434231 54 25 9\n1.056279 0.141947 -0.892172 0.809626 0.260872 -0.525742 0.728770 0.895639 54 25 9\n0.648312 0.137874 -1.246179 0.311624 -0.127415 -0.941618 0.092400 0.895800 59 20 7\n0.662861 0.191972 -1.223447 0.473342 0.303079 -0.827082 0.089000 0.887700 57 18 7\n0.710532 0.175484 -1.197339 0.344951 0.320261 -0.882260 0.092400 0.880600 56 22 7\n1.220111 0.169899 -0.116709 0.984375 0.174291 0.024384 0.716951 0.729174 62 41 25\n1.139203 0.162512 -0.756314 0.814020 0.386883 -0.433180 0.475200 0.678000 74 38 15\n1.158965 0.166880 -0.713248 0.870540 0.415662 -0.263344 0.472900 0.675200 72 53 39\n1.180091 0.120661 -0.641139 0.975616 0.065096 -0.209571 0.475200 0.655600 78 41 19\n-0.540064 0.223700 0.138255 -0.112186 0.986541 0.118686 0.820204 0.173764 51 29 31\n-0.456815 0.209156 0.157672 0.176122 0.982574 0.058962 0.818983 0.191604 79 42 26\n-0.475720 0.230248 0.077561 0.079379 0.986145 0.145634 0.804549 0.180889 133 113 85\n0.633056 0.221321 0.379066 0.339305 0.915769 -0.214850 0.798206 0.428261 130 85 41\n0.643428 0.184521 0.250699 -0.009552 0.998993 -0.043550 0.771920 0.419877 79 61 37\n-0.263144 0.243584 0.468313 -0.023591 0.955718 -0.293313 0.865477 0.250570 143 116 83\n-0.359748 0.215517 0.032187 -0.270547 0.949705 0.157659 0.791593 0.203388 69 57 52\n-0.950463 0.263640 -0.186799 -0.286111 0.877773 0.384198 0.177201 0.694557 95 80 59\n0.739414 0.199062 -1.167566 0.488784 0.305032 -0.817316 0.512205 0.352897 70 31 10\n0.746215 0.164283 -1.210684 0.359844 0.187872 -0.913877 0.502638 0.350975 48 18 7\n0.710532 0.175484 -1.197339 0.344951 0.320261 -0.882260 0.506928 0.345546 56 22 7\n0.549146 0.239998 0.659126 -0.039155 0.985168 0.166875 0.058068 0.593094 117 83 58\n-0.456815 0.209156 0.157672 0.176122 0.982574 0.058962 0.445905 0.552281 79 42 26\n0.648733 0.190745 0.175812 0.227088 0.938902 0.258553 0.277954 0.666965 33 23 16\n0.685529 0.182303 0.226315 0.440748 0.889248 0.122196 0.286338 0.671564 113 91 61\n-0.519268 0.233805 0.680700 -0.312754 0.941527 0.125187 0.056900 0.795200 114 87 59\n-0.280983 0.258678 0.061160 -0.249733 0.945860 0.207282 0.796045 0.215280 121 100 70\n0.644102 0.219322 0.652722 0.391064 0.919706 -0.034059 0.118200 0.798800 90 51 28\n0.651297 0.222162 0.484860 0.817316 0.523362 -0.240944 0.113599 0.819150 82 40 18\n-0.091656 0.255056 0.304485 -0.244514 0.965209 -0.092502 0.828699 0.274308 141 116 86\n-1.201458 0.227714 -0.360172 -0.522660 0.736229 0.429823 0.106882 0.764301 41 23 18\n-1.062128 0.254662 -0.343468 -0.362102 0.812891 0.456099 0.124817 0.781985 23 13 13\n-0.474041 0.236672 0.206184 0.290109 0.943419 0.160405 0.829775 0.191050 66 35 28\n-0.507319 0.223582 -0.056602 -0.117527 0.985961 0.118412 0.784436 0.167843 95 78 67\n-0.452945 0.254653 -0.087825 -0.088931 0.986663 -0.136174 0.785720 0.182608 136 118 86\n-0.348322 0.224348 -0.229604 -0.147618 0.977477 0.150609 0.143730 0.695669 105 94 87\n-0.410615 0.245781 -0.283571 0.206580 0.630329 0.748283 0.132580 0.696633 42 31 27\n1.201873 0.152065 -0.212727 0.989776 0.131870 -0.054109 0.201312 0.796241 80 41 17\n1.179968 0.199704 -0.198697 0.694510 0.717002 -0.059420 0.194466 0.793207 97 67 40\n1.220111 0.169899 -0.116709 0.984375 0.174291 0.024384 0.195300 0.785300 62 41 25\n1.158965 0.166880 -0.713248 0.870540 0.415662 -0.263344 0.568904 0.467288 72 53 39\n1.111282 0.193617 -0.720879 0.500229 0.843196 -0.196844 0.572844 0.457226 99 66 34\n-1.047316 0.233719 -0.513735 -0.926542 0.375011 0.029389 0.874000 0.645700 36 11 8\n-1.064452 0.234362 -0.480027 -0.316111 -0.318308 -0.893704 0.874000 0.649200 12 5 4\n-1.074990 0.242623 -0.502074 -0.102512 -0.347911 -0.931883 0.872500 0.648200 11 4 4\n1.023556 0.190906 -0.895497 0.674398 0.605274 -0.422803 0.724366 0.899211 77 42 19\n0.840064 0.195358 -1.121391 0.422651 0.451552 -0.785760 0.442803 0.753791 84 46 21\n0.832631 0.128027 -1.136496 0.571123 -0.075320 -0.817377 0.861590 0.774903 45 20 9\n0.813782 0.193895 -1.123047 0.337046 0.503494 -0.795526 0.861586 0.784869 71 34 12\n0.840064 0.195358 -1.121391 0.422651 0.451552 -0.785760 0.858400 0.779000 84 46 21\n0.523715 0.200641 -0.291232 0.311869 0.944700 0.101169 0.682725 0.363843 50 37 31\n0.534141 0.207707 -0.246803 0.208106 0.923490 -0.322245 0.690692 0.368053 69 40 26\n0.573559 0.201486 -0.330796 0.264016 0.956450 0.124271 0.672518 0.371874 67 60 46\n-0.515008 0.238796 -0.163046 0.772546 0.634938 -0.001038 0.767850 0.158356 35 27 15\n-1.181128 0.274865 -0.488784 -0.470656 0.492569 -0.731986 0.703559 0.886425 37 18 13\n0.070131 0.244716 0.189649 -0.263283 0.957244 -0.119816 0.797119 0.300220 109 88 68\n0.009873 0.223030 0.102848 -0.201422 0.968841 0.144078 0.785215 0.286440 102 92 84\n-0.069477 0.221850 0.138064 0.017365 0.996826 0.077425 0.794442 0.271641 115 105 93\n1.095603 0.229384 0.099615 0.099307 0.983001 0.154363 0.495040 0.555718 130 96 56\n1.187323 0.150468 0.155115 0.820826 0.515976 0.244850 0.475511 0.562000 71 43 23\n1.189849 0.174277 0.012378 0.718863 0.690298 0.081576 0.481819 0.552677 82 56 32\n-0.284985 0.164946 -1.216263 -0.539293 0.474410 -0.695730 0.138600 0.859700 23 11 6\n-0.290355 0.214963 -1.163581 -0.698752 0.268166 -0.663167 0.145500 0.849000 74 29 9\n-0.227387 0.143749 -1.263102 -0.518357 0.258522 -0.815119 0.140487 0.870830 80 45 20\n0.221700 0.166503 -1.341617 0.067782 0.078707 -0.994568 0.855704 0.697598 43 19 9\n0.193518 0.201531 -1.327028 0.010620 0.232093 -0.972625 0.859200 0.693600 76 33 11\n0.249565 0.223505 -1.314579 0.090243 0.346782 -0.933561 0.858917 0.703256 86 44 17\n0.251309 0.176436 -1.321700 0.186865 0.163396 -0.968688 0.856700 0.706500 67 30 9\n0.300709 0.174582 -1.332024 0.026582 0.163305 -0.986206 0.408347 0.775360 68 28 9\n0.351783 0.224728 -1.302751 0.022187 0.390606 -0.920286 0.400500 0.773200 72 31 10\n0.648733 0.190745 0.175812 0.227088 0.938902 0.258553 0.127286 0.884977 33 23 16\n0.715603 0.207363 0.111574 0.428938 0.710959 0.557237 0.122818 0.891500 65 50 34\n0.660818 0.214146 0.088145 0.146153 0.736442 0.660482 0.122223 0.883849 12 7 7\n-0.516377 0.250827 -0.137745 0.365215 0.928983 0.059816 0.772579 0.165180 107 99 72\n0.775574 0.216329 0.029312 0.690573 0.644856 0.327433 0.725381 0.436966 56 26 13\n0.867069 0.169357 -0.011136 -0.146458 0.944334 0.294504 0.711241 0.450802 83 59 43\n0.789327 0.202322 -0.092956 0.152562 0.985626 0.072298 0.703134 0.429350 55 30 19\n-0.541183 0.280783 -0.988865 -0.307291 0.843867 -0.439802 0.622031 0.102819 113 79 50\n0.371600 0.268970 0.186545 0.272256 0.863948 0.423566 0.247893 0.614285 47 19 12\n-0.174970 0.221445 0.210638 -0.121708 0.989288 0.080325 0.465809 0.595616 105 97 71\n1.199743 0.165610 -0.451474 0.921964 0.384777 -0.043458 0.617913 0.491246 70 43 22\n1.165268 0.190312 -0.483761 0.602771 0.792261 -0.094668 0.610799 0.483272 75 43 26\n1.170291 0.190252 -0.377717 0.690085 0.723655 -0.007874 0.623100 0.491200 73 46 24\n-0.245211 0.244880 0.138544 -0.044649 0.950377 0.307840 0.813928 0.221953 97 59 40\n1.139203 0.162512 -0.756314 0.814020 0.386883 -0.433180 0.562559 0.465095 74 38 15\n-0.027911 0.208823 -1.310425 -0.137700 0.249123 -0.958617 0.804729 0.581965 77 37 13\n-0.516377 0.250827 -0.137745 0.365215 0.928983 0.059816 0.305641 0.883390 107 99 72\n-0.507319 0.223582 -0.056602 -0.117527 0.985961 0.118412 0.306800 0.894700 95 78 67\n-0.452945 0.254653 -0.087825 -0.088931 0.986663 -0.136174 0.302701 0.886892 136 118 86\n0.404744 0.183728 -1.315695 0.259041 0.204688 -0.943907 0.484801 0.894371 72 33 10\n0.351640 0.156603 -1.326921 0.086367 0.009980 -0.996185 0.482490 0.888508 63 24 7\n0.351783 0.224728 -1.302751 0.022187 0.390606 -0.920286 0.486652 0.882713 72 31 10\n-0.516377 0.250827 -0.137745 0.365215 0.928983 0.059816 0.133352 0.661866 107 99 72\n-0.601518 0.258477 -0.133351 0.241951 0.844386 0.477920 0.121264 0.645705 71 62 50\n-0.507319 0.223582 -0.056602 -0.117527 0.985961 0.118412 0.144584 0.653927 95 78 67\n0.782135 0.156223 -1.155835 0.580798 0.261940 -0.770714 0.512500 0.359800 49 18 5\n0.403080 0.213701 0.699357 0.074129 0.973388 0.216712 0.867650 0.400110 88 55 32\n-0.436449 0.212369 -0.228831 0.196356 0.896664 0.396771 0.300119 0.902013 60 51 49\n-0.410615 0.245781 -0.283571 0.206580 0.630329 0.748283 0.300837 0.908650 42 31 27\n-0.452792 0.226213 -0.267869 0.587848 0.717399 0.373791 0.298800 0.905800 37 28 24\n-1.181128 0.274865 -0.488784 -0.470656 0.492569 -0.731986 0.159800 0.825800 37 18 13\n-1.047316 0.233719 -0.513735 -0.926542 0.375011 0.029389 0.162600 0.872100 36 11 8\n-1.074990 0.242623 -0.502074 -0.102512 -0.347911 -0.931883 0.165560 0.871651 11 4 4\n-1.034922 0.265934 -0.489938 -0.337352 0.830775 -0.442671 0.164767 0.878947 8 3 3\n0.648312 0.137874 -1.246179 0.311624 -0.127415 -0.941618 0.172200 0.901500 59 20 7\n0.611716 0.189260 -1.257395 0.399030 0.248207 -0.882687 0.170429 0.905695 64 23 7\n0.662861 0.191972 -1.223447 0.473342 0.303079 -0.827082 0.168500 0.899300 57 18 7\n0.424472 0.223289 -1.295573 0.173803 0.394269 -0.902371 0.399145 0.753596 99 49 18\n-0.601518 0.258477 -0.133351 0.241951 0.844386 0.477920 0.781595 0.143552 71 62 50\n0.817211 0.212557 -0.416801 -0.216956 0.966277 0.138585 0.644423 0.414313 106 80 58\n0.677691 0.209301 -0.410649 0.112796 0.913572 0.390637 0.653083 0.390068 81 59 35\n0.624521 0.184176 -0.352741 0.146886 0.986541 0.071413 0.663398 0.382245 59 42 32\n-0.870285 0.279279 -0.198497 -0.213965 0.891263 0.399762 0.087250 0.611831 92 82 63\n-0.527102 0.234258 0.588418 -0.504807 0.854335 -0.123417 0.900496 0.205094 71 30 23\n1.220111 0.169899 -0.116709 0.984375 0.174291 0.024384 0.675037 0.515565 62 41 25\n1.179968 0.199704 -0.198697 0.694510 0.717002 -0.059420 0.664725 0.502410 97 67 40\n1.107369 0.236273 -0.087602 0.315653 0.941801 0.115482 0.690095 0.494199 118 74 41\n-0.364967 0.242760 -0.298507 0.180944 0.909574 0.373974 0.733599 0.188291 73 67 61\n-0.410615 0.245781 -0.283571 0.206580 0.630329 0.748283 0.739000 0.178700 42 31 27\n-0.240978 0.245926 -0.257060 -0.378460 0.885495 -0.269417 0.738628 0.211721 112 72 50\n0.343841 0.250914 0.690268 0.305734 0.904019 0.298715 0.060420 0.639392 87 55 43\n0.705880 0.231292 -0.228638 -0.078036 0.996796 -0.016297 0.685228 0.404964 140 110 69\n0.549146 0.239998 0.659126 -0.039155 0.985168 0.166875 0.855326 0.432112 117 83 58\n-0.653812 0.249921 -0.069958 0.095767 0.937895 0.333384 0.124125 0.631547 98 82 65\n-0.245211 0.244880 0.138544 -0.044649 0.950377 0.307840 0.138600 0.882300 97 59 40\n-0.174970 0.221445 0.210638 -0.121708 0.989288 0.080325 0.130300 0.878200 105 97 71\n-0.069477 0.221850 0.138064 0.017365 0.996826 0.077425 0.138600 0.870100 115 105 93\n-0.519268 0.233805 0.680700 -0.312754 0.941527 0.125187 0.915234 0.212792 114 87 59\n-0.266460 0.263301 0.673958 -0.023377 0.976348 0.214789 0.059887 0.762941 103 84 59\n-0.074229 0.231323 -1.295506 -0.198340 0.465133 -0.862697 0.538033 0.177681 87 45 18\n-0.153423 0.198348 -1.288302 -0.427717 0.396802 -0.812128 0.541616 0.161996 85 46 21\n-0.122146 0.287799 -1.242308 -0.295053 0.678549 -0.672658 0.554963 0.172454 104 64 33\n-1.034922 0.265934 -0.489938 -0.337352 0.830775 -0.442671 0.156922 0.636525 8 3 3\n0.897994 0.179871 -1.050576 0.619648 0.421247 -0.662221 0.524172 0.392420 62 26 8\n0.936067 0.209922 -0.975297 0.628712 0.547410 -0.552263 0.535439 0.404863 72 31 10\n0.931363 0.173280 -1.040632 0.554430 0.464064 -0.690786 0.525100 0.400400 63 32 9\n0.695813 0.224107 -1.194245 0.474288 0.486129 -0.733940 0.383820 0.889428 72 33 14\n0.710532 0.175484 -1.197339 0.344951 0.320261 -0.882260 0.387252 0.887006 56 22 7\n0.662861 0.191972 -1.223447 0.473342 0.303079 -0.827082 0.389300 0.895200 57 18 7\n0.347720 0.217122 0.633135 0.296182 0.903043 -0.311045 0.068000 0.911300 84 51 34\n0.319945 0.210787 0.591678 0.454237 0.834193 -0.312632 0.065600 0.906000 51 32 21\n0.300189 0.251859 0.632159 0.333110 0.938414 -0.091464 0.068000 0.902300 47 18 12\n0.599452 0.215235 -0.187969 0.206854 0.928159 -0.309336 0.696696 0.385506 38 16 11\n0.573559 0.201486 -0.330796 0.264016 0.956450 0.124271 0.295480 0.601002 67 60 46\n0.494766 0.287470 -0.391196 0.453841 0.849025 0.270486 0.317707 0.615287 85 60 39\n0.523715 0.200641 -0.291232 0.311869 0.944700 0.101169 0.291220 0.613371 50 37 31\n-0.436449 0.212369 -0.228831 0.196356 0.896664 0.396771 0.092400 0.911700 60 51 49\n-0.452792 0.226213 -0.267869 0.587848 0.717399 0.373791 0.089197 0.909122 37 28 24\n-0.465492 0.266394 -0.280051 0.533067 0.117649 0.837825 0.092400 0.906500 10 5 4\n0.970946 0.172883 -0.991352 0.650899 0.511185 -0.561235 0.529562 0.411782 73 36 13\n0.494727 0.171130 -1.303699 0.222633 0.085635 -0.971129 0.866100 0.783200 63 25 8\n0.480388 0.222604 -1.292831 0.198004 0.405103 -0.892544 0.866756 0.777790 67 25 8\n0.538049 0.168107 -1.280952 0.366436 0.039552 -0.929594 0.868900 0.781300 51 17 6\n0.480388 0.222604 -1.292831 0.198004 0.405103 -0.892544 0.397505 0.745095 67 25 8\n0.117313 0.207923 -1.332964 0.086306 0.173009 -0.981109 0.518576 0.212698 65 26 9\n0.079991 0.189999 -1.345287 -0.030091 0.053621 -0.998077 0.518400 0.206800 59 24 9\n0.043581 0.239792 -1.316390 -0.172460 0.471480 -0.864834 0.527118 0.201233 80 38 15\n0.193518 0.201531 -1.327028 0.010620 0.232093 -0.972625 0.392298 0.740502 76 33 11\n0.117313 0.207923 -1.332964 0.086306 0.173009 -0.981109 0.391924 0.728627 65 26 9\n0.117868 0.248206 -1.321642 -0.054720 0.658040 -0.750969 0.395100 0.731900 74 36 14\n1.189849 0.174277 0.012378 0.718863 0.690298 0.081576 0.698652 0.514624 82 56 32\n-0.985780 0.310235 -0.351592 -0.435469 0.887661 0.149541 0.157929 0.665598 96 79 59\n0.720575 0.232916 -0.087531 0.306253 0.707205 -0.637196 0.711661 0.415876 47 21 17\n0.700453 0.207362 -0.144108 0.108219 0.988861 -0.102084 0.699697 0.408545 38 17 15\n-1.121287 0.237574 -0.501706 0.069887 0.374004 -0.924772 0.366700 0.869800 17 7 6\n-1.052522 0.286022 -0.487872 0.151952 0.696921 -0.700827 0.372400 0.873900 12 5 4\n-0.197539 0.236923 -0.332328 -0.371532 0.926450 -0.060091 0.717609 0.216244 90 74 63\n0.700453 0.207362 -0.144108 0.108219 0.988861 -0.102084 0.424200 0.849300 38 17 15\n0.789327 0.202322 -0.092956 0.152562 0.985626 0.072298 0.424575 0.832227 55 30 19\n0.705880 0.231292 -0.228638 -0.078036 0.996796 -0.016297 0.431798 0.849050 140 110 69\n0.813862 0.234394 -0.191168 -0.129612 0.986267 0.102298 0.430848 0.830235 122 97 69\n-0.452945 0.254653 -0.087825 -0.088931 0.986663 -0.136174 0.776308 0.177816 136 118 86\n0.831594 0.229760 -0.277947 -0.122929 0.985046 -0.120518 0.670690 0.426546 111 57 39\n0.300189 0.251859 0.632159 0.333110 0.938414 -0.091464 0.861330 0.373855 47 18 12\n0.970946 0.172883 -0.991352 0.650899 0.511185 -0.561235 0.527300 0.404300 73 36 13\n0.191750 0.273453 0.356342 0.308267 0.931608 0.192419 0.255135 0.568234 100 75 54\n0.200041 0.245975 0.487079 0.515946 0.843623 -0.148503 0.266419 0.559278 76 59 39\n0.448039 0.181882 -1.294694 0.062380 0.027131 -0.997681 0.873400 0.878300 71 27 9\n0.404744 0.183728 -1.315695 0.259041 0.204688 -0.943907 0.875300 0.875000 72 33 10\n0.424472 0.223289 -1.295573 0.173803 0.394269 -0.902371 0.875300 0.880600 99 49 18\n0.782135 0.156223 -1.155835 0.580798 0.261940 -0.770714 0.073863 0.807744 49 18 5\n0.739414 0.199062 -1.167566 0.488784 0.305032 -0.817316 0.070600 0.802100 70 31 10\n0.742069 0.230815 -1.163795 0.476333 0.533616 -0.698813 0.068860 0.797904 80 33 10\n0.813782 0.193895 -1.123047 0.337046 0.503494 -0.795526 0.077520 0.797488 71 34 12\n0.554122 0.244773 0.173477 0.320994 0.874691 0.363079 0.262627 0.650070 25 15 14\n0.583442 0.203068 0.223059 0.368419 0.856777 0.360729 0.276874 0.653966 28 18 15\n0.612725 0.261135 0.471215 0.183386 0.969024 -0.165349 0.818854 0.430064 77 35 27\n0.668429 0.175737 0.470511 0.836146 0.545457 -0.057283 0.804820 0.436787 84 47 23\n0.615780 0.276553 0.049517 0.062868 0.881924 0.467147 0.251653 0.672727 34 21 16\n1.201873 0.152065 -0.212727 0.989776 0.131870 -0.054109 0.648100 0.498300 80 41 17\n1.170291 0.190252 -0.377717 0.690085 0.723655 -0.007874 0.628523 0.490627 73 46 24\n0.888576 0.226647 -0.362012 -0.190283 0.981567 -0.017121 0.654182 0.431829 70 39 31\n0.125980 0.270247 0.746443 0.115665 0.983551 0.138676 0.049300 0.673300 89 71 56\n0.566294 0.240463 -0.415288 0.408185 0.865627 0.289895 0.313734 0.598259 103 82 66\n0.624521 0.184176 -0.352741 0.146886 0.986541 0.071413 0.295616 0.587179 59 42 32\n0.651297 0.222162 0.484860 0.817316 0.523362 -0.240944 0.814474 0.438042 82 40 18\n0.300189 0.251859 0.632159 0.333110 0.938414 -0.091464 0.867344 0.376998 47 18 12\n0.343841 0.250914 0.690268 0.305734 0.904019 0.298715 0.872339 0.387776 87 55 43\n0.480388 0.222604 -1.292831 0.198004 0.405103 -0.892544 0.113162 0.884533 67 25 8\n0.611716 0.189260 -1.257395 0.399030 0.248207 -0.882687 0.113400 0.893000 64 23 7\n0.538049 0.168107 -1.280952 0.366436 0.039552 -0.929594 0.108161 0.888230 51 17 6\n-0.452945 0.254653 -0.087825 -0.088931 0.986663 -0.136174 0.403657 0.799473 136 118 86\n-0.359748 0.215517 0.032187 -0.270547 0.949705 0.157659 0.413760 0.824037 69 57 52\n-0.372936 0.269480 -0.074135 -0.323313 0.946074 -0.018860 0.397872 0.817290 123 109 87\n0.249565 0.223505 -1.314579 0.090243 0.346782 -0.933561 0.403409 0.786941 86 44 17\n-0.372936 0.269480 -0.074135 -0.323313 0.946074 -0.018860 0.775985 0.193869 123 109 87\n-0.528127 0.270835 -0.197755 0.541185 0.708426 0.452986 0.122567 0.668718 15 9 8\n-0.465492 0.266394 -0.280051 0.533067 0.117649 0.837825 0.124205 0.687244 10 5 4\n0.404744 0.183728 -1.315695 0.259041 0.204688 -0.943907 0.044785 0.889124 72 33 10\n0.375950 0.240806 -1.300643 0.060579 0.490127 -0.869503 0.048000 0.886200 74 32 11\n0.424472 0.223289 -1.295573 0.173803 0.394269 -0.902371 0.048000 0.893400 99 49 18\n0.660818 0.214146 0.088145 0.146153 0.736442 0.660482 0.265685 0.677408 12 7 7\n0.934513 0.244537 -0.107183 -0.167241 0.966124 0.196448 0.204496 0.749758 135 110 77\n0.499562 0.262666 -0.211843 -0.336619 0.527024 -0.780328 0.705011 0.363611 64 29 19\n1.042485 0.208992 0.120180 -0.150182 0.948943 0.277291 0.865300 0.837700 90 43 19\n1.108676 0.192209 0.160912 0.256966 0.897732 0.357738 0.868100 0.832200 90 62 39\n1.095603 0.229384 0.099615 0.099307 0.983001 0.154363 0.867953 0.839983 130 96 56\n-0.217258 0.273947 0.585060 -0.006836 0.999451 -0.032380 0.886494 0.267041 139 117 84\n-0.051419 0.234051 -0.170886 0.261208 0.958800 -0.111637 0.740066 0.254350 105 93 84\n0.020136 0.244160 -0.093433 -0.219275 0.961272 -0.166814 0.749868 0.273959 110 99 96\n0.089154 0.254246 -0.200418 -0.565416 0.819514 0.093112 0.728268 0.280578 80 74 70\n-0.075334 0.229328 -0.252808 0.287118 0.951048 0.114139 0.725945 0.244233 73 61 58\n0.991526 0.241376 -0.842572 0.495834 0.838862 -0.224555 0.560342 0.424001 110 68 35\n0.611716 0.189260 -1.257395 0.399030 0.248207 -0.882687 0.503792 0.317979 64 23 7\n0.598369 0.233639 -1.230337 0.318796 0.554491 -0.768700 0.512160 0.318693 73 28 8\n0.662861 0.191972 -1.223447 0.473342 0.303079 -0.827082 0.507114 0.328840 57 18 7\n0.351783 0.224728 -1.302751 0.022187 0.390606 -0.920286 0.046049 0.878440 72 31 10\n-0.364967 0.242760 -0.298507 0.180944 0.909574 0.373974 0.135638 0.705586 73 67 61\n-0.364028 0.275478 -0.337053 0.628040 0.548387 0.552080 0.127810 0.710480 16 7 6\n-1.163146 0.304363 -0.393202 -0.303964 0.740898 0.598865 0.103038 0.784290 34 19 19\n0.268534 0.232946 0.712260 0.183172 0.931303 0.314768 0.878054 0.372226 70 45 30\n0.247633 0.246264 0.638170 0.130222 0.906583 0.401379 0.869525 0.366261 29 14 12\n1.042485 0.208992 0.120180 -0.150182 0.948943 0.277291 0.726420 0.496386 90 43 19\n1.095603 0.229384 0.099615 0.099307 0.983001 0.154363 0.722654 0.504733 130 96 56\n1.087330 0.219993 0.035671 0.152318 0.987518 0.039247 0.711835 0.499208 122 68 37\n0.677691 0.209301 -0.410649 0.112796 0.913572 0.390637 0.301954 0.579167 81 59 35\n0.675551 0.263051 -0.533724 0.166204 0.952696 0.254341 0.328186 0.570657 122 101 67\n0.612725 0.261135 0.471215 0.183386 0.969024 -0.165349 0.029000 0.897900 77 35 27\n0.644102 0.219322 0.652722 0.391064 0.919706 -0.034059 0.032462 0.889774 90 51 28\n0.651297 0.222162 0.484860 0.817316 0.523362 -0.240944 0.035200 0.897900 82 40 18\n0.480388 0.222604 -1.292831 0.198004 0.405103 -0.892544 0.507340 0.292069 67 25 8\n0.300709 0.174582 -1.332024 0.026582 0.163305 -0.986206 0.511500 0.253900 68 28 9\n0.249565 0.223505 -1.314579 0.090243 0.346782 -0.933561 0.515595 0.246067 86 44 17\n0.251689 0.280245 -1.289144 0.058718 0.651967 -0.755943 0.525458 0.247460 95 46 18\n-0.120698 0.272142 0.618384 -0.086673 0.996124 -0.012787 0.888127 0.289443 136 114 86\n0.912549 0.236639 -0.983978 0.576403 0.680563 -0.452254 0.539565 0.399506 98 58 26\n-0.452792 0.226213 -0.267869 0.587848 0.717399 0.373791 0.131715 0.685899 37 28 24\n-0.046715 0.262698 -0.013836 0.214331 0.975738 0.044343 0.768291 0.264159 131 118 89\n0.476479 0.261310 -0.178231 -0.168859 0.914853 -0.366741 0.711497 0.359105 45 20 14\n0.125980 0.270247 0.746443 0.115665 0.983551 0.138676 0.896462 0.347240 89 71 56\n-0.150686 0.239000 0.804835 -0.179449 0.906430 0.382275 0.913207 0.297094 113 98 74\n-0.039374 0.276658 0.770695 -0.095981 0.970153 0.222541 0.909470 0.315388 117 100 81\n-0.217844 0.240568 0.744657 -0.138401 0.956236 0.257698 0.911488 0.276833 92 78 60\n-0.266460 0.263301 0.673958 -0.023377 0.976348 0.214789 0.905203 0.263048 103 84 59\n0.035695 0.269898 -0.014202 -0.300394 0.953185 0.033876 0.292222 0.813394 122 113 97\n0.009873 0.223030 0.102848 -0.201422 0.968841 0.144078 0.289349 0.798024 102 92 84\n0.070131 0.244716 0.189649 -0.263283 0.957244 -0.119816 0.301846 0.786194 109 88 68\n-0.900064 0.300867 -0.627459 -0.282907 0.901975 -0.326090 0.713667 0.050483 114 80 53\n-0.266460 0.263301 0.673958 -0.023377 0.976348 0.214789 0.038000 0.888700 103 84 59\n-0.519268 0.233805 0.680700 -0.312754 0.941527 0.125187 0.043200 0.898200 114 87 59\n-0.348110 0.241625 0.703682 -0.090548 0.917508 0.387188 0.037600 0.898200 94 74 47\n1.102620 0.244277 -0.357514 0.361095 0.931089 -0.051546 0.642142 0.478866 122 84 49\n-0.528127 0.270835 -0.197755 0.541185 0.708426 0.452986 0.154500 0.881300 15 9 8\n-0.516377 0.250827 -0.137745 0.365215 0.928983 0.059816 0.154397 0.891047 107 99 72\n-0.515008 0.238796 -0.163046 0.772546 0.634938 -0.001038 0.151383 0.890254 35 27 15\n-0.359748 0.215517 0.032187 -0.270547 0.949705 0.157659 0.098700 0.807806 69 57 52\n-0.280983 0.258678 0.061160 -0.249733 0.945860 0.207282 0.110226 0.808508 121 100 70\n-0.372936 0.269480 -0.074135 -0.323313 0.946074 -0.018860 0.106700 0.822600 123 109 87\n-0.041549 0.272723 0.559945 -0.131596 0.987274 -0.088992 0.866548 0.299016 141 119 85\n0.549146 0.239998 0.659126 -0.039155 0.985168 0.166875 0.145600 0.885000 117 83 58\n0.644102 0.219322 0.652722 0.391064 0.919706 -0.034059 0.145600 0.894800 90 51 28\n0.612725 0.261135 0.471215 0.183386 0.969024 -0.165349 0.139800 0.886900 77 35 27\n0.023664 0.275758 0.310915 -0.135472 0.983703 -0.118168 0.821683 0.296329 148 118 83\n0.049515 0.259805 0.842132 0.060854 0.852901 0.518479 0.073800 0.821000 102 83 53\n0.164300 0.235168 0.829941 0.297311 0.810724 0.504288 0.073800 0.838700 81 70 58\n0.125980 0.270247 0.746443 0.115665 0.983551 0.138676 0.064039 0.828881 89 71 56\n-0.197539 0.236923 -0.332328 -0.371532 0.926450 -0.060091 0.702048 0.207259 90 74 63\n-0.279476 0.253862 -0.406149 0.361919 0.903073 0.231178 0.710967 0.190947 53 35 23\n0.840064 0.195358 -1.121391 0.422651 0.451552 -0.785760 0.515394 0.375432 84 46 21\n0.816623 0.236856 -1.075358 0.401563 0.749657 -0.526048 0.528877 0.374675 94 51 26\n0.035695 0.269898 -0.014202 -0.300394 0.953185 0.033876 0.765745 0.279890 122 113 97\n0.117868 0.248206 -1.321642 -0.054720 0.658040 -0.750969 0.300128 0.851879 74 36 14\n0.117313 0.207923 -1.332964 0.086306 0.173009 -0.981109 0.304557 0.854300 65 26 9\n0.043581 0.239792 -1.316390 -0.172460 0.471480 -0.864834 0.302225 0.863536 80 38 15\n0.117868 0.248206 -1.321642 -0.054720 0.658040 -0.750969 0.803720 0.550398 74 36 14\n0.163214 0.258121 -1.311437 0.079470 0.550737 -0.830866 0.807602 0.544096 85 42 17\n0.775426 0.237964 -0.551502 0.074007 0.977905 0.195379 0.625940 0.397828 112 91 71\n0.947913 0.216030 0.041413 -0.317240 0.921842 0.222510 0.720168 0.471364 67 31 26\n1.018485 0.244355 -0.087541 0.020722 0.989746 0.141118 0.695605 0.478885 94 59 28\n0.934513 0.244537 -0.107183 -0.167241 0.966124 0.196448 0.696396 0.458356 135 110 77\n0.253326 0.278884 0.600516 0.358562 0.930998 0.068178 0.863928 0.364670 66 37 33\n1.071280 0.238585 -0.550430 0.309976 0.948027 -0.071444 0.608257 0.458384 132 102 64\n-0.277870 0.300272 -0.099743 -0.270760 0.961455 -0.047426 0.768655 0.213102 131 107 80\n0.934513 0.244537 -0.107183 -0.167241 0.966124 0.196448 0.474200 0.823700 135 110 77\n0.789327 0.202322 -0.092956 0.152562 0.985626 0.072298 0.457947 0.816072 55 30 19\n0.867069 0.169357 -0.011136 -0.146458 0.944334 0.294504 0.472572 0.808628 83 59 43\n-0.279476 0.253862 -0.406149 0.361919 0.903073 0.231178 0.132240 0.732262 53 35 23\n0.351783 0.224728 -1.302751 0.022187 0.390606 -0.920286 0.511777 0.263309 72 31 10\n-0.039374 0.276658 0.770695 -0.095981 0.970153 0.222541 0.048943 0.722591 117 100 81\n-0.122146 0.287799 -1.242308 -0.295053 0.678549 -0.672658 0.789300 0.621300 104 64 33\n0.752620 0.281382 -1.065857 0.371319 0.853694 -0.365032 0.536893 0.361523 107 64 33\n0.813782 0.193895 -1.123047 0.337046 0.503494 -0.795526 0.518401 0.370154 71 34 12\n0.742069 0.230815 -1.163795 0.476333 0.533616 -0.698813 0.515968 0.353190 80 33 10\n-1.163146 0.304363 -0.393202 -0.303964 0.740898 0.598865 0.710261 0.867400 34 19 19\n-1.034922 0.265934 -0.489938 -0.337352 0.830775 -0.442671 0.231700 0.907100 8 3 3\n-1.074990 0.242623 -0.502074 -0.102512 -0.347911 -0.931883 0.227100 0.907100 11 4 4\n-1.052522 0.286022 -0.487872 0.151952 0.696921 -0.700827 0.229817 0.902256 12 5 4\n-0.075334 0.229328 -0.252808 0.287118 0.951048 0.114139 0.304326 0.738479 73 61 58\n-0.087274 0.268872 -0.319747 0.086367 0.905484 0.415479 0.318190 0.738606 109 95 63\n-0.134025 0.279876 -0.285395 0.325968 0.941099 -0.089724 0.313600 0.746200 121 97 63\n0.150904 0.275926 0.640363 0.136082 0.981597 0.133824 0.876043 0.345231 109 96 71\n-0.629355 0.320151 -0.197994 0.173467 0.847652 0.501358 0.104712 0.654651 78 61 54\n-0.319299 0.299729 -0.543169 0.470931 0.857143 0.208533 0.694775 0.179203 97 90 73\n-0.247735 0.254884 -0.485058 0.040315 0.993164 0.109409 0.696511 0.193907 92 78 61\n-0.245558 0.247446 -0.555310 -0.087191 0.948607 0.304178 0.683691 0.190129 81 74 63\n1.055550 0.231993 -0.646256 0.334269 0.938169 -0.089969 0.586913 0.446969 114 72 39\n0.570017 0.235530 0.451406 -0.373852 0.886166 -0.273659 0.859900 0.801900 76 28 20\n0.549146 0.239998 0.659126 -0.039155 0.985168 0.166875 0.859900 0.812400 117 83 58\n0.612725 0.261135 0.471215 0.183386 0.969024 -0.165349 0.855300 0.807600 77 35 27\n0.936067 0.209922 -0.975297 0.628712 0.547410 -0.552263 0.499437 0.716991 72 31 10\n0.897994 0.179871 -1.050576 0.619648 0.421247 -0.662221 0.499700 0.728200 62 26 8\n0.912549 0.236639 -0.983978 0.576403 0.680563 -0.452254 0.496049 0.714849 98 58 26\n0.478688 0.262404 -1.265472 0.248573 0.606403 -0.755272 0.514372 0.293369 81 38 13\n-0.419279 0.274080 -1.069348 -0.373608 0.685049 -0.625355 0.600391 0.122029 109 67 39\n0.742069 0.230815 -1.163795 0.476333 0.533616 -0.698813 0.630600 0.906500 80 33 10\n0.739414 0.199062 -1.167566 0.488784 0.305032 -0.817316 0.633100 0.904600 70 31 10\n0.695813 0.224107 -1.194245 0.474288 0.486129 -0.733940 0.633100 0.912800 72 33 14\n0.695813 0.224107 -1.194245 0.474288 0.486129 -0.733940 0.512009 0.341561 72 33 14\n0.009873 0.223030 0.102848 -0.201422 0.968841 0.144078 0.467769 0.640741 102 92 84\n-0.132686 0.296274 -0.025704 0.150090 0.974395 0.167364 0.435324 0.628326 143 118 80\n-0.069477 0.221850 0.138064 0.017365 0.996826 0.077425 0.466791 0.627190 115 105 93\n-0.046715 0.262698 -0.013836 0.214331 0.975738 0.044343 0.454000 0.645500 131 118 89\n0.035695 0.269898 -0.014202 -0.300394 0.953185 0.033876 0.455900 0.657500 122 113 97\n0.196585 0.289094 0.196850 -0.158238 0.985870 0.054567 0.793747 0.326595 129 113 89\n-1.003150 0.290454 -0.419064 -0.453871 0.890103 0.041047 0.129649 0.796957 33 15 13\n-1.089362 0.311734 -0.433456 0.145665 0.986969 -0.068239 0.115731 0.797451 52 24 19\n0.049515 0.259805 0.842132 0.060854 0.852901 0.518479 0.917204 0.334551 102 83 53\n-0.010402 0.286792 0.662335 -0.038820 0.998779 0.029542 0.890175 0.315244 129 100 71\n0.813862 0.234394 -0.191168 -0.129612 0.986267 0.102298 0.687101 0.429169 122 97 69\n-1.171445 0.330796 -0.446071 -0.356090 0.910001 -0.212256 0.497554 0.744147 73 61 66\n-1.121287 0.237574 -0.501706 0.069887 0.374004 -0.924772 0.478826 0.753088 17 7 6\n-1.181128 0.274865 -0.488784 -0.470656 0.492569 -0.731986 0.486315 0.740020 37 18 13\n-1.003150 0.290454 -0.419064 -0.453871 0.890103 0.041047 0.157384 0.652372 33 15 13\n-0.993439 0.304896 -0.501367 -0.435774 0.893948 -0.104556 0.146888 0.637195 108 87 62\n0.662861 0.191972 -1.223447 0.473342 0.303079 -0.827082 0.860670 0.704921 57 18 7\n0.598369 0.233639 -1.230337 0.318796 0.554491 -0.768700 0.859200 0.698700 73 28 8\n0.634413 0.255285 -1.206951 0.329203 0.670339 -0.664998 0.862611 0.697410 93 52 23\n0.721366 0.289751 0.035954 0.433027 0.843867 0.316752 0.253452 0.695198 65 47 31\n0.428148 0.268389 -0.265219 0.355632 0.934141 0.029481 0.697398 0.345030 95 66 47\n-0.420749 0.299899 -0.281426 0.538621 0.222602 0.812586 0.471199 0.649241 15 8 6\n-0.465492 0.266394 -0.280051 0.533067 0.117649 0.837825 0.475085 0.645994 10 5 4\n-0.410615 0.245781 -0.283571 0.206580 0.630329 0.748283 0.470900 0.655600 42 31 27\n-0.420749 0.299899 -0.281426 0.538621 0.222602 0.812586 0.123776 0.696612 15 8 6\n0.789327 0.202322 -0.092956 0.152562 0.985626 0.072298 0.695173 0.434858 55 30 19\n-1.089362 0.311734 -0.433456 0.145665 0.986969 -0.068239 0.494248 0.762642 52 24 19\n-1.052522 0.286022 -0.487872 0.151952 0.696921 -0.700827 0.482540 0.766114 12 5 4\n0.996537 0.259023 -0.238849 -0.034211 0.999390 -0.000519 0.667299 0.456159 135 104 71\n0.491536 0.276985 0.118059 0.124851 0.975005 0.183691 0.251365 0.643803 38 19 20\n1.087851 0.251344 -0.202244 0.269143 0.962432 0.035157 0.673998 0.482597 124 91 54\n-0.134025 0.279876 -0.285395 0.325968 0.941099 -0.089724 0.725927 0.230220 121 97 63\n0.662861 0.191972 -1.223447 0.473342 0.303079 -0.827082 0.506874 0.335937 57 18 7\n0.634413 0.255285 -1.206951 0.329203 0.670339 -0.664998 0.516462 0.328844 93 52 23\n0.163214 0.258121 -1.311437 0.079470 0.550737 -0.830866 0.524304 0.226013 85 42 17\n0.193518 0.201531 -1.327028 0.010620 0.232093 -0.972625 0.517109 0.231329 76 33 11\n0.050045 0.306841 -0.368457 -0.214515 0.916013 0.338939 0.480800 0.723100 65 39 26\n0.089154 0.254246 -0.200418 -0.565416 0.819514 0.093112 0.478517 0.704460 80 74 70\n0.075982 0.277971 -0.276866 -0.613849 0.682913 0.395917 0.484542 0.720287 20 10 8\n-0.153343 0.274399 -0.330503 -0.302988 0.952757 -0.020631 0.324722 0.801199 116 92 67\n-0.197539 0.236923 -0.332328 -0.371532 0.926450 -0.060091 0.334219 0.800517 90 74 63\n-0.240978 0.245926 -0.257060 -0.378460 0.885495 -0.269417 0.329800 0.811100 112 72 50\n0.089154 0.254246 -0.200418 -0.565416 0.819514 0.093112 0.298500 0.710500 80 74 70\n0.050045 0.306841 -0.368457 -0.214515 0.916013 0.338939 0.326789 0.704834 65 39 26\n-0.600964 0.307750 -0.842830 -0.250191 0.925565 -0.284036 0.655871 0.101742 120 86 56\n0.150904 0.275926 0.640363 0.136082 0.981597 0.133824 0.184403 0.824826 109 96 71\n0.247633 0.246264 0.638170 0.130222 0.906583 0.401379 0.183597 0.840639 29 14 12\n0.253326 0.278884 0.600516 0.358562 0.930998 0.068178 0.174036 0.838541 66 37 33\n0.300189 0.251859 0.632159 0.333110 0.938414 -0.091464 0.177523 0.847392 47 18 12\n-0.046715 0.262698 -0.013836 0.214331 0.975738 0.044343 0.447580 0.640392 131 118 89\n-0.153839 0.266658 -0.627783 -0.424451 0.847774 -0.317942 0.352100 0.910600 24 13 8\n-0.184792 0.275612 -0.670478 0.087374 0.848598 0.521744 0.355200 0.907900 49 37 30\n-0.192358 0.260645 -0.606408 -0.096103 0.788171 -0.607868 0.355200 0.913300 109 58 29\n-0.304543 0.279506 -1.135046 -0.457625 0.498886 -0.735954 0.583494 0.137772 74 42 19\n-1.003150 0.290454 -0.419064 -0.453871 0.890103 0.041047 0.102900 0.893600 33 15 13\n-1.034922 0.265934 -0.489938 -0.337352 0.830775 -0.442671 0.101952 0.899127 8 3 3\n-1.052522 0.286022 -0.487872 0.151952 0.696921 -0.700827 0.098326 0.900754 12 5 4\n0.128040 0.282923 0.517027 0.187780 0.981597 -0.033876 0.260400 0.550100 103 62 31\n0.627415 0.281317 -0.090322 0.361003 0.817255 -0.449141 0.718647 0.399961 43 18 15\n0.428148 0.268389 -0.265219 0.355632 0.934141 0.029481 0.301305 0.635324 95 66 47\n0.424798 0.291992 -0.329335 0.270089 0.899625 0.343089 0.313223 0.633688 114 103 78\n0.775574 0.216329 0.029312 0.690573 0.644856 0.327433 0.497977 0.857493 56 26 13\n0.789327 0.202322 -0.092956 0.152562 0.985626 0.072298 0.499557 0.872616 55 30 19\n0.735257 0.264267 -0.056458 0.497513 0.786950 -0.364910 0.492800 0.868300 59 34 29\n-0.503158 0.305168 -0.237864 0.589679 0.306742 0.747093 0.116750 0.679274 14 5 5\n-0.134933 0.298538 -0.191372 0.378399 0.919492 -0.106388 0.744215 0.234548 141 104 67\n0.108382 0.277751 -0.181597 -0.658559 0.750389 0.056276 0.741226 0.286881 55 36 28\n-0.153343 0.274399 -0.330503 -0.302988 0.952757 -0.020631 0.719066 0.222322 116 92 67\n-0.213582 0.310271 -0.202468 -0.286264 0.927458 -0.240455 0.747925 0.219027 125 88 50\n-0.027911 0.208823 -1.310425 -0.137700 0.249123 -0.958617 0.527326 0.190449 77 37 13\n-0.277870 0.300272 -0.099743 -0.270760 0.961455 -0.047426 0.110600 0.830800 131 107 80\n-0.226758 0.275945 -0.632062 0.401349 0.895993 0.189886 0.195800 0.907900 61 51 42\n-0.192358 0.260645 -0.606408 -0.096103 0.788171 -0.607868 0.192100 0.908800 109 58 29\n-0.184792 0.275612 -0.670478 0.087374 0.848598 0.521744 0.195923 0.901101 49 37 30\n0.677691 0.209301 -0.410649 0.112796 0.913572 0.390637 0.309863 0.562338 81 59 35\n0.775426 0.237964 -0.551502 0.074007 0.977905 0.195379 0.323393 0.551569 112 91 71\n-1.003150 0.290454 -0.419064 -0.453871 0.890103 0.041047 0.492326 0.779008 33 15 13\n0.117429 0.283379 0.320865 -0.016785 0.999603 0.021943 0.822328 0.322844 123 91 60\n-0.993439 0.304896 -0.501367 -0.435774 0.893948 -0.104556 0.737083 0.041522 108 87 62\n-1.051043 0.261971 -0.541634 -0.884762 0.465926 -0.008850 0.733900 0.032400 88 65 47\n-0.087274 0.268872 -0.319747 0.086367 0.905484 0.415479 0.718171 0.233383 109 95 63\n0.078250 0.288593 0.571211 0.016449 0.999817 0.006989 0.869131 0.327135 110 68 31\n0.964091 0.250286 -0.503082 -0.011048 0.999695 0.020783 0.624731 0.439612 130 101 66\n0.844863 0.250182 -0.656084 0.059877 0.980621 0.186377 0.603359 0.407359 95 67 35\n0.735257 0.264267 -0.056458 0.497513 0.786950 -0.364910 0.719298 0.420758 59 34 29\n-0.741685 0.351637 -0.260619 -0.273110 0.839900 0.468947 0.083065 0.642200 58 41 36\n-0.985780 0.310235 -0.351592 -0.435469 0.887661 0.149541 0.067637 0.619592 96 79 59\n-0.280983 0.258678 0.061160 -0.249733 0.945860 0.207282 0.284385 0.889111 121 100 70\n-0.245211 0.244880 0.138544 -0.044649 0.950377 0.307840 0.277900 0.879600 97 59 40\n-0.277870 0.300272 -0.099743 -0.270760 0.961455 -0.047426 0.285400 0.880900 131 107 80\n0.128040 0.282923 0.517027 0.187780 0.981597 -0.033876 0.855189 0.335197 103 62 31\n-0.247735 0.254884 -0.485058 0.040315 0.993164 0.109409 0.331047 0.765462 92 78 61\n-0.194481 0.297322 -0.547149 -0.405713 0.905362 0.125156 0.324693 0.758778 116 94 64\n-0.245558 0.247446 -0.555310 -0.087191 0.948607 0.304178 0.335646 0.754680 81 74 63\n-0.252062 0.282207 -0.592069 0.088137 0.977905 0.189489 0.330372 0.746380 51 37 25\n-0.240978 0.245926 -0.257060 -0.378460 0.885495 -0.269417 0.340625 0.853197 112 72 50\n-0.277870 0.300272 -0.099743 -0.270760 0.961455 -0.047426 0.342850 0.868530 131 107 80\n-0.213582 0.310271 -0.202468 -0.286264 0.927458 -0.240455 0.335736 0.862419 125 88 50\n0.424472 0.223289 -1.295573 0.173803 0.394269 -0.902371 0.509307 0.281336 99 49 18\n0.683942 0.292217 -1.095793 0.278542 0.888699 -0.364116 0.534904 0.343356 113 68 34\n0.721366 0.289751 0.035954 0.433027 0.843867 0.316752 0.490800 0.861700 65 47 31\n-0.192358 0.260645 -0.606408 -0.096103 0.788171 -0.607868 0.669204 0.197897 109 58 29\n-0.226758 0.275945 -0.632062 0.401349 0.895993 0.189886 0.669785 0.191960 61 51 42\n-0.218497 0.287057 -0.594399 -0.117466 0.931425 -0.344401 0.675483 0.192933 68 44 28\n-0.247735 0.254884 -0.485058 0.040315 0.993164 0.109409 0.128523 0.741893 92 78 61\n-0.353337 0.311322 -0.393053 0.647664 0.710471 0.275124 0.118701 0.723159 73 64 53\n-0.184792 0.275612 -0.670478 0.087374 0.848598 0.521744 0.342400 0.728900 49 37 30\n-0.153839 0.266658 -0.627783 -0.424451 0.847774 -0.317942 0.338988 0.725516 24 13 8\n-0.139615 0.299699 -0.694126 0.031190 0.905789 0.422529 0.348941 0.720655 63 46 34\n-0.074047 0.284141 -0.784173 0.338725 0.933622 0.116550 0.635070 0.211247 92 79 61\n-0.014082 0.265542 -0.701645 -0.170965 0.823969 -0.540208 0.642975 0.227521 27 9 6\n0.028572 0.273473 -0.762094 -0.077517 0.987091 0.140080 0.631972 0.233747 65 49 37\n0.675551 0.263051 -0.533724 0.166204 0.952696 0.254341 0.635099 0.377172 122 101 67\n0.571631 0.266960 -0.565454 0.146214 0.986938 0.067415 0.634875 0.354718 129 109 76\n0.566294 0.240463 -0.415288 0.408185 0.865627 0.289895 0.650800 0.363500 103 82 66\n0.932811 0.253936 -0.672805 0.086825 0.991333 0.098514 0.594812 0.423458 133 107 75\n0.836117 0.273805 -0.987941 0.368938 0.866970 -0.334941 0.545823 0.383944 115 77 39\n-0.319299 0.299729 -0.543169 0.470931 0.857143 0.208533 0.347896 0.763121 97 90 73\n-0.252062 0.282207 -0.592069 0.088137 0.977905 0.189489 0.345230 0.747472 51 37 25\n-0.252062 0.282207 -0.592069 0.088137 0.977905 0.189489 0.675408 0.186958 51 37 25\n-0.428891 0.334453 -0.300467 0.507889 0.683859 0.523789 0.114856 0.699742 47 27 23\n0.191750 0.273453 0.356342 0.308267 0.931608 0.192419 0.814781 0.338288 100 75 54\n-0.107302 0.293191 -0.676055 -0.135838 0.972076 -0.191198 0.342300 0.717800 114 86 60\n-0.107302 0.293191 -0.676055 -0.135838 0.972076 -0.191198 0.655382 0.211066 114 86 60\n-1.171445 0.330796 -0.446071 -0.356090 0.910001 -0.212256 0.098560 0.792535 73 61 66\n0.038758 0.279079 -0.723526 -0.352428 0.726829 -0.589465 0.637633 0.237041 23 7 5\n-0.875202 0.349063 -0.434191 -0.367443 0.930021 -0.005310 0.743480 0.067497 103 89 69\n0.975624 0.257446 -0.772058 0.341594 0.939512 -0.024689 0.574269 0.426898 125 94 59\n-0.756659 0.327325 -0.638908 -0.295297 0.882351 -0.366344 0.700914 0.079614 108 78 47\n-0.245211 0.244880 0.138544 -0.044649 0.950377 0.307840 0.795440 0.233400 97 59 40\n-0.132686 0.296274 -0.025704 0.150090 0.974395 0.167364 0.773475 0.245750 143 118 80\n-0.520011 0.341412 -0.251159 0.183203 0.723960 0.665029 0.109594 0.678393 42 22 22\n-0.503158 0.305168 -0.237864 0.589679 0.306742 0.747093 0.473184 0.636202 14 5 5\n0.229510 0.268222 -0.657398 0.033174 0.998383 -0.046113 0.639084 0.280713 80 65 51\n0.235612 0.269279 -0.601873 0.113773 0.935942 -0.333171 0.648581 0.285530 45 27 19\n0.308962 0.291678 -0.602733 -0.093692 0.957152 -0.273995 0.646118 0.300314 100 79 62\n0.491536 0.276985 0.118059 0.124851 0.975005 0.183691 0.869900 0.682600 38 19 20\n0.494571 0.275178 -0.005888 -0.114872 0.932524 0.342326 0.869900 0.691000 21 10 10\n0.487384 0.269094 0.044160 -0.250893 0.967864 -0.014863 0.867100 0.689300 46 28 18\n0.411201 0.291416 -0.758086 0.163854 0.981719 -0.096683 0.611200 0.311126 127 102 75\n0.539587 0.269179 -0.790955 0.042268 0.996673 -0.069430 0.596302 0.330526 125 103 73\n0.426161 0.262890 -0.894963 -0.047578 0.998840 0.006470 0.583571 0.306043 106 86 65\n0.117868 0.248206 -1.321642 -0.054720 0.658040 -0.750969 0.523041 0.216074 74 36 14\n-0.153839 0.266658 -0.627783 -0.424451 0.847774 -0.317942 0.869800 0.771500 24 13 8\n-0.192358 0.260645 -0.606408 -0.096103 0.788171 -0.607868 0.866903 0.767179 109 58 29\n-0.218497 0.287057 -0.594399 -0.117466 0.931425 -0.344401 0.869800 0.763000 68 44 28\n0.310217 0.297862 0.170838 0.182745 0.960662 0.209021 0.236869 0.608094 122 96 59\n0.197101 0.314397 0.077405 -0.136418 0.980651 0.140294 0.775222 0.322515 123 107 83\n0.035695 0.269898 -0.014202 -0.300394 0.953185 0.033876 0.782600 0.304000 122 113 97\n0.877357 0.281390 -0.915128 0.317759 0.933195 -0.167730 0.557287 0.396359 130 94 55\n0.115049 0.307258 -0.048522 -0.371441 0.928404 0.009095 0.757760 0.297336 128 115 87\n0.566389 0.274080 -1.206770 0.306955 0.770806 -0.558214 0.522064 0.314060 99 60 33\n0.108382 0.277751 -0.181597 -0.658559 0.750389 0.056276 0.485079 0.697915 55 36 28\n0.387687 0.298753 0.066626 0.179144 0.978118 0.105594 0.763880 0.357582 126 98 59\n0.371600 0.268970 0.186545 0.272256 0.863948 0.423566 0.779803 0.363766 47 19 12\n0.491536 0.276985 0.118059 0.124851 0.975005 0.183691 0.763184 0.383789 38 19 20\n0.375950 0.240806 -1.300643 0.060579 0.490127 -0.869503 0.171693 0.883041 74 32 11\n0.351783 0.224728 -1.302751 0.022187 0.390606 -0.920286 0.168602 0.877034 72 31 10\n0.341801 0.304481 -1.254784 0.085757 0.757958 -0.646596 0.173400 0.872200 111 65 34\n0.638567 0.266196 -0.853847 -0.153783 0.980041 0.125828 0.581840 0.350670 65 34 25\n0.447261 0.288212 -1.253464 0.179235 0.731254 -0.658071 0.520902 0.287268 98 52 23\n0.022375 0.328778 -0.420415 -0.114628 0.969054 0.218574 0.332980 0.716021 134 118 88\n-0.153343 0.274399 -0.330503 -0.302988 0.952757 -0.020631 0.325722 0.745217 116 92 67\n0.660787 0.286083 -0.654085 0.007782 0.998108 0.060884 0.273293 0.809048 126 89 57\n0.775426 0.237964 -0.551502 0.074007 0.977905 0.195379 0.264616 0.808144 112 91 71\n0.844863 0.250182 -0.656084 0.059877 0.980621 0.186377 0.266789 0.786080 95 67 35\n-0.353337 0.311322 -0.393053 0.647664 0.710471 0.275124 0.717343 0.177843 73 64 53\n-0.372791 0.318568 -0.525054 0.588031 0.801874 0.105808 0.702598 0.166457 60 56 46\n0.310217 0.297862 0.170838 0.182745 0.960662 0.209021 0.174900 0.900600 122 96 59\n0.117429 0.283379 0.320865 -0.016785 0.999603 0.021943 0.176500 0.892300 123 91 60\n0.191750 0.273453 0.356342 0.308267 0.931608 0.192419 0.180600 0.900600 100 75 54\n0.487384 0.269094 0.044160 -0.250893 0.967864 -0.014863 0.749947 0.377189 46 28 18\n0.494571 0.275178 -0.005888 -0.114872 0.932524 0.342326 0.740978 0.375770 21 10 10\n0.451925 0.287252 -0.052735 -0.082583 0.992126 0.093936 0.735834 0.364193 65 34 29\n-0.127975 0.321063 -0.615106 -0.378826 0.886837 -0.264534 0.670408 0.210053 74 39 35\n-0.153839 0.266658 -0.627783 -0.424451 0.847774 -0.317942 0.668600 0.203500 24 13 8\n-0.107302 0.293191 -0.676055 -0.135838 0.972076 -0.191198 0.461983 0.880655 114 86 60\n-0.153839 0.266658 -0.627783 -0.424451 0.847774 -0.317942 0.466042 0.877023 24 13 8\n-0.127975 0.321063 -0.615106 -0.378826 0.886837 -0.264534 0.466806 0.886666 74 39 35\n0.387687 0.298753 0.066626 0.179144 0.978118 0.105594 0.237905 0.622910 126 98 59\n0.375950 0.240806 -1.300643 0.060579 0.490127 -0.869503 0.514111 0.269812 74 32 11\n0.341801 0.304481 -1.254784 0.085757 0.757958 -0.646596 0.527118 0.267252 111 65 34\n-0.269530 0.324348 -1.108993 -0.299051 0.843440 -0.446242 0.586715 0.150334 116 77 44\n-0.304543 0.279506 -1.135046 -0.457625 0.498886 -0.735954 0.577415 0.147692 74 42 19\n0.302113 0.315102 -0.193703 0.182592 0.940611 -0.286081 0.719766 0.324293 121 89 46\n-0.789535 0.363545 -0.346966 -0.382611 0.867946 0.316599 0.068381 0.632630 100 91 72\n0.660787 0.286083 -0.654085 0.007782 0.998108 0.060884 0.618068 0.369817 126 89 57\n0.310217 0.297862 0.170838 0.182745 0.960662 0.209021 0.781949 0.348542 122 96 59\n-0.985780 0.310235 -0.351592 -0.435469 0.887661 0.149541 0.762658 0.050908 96 79 59\n0.676051 0.277802 -0.694299 -0.212104 0.957274 -0.196478 0.607170 0.369025 113 84 59\n-0.076207 0.318853 -0.665404 -0.302042 0.724876 -0.619098 0.652646 0.219688 60 24 14\n0.210682 0.327103 -0.533867 0.050508 0.919431 -0.389935 0.665360 0.284986 33 12 9\n0.615780 0.276553 0.049517 0.062868 0.881924 0.467147 0.744047 0.399358 34 21 16\n0.932811 0.253936 -0.672805 0.086825 0.991333 0.098514 0.270809 0.770080 133 107 75\n0.901323 0.282405 -0.783608 0.210456 0.974944 0.071810 0.280761 0.771952 136 100 64\n0.164667 0.271761 -0.698197 0.271615 0.949522 -0.156896 0.634985 0.263880 36 22 14\n0.177417 0.309493 -0.615943 0.362865 0.892178 -0.268868 0.651386 0.270956 39 15 14\n0.320870 0.303568 -0.807211 0.030946 0.991455 -0.126530 0.608146 0.293028 126 97 70\n0.397480 0.256348 -0.921431 -0.119724 0.987884 0.098422 0.582055 0.298351 74 57 44\n0.095600 0.287932 -0.742185 0.042299 0.945708 -0.322184 0.631902 0.246834 35 19 11\n0.135895 0.295064 -0.827114 -0.004639 0.996612 0.081851 0.617632 0.247330 133 115 86\n0.206173 0.284909 -0.976587 0.090609 0.980438 0.174566 0.584402 0.255014 100 81 57\n0.232699 0.289137 -0.853342 0.090304 0.972167 -0.216132 0.603773 0.270648 141 118 87\n0.287604 0.254305 -0.928783 0.108402 0.992126 0.062563 0.585997 0.274890 72 59 44\n0.106975 0.310204 -1.269622 -0.009339 0.752312 -0.658711 0.538355 0.216795 111 67 34\n0.426161 0.262890 -0.894963 -0.047578 0.998840 0.006470 0.404938 0.601389 106 86 65\n0.638567 0.266196 -0.853847 -0.153783 0.980041 0.125828 0.407599 0.570480 65 34 25\n0.489910 0.330463 -1.031080 0.005890 0.979492 0.201239 0.425051 0.602482 106 72 49\n0.726115 0.291869 -0.724010 -0.032716 0.993652 0.107517 0.280653 0.801488 120 93 64\n0.563945 0.307858 -0.091801 0.264321 0.914335 -0.306742 0.723462 0.384097 45 22 20\n-0.194481 0.297322 -0.547149 -0.405713 0.905362 0.125156 0.684643 0.202906 116 94 64\n-0.252062 0.282207 -0.592069 0.088137 0.977905 0.189489 0.678856 0.188966 51 37 25\n-0.341736 0.332735 -1.025892 -0.265938 0.911222 -0.314463 0.611068 0.140198 123 91 60\n0.901323 0.282405 -0.783608 0.210456 0.974944 0.071810 0.580377 0.407849 136 100 64\n0.028572 0.273473 -0.762094 -0.077517 0.987091 0.140080 0.624797 0.228170 65 49 37\n0.135895 0.295064 -0.827114 -0.004639 0.996612 0.081851 0.615300 0.251069 133 115 86\n-0.153343 0.274399 -0.330503 -0.302988 0.952757 -0.020631 0.709966 0.229730 116 92 67\n0.022375 0.328778 -0.420415 -0.114628 0.969054 0.218574 0.696588 0.251357 134 118 88\n0.078216 0.334649 -0.277881 -0.594226 0.786035 0.170171 0.493566 0.718368 72 38 35\n0.050045 0.306841 -0.368457 -0.214515 0.916013 0.338939 0.493150 0.738010 65 39 26\n0.288459 0.270845 -0.260408 0.207984 0.966521 -0.150121 0.707744 0.315828 33 17 14\n0.179288 0.329579 -0.171664 -0.190008 0.981353 -0.028016 0.733770 0.301470 131 109 73\n0.108382 0.277751 -0.181597 -0.658559 0.750389 0.056276 0.733900 0.287300 55 36 28\n0.237718 0.331856 -0.409230 0.048311 0.983215 0.175787 0.330695 0.659977 93 73 48\n0.288459 0.270845 -0.260408 0.207984 0.966521 -0.150121 0.308029 0.664333 33 17 14\n-0.127754 0.325624 -0.774432 0.398206 0.896573 0.193701 0.643023 0.203397 116 96 62\n0.571631 0.266960 -0.565454 0.146214 0.986938 0.067415 0.326758 0.590125 129 109 76\n0.470786 0.315837 -0.519912 0.292306 0.954924 -0.051576 0.334500 0.604800 136 118 88\n0.051988 0.305317 -0.978092 0.127537 0.984069 0.123600 0.597223 0.225875 128 110 82\n-0.076736 0.296159 -0.884334 0.355144 0.917661 0.178137 0.617303 0.203601 87 74 54\n0.451925 0.287252 -0.052735 -0.082583 0.992126 0.093936 0.496823 0.846985 65 34 29\n0.494571 0.275178 -0.005888 -0.114872 0.932524 0.342326 0.499500 0.854400 21 10 10\n0.507546 0.319979 -0.044746 -0.195379 0.918699 0.343211 0.491400 0.850200 41 18 19\n0.470786 0.315837 -0.519912 0.292306 0.954924 -0.051576 0.648960 0.334733 136 118 88\n0.428306 0.292396 -0.673054 0.107547 0.992737 -0.053804 0.629965 0.319685 135 115 90\n-0.644774 0.369050 -0.661841 -0.189001 0.956847 -0.220588 0.694260 0.095645 114 77 46\n0.721366 0.289751 0.035954 0.433027 0.843867 0.316752 0.735215 0.423492 65 47 31\n0.397480 0.256348 -0.921431 -0.119724 0.987884 0.098422 0.401297 0.608546 74 57 44\n0.675157 0.285931 -0.904887 -0.134068 0.949736 0.282846 0.420283 0.560175 101 77 53\n0.308962 0.291678 -0.602733 -0.093692 0.957152 -0.273995 0.288700 0.895900 100 79 62\n0.210682 0.327103 -0.533867 0.050508 0.919431 -0.389935 0.287604 0.905296 33 12 9\n0.249338 0.323379 -0.562789 -0.359386 0.578784 -0.731986 0.285100 0.900100 65 36 30\n0.100834 0.326255 -0.702583 0.292032 0.871914 -0.393017 0.640836 0.252413 74 40 32\n0.726115 0.291869 -0.724010 -0.032716 0.993652 0.107517 0.596655 0.380825 120 93 64\n-0.226758 0.275945 -0.632062 0.401349 0.895993 0.189886 0.345576 0.738259 61 51 42\n0.600753 0.312995 -0.018580 0.073824 0.986023 0.149327 0.236503 0.678785 71 47 46\n0.494571 0.275178 -0.005888 -0.114872 0.932524 0.342326 0.234111 0.657859 21 10 10\n0.326989 0.322211 -0.117874 0.181951 0.982086 -0.048616 0.731719 0.334509 135 106 65\n0.287604 0.254305 -0.928783 0.108402 0.992126 0.062563 0.396658 0.631674 72 59 44\n0.362148 0.318062 -1.036517 -0.057924 0.938444 0.340495 0.423007 0.623026 115 90 63\n-0.572224 0.335709 -0.252190 0.091372 0.804071 0.587451 0.104500 0.669959 31 17 19\n0.676051 0.277802 -0.694299 -0.212104 0.957274 -0.196478 0.281500 0.811000 113 84 59\n0.038758 0.279079 -0.723526 -0.352428 0.726829 -0.589465 0.279141 0.835532 23 7 5\n-0.014082 0.265542 -0.701645 -0.170965 0.823969 -0.540208 0.277950 0.828417 27 9 6\n-0.076207 0.318853 -0.665404 -0.302042 0.724876 -0.619098 0.284760 0.818077 60 24 14\n0.208981 0.317308 -0.332280 0.177618 0.975646 0.128605 0.248900 0.905400 42 20 19\n0.209844 0.314082 -0.257453 0.258980 0.960936 -0.097385 0.252400 0.902600 46 23 17\n0.288459 0.270845 -0.260408 0.207984 0.966521 -0.150121 0.252400 0.910100 33 17 14\n0.208981 0.317308 -0.332280 0.177618 0.975646 0.128605 0.317032 0.671987 42 20 19\n0.494766 0.287470 -0.391196 0.453841 0.849025 0.270486 0.672377 0.349713 85 60 39\n0.566294 0.240463 -0.415288 0.408185 0.865627 0.289895 0.655100 0.354100 103 82 66\n0.071254 0.339335 -1.217127 -0.066378 0.894681 -0.441725 0.550941 0.212913 123 74 39\n0.227771 0.349757 -1.189736 0.021546 0.983520 -0.179449 0.550489 0.244416 126 87 53\n-0.127754 0.325624 -0.774432 0.398206 0.896573 0.193701 0.638278 0.198726 116 96 62\n0.206173 0.284909 -0.976587 0.090609 0.980438 0.174566 0.401213 0.648732 100 81 57\n0.476479 0.261310 -0.178231 -0.168859 0.914853 -0.366741 0.499226 0.829041 45 20 14\n0.488023 0.321154 -0.103515 -0.346324 0.908048 -0.235511 0.490434 0.836593 67 34 29\n0.499562 0.262666 -0.211843 -0.336619 0.527024 -0.780328 0.494000 0.826800 64 29 19\n0.488023 0.321154 -0.103515 -0.346324 0.908048 -0.235511 0.727584 0.368040 67 34 29\n-0.184792 0.275612 -0.670478 0.087374 0.848598 0.521744 0.345777 0.727343 49 37 30\n-0.260005 0.340885 -0.707682 0.293985 0.912290 0.285043 0.365307 0.734130 117 98 67\n0.600753 0.312995 -0.018580 0.073824 0.986023 0.149327 0.735186 0.398167 71 47 46\n0.777869 0.294584 -0.888563 0.050600 0.997864 0.040712 0.570417 0.374302 130 96 64\n-0.107302 0.293191 -0.676055 -0.135838 0.972076 -0.191198 0.344735 0.708693 114 86 60\n-0.127754 0.325624 -0.774432 0.398206 0.896573 0.193701 0.359077 0.704276 116 96 62\n0.118273 0.302861 -1.044426 0.074740 0.971892 0.223212 0.578071 0.231268 60 26 19\n0.552062 0.304015 -1.166942 0.392010 0.846065 -0.361187 0.529949 0.314288 98 57 28\n0.581497 0.313467 -0.991832 0.075014 0.988189 0.133549 0.428618 0.576257 116 86 53\n-0.534510 0.354356 -0.724460 -0.045534 0.959960 -0.276345 0.675905 0.120447 114 86 53\n-0.465417 0.343937 -0.849587 -0.193640 0.962401 -0.190344 0.646906 0.129325 125 103 68\n0.149914 0.323741 -0.216452 -0.187780 0.965178 0.182043 0.493800 0.699800 61 30 17\n0.179288 0.329579 -0.171664 -0.190008 0.981353 -0.028016 0.493619 0.690226 131 109 73\n0.023326 0.320067 -1.047722 0.250984 0.947295 0.199042 0.585538 0.213448 55 26 13\n-0.076207 0.318853 -0.665404 -0.302042 0.724876 -0.619098 0.657905 0.218673 60 24 14\n-0.409370 0.365300 -0.397006 0.527146 0.810266 0.255989 0.104294 0.716036 49 28 27\n0.675157 0.285931 -0.904887 -0.134068 0.949736 0.282846 0.571408 0.356175 101 77 53\n0.016825 0.335925 -0.698449 -0.172185 0.824610 -0.538804 0.286400 0.831200 59 19 10\n-0.741685 0.351637 -0.260619 -0.273110 0.839900 0.468947 0.076000 0.634100 58 41 36\n-0.789535 0.363545 -0.346966 -0.382611 0.867946 0.316599 0.766188 0.082409 100 91 72\n-0.875202 0.349063 -0.434191 -0.367443 0.930021 -0.005310 0.750163 0.070862 103 89 69\n0.095600 0.287932 -0.742185 0.042299 0.945708 -0.322184 0.280906 0.846577 35 19 11\n0.385006 0.328401 -0.433209 0.139592 0.978790 0.149815 0.330426 0.640738 118 105 77\n-0.393098 0.359686 -0.599078 0.433515 0.900540 0.032044 0.369126 0.770004 103 89 58\n-0.372791 0.318568 -0.525054 0.588031 0.801874 0.105808 0.356347 0.775777 60 56 46\n0.507546 0.319979 -0.044746 -0.195379 0.918699 0.343211 0.226436 0.663702 41 18 19\n0.118273 0.302861 -1.044426 0.074740 0.971892 0.223212 0.404800 0.669141 60 26 19\n0.051988 0.305317 -0.978092 0.127537 0.984069 0.123600 0.283892 0.732279 128 110 82\n-0.072339 0.349566 -1.037559 0.189764 0.976531 0.101688 0.284215 0.744331 80 49 26\n-0.076736 0.296159 -0.884334 0.355144 0.917661 0.178137 0.263146 0.747738 87 74 54\n0.028510 0.328707 -0.579600 -0.013337 0.999756 -0.016327 0.668074 0.243209 63 39 38\n0.676921 0.312370 -1.027991 0.149937 0.984924 -0.085910 0.550020 0.348338 130 88 53\n0.571606 0.316253 -1.104194 0.199683 0.963317 -0.179205 0.542890 0.321840 119 79 48\n0.209844 0.314082 -0.257453 0.258980 0.960936 -0.097385 0.715327 0.301006 46 23 17\n0.385006 0.328401 -0.433209 0.139592 0.978790 0.149815 0.674076 0.325653 118 105 77\n0.356927 0.331301 -0.521814 0.098270 0.966521 -0.236946 0.661589 0.314397 68 35 33\n-0.693066 0.397869 -0.327928 -0.070803 0.925260 0.372631 0.075861 0.662416 31 19 16\n0.208981 0.317308 -0.332280 0.177618 0.975646 0.128605 0.702041 0.296093 42 20 19\n0.050045 0.306841 -0.368457 -0.214515 0.916013 0.338939 0.703731 0.265281 65 39 26\n0.078216 0.334649 -0.277881 -0.594226 0.786035 0.170171 0.719785 0.273936 72 38 35\n0.208981 0.317308 -0.332280 0.177618 0.975646 0.128605 0.326245 0.688484 42 20 19\n0.149914 0.323741 -0.216452 -0.187780 0.965178 0.182043 0.726853 0.291311 61 30 17\n0.078216 0.334649 -0.277881 -0.594226 0.786035 0.170171 0.077930 0.849162 72 38 35\n0.108382 0.277751 -0.181597 -0.658559 0.750389 0.056276 0.082100 0.865573 55 36 28\n0.149914 0.323741 -0.216452 -0.187780 0.965178 0.182043 0.074861 0.864279 61 30 17\n-0.232157 0.355801 -0.808400 0.146886 0.981780 0.120426 0.371426 0.719658 114 87 63\n0.016825 0.335925 -0.698449 -0.172185 0.824610 -0.538804 0.648961 0.233991 59 19 10\n-0.072339 0.349566 -1.037559 0.189764 0.976531 0.101688 0.590251 0.194603 80 49 26\n-0.131678 0.347461 -0.914567 0.331858 0.929502 0.160741 0.270547 0.760811 108 82 54\n0.123350 0.343818 -0.513413 0.008637 0.998047 -0.061434 0.676033 0.268064 62 37 38\n0.777869 0.294584 -0.888563 0.050600 0.997864 0.040712 0.432171 0.551287 130 96 64\n0.507546 0.319979 -0.044746 -0.195379 0.918699 0.343211 0.736428 0.376410 41 18 19\n0.237718 0.331856 -0.409230 0.048311 0.983215 0.175787 0.330425 0.674318 93 73 48\n0.249338 0.323379 -0.562789 -0.359386 0.578784 -0.731986 0.658756 0.291030 65 36 30\n-0.798787 0.386606 -0.476762 -0.402600 0.894192 -0.195685 0.736981 0.083294 95 71 50\n0.399243 0.341065 -1.164299 0.119541 0.979675 -0.160894 0.542546 0.286958 124 80 48\n0.581497 0.313467 -0.991832 0.075014 0.988189 0.133549 0.560983 0.331170 116 86 53\n-0.131678 0.347461 -0.914567 0.331858 0.929502 0.160741 0.618802 0.191317 108 82 54\n-0.256287 0.357751 -0.983671 -0.075442 0.991424 -0.106632 0.612603 0.159293 125 99 65\n-0.734488 0.374290 -0.284850 -0.398083 0.800226 0.448500 0.078259 0.647008 61 36 32\n-0.566808 0.380349 -0.679168 -0.075137 0.958556 -0.274697 0.687041 0.116936 129 93 53\n0.224297 0.339169 -0.499069 0.021455 0.996155 -0.084567 0.674040 0.292477 67 36 35\n0.237718 0.331856 -0.409230 0.048311 0.983215 0.175787 0.685548 0.298212 93 73 48\n0.333384 0.348408 -1.177770 0.070223 0.983276 -0.167882 0.545533 0.268627 132 100 66\n-0.072225 0.349422 -1.157967 -0.109867 0.953642 -0.280099 0.573064 0.187404 128 92 59\n0.227771 0.349757 -1.189736 0.021546 0.983520 -0.179449 0.428303 0.650312 126 87 53\n0.489910 0.330463 -1.031080 0.005890 0.979492 0.201239 0.557640 0.307304 106 72 49\n-0.353337 0.311322 -0.393053 0.647664 0.710471 0.275124 0.108200 0.721700 73 64 53\n-0.437425 0.402851 -0.489940 0.559465 0.822504 0.102206 0.088057 0.722664 52 32 30\n-0.437425 0.402851 -0.489940 0.559465 0.822504 0.102206 0.714639 0.160093 52 32 30\n-0.741685 0.351637 -0.260619 -0.273110 0.839900 0.468947 0.220342 0.798109 58 41 36\n-0.758806 0.399664 -0.392801 -0.343822 0.907620 0.240730 0.220744 0.824810 27 10 8\n-0.789535 0.363545 -0.346966 -0.382611 0.867946 0.316599 0.215609 0.813196 100 91 72\n-0.090298 0.361296 -1.001113 0.596057 0.785638 0.165624 0.286576 0.752335 118 86 49\n-0.734488 0.374290 -0.284850 -0.398083 0.800226 0.448500 0.223900 0.801600 61 36 32\n0.055015 0.352227 -1.177007 0.025208 0.998535 -0.047792 0.418860 0.679741 119 86 62\n0.023326 0.320067 -1.047722 0.250984 0.947295 0.199042 0.402334 0.688280 55 26 13\n0.362148 0.318062 -1.036517 -0.057924 0.938444 0.340495 0.564200 0.284859 115 90 63\n-0.232157 0.355801 -0.808400 0.146886 0.981780 0.120426 0.642554 0.178419 114 87 63\n-0.339468 0.362740 -0.790320 0.015564 0.999847 0.001862 0.651524 0.155597 128 108 79\n-0.260005 0.340885 -0.707682 0.293985 0.912290 0.285043 0.663602 0.175419 117 98 67\n-0.593368 0.360085 -0.576064 -0.194678 0.912320 -0.360210 0.706031 0.118217 24 10 8\n-0.711686 0.379146 -0.513658 -0.145054 0.882107 -0.448134 0.725725 0.097172 26 13 9\n-0.585327 0.435080 -0.408014 0.058596 0.968291 0.242836 0.077451 0.687051 46 30 19\n-0.393098 0.359686 -0.599078 0.433515 0.900540 0.032044 0.690452 0.157534 103 89 58\n-0.875202 0.349063 -0.434191 -0.367443 0.930021 -0.005310 0.125207 0.838644 103 89 69\n-0.789535 0.363545 -0.346966 -0.382611 0.867946 0.316599 0.121100 0.858200 100 91 72\n-0.758806 0.399664 -0.392801 -0.343822 0.907620 0.240730 0.116800 0.850100 27 10 8\n-0.437425 0.402851 -0.489940 0.559465 0.822504 0.102206 0.365517 0.785119 52 32 30\n-0.504547 0.380293 -0.621617 0.002899 0.918973 -0.394238 0.696105 0.132434 114 97 81\n-0.445291 0.362840 -0.640370 0.112217 0.986175 -0.121891 0.682672 0.143613 96 73 49\n0.055015 0.352227 -1.177007 0.025208 0.998535 -0.047792 0.562450 0.214497 119 86 62\n-0.072339 0.349566 -1.037559 0.189764 0.976531 0.101688 0.399935 0.709108 80 49 26\n-0.758806 0.399664 -0.392801 -0.343822 0.907620 0.240730 0.217909 0.891687 27 10 8\n-0.798787 0.386606 -0.476762 -0.402600 0.894192 -0.195685 0.214000 0.883200 95 71 50\n-0.875202 0.349063 -0.434191 -0.367443 0.930021 -0.005310 0.220200 0.885900 103 89 69\n-0.090298 0.361296 -1.001113 0.596057 0.785638 0.165624 0.600765 0.193831 118 86 49\n0.362148 0.318062 -1.036517 -0.057924 0.938444 0.340495 0.561346 0.265625 115 90 63\n-0.522032 0.431251 -0.472088 0.246315 0.956725 0.154729 0.076693 0.705468 56 41 34\n-0.536290 0.435797 -0.544606 -0.110263 0.927427 -0.357341 0.162600 0.898400 63 41 30\n-0.593368 0.360085 -0.576064 -0.194678 0.912320 -0.360210 0.164722 0.891998 24 10 8\n-0.620316 0.429427 -0.520087 -0.247353 0.858486 -0.449202 0.168043 0.898008 43 23 21\n-0.465936 0.423816 -0.576863 0.293893 0.875393 -0.383770 0.704021 0.144484 46 24 24\n-0.758806 0.399664 -0.392801 -0.343822 0.907620 0.240730 0.276000 0.894800 27 10 8\n-0.734488 0.374290 -0.284850 -0.398083 0.800226 0.448500 0.270200 0.890300 61 36 32\n-0.693066 0.397869 -0.327928 -0.070803 0.925260 0.372631 0.272646 0.885832 31 19 16\n-0.536290 0.435797 -0.544606 -0.110263 0.927427 -0.357341 0.714710 0.129811 63 41 30\n-0.753427 0.423490 -0.458261 -0.306864 0.945189 -0.111423 0.741509 0.093562 94 62 43\n-0.620316 0.429427 -0.520087 -0.247353 0.858486 -0.449202 0.723143 0.115843 43 23 21\n-0.753427 0.423490 -0.458261 -0.306864 0.945189 -0.111423 0.223900 0.837800 94 62 43\n-0.798787 0.386606 -0.476762 -0.402600 0.894192 -0.195685 0.216719 0.838650 95 71 50\n-0.593368 0.360085 -0.576064 -0.194678 0.912320 -0.360210 0.718033 0.112365 24 10 8\n-0.758806 0.399664 -0.392801 -0.343822 0.907620 0.240730 0.746917 0.104745 27 10 8\n-0.437425 0.402851 -0.489940 0.559465 0.822504 0.102206 0.710980 0.153725 52 32 30\n-0.693066 0.397869 -0.327928 -0.070803 0.925260 0.372631 0.753840 0.113656 31 19 16\n-0.585327 0.435080 -0.408014 0.058596 0.968291 0.242836 0.737247 0.128348 46 30 19\n-0.522032 0.431251 -0.472088 0.246315 0.956725 0.154729 0.723283 0.138018 56 41 34\n3 0 1 2\n3 2 1 3\n3 4 5 6\n3 4 7 5\n3 8 9 10\n3 11 1 12\n3 13 14 15\n3 16 17 18\n3 3 1 11\n3 19 12 1\n3 20 21 22\n3 23 24 25\n3 26 18 27\n3 28 29 30\n3 31 32 33\n3 34 35 36\n3 37 27 38\n3 39 40 19\n3 41 42 40\n3 43 44 45\n3 27 18 46\n3 47 48 49\n3 44 34 45\n3 50 11 12\n3 51 19 40\n3 52 53 54\n3 55 56 57\n3 58 59 60\n3 61 58 60\n3 62 63 64\n3 65 34 66\n3 44 66 34\n3 60 67 61\n3 68 69 70\n3 71 72 73\n3 74 75 76\n3 51 40 77\n3 60 59 78\n3 79 80 81\n3 82 38 83\n3 38 27 83\n3 84 85 86\n3 51 87 19\n3 88 19 87\n3 12 19 88\n3 89 90 68\n3 70 91 92\n3 91 93 92\n3 17 94 95\n3 96 97 98\n3 66 99 65\n3 100 101 102\n3 42 77 40\n3 103 63 104\n3 105 106 107\n3 108 11 109\n3 110 52 111\n3 112 113 114\n3 115 116 117\n3 118 38 82\n3 12 119 50\n3 11 50 109\n3 120 121 122\n3 123 12 124\n3 63 103 64\n3 62 125 126\n3 85 84 92\n3 68 127 69\n3 127 68 90\n3 128 129 130\n3 131 132 133\n3 85 92 93\n3 134 135 136\n3 137 138 139\n3 140 141 142\n3 143 144 145\n3 146 147 148\n3 149 112 114\n3 150 87 151\n3 152 153 99\n3 153 154 99\n3 91 155 93\n3 99 156 65\n3 46 17 157\n3 95 158 17\n3 83 27 46\n3 159 86 160\n3 161 162 163\n3 164 165 166\n3 110 111 167\n3 48 47 168\n3 169 170 171\n3 172 173 174\n3 88 87 150\n3 118 175 176\n3 82 177 178\n3 124 12 88\n3 83 46 179\n3 125 62 64\n3 62 136 135\n3 70 69 91\n3 180 181 99\n3 182 183 184\n3 185 159 160\n3 88 186 187\n3 188 189 190\n3 191 192 193\n3 194 195 196\n3 197 198 199\n3 200 201 202\n3 203 134 204\n3 205 206 207\n3 208 209 210\n3 157 17 158\n3 85 160 86\n3 211 212 213\n3 89 208 214\n3 69 215 91\n3 216 163 217\n3 215 218 91\n3 219 220 221\n3 82 178 118\n3 178 83 179\n3 136 62 126\n3 222 223 224\n3 225 226 227\n3 192 228 193\n3 229 230 231\n3 232 233 234\n3 88 187 124\n3 187 186 235\n3 69 127 236\n3 89 237 90\n3 155 91 218\n3 154 238 99\n3 208 239 214\n3 103 104 240\n3 241 242 185\n3 124 187 243\n3 134 136 244\n3 236 215 69\n3 127 245 236\n3 89 214 246\n3 236 245 247\n3 46 248 179\n3 155 218 249\n3 250 134 244\n3 251 252 253\n3 218 215 254\n3 255 256 257\n3 258 144 143\n3 127 90 237\n3 245 127 237\n3 249 218 259\n3 260 261 262\n3 263 264 265\n3 266 48 168\n3 199 267 197\n3 268 269 209\n3 109 50 270\n3 249 271 272\n3 273 274 275\n3 247 245 276\n3 209 269 210\n3 210 239 208\n3 237 89 246\n3 245 237 276\n3 277 236 247\n3 204 134 250\n3 93 155 278\n3 279 280 281\n3 254 215 277\n3 215 236 277\n3 247 276 282\n3 210 283 239\n3 284 285 286\n3 210 269 283\n3 278 160 85\n3 237 251 276\n3 218 254 259\n3 262 287 288\n3 154 289 238\n3 160 290 185\n3 175 118 291\n3 251 292 293\n3 93 278 85\n3 294 203 295\n3 280 279 296\n3 297 253 252\n3 298 299 300\n3 224 223 301\n3 302 303 304\n3 243 187 235\n3 305 306 307\n3 287 268 288\n3 214 239 283\n3 237 292 251\n3 155 249 278\n3 308 309 220\n3 249 259 271\n3 118 310 291\n3 214 283 246\n3 311 312 313\n3 246 292 237\n3 314 50 124\n3 292 246 283\n3 315 316 317\n3 318 273 275\n3 268 287 319\n3 284 104 285\n3 278 249 320\n3 259 254 277\n3 321 103 322\n3 271 259 323\n3 247 282 277\n3 324 272 271\n3 201 309 308\n3 314 124 243\n3 213 325 211\n3 326 327 328\n3 329 175 291\n3 330 331 332\n3 333 220 219\n3 302 304 334\n3 335 336 337\n3 338 339 340\n3 252 341 297\n3 320 342 278\n3 342 160 278\n3 299 298 343\n3 341 344 297\n3 282 297 344\n3 319 345 283\n3 342 320 346\n3 345 347 283\n3 348 349 350\n3 160 342 290\n3 347 351 292\n3 292 351 293\n3 287 352 319\n3 346 272 353\n3 251 341 252\n3 290 346 354\n3 341 293 355\n3 319 269 268\n3 269 319 283\n3 277 282 344\n3 202 201 308\n3 356 357 358\n3 359 360 285\n3 261 287 262\n3 353 272 324\n3 321 64 103\n3 125 64 321\n3 342 346 290\n3 293 351 355\n3 161 361 362\n3 363 270 50\n3 271 323 324\n3 341 251 293\n3 286 285 364\n3 283 347 292\n3 343 241 185\n3 50 314 363\n3 365 366 367\n3 368 316 366\n3 369 370 299\n3 371 372 373\n3 202 227 200\n3 374 104 284\n3 353 324 375\n3 136 126 244\n3 376 266 168\n3 345 377 347\n3 378 344 341\n3 379 261 260\n3 298 241 343\n3 380 381 382\n3 277 383 259\n3 384 385 386\n3 305 387 388\n3 389 390 391\n3 345 319 377\n3 383 323 259\n3 308 220 392\n3 383 378 393\n3 277 344 383\n3 261 394 287\n3 377 352 395\n3 378 383 344\n3 204 295 203\n3 324 323 375\n3 396 158 95\n3 397 398 399\n3 290 343 185\n3 395 352 400\n3 316 368 317\n3 401 402 403\n3 179 248 404\n3 290 354 405\n3 346 353 354\n3 323 383 406\n3 250 244 407\n3 341 408 378\n3 351 347 409\n3 383 393 406\n3 261 379 410\n3 319 352 377\n3 287 394 352\n3 400 352 394\n3 382 381 411\n3 225 227 412\n3 302 334 413\n3 170 169 414\n3 305 307 415\n3 416 417 314\n3 418 270 363\n3 419 420 421\n3 394 261 410\n3 341 355 408\n3 364 285 360\n3 422 423 424\n3 158 396 425\n3 290 405 426\n3 376 168 427\n3 347 377 409\n3 428 429 430\n3 323 406 375\n3 355 351 431\n3 378 432 393\n3 433 434 435\n3 355 436 408\n3 353 437 354\n3 343 290 426\n3 438 375 406\n3 422 409 377\n3 422 377 439\n3 440 441 442\n3 443 444 445\n3 446 394 410\n3 431 436 355\n3 447 431 424\n3 448 449 379\n3 414 169 450\n3 302 413 307\n3 362 451 452\n3 353 453 454\n3 227 202 455\n3 408 456 378\n3 457 458 459\n3 431 351 409\n3 322 103 240\n3 460 400 394\n3 461 361 163\n3 368 366 462\n3 204 250 407\n3 422 439 463\n3 410 379 446\n3 394 446 460\n3 423 422 463\n3 464 433 435\n3 454 465 353\n3 424 431 409\n3 353 438 453\n3 438 353 375\n3 466 467 468\n3 469 470 471\n3 412 227 472\n3 406 393 473\n3 427 168 474\n3 406 475 438\n3 456 408 436\n3 395 476 439\n3 377 395 439\n3 413 477 307\n3 363 314 478\n3 363 478 479\n3 479 480 363\n3 456 481 378\n3 364 360 482\n3 483 284 286\n3 484 284 483\n3 457 459 485\n3 431 447 436\n3 486 485 459\n3 436 487 456\n3 379 449 446\n3 436 447 487\n3 437 353 465\n3 488 489 490\n3 491 476 395\n3 395 400 491\n3 295 492 294\n3 359 433 464\n3 393 432 493\n3 400 460 491\n3 404 248 494\n3 437 465 495\n3 496 125 321\n3 417 478 314\n3 497 460 446\n3 460 497 491\n3 413 498 499\n3 500 501 502\n3 503 305 415\n3 504 505 506\n3 414 450 507\n3 481 432 378\n3 299 508 369\n3 509 291 510\n3 358 357 511\n3 446 449 512\n3 322 496 321\n3 513 446 512\n3 424 514 447\n3 475 515 438\n3 516 517 518\n3 393 519 473\n3 476 520 439\n3 446 513 497\n3 407 244 521\n3 520 463 439\n3 481 456 487\n3 522 426 495\n3 359 464 523\n3 406 473 475\n3 448 524 512\n3 525 526 322\n3 487 527 481\n3 369 508 528\n3 476 491 529\n3 529 530 531\n3 519 393 493\n3 126 125 496\n3 520 476 529\n3 532 533 534\n3 535 536 537\n3 538 539 497\n3 126 540 244\n3 158 425 541\n3 424 423 514\n3 542 362 361\n3 543 386 385\n3 524 448 544\n3 384 224 385\n3 227 545 472\n3 546 547 548\n3 549 359 523\n3 550 538 497\n3 448 512 449\n3 423 463 551\n3 539 491 497\n3 551 514 423\n3 552 519 493\n3 539 538 553\n3 529 531 520\n3 554 515 475\n3 529 539 530\n3 555 556 557\n3 558 475 473\n3 495 465 522\n3 475 558 554\n3 542 361 559\n3 428 430 560\n3 522 343 426\n3 561 294 492\n3 453 438 562\n3 550 497 513\n3 512 524 563\n3 514 487 447\n3 432 481 493\n3 392 564 308\n3 286 364 482\n3 404 565 566\n3 465 567 522\n3 520 551 463\n3 551 520 568\n3 491 539 529\n3 299 343 508\n3 508 343 522\n3 530 569 531\n3 570 571 572\n3 516 573 517\n3 513 512 550\n3 517 573 574\n3 435 434 317\n3 461 547 575\n3 464 435 576\n3 558 577 554\n3 578 525 484\n3 579 580 581\n3 558 473 519\n3 486 582 583\n3 584 585 586\n3 587 538 550\n3 202 308 564\n3 522 567 588\n3 541 425 589\n3 590 591 592\n3 515 562 438\n3 520 531 568\n3 564 455 202\n3 552 558 519\n3 593 291 509\n3 514 594 487\n3 563 595 512\n3 569 530 596\n3 568 531 569\n3 502 597 598\n3 599 600 601\n3 574 602 517\n3 603 517 604\n3 572 571 605\n3 567 454 453\n3 563 524 606\n3 291 593 450\n3 607 608 609\n3 610 611 612\n3 613 614 615\n3 158 616 248\n3 512 595 550\n3 482 360 523\n3 594 527 487\n3 286 482 617\n3 552 481 527\n3 609 608 618\n3 574 619 602\n3 620 333 621\n3 479 478 622\n3 333 620 392\n3 567 453 562\n3 515 554 623\n3 577 624 554\n3 461 559 361\n3 554 624 570\n3 538 587 553\n3 570 625 554\n3 626 530 539\n3 623 554 625\n3 627 528 508\n3 494 248 616\n3 628 627 588\n3 629 590 592\n3 630 628 588\n3 631 632 605\n3 493 481 552\n3 633 634 635\n3 587 550 636\n3 551 637 514\n3 558 552 577\n3 204 407 295\n3 515 623 562\n3 638 294 561\n3 591 639 592\n3 224 640 385\n3 641 637 642\n3 606 643 563\n3 551 644 637\n3 595 643 636\n3 568 569 644\n3 469 471 645\n3 646 552 527\n3 632 572 605\n3 514 641 594\n3 530 626 596\n3 564 392 647\n3 500 648 417\n3 596 626 649\n3 517 602 604\n3 508 522 588\n3 650 492 295\n3 566 565 651\n3 508 588 627\n3 570 652 625\n3 514 637 641\n3 653 632 654\n3 563 643 595\n3 527 594 646\n3 623 655 562\n3 644 551 568\n3 158 541 616\n3 455 564 656\n3 657 570 572\n3 598 597 658\n3 598 659 502\n3 417 660 478\n3 661 569 596\n3 622 662 480\n3 663 664 665\n3 666 667 668\n3 662 669 480\n3 507 450 593\n3 623 670 671\n3 567 672 588\n3 509 566 651\n3 636 550 595\n3 594 641 646\n3 553 626 539\n3 673 642 637\n3 572 632 657\n3 649 661 596\n3 623 625 670\n3 648 660 417\n3 674 675 676\n3 451 362 542\n3 407 677 295\n3 567 562 678\n3 653 657 632\n3 671 655 623\n3 679 680 681\n3 571 682 605\n3 569 661 644\n3 683 684 685\n3 643 686 636\n3 687 688 689\n3 654 632 631\n3 637 644 673\n3 690 691 692\n3 552 693 577\n3 525 694 526\n3 592 669 695\n3 496 526 694\n3 552 646 693\n3 570 657 652\n3 626 696 649\n3 625 697 670\n3 654 698 653\n3 699 451 700\n3 478 660 701\n3 702 703 704\n3 705 706 707\n3 708 709 710\n3 627 601 528\n3 587 636 686\n3 654 711 698\n3 639 669 592\n3 577 682 624\n3 626 553 587\n3 593 712 507\n3 647 392 620\n3 545 713 472\n3 664 496 714\n3 698 711 715\n3 673 716 717\n3 718 652 657\n3 627 628 601\n3 718 625 652\n3 682 577 693\n3 718 697 625\n3 696 626 587\n3 643 606 719\n3 718 657 720\n3 721 649 696\n3 641 642 722\n3 722 642 673\n3 567 678 672\n3 723 724 725\n3 656 564 647\n3 649 721 726\n3 644 661 727\n3 631 728 654\n3 727 673 644\n3 654 728 711\n3 562 655 678\n3 729 730 731\n3 646 641 722\n3 732 733 734\n3 735 736 737\n3 484 483 738\n3 548 739 740\n3 741 735 737\n3 727 661 742\n3 673 727 716\n3 620 621 743\n3 653 698 657\n3 588 672 630\n3 631 744 728\n3 745 643 746\n3 747 698 715\n3 728 744 748\n3 749 744 717\n3 750 751 752\n3 670 753 754\n3 638 561 755\n3 755 756 638\n3 697 718 753\n3 757 693 646\n3 758 759 760\n3 761 744 749\n3 592 762 629\n3 761 749 763\n3 722 757 646\n3 601 764 599\n3 757 765 682\n3 746 719 766\n3 727 767 716\n3 671 670 754\n3 717 722 673\n3 630 768 769\n3 761 748 744\n3 671 770 655\n3 746 643 719\n3 693 757 682\n3 713 656 771\n3 717 716 772\n3 682 765 631\n3 659 500 502\n3 773 715 711\n3 774 773 711\n3 775 773 776\n3 749 717 772\n3 777 778 700\n3 741 779 735\n3 587 686 696\n3 780 286 617\n3 694 525 578\n3 781 782 783\n3 726 661 649\n3 784 701 660\n3 767 772 716\n3 785 786 787\n3 757 722 765\n3 744 765 722\n3 662 695 669\n3 788 767 727\n3 661 726 742\n3 719 606 789\n3 790 742 726\n3 769 768 791\n3 771 656 647\n3 792 764 793\n3 744 631 765\n3 794 795 796\n3 720 657 747\n3 657 698 747\n3 660 797 784\n3 561 492 798\n3 721 799 726\n3 722 717 744\n3 789 766 719\n3 718 800 753\n3 793 764 601\n3 718 720 800\n3 801 802 745\n3 768 630 672\n3 803 464 576\n3 786 785 804\n3 714 496 694\n3 805 806 807\n3 713 808 472\n3 472 808 809\n3 810 811 812\n3 813 814 815\n3 816 817 818\n3 819 820 821\n3 761 763 822\n3 643 823 686\n3 650 295 677\n3 601 628 630\n3 820 824 821\n3 643 745 823\n3 317 825 435\n3 826 827 828\n3 701 784 829\n3 790 726 799\n3 830 753 800\n3 830 754 753\n3 788 742 790\n3 831 790 799\n3 763 772 832\n3 763 749 772\n3 746 801 745\n3 766 801 746\n3 686 823 833\n3 834 820 835\n3 601 630 793\n3 836 772 767\n3 837 822 838\n3 839 802 840\n3 790 831 788\n3 800 720 841\n3 727 742 788\n3 523 464 842\n3 678 768 672\n3 483 286 780\n3 678 655 770\n3 819 821 843\n3 843 844 819\n3 671 754 845\n3 755 561 846\n3 766 789 847\n3 848 819 849\n3 819 844 849\n3 847 789 850\n3 802 823 745\n3 851 852 853\n3 578 484 738\n3 806 805 854\n3 805 855 854\n3 827 826 856\n3 857 758 760\n3 686 833 696\n3 696 833 721\n3 858 589 859\n3 604 602 860\n3 721 833 799\n3 769 793 630\n3 791 793 769\n3 861 862 863\n3 762 592 864\n3 838 865 837\n3 662 866 695\n3 747 867 720\n3 662 701 868\n3 836 767 788\n3 792 793 869\n3 829 868 701\n3 870 834 824\n3 871 872 873\n3 874 785 787\n3 482 523 842\n3 801 840 802\n3 763 832 875\n3 876 877 878\n3 839 833 823\n3 678 770 768\n3 820 819 879\n3 770 671 845\n3 880 834 881\n3 835 881 834\n3 882 883 841\n3 882 884 885\n3 838 763 875\n3 822 763 838\n3 879 886 881\n3 887 715 773\n3 674 676 888\n3 695 864 592\n3 715 867 747\n3 662 868 824\n3 848 849 889\n3 800 841 830\n3 482 780 617\n3 780 890 483\n3 832 772 836\n3 830 841 883\n3 882 841 891\n3 866 834 892\n3 880 881 893\n3 880 892 834\n3 866 824 834\n3 824 868 821\n3 868 843 821\n3 885 880 894\n3 885 892 880\n3 870 820 834\n3 768 770 791\n3 770 895 791\n3 835 879 881\n3 820 879 835\n3 896 897 898\n3 839 823 802\n3 738 483 890\n3 899 900 901\n3 548 740 902\n3 903 904 905\n3 843 906 844\n3 907 788 831\n3 908 909 910\n3 766 847 911\n3 912 909 908\n3 788 907 913\n3 913 836 788\n3 832 836 914\n3 915 916 917\n3 918 919 920\n3 883 882 885\n3 921 859 589\n3 866 864 695\n3 892 885 884\n3 868 829 843\n3 884 864 892\n3 922 777 700\n3 542 700 451\n3 866 662 824\n3 770 845 923\n3 924 845 754\n3 780 482 842\n3 849 909 912\n3 759 756 760\n3 889 849 903\n3 849 912 903\n3 831 799 925\n3 894 880 893\n3 754 830 924\n3 926 849 844\n3 927 928 929\n3 904 930 905\n3 801 766 911\n3 819 886 879\n3 884 882 891\n3 791 895 931\n3 932 933 934\n3 861 863 935\n3 829 784 936\n3 798 492 650\n3 889 937 848\n3 895 770 923\n3 938 939 940\n3 941 942 943\n3 901 900 944\n3 945 713 771\n3 598 946 947\n3 831 925 907\n3 895 923 931\n3 903 905 889\n3 924 923 845\n3 806 854 874\n3 883 885 948\n3 869 793 949\n3 950 791 931\n3 904 912 930\n3 914 875 832\n3 926 910 849\n3 886 819 848\n3 894 948 885\n3 951 952 953\n3 791 950 793\n3 954 955 956\n3 957 958 959\n3 960 830 883\n3 830 960 924\n3 905 930 961\n3 886 893 881\n3 841 720 867\n3 962 963 964\n3 867 715 887\n3 833 925 799\n3 846 561 798\n3 905 937 889\n3 965 966 967\n3 965 967 968\n3 864 866 892\n3 865 838 875\n3 659 598 969\n3 970 837 865\n3 971 972 973\n3 974 848 937\n3 801 911 975\n3 839 840 976\n3 829 936 843\n3 977 843 936\n3 978 979 980\n3 974 886 848\n3 981 982 937\n3 937 905 981\n3 876 983 847\n3 984 985 986\n3 987 665 988\n3 989 898 897\n3 990 991 992\n3 694 578 993\n3 994 995 996\n3 994 996 997\n3 983 911 847\n3 804 785 998\n3 999 1000 1001\n3 801 975 840\n3 1002 997 996\n3 836 913 914\n3 1003 914 913\n3 1004 977 936\n3 1005 1006 1007\n3 1008 981 961\n3 874 854 785\n3 700 542 1009\n3 740 1010 902\n3 980 1011 1012\n3 1013 1014 1015\n3 1016 1017 934\n3 915 1018 916\n3 891 841 867\n3 947 1019 598\n3 598 1019 969\n3 948 960 883\n3 1020 966 965\n3 960 948 924\n3 867 887 891\n3 1021 924 948\n3 937 982 974\n3 967 959 958\n3 930 1022 994\n3 894 1023 948\n3 961 994 1024\n3 981 905 961\n3 1025 893 886\n3 738 993 578\n3 925 1026 907\n3 1027 784 797\n3 936 784 1027\n3 957 959 981\n3 1028 930 912\n3 1029 674 1030\n3 1031 912 908\n3 875 1032 865\n3 912 1031 1028\n3 604 860 1033\n3 994 1034 995\n3 840 975 1035\n3 843 977 906\n3 1028 1036 1037\n3 891 864 884\n3 961 1024 1008\n3 1038 974 982\n3 1039 783 782\n3 797 660 1040\n3 1041 981 959\n3 923 924 931\n3 949 793 950\n3 994 961 930\n3 996 1042 1043\n3 1044 949 1045\n3 856 826 1046\n3 1047 1048 1049\n3 758 857 951\n3 1024 994 1002\n3 1050 1051 1052\n3 1002 994 997\n3 1046 1011 856\n3 1053 1054 1055\n3 1056 733 1057\n3 741 1058 779\n3 1059 1060 1061\n3 1062 925 833\n3 833 839 1063\n3 1035 976 840\n3 1026 913 907\n3 1035 1064 1065\n3 977 1004 1066\n3 878 877 1067\n3 957 1008 1024\n3 1030 674 888\n3 1030 1068 1029\n3 875 914 1032\n3 1002 996 1043\n3 1069 1002 1043\n3 1041 982 981\n3 1026 925 1070\n3 1023 894 893\n3 1071 954 956\n3 1072 991 1073\n3 934 1074 865\n3 1075 1069 1076\n3 926 844 906\n3 981 1008 957\n3 908 910 926\n3 1077 1078 1079\n3 969 1080 659\n3 1037 994 1022\n3 1081 797 1040\n3 797 1081 1027\n3 1061 1060 886\n3 891 887 864\n3 1037 1082 1034\n3 930 1028 1022\n3 859 921 1083\n3 1022 1028 1037\n3 1084 1052 1051\n3 976 1063 839\n3 958 957 1085\n3 925 1062 1086\n3 914 1003 1032\n3 604 1033 1087\n3 977 1066 906\n3 1085 957 1075\n3 1088 906 1066\n3 995 1089 996\n3 957 1024 1069\n3 1024 1002 1069\n3 1061 974 1038\n3 1021 948 1090\n3 925 1086 1070\n3 1091 1092 1093\n3 926 1094 908\n3 1089 1095 1096\n3 1095 1089 1097\n3 1038 982 1041\n3 1023 893 1098\n3 957 1069 1075\n3 1025 1098 893\n3 1069 1043 1042\n3 1099 1100 1101\n3 958 1085 967\n3 970 1074 934\n3 994 1037 1034\n3 1042 996 1096\n3 931 924 1045\n3 1089 995 1034\n3 1102 902 1010\n3 996 1089 1096\n3 1003 1103 1032\n3 1061 886 974\n3 924 1104 1045\n3 1105 1106 1107\n3 913 1026 1108\n3 780 842 1109\n3 913 1108 1003\n3 1038 1059 1061\n3 1075 1076 1110\n3 1082 1037 1036\n3 1092 1111 1093\n3 1082 1112 1034\n3 756 755 760\n3 1113 1114 1115\n3 1016 934 1116\n3 906 1117 926\n3 1118 938 940\n3 1119 694 1120\n3 911 1121 975\n3 1122 975 1121\n3 950 1045 949\n3 1123 983 878\n3 1031 1036 1028\n3 1076 1069 1124\n3 1069 1042 1124\n3 1125 1063 976\n3 1031 1126 1036\n3 833 1063 1062\n3 1059 1127 1060\n3 1103 1003 1108\n3 975 1122 1035\n3 1128 1082 1036\n3 1117 906 1088\n3 976 1035 1125\n3 1129 1063 1125\n3 1065 1064 1130\n3 1021 1104 924\n3 1131 1065 1132\n3 846 1133 755\n3 948 1023 1090\n3 1093 1111 1134\n3 1089 1034 1135\n3 969 1136 1080\n3 888 1137 1138\n3 1034 1112 1135\n3 1121 911 983\n3 1139 1140 828\n3 1031 908 1094\n3 1141 1142 1143\n3 1144 1145 1146\n3 1147 1093 1134\n3 1032 1148 865\n3 1065 1149 1132\n3 1038 1150 1059\n3 878 1067 1123\n3 1041 1151 1038\n3 1152 1153 1154\n3 968 967 1085\n3 950 931 1045\n3 1086 1155 1070\n3 1076 1124 1156\n3 1156 1157 1158\n3 1117 1093 1147\n3 1136 969 1019\n3 1070 1159 1026\n3 1159 1108 1026\n3 1108 1159 1160\n3 1090 1023 1161\n3 1082 1128 1112\n3 1011 1046 1012\n3 860 1162 1163\n3 951 857 1164\n3 1165 1108 1160\n3 755 1133 760\n3 1060 1166 1167\n3 1110 1076 1156\n3 1094 1168 1031\n3 1085 1169 1170\n3 1171 1158 1157\n3 1085 1075 1172\n3 1173 1174 1175\n3 1148 934 865\n3 1019 1116 934\n3 1176 1137 987\n3 983 1123 1121\n3 1090 1177 1021\n3 1031 1168 1126\n3 1021 1178 1104\n3 1103 1108 1165\n3 1038 1179 1150\n3 1180 1181 1182\n3 1183 1184 1185\n3 1160 1159 1186\n3 826 1187 1046\n3 1165 1032 1103\n3 798 650 1188\n3 1036 1189 1128\n3 760 1164 857\n3 1190 1191 1192\n3 1098 1161 1023\n3 1193 1148 1194\n3 926 1147 1094\n3 1195 1098 1025\n3 1070 1196 1159\n3 1195 1025 1167\n3 936 1027 1081\n3 1085 1170 968\n3 1088 1091 1117\n3 1172 1169 1085\n3 1059 1150 1127\n3 1197 1135 1112\n3 1198 1199 1196\n3 860 1163 1033\n3 1080 1200 1040\n3 1032 1165 1148\n3 1045 1104 1201\n3 1202 1179 968\n3 1203 1131 1132\n3 936 1081 1204\n3 1123 1067 1205\n3 1204 1066 1004\n3 1206 1207 1088\n3 738 1208 1209\n3 1148 1193 934\n3 1210 1211 1212\n3 1207 1213 1088\n3 1214 1215 1216\n3 1045 1201 1044\n3 1044 1201 1217\n3 1156 1158 1110\n3 1218 1217 1219\n3 1088 1213 1091\n3 1141 1220 1142\n3 1147 926 1117\n3 1221 1222 1189\n3 1223 934 1193\n3 1019 934 1223\n3 1206 1088 1066\n3 1177 1178 1021\n3 1129 1224 1063\n3 978 980 1012\n3 1126 1221 1189\n3 1126 1189 1036\n3 1200 1225 1226\n3 1227 1228 922\n3 1229 1230 1231\n3 542 1232 1009\n3 1233 1234 1235\n3 1236 1237 1238\n3 1169 1172 1158\n3 1104 1178 1201\n3 1179 1202 1150\n3 1170 1239 1240\n3 846 798 1188\n3 1134 1094 1147\n3 890 1208 738\n3 1168 1094 1134\n3 1241 1242 1243\n3 1222 1244 1245\n3 1160 1186 1165\n3 1189 1222 1245\n3 1168 1246 1126\n3 1134 1111 1247\n3 1248 1249 1250\n3 1080 1251 1200\n3 1161 1098 1252\n3 1040 1200 1081\n3 1189 1253 1128\n3 1254 1255 1256\n3 1170 1240 1257\n3 1258 1259 1260\n3 1170 1257 968\n3 1201 1178 1261\n3 1262 1098 1195\n3 1110 1158 1172\n3 1263 1102 1010\n3 1149 1264 1132\n3 1265 1122 1121\n3 1224 1266 1198\n3 1063 1224 1062\n3 1081 1226 1204\n3 1206 1066 1204\n3 1267 1268 1269\n3 1270 1271 1272\n3 1121 1123 1265\n3 1165 1273 1274\n3 1247 1111 1275\n3 1274 1194 1165\n3 1194 1148 1165\n3 1276 922 700\n3 1202 968 1257\n3 1277 1226 1225\n3 1169 1158 1239\n3 1098 1262 1252\n3 1176 987 988\n3 1206 1204 1226\n3 1125 1203 1129\n3 740 978 1278\n3 1279 1243 1280\n3 1281 1282 1068\n3 1068 1030 1281\n3 1202 1283 1150\n3 1128 1253 1197\n3 1284 1285 1286\n3 1193 1286 1223\n3 1130 1265 1287\n3 1288 1119 1120\n3 1289 1087 1033\n3 1239 1257 1240\n3 1133 846 1290\n3 1012 1046 1291\n3 1158 1292 1239\n3 1062 1198 1155\n3 1062 1224 1198\n3 1293 1294 1295\n3 1296 1244 1222\n3 1297 1165 1186\n3 1081 1200 1226\n3 1273 1284 1274\n3 1198 1266 1199\n3 1202 1033 1298\n3 1257 1033 1202\n3 1284 1286 1274\n3 1244 1299 1245\n3 1194 1286 1193\n3 1300 1301 1302\n3 1266 1303 1304\n3 1265 1123 1205\n3 1201 1261 1305\n3 1201 1305 1217\n3 1196 1199 1159\n3 978 1306 1278\n3 1217 1305 1219\n3 1119 1307 988\n3 1186 1159 1308\n3 1309 1197 1253\n3 1310 1168 1134\n3 1012 1306 978\n3 1311 1253 1312\n3 1136 1251 1080\n3 1168 1313 1246\n3 1202 1298 1283\n3 1128 1197 1112\n3 1314 1315 1316\n3 1129 1317 1224\n3 1200 1251 1225\n3 1194 1274 1286\n3 1266 1304 1199\n3 1318 1286 1285\n3 1318 1223 1286\n3 1319 1320 1321\n3 1266 1317 1303\n3 1322 1323 1324\n3 1322 1325 1323\n3 1177 1261 1178\n3 1191 1326 1192\n3 1239 1292 1327\n3 1223 1328 1019\n3 1195 1167 1329\n3 1136 1019 1330\n3 1166 1329 1167\n3 1329 1166 1331\n3 1332 1333 1334\n3 1308 1297 1186\n3 1163 1298 1033\n3 1203 1317 1129\n3 1335 1336 1337\n3 1304 1159 1199\n3 1265 1205 1287\n3 1227 922 1338\n3 1159 1304 1308\n3 1339 1340 1341\n3 1313 1168 1310\n3 1342 1343 1344\n3 1277 1206 1226\n3 1033 1257 1239\n3 1325 1345 1323\n3 1346 1333 1332\n3 1251 1347 1225\n3 1348 1349 1350\n3 1266 1224 1317\n3 922 1276 1338\n3 1261 1351 1305\n3 1009 1276 700\n3 1333 1205 1334\n3 1352 1335 1337\n3 1353 1354 1355\n3 1136 1330 1251\n3 1220 1141 1356\n3 1161 1261 1090\n3 1357 1252 1358\n3 1359 1360 1361\n3 1275 1362 1247\n3 1312 1189 1245\n3 1189 1312 1253\n3 1247 1363 1134\n3 1090 1261 1177\n3 1289 1239 1327\n3 1364 1365 1323\n3 1137 1176 1138\n3 888 1366 1030\n3 1328 1223 1318\n3 1019 1328 1330\n3 1273 1367 1368\n3 1033 1239 1289\n3 1369 1132 1264\n3 1347 1277 1225\n3 1370 1371 1372\n3 1207 1206 1277\n3 1373 1207 1277\n3 1304 1303 1374\n3 1261 1337 1351\n3 1252 1262 1358\n3 1207 1375 1376\n3 1377 1378 1379\n3 1361 1360 1380\n3 1268 1381 1269\n3 1382 1297 1308\n3 1281 1030 1366\n3 1358 1262 1383\n3 1287 1333 1149\n3 1297 1382 1367\n3 1264 1149 1384\n3 1313 1385 1246\n3 1386 1387 1388\n3 1318 1389 1328\n3 1273 1297 1367\n3 1273 1368 1284\n3 1390 1391 1392\n3 1393 1394 1395\n3 1317 1132 1369\n3 1369 1303 1317\n3 1369 1396 1303\n3 1397 1398 1369\n3 1278 1010 740\n3 1232 901 1399\n3 1329 1331 1400\n3 1358 1325 1357\n3 1251 1330 1347\n3 1401 1010 1278\n3 1284 1368 1285\n3 1304 1402 1308\n3 1403 1404 1405\n3 1227 1338 1406\n3 1396 1369 1398\n3 1261 1161 1357\n3 1308 1402 1382\n3 901 1263 1407\n3 1010 1407 1263\n3 1195 1329 1262\n3 1408 1374 1303\n3 1383 1262 1329\n3 1408 1409 1374\n3 1374 1409 1410\n3 1337 1357 1325\n3 1352 1337 1325\n3 1134 1363 1310\n3 1325 1358 1345\n3 1382 1411 1367\n3 1412 1313 1310\n3 1367 1413 1368\n3 1357 1337 1261\n3 888 1138 1366\n3 1323 1345 1383\n3 1245 1299 1414\n3 1328 1415 1330\n3 1245 1414 1312\n3 1207 1373 1375\n3 1400 1383 1329\n3 1303 1396 1408\n3 1397 1369 1416\n3 1287 1205 1333\n3 1417 1330 1418\n3 1149 1333 1384\n3 1419 1420 1421\n3 1358 1383 1345\n3 1422 1398 1397\n3 1373 1423 1380\n3 1285 1424 1318\n3 1425 1380 1423\n3 1232 1399 1426\n3 1417 1347 1330\n3 1331 1283 1400\n3 1427 1428 1429\n3 1400 1283 1163\n3 1415 1430 1330\n3 1423 1373 1347\n3 1277 1347 1373\n3 1333 1346 1384\n3 1431 1432 1433\n3 1434 1435 1436\n3 1417 1437 1438\n3 1439 1323 1383\n3 1440 1441 1442\n3 1443 1276 1009\n3 1444 1138 1176\n3 1445 1446 1447\n3 1448 1449 1450\n3 1009 1232 1426\n3 1318 1424 1389\n3 1405 1451 1403\n3 1363 1452 1310\n3 1453 1412 1454\n3 1328 1389 1415\n3 1296 1453 1299\n3 1382 1455 1411\n3 1368 1413 1424\n3 1456 1457 1458\n3 1383 1400 1439\n3 1418 1330 1430\n3 1382 1402 1455\n3 1285 1368 1424\n3 1362 1275 1459\n3 1460 1461 1462\n3 1399 1463 1426\n3 1412 1453 1313\n3 1313 1453 1464\n3 1347 1417 1465\n3 1466 1361 1459\n3 1369 1264 1384\n3 1411 1455 1367\n3 1407 1010 1401\n3 1467 1468 1434\n3 1414 1299 1469\n3 1389 1424 1415\n3 1439 1400 1470\n3 1346 1471 1384\n3 1472 1473 1474\n3 1361 1425 1475\n3 1476 1477 1478\n3 1479 1480 1481\n3 1453 1454 1469\n3 1362 1459 1363\n3 1469 1299 1453\n3 1482 1397 1416\n3 1346 1483 1484\n3 1396 1398 1408\n3 1413 1367 1485\n3 1424 1486 1415\n3 1487 1488 1489\n3 1409 1490 1410\n3 1491 1492 1493\n3 1417 1438 1465\n3 1494 1495 1437\n3 1397 1482 1422\n3 1438 1437 1495\n3 1346 1484 1496\n3 1347 1465 1423\n3 1460 1497 1487\n3 1498 1499 1500\n3 1455 1485 1367\n3 1501 1502 1503\n3 1424 1413 1486\n3 1416 1471 1482\n3 1430 1415 1504\n3 1488 1505 1506\n3 1507 1508 1509\n3 1510 1511 1512\n3 1513 1490 1408\n3 1413 1485 1486\n3 1228 1468 1467\n3 1009 1426 1514\n3 1515 1516 1517\n3 1518 1519 1520\n3 1521 1522 1523\n3 1524 1525 1526\n3 1422 1482 1527\n3 1528 1485 1529\n3 1530 1505 1488\n3 1485 1528 1531\n3 1532 1533 1534\n3 1487 1497 1488\n3 1436 1535 1477\n3 1465 1438 1536\n3 1490 1485 1455\n3 1463 1407 1401\n3 1497 1462 1482\n3 1489 1488 1506\n3 1537 1538 1539\n3 1540 1541 1542\n3 1543 1539 1538\n3 1536 1438 1495\n3 1514 1426 1544\n3 1462 1497 1460\n3 1430 1504 1486\n3 1488 1497 1545\n3 1531 1486 1485\n3 1363 1454 1452\n3 1535 1436 1435\n3 1228 1227 1546\n3 1435 1434 1468\n3 1512 1511 1547\n3 1548 1549 1550\n3 1551 1552 1553\n3 1471 1346 1496\n3 1478 1477 1535\n3 1430 1554 1418\n3 1555 1496 1556\n3 1513 1422 1490\n3 1490 1529 1485\n3 1557 1558 1559\n3 1560 1500 1499\n3 1536 1495 1465\n3 1490 1422 1561\n3 1505 1562 1563\n3 1482 1471 1496\n3 1454 1363 1564\n3 1521 1523 1565\n3 1566 1506 1505\n3 1567 1568 1569\n3 1570 1571 1572\n3 1494 1418 1554\n3 1528 1529 1573\n3 1423 1475 1425\n3 1574 1575 1576\n3 1577 1573 1578\n3 1579 1580 1486\n3 1581 1469 1454\n3 1363 1459 1564\n3 1430 1486 1580\n3 1511 1582 1547\n3 1529 1583 1506\n3 1468 1228 1546\n3 1584 1482 1496\n3 1554 1430 1580\n3 1585 1586 1587\n3 1276 1588 1589\n3 1578 1573 1529\n3 1590 1591 1494\n3 1592 1593 1594\n3 1595 1566 1563\n3 1528 1573 1531\n3 1577 1596 1573\n3 1490 1561 1597\n3 1598 1599 1600\n3 1597 1529 1490\n3 1531 1573 1579\n3 1579 1486 1531\n3 1601 1602 1603\n3 1555 1584 1496\n3 1604 1605 1606\n3 1475 1564 1459\n3 1495 1494 1591\n3 1488 1545 1530\n3 1482 1584 1497\n3 1554 1590 1494\n3 1529 1506 1578\n3 1590 1554 1580\n3 1607 1608 1609\n3 1591 1610 1611\n3 1596 1612 1613\n3 1614 1615 1616\n3 1573 1596 1579\n3 1590 1580 1579\n3 1545 1497 1584\n3 1610 1590 1579\n3 1546 1227 1406\n3 1463 1617 1544\n3 1454 1564 1581\n3 1463 1544 1426\n3 1562 1618 1563\n3 1619 1475 1465\n3 1620 1585 1587\n3 1564 1475 1619\n3 1495 1591 1611\n3 1610 1613 1621\n3 1423 1465 1475\n3 1530 1622 1505\n3 1596 1613 1610\n3 1535 1623 1478\n3 1495 1611 1624\n3 1625 1613 1595\n3 1625 1626 1613\n3 1627 1628 1629\n3 1596 1610 1579\n3 1618 1505 1622\n3 1630 1564 1619\n3 1578 1566 1577\n3 1631 1632 1633\n3 1621 1611 1610\n3 1555 1634 1635\n3 1636 1611 1621\n3 1636 1624 1611\n3 1595 1563 1625\n3 1563 1618 1625\n3 1495 1624 1637\n3 1545 1555 1635\n3 1584 1555 1545\n3 1495 1637 1465\n3 1638 1639 1640\n3 1641 1642 1643\n3 1644 1645 1646\n3 1435 1647 1535\n3 1545 1635 1530\n3 1624 1645 1644\n3 1641 1643 1544\n3 1465 1637 1619\n3 1626 1625 1621\n3 1530 1635 1622\n3 1621 1625 1636\n3 1624 1636 1645\n3 1636 1648 1645\n3 1618 1622 1649\n3 1650 1651 1652\n3 1625 1648 1636\n3 1622 1635 1649\n3 1618 1649 1625\n3 1649 1635 1653\n3 1649 1653 1654\n3 1645 1648 1655\n3 1537 1539 1656\n3 1654 1648 1649\n3 1648 1657 1655\n3 1625 1649 1648\n3 1658 1624 1644\n3 1659 1660 1661\n3 1624 1658 1637\n3 1630 1619 1662\n3 1662 1619 1658\n3 1658 1619 1637\n3 1663 1664 1665\n3 1666 1663 1665\n3 1667 1668 1669\n3 1670 1671 1672\n3 1673 1674 1675\n3 1676 1677 1678\n3 1679 1680 1681\n3 1682 1676 1683\n3 1684 1685 1686\n3 1687 789 606\n3 1672 1671 1688\n3 1434 1436 1689\n3 1682 1683 1690\n3 1691 1692 1693\n3 1694 1695 1696\n3 1683 1694 1696\n3 209 1697 268\n3 1669 1698 1667\n3 1695 1691 1696\n3 1699 1700 1701\n3 1702 1703 1704\n3 1705 1688 1671\n3 1677 1676 1682\n3 850 789 1706\n3 1683 1696 1690\n3 1707 1708 1709\n3 1710 1711 1712\n3 1685 1713 1714\n3 1696 1691 1693\n3 288 268 1697\n3 1714 1686 1685\n3 1670 1672 1715\n3 209 208 1716\n3 1693 1692 1684\n3 1717 1705 1718\n3 1688 1705 1717\n3 1702 1704 1715\n3 1703 1702 1719\n3 1709 1720 1707\n3 1721 1722 1723\n3 1718 1724 1725\n3 68 1726 89\n3 1725 1724 1708\n3 1727 1728 1729\n3 1730 1434 1689\n3 1709 1731 1732\n3 1720 1709 1732\n3 1715 1672 1733\n3 1713 1719 1734\n3 1735 1736 1737\n3 1738 1721 1723\n3 1707 1739 1708\n3 1740 1741 1742\n3 1743 1744 1745\n3 1684 1746 1693\n3 1713 1734 1714\n3 1228 1467 1747\n3 1672 1688 1748\n3 1702 1749 1750\n3 1751 1702 1715\n3 1752 1753 1754\n3 1677 1682 1755\n3 1750 1719 1702\n3 1467 1434 1730\n3 1756 1757 1758\n3 1758 1757 1677\n3 1735 1737 1759\n3 1698 1669 1760\n3 1745 1761 1743\n3 1762 1763 1764\n3 1765 1766 1767\n3 1677 1755 1758\n3 1690 1696 1768\n3 1769 1686 1714\n3 1760 1669 1770\n3 1686 1746 1684\n3 1738 1723 1771\n3 1733 1672 1748\n3 1707 1772 1739\n3 1725 1739 1772\n3 1773 1774 1775\n3 1776 1777 1778\n3 1779 1780 1781\n3 1743 1761 1782\n3 1777 1783 1778\n3 1767 1766 1784\n3 1718 1725 1785\n3 1688 1717 1786\n3 1787 1714 1734\n3 1768 1696 1693\n3 1717 1718 1785\n3 1750 1788 1719\n3 1789 1790 1791\n3 1792 1793 1778\n3 1794 1779 1795\n3 1746 1686 1769\n3 1734 1719 1788\n3 1751 1749 1702\n3 1769 1714 1787\n3 1793 1776 1778\n3 1796 1797 1798\n3 1682 1690 1755\n3 1799 1800 1801\n3 1802 1803 1698\n3 1792 1794 1804\n3 1730 1805 1467\n3 1755 1690 1806\n3 1801 1807 1799\n3 1804 1794 1808\n3 1745 1809 1810\n3 1795 1779 1811\n3 1811 1779 1781\n3 1785 1725 1772\n3 1792 1804 1793\n3 1748 1688 1812\n3 1751 1715 1733\n3 1688 1786 1812\n3 1799 1813 1780\n3 1813 1799 1807\n3 1814 1815 1816\n3 1817 1818 1819\n3 98 1800 1799\n3 98 97 1820\n3 198 197 1821\n3 1758 1755 1822\n3 1772 1720 1823\n3 1467 1805 1747\n3 1794 1824 1808\n3 1802 1698 1825\n3 1812 1826 1748\n3 1733 1748 1826\n3 1827 1820 97\n3 1828 97 1829\n3 1823 1720 1830\n3 1831 1832 1809\n3 1782 1761 1810\n3 1785 1786 1717\n3 1833 1834 1835\n3 1809 1832 1836\n3 1785 1772 1837\n3 1746 1769 1838\n3 1723 1783 1839\n3 1228 1747 1840\n3 1751 1750 1749\n3 97 1828 1841\n3 1828 1829 1842\n3 1830 1843 1823\n3 1824 1794 1795\n3 1813 1781 1780\n3 1836 1771 1723\n3 1690 1768 1806\n3 1827 97 1841\n3 189 1844 1842\n3 1812 1785 1837\n3 1751 1733 1826\n3 1734 1788 1845\n3 1785 1812 1786\n3 1846 1782 1810\n3 1783 1777 1839\n3 1787 1734 1845\n3 1847 1848 1849\n3 339 1850 1851\n3 338 1850 339\n3 1852 1849 1848\n3 922 1228 777\n3 1788 1750 1853\n3 1854 1855 1856\n3 1804 1808 1857\n3 1777 1776 1858\n3 1837 1772 1823\n3 1828 1842 1844\n3 1859 189 188\n3 1840 777 1228\n3 1860 1861 1862\n3 1863 1864 1855\n3 1781 1813 1865\n3 434 433 1866\n3 1865 1813 1807\n3 1693 1746 1867\n3 1868 1803 1869\n3 1861 1870 1862\n3 1751 1826 1871\n3 1858 1839 1777\n3 1795 1811 1781\n3 1838 1867 1746\n3 1768 1693 1867\n3 1861 1860 1872\n3 1801 1800 98\n3 433 359 1873\n3 1874 1875 1876\n3 1877 1878 1879\n3 285 1880 359\n3 1844 189 1859\n3 1859 188 1881\n3 1882 1883 1850\n3 1793 1804 1857\n3 1750 1751 1871\n3 1768 1867 1806\n3 1884 1885 1872\n3 1872 1886 1861\n3 1881 339 1851\n3 1863 1887 1864\n3 1888 740 739\n3 1850 1883 1889\n3 1807 1801 1890\n3 1889 1851 1850\n3 1891 1892 1755\n3 1822 1755 1892\n3 1787 1845 1893\n3 1793 1858 1776\n3 1723 1839 1836\n3 1861 1886 1870\n3 978 740 1888\n3 1894 1837 1823\n3 1895 1885 1884\n3 1869 1803 1802\n3 98 1896 1801\n3 1846 1810 1897\n3 1898 1897 1810\n3 1820 1896 98\n3 1891 1755 1806\n3 1828 1844 1899\n3 1836 1898 1809\n3 1900 1885 1895\n3 1901 1902 1903\n3 1872 1904 1884\n3 1827 1841 1905\n3 1844 1859 1899\n3 1810 1809 1898\n3 1841 1828 1899\n3 1889 1883 1906\n3 1907 1870 1908\n3 1909 1910 1911\n3 1912 777 1840\n3 1862 1870 1907\n3 1795 1808 1824\n3 1825 1913 1914\n3 1897 1915 1846\n3 1916 1917 1918\n3 1919 1917 1916\n3 1781 1920 1795\n3 1904 1921 1884\n3 1922 1923 1924\n3 1787 1893 1769\n3 1750 1871 1853\n3 1925 1788 1853\n3 1926 1927 1928\n3 1838 1769 1893\n3 1893 1929 1838\n3 1896 1820 1827\n3 1930 1931 1932\n3 1841 1899 1905\n3 1822 1933 1758\n3 1934 1758 1933\n3 1825 1914 1935\n3 1883 1936 1906\n3 1807 1890 1865\n3 1937 1938 1939\n3 1924 1923 1940\n3 1885 1900 1941\n3 980 979 1942\n3 1943 1808 1920\n3 1808 1795 1920\n3 1944 1823 1945\n3 1839 1946 1836\n3 1858 1946 1839\n3 1886 1872 1941\n3 1812 1947 1826\n3 1937 1948 1938\n3 1793 1857 1949\n3 1885 1941 1872\n3 1870 1950 1908\n3 1872 1951 1904\n3 1952 1853 1871\n3 1904 1953 1921\n3 1806 1867 1891\n3 1954 1955 1956\n3 1836 1946 1957\n3 1958 1959 1837\n3 1960 1961 1962\n3 1963 1964 1965\n3 1966 1950 1870\n3 1890 1801 1967\n3 1968 1951 1872\n3 1896 1827 1905\n3 1908 1969 1907\n3 1865 1920 1781\n3 1970 1971 1972\n3 1973 1974 1975\n3 1858 1793 1976\n3 1867 1838 1929\n3 1977 777 1978\n3 1943 1857 1808\n3 1979 1980 1981\n3 1982 1983 1984\n3 1921 1953 1985\n3 1986 1987 1988\n3 1938 1989 1939\n3 1990 1939 1989\n3 1836 1991 1898\n3 1992 1993 1980\n3 1994 1995 1996\n3 1997 1998 1999\n3 1802 1825 1935\n3 1890 1967 1865\n3 1946 1858 1976\n3 1793 1949 1976\n3 979 978 1888\n3 2000 1870 1886\n3 2001 2002 2003\n3 1889 2004 1851\n3 2005 2000 1886\n3 2006 2007 2008\n3 1886 1941 2005\n3 1949 1857 1943\n3 1970 2009 1971\n3 1933 1822 1892\n3 2010 2011 2012\n3 1968 2013 1951\n3 2014 1826 1947\n3 2005 1941 1900\n3 2015 2005 1900\n3 285 104 2016\n3 1955 2017 1956\n3 2018 2019 2020\n3 1896 1967 1801\n3 2021 1865 1967\n3 1867 2022 1891\n3 1897 1898 2023\n3 1859 1881 2024\n3 1881 1851 2025\n3 1906 1936 2026\n3 2027 2028 2029\n3 2030 2031 2032\n3 1948 2033 1938\n3 2034 2007 2006\n3 1980 1993 1981\n3 2006 2035 2034\n3 2021 1920 1865\n3 1967 1896 2036\n3 2037 1905 1899\n3 2038 1969 2039\n3 2040 2039 1950\n3 1950 2039 1969\n3 2005 2015 1971\n3 1972 1971 2041\n3 2042 2043 2044\n3 1889 1906 2004\n3 2011 2006 2012\n3 1969 1908 1950\n3 1943 1920 2021\n3 2011 2045 2006\n3 2046 2047 2048\n3 2012 2006 2008\n3 2049 1907 1969\n3 2050 1981 2051\n3 1979 1981 2050\n3 2052 2053 2054\n3 1862 2055 1951\n3 2056 1986 2005\n3 1938 2033 1989\n3 778 777 1977\n3 1977 451 699\n3 2035 2057 2058\n3 2059 2005 1971\n3 2046 2060 2047\n3 1989 2061 1990\n3 2035 2006 2057\n3 2028 2062 2063\n3 2047 2035 2048\n3 2035 2047 2064\n3 1899 2024 2037\n3 1971 2015 2041\n3 2034 2035 2064\n3 2065 2048 2066\n3 2045 2057 2006\n3 2048 2065 2046\n3 2067 2033 1948\n3 2025 1851 2004\n3 1907 2049 2068\n3 2008 2069 2012\n3 2044 2043 1988\n3 2046 2070 2071\n3 2048 2058 2066\n3 2072 1904 2073\n3 1904 2072 1953\n3 2074 1011 980\n3 2075 1956 2017\n3 2016 104 2076\n3 2048 2035 2058\n3 2077 2078 2079\n3 2080 2081 2033\n3 2060 2046 2071\n3 2005 1986 2000\n3 2082 2069 2008\n3 2083 2015 1900\n3 2084 2085 2086\n3 1906 2026 2029\n3 1969 2038 2049\n3 2071 2070 2087\n3 2088 2077 2079\n3 2089 2090 2091\n3 2087 2070 2092\n3 2093 2094 2095\n3 2096 2046 2065\n3 2097 1887 1863\n3 2025 2024 1881\n3 1935 1914 2098\n3 1916 1918 2099\n3 2000 1966 1870\n3 1888 739 2100\n3 1951 2055 2073\n3 2039 2040 2101\n3 1966 2102 2040\n3 1950 1966 2040\n3 2069 2043 2012\n3 2103 2084 2104\n3 2096 2089 2046\n3 1965 2105 1963\n3 2106 2107 2108\n3 2078 2109 2079\n3 2069 2082 2039\n3 2110 2093 2095\n3 2073 1904 1951\n3 2111 2112 2019\n3 2113 2114 2115\n3 1966 1988 2043\n3 1966 2043 2102\n3 2067 2116 2117\n3 2087 2077 2118\n3 2012 2043 2042\n3 2119 2120 2121\n3 1988 1966 1986\n3 1986 1966 2000\n3 856 1011 2122\n3 2069 2039 2101\n3 2123 2124 2125\n3 2126 2109 2090\n3 2127 1864 2128\n3 2046 2091 2070\n3 1935 2129 1802\n3 2130 2081 2131\n3 2132 2133 2041\n3 2070 2091 2092\n3 451 1977 452\n3 2082 2038 2039\n3 2091 2078 2092\n3 2033 2081 1989\n3 2102 2101 2040\n3 2086 2134 2135\n3 979 1888 1942\n3 2122 1011 2074\n3 2117 2080 2033\n3 2067 2117 2033\n3 2089 2091 2046\n3 2136 2135 2134\n3 2109 2126 2137\n3 2138 2139 2140\n3 2112 2020 2019\n3 2080 2131 2081\n3 2082 2008 2141\n3 2081 2142 1989\n3 1864 1887 2097\n3 2128 1864 2097\n3 2143 2144 2145\n3 2081 2130 2146\n3 1916 2099 2147\n3 2109 2091 2090\n3 2041 2015 2132\n3 2078 2091 2109\n3 1891 2022 2148\n3 2074 980 1942\n3 759 758 2149\n3 2150 940 939\n3 2095 2094 2151\n3 2152 2153 2154\n3 2132 2015 2151\n3 1935 2098 2155\n3 1802 2129 1869\n3 2055 2068 2073\n3 1891 2148 1892\n3 2072 2073 2068\n3 2156 2131 2080\n3 2157 2104 2158\n3 2028 1906 2029\n3 2159 2160 2161\n3 2162 2072 2163\n3 2164 2109 2137\n3 2165 2166 2167\n3 2079 2109 2164\n3 2168 2169 2170\n3 2171 2172 2173\n3 2072 2174 2163\n3 2175 2176 2177\n3 2178 2177 2176\n3 2163 2174 2179\n3 2174 2180 2179\n3 2179 2180 2181\n3 1992 2182 1993\n3 2183 104 63\n3 951 2149 758\n3 951 953 2184\n3 759 2185 756\n3 2186 2187 2188\n3 2097 1863 2189\n3 2190 2191 2192\n3 2191 2190 2193\n3 2194 1916 2195\n3 2025 2196 2024\n3 2197 2075 2017\n3 2198 2199 2200\n3 2201 2202 2203\n3 2068 2174 2072\n3 2204 2205 2206\n3 2207 2208 2209\n3 2084 2086 2210\n3 2207 2211 2212\n3 2094 2213 2132\n3 1956 2214 2215\n3 2216 2217 2218\n3 2219 2220 2221\n3 2222 2223 2224\n3 2225 2226 452\n3 2068 2227 2174\n3 2082 2228 2038\n3 2117 2229 2080\n3 2230 2160 2231\n3 2209 2211 2207\n3 1963 2206 2205\n3 2232 2233 2234\n3 2074 2235 2122\n3 2236 2184 953\n3 2149 951 2237\n3 827 856 2238\n3 1892 2148 2239\n3 2129 1935 2240\n3 2136 2140 2241\n3 2221 2220 2242\n3 2227 2068 2243\n3 2244 2245 2193\n3 2084 2246 2104\n3 2247 2248 2249\n3 2061 1989 2142\n3 2100 1942 1888\n3 2135 2210 2086\n3 2250 2189 1863\n3 2251 2020 2252\n3 2190 2244 2193\n3 2080 2253 2156\n3 1916 2254 2195\n3 2174 2227 2255\n3 2256 2257 2258\n3 2259 2181 2180\n3 2140 2139 2260\n3 2132 2151 2094\n3 874 787 2261\n3 806 874 2262\n3 2262 807 806\n3 2263 2264 2265\n3 294 638 2266\n3 2267 2268 2269\n3 2270 804 2271\n3 786 804 2270\n3 2272 2273 2274\n3 2249 2248 2177\n3 2222 2275 2223\n3 2251 2252 2276\n3 2229 2253 2080\n3 2277 2104 2278\n3 2084 2210 2246\n3 362 452 2226\n3 2228 2279 2280\n3 2172 2281 2173\n3 2155 2240 1935\n3 2282 2283 2284\n3 2285 856 2286\n3 2287 2061 2142\n3 2135 2136 2241\n3 2288 2061 2287\n3 2289 2290 2291\n3 2292 2293 2294\n3 2213 2094 2295\n3 2296 2213 2295\n3 2297 2298 2299\n3 2192 2300 2190\n3 2301 2302 2303\n3 2304 2305 2306\n3 2307 2183 63\n3 2308 2309 2220\n3 2310 2311 2312\n3 2313 2314 2315\n3 2299 2316 2297\n3 2317 2318 2319\n3 2117 2320 2229\n3 2117 2116 2320\n3 2321 2320 2116\n3 2261 787 786\n3 2322 2323 2324\n3 2262 874 2325\n3 2326 2327 2328\n3 2329 1993 2330\n3 2331 2332 2333\n3 2334 2335 2336\n3 2337 2338 2339\n3 1942 2100 2340\n3 2175 2177 2341\n3 2342 2343 2344\n3 2192 2191 2345\n3 2180 2174 2255\n3 856 2122 2346\n3 2248 2247 2347\n3 134 203 2348\n3 2349 2350 2351\n3 2352 2353 2354\n3 2236 953 2355\n3 2263 2265 2356\n3 756 2357 638\n3 2358 2260 2139\n3 2359 2360 2361\n3 2362 2363 2364\n3 2304 2365 2305\n3 2347 2247 2366\n3 2367 2368 2369\n3 2370 2371 2372\n3 2373 2374 2375\n3 2099 2376 2377\n3 2378 2379 2366\n3 2190 2300 2380\n3 2210 2135 2381\n3 2382 2383 2384\n3 2385 2244 2190\n3 2386 2387 2388\n3 2389 2390 2391\n3 2140 2392 2393\n3 2328 2394 2395\n3 2396 2253 2229\n3 2397 2300 2192\n3 2398 2366 2379\n3 2374 2399 2400\n3 2312 2311 2401\n3 2240 2155 2402\n3 2307 63 62\n3 2104 2277 2158\n3 2180 2403 2259\n3 2404 2405 2406\n3 2259 2403 2407\n3 2405 2404 2293\n3 2140 2260 2392\n3 2408 2409 2410\n3 2155 2411 2412\n3 2413 2414 2415\n3 2122 2235 2346\n3 2416 2264 2263\n3 2417 2418 2150\n3 2150 939 2417\n3 2419 2192 2345\n3 2298 2420 2421\n3 2372 2371 2422\n3 1942 2340 2423\n3 2235 2074 2424\n3 2425 2215 2426\n3 2427 2345 2191\n3 2197 2428 2075\n3 2428 2215 2214\n3 2429 2430 2390\n3 2328 2327 2394\n3 2206 2431 2204\n3 1933 1892 2432\n3 2099 2433 2147\n3 2320 2396 2229\n3 2434 2345 2427\n3 1916 2147 2254\n3 2435 2254 2147\n3 2255 2227 2436\n3 2190 2380 2385\n3 2437 2438 2439\n3 2440 2441 2442\n3 2197 2443 2444\n3 2429 2390 2389\n3 2445 2446 2447\n3 2448 2449 2450\n3 2451 2452 2453\n3 2454 2455 2456\n3 2412 2411 2457\n3 2458 2459 2460\n3 2461 2462 2463\n3 2464 2465 2466\n3 2465 2467 2466\n3 2468 2184 2236\n3 2469 2470 2471\n3 62 135 2472\n3 2473 2474 2475\n3 2476 2477 2478\n3 2305 2365 2358\n3 2244 2479 2480\n3 2481 2180 2255\n3 2482 2478 2477\n3 2483 2206 1963\n3 2439 2476 2478\n3 2241 2140 2393\n3 2484 2485 2486\n3 2358 2365 2487\n3 2293 2480 2479\n3 2488 2440 2442\n3 2299 2489 2490\n3 2158 2277 2491\n3 2477 2492 2482\n3 2493 2203 2494\n3 2407 2403 2495\n3 2496 2232 2497\n3 2476 2498 2477\n3 2499 2478 2500\n3 2248 2347 2398\n3 2437 2439 2478\n3 2482 2500 2478\n3 2446 2501 2502\n3 2503 2504 2505\n3 2346 2286 856\n3 2462 2506 2507\n3 2508 2509 2510\n3 2511 2468 2236\n3 2417 939 2512\n3 2513 2514 2515\n3 2516 2517 2518\n3 2519 2326 2328\n3 2299 2298 2421\n3 1933 2432 2520\n3 2481 2403 2180\n3 2521 2522 2523\n3 2385 2479 2244\n3 2524 2525 2526\n3 2260 2358 2487\n3 2527 2528 2529\n3 2437 2478 2499\n3 2530 2531 2532\n3 2533 2530 2532\n3 786 2534 2535\n3 2536 2537 2538\n3 2519 2539 2326\n3 2540 2541 2542\n3 2543 2254 2435\n3 2524 2389 2525\n3 2177 2248 2544\n3 2545 2442 2441\n3 2546 2547 2548\n3 2477 2549 2492\n3 2260 2487 2392\n3 2550 2464 2507\n3 2197 2444 2428\n3 2424 2074 2551\n3 2552 2553 2554\n3 2555 2556 2557\n3 2558 2559 2560\n3 2561 2485 2484\n3 2300 2562 2380\n3 2563 2564 2565\n3 2507 2506 2550\n3 2375 2374 2566\n3 2567 2568 2569\n3 2570 2571 2572\n3 2573 2262 2325\n3 2499 2574 2437\n3 2575 2576 2577\n3 2215 2428 2578\n3 2227 2579 2436\n3 2580 2581 2582\n3 2347 2366 2398\n3 2381 2135 2241\n3 2394 2583 2584\n3 2583 2394 2585\n3 2393 2392 2586\n3 2518 2517 2587\n3 2099 2377 2433\n3 2419 2397 2192\n3 2320 2588 2396\n3 2407 2495 2523\n3 2444 2443 2589\n3 2254 2543 2310\n3 2215 2578 2426\n3 2590 2591 2592\n3 2579 2593 2436\n3 2277 2278 2594\n3 2595 2596 2597\n3 2598 2155 2412\n3 2599 2600 2601\n3 2602 2603 2604\n3 2605 2606 2607\n3 2587 2517 2608\n3 2609 2610 2611\n3 2612 2613 2614\n3 2466 2615 2600\n3 2616 2617 2618\n3 2573 2619 2262\n3 2620 2621 2622\n3 2623 2624 2625\n3 2582 2626 2580\n3 2206 2627 2431\n3 2628 2542 2629\n3 2456 2630 2631\n3 2632 2583 2585\n3 2633 2634 2635\n3 2635 2634 2636\n3 2587 2577 2518\n3 2608 2629 2587\n3 2326 2539 2637\n3 2577 2638 2575\n3 2326 2637 2327\n3 2639 2397 2419\n3 2600 2640 2601\n3 2641 2642 2175\n3 2643 2644 2645\n3 2646 2647 2648\n3 2649 2646 2648\n3 2436 2481 2255\n3 2650 2398 2651\n3 2652 2653 2479\n3 2489 2654 2651\n3 2655 2656 2581\n3 2657 2575 2638\n3 2588 2385 2380\n3 2658 2241 2393\n3 2610 2609 2659\n3 2659 2609 2660\n3 2661 2653 2652\n3 2662 2663 2300\n3 2664 2665 2666\n3 2341 2177 2544\n3 2667 2668 2669\n3 2534 2271 2670\n3 2327 2637 2671\n3 2672 2447 2446\n3 2672 2446 2673\n3 2674 2675 2676\n3 2300 2663 2562\n3 2489 2677 2654\n3 2314 2678 2315\n3 2679 2608 2517\n3 2433 2435 2147\n3 2680 2681 2682\n3 2562 2588 2380\n3 2403 2481 2683\n3 2684 2685 2686\n3 2684 2686 2687\n3 2466 2688 2464\n3 2428 2444 2578\n3 2638 2577 2587\n3 2689 2690 2691\n3 2394 2327 2585\n3 2675 2674 2692\n3 2311 2310 2543\n3 2502 2693 2694\n3 2695 2496 2497\n3 1892 2239 2432\n3 2696 2663 2662\n3 2662 2697 2696\n3 2698 2699 2700\n3 2463 2462 2547\n3 2626 2700 2699\n3 2700 2626 2582\n3 2660 2701 2659\n3 2702 2659 2701\n3 2703 2704 2705\n3 2689 2706 2690\n3 2707 2708 2709\n3 739 216 217\n3 2341 2641 2175\n3 2683 2710 2403\n3 2466 2600 2711\n3 2712 2502 2673\n3 2713 2685 2684\n3 2517 2714 2679\n3 2715 2696 2697\n3 2716 2717 2718\n3 2628 2629 2608\n3 2718 2683 2719\n3 2720 2721 2722\n3 2377 2723 2433\n3 2724 2725 2726\n3 2547 2727 2656\n3 2593 2719 2683\n3 2436 2593 2683\n3 2434 2419 2345\n3 2436 2683 2481\n3 2728 2729 2730\n3 2731 2732 2733\n3 2688 2507 2464\n3 2403 2734 2495\n3 2735 2736 2737\n3 2738 2523 2495\n3 2739 2740 2741\n3 2742 2743 2583\n3 2385 2652 2479\n3 2599 2744 2711\n3 2711 2744 2745\n3 2713 2746 2685\n3 2747 2748 2749\n3 2581 2656 2727\n3 2750 2751 2286\n3 2517 2516 2714\n3 2734 2403 2710\n3 2718 2717 2710\n3 2523 2738 2521\n3 2710 2683 2718\n3 2576 2575 2752\n3 2753 2754 2755\n3 2756 2639 2419\n3 2462 2757 2547\n3 2758 2327 2671\n3 2759 2760 2761\n3 2762 2694 2693\n3 2763 2707 2709\n3 2246 2210 2381\n3 2246 2381 2764\n3 2544 2248 2398\n3 739 2765 2100\n3 2766 2767 2768\n3 2432 2239 2769\n3 2770 2771 2772\n3 2753 2698 2754\n3 2773 2774 2775\n3 2715 2697 2776\n3 2559 2558 2777\n3 2778 2779 2780\n3 2781 2462 2507\n3 2327 2758 2585\n3 2782 2783 2784\n3 2785 2786 2787\n3 2483 2627 2206\n3 2788 2690 2706\n3 2311 2789 2401\n3 2743 2742 2779\n3 2767 2745 2744\n3 2654 2650 2651\n3 2790 2791 2792\n3 2484 2486 2793\n3 2794 2795 2796\n3 2797 2794 2798\n3 2738 2799 2521\n3 2781 2757 2462\n3 2497 2800 2801\n3 2717 2802 2803\n3 2804 2638 2587\n3 2805 2806 2807\n3 2598 2808 2809\n3 2810 2811 2812\n3 2813 2654 2299\n3 2802 2776 2803\n3 2814 2714 2516\n3 2815 2816 2817\n3 2818 2502 2694\n3 2442 2796 2795\n3 2434 2756 2419\n3 2727 2547 2757\n3 2715 2776 2802\n3 2819 2755 2804\n3 2495 2734 2738\n3 2806 2820 2821\n3 2657 2638 2822\n3 2398 2650 2823\n3 2598 2809 2155\n3 2582 2581 2824\n3 2654 2823 2650\n3 2687 2825 2684\n3 2793 2826 2827\n3 2677 2299 2654\n3 2828 2708 2829\n3 2830 2831 2832\n3 2575 2657 2752\n3 2767 2766 2745\n3 2833 2834 2835\n3 2698 2700 2582\n3 2773 2836 2837\n3 2698 2582 2754\n3 2433 2838 2435\n3 2839 2840 2841\n3 2840 2842 2841\n3 2794 2843 2795\n3 2695 2497 2801\n3 2431 2627 2808\n3 2844 2845 2846\n3 2543 2789 2311\n3 2847 2401 2789\n3 2848 2849 2850\n3 2781 2507 2688\n3 2803 2734 2710\n3 2641 2851 2642\n3 2852 2608 2679\n3 2853 2611 2854\n3 2855 2856 2857\n3 2858 2672 2673\n3 2859 2684 2825\n3 2860 2686 2685\n3 2861 2585 2862\n3 2765 739 217\n3 2622 2863 2595\n3 2732 2864 2733\n3 2865 2866 2867\n3 2868 2869 2702\n3 2638 2804 2822\n3 2717 2803 2710\n3 2823 2544 2398\n3 2821 2820 2870\n3 2871 2738 2734\n3 2872 2377 2873\n3 2825 2874 2861\n3 2803 2875 2734\n3 2774 2773 2837\n3 2824 2581 2727\n3 2299 2421 2813\n3 2871 2734 2875\n3 2777 2558 2672\n3 2876 2877 2752\n3 2542 2628 2878\n3 2879 2578 2444\n3 2578 2880 2426\n3 2881 2882 2883\n3 2776 2756 2884\n3 2611 2610 2854\n3 2875 2776 2884\n3 2885 2886 2887\n3 2888 2887 2886\n3 2828 2709 2708\n3 2889 2890 2891\n3 2434 2884 2756\n3 2892 2788 2706\n3 2799 2738 2871\n3 2793 2893 2768\n3 2804 2755 2822\n3 2894 2855 2857\n3 2895 2896 2897\n3 2628 2608 2852\n3 2762 2898 2899\n3 2900 2901 2902\n3 2822 2876 2657\n3 2876 2752 2657\n3 2903 2904 2905\n3 2341 2544 2641\n3 2906 2907 2908\n3 2627 2809 2808\n3 2825 2861 2862\n3 2781 2909 2757\n3 2884 2871 2875\n3 2711 2688 2466\n3 2711 2745 2910\n3 2911 2887 2912\n3 2582 2824 2754\n3 2878 2628 2852\n3 2913 2897 2896\n3 2818 2694 2914\n3 2762 2899 2694\n3 2884 2915 2871\n3 2902 2901 2916\n3 2803 2776 2875\n3 2917 2904 2903\n3 2695 2801 2918\n3 2904 2919 2905\n3 2909 2876 2757\n3 2377 2920 2723\n3 2755 2754 2822\n3 2754 2824 2822\n3 2834 2833 2886\n3 2885 2834 2886\n3 2876 2727 2757\n3 2781 2688 2921\n3 2838 2433 2922\n3 2758 2923 2924\n3 2672 2858 2925\n3 2816 2815 2926\n3 2927 2928 2929\n3 2930 2931 2932\n3 2933 2934 2935\n3 2877 2876 2909\n3 2435 2838 2543\n3 2936 2622 2828\n3 2937 2938 2939\n3 2781 2921 2909\n3 2544 2940 2641\n3 2924 2713 2859\n3 2713 2684 2859\n3 2824 2727 2822\n3 2521 2941 2942\n3 2711 2943 2688\n3 2944 2942 2941\n3 2820 2806 2805\n3 2860 2685 2944\n3 2945 2690 2788\n3 2832 2831 2946\n3 2947 2948 2949\n3 2950 2951 2952\n3 2953 2935 2934\n3 2892 2954 2788\n3 2837 2955 2774\n3 2876 2822 2727\n3 2955 2956 2774\n3 2957 2958 2959\n3 2960 2778 2961\n3 2960 2779 2778\n3 2962 2963 2964\n3 2965 2966 2967\n3 2799 2941 2521\n3 2968 2969 2897\n3 2970 2971 2972\n3 2940 2544 2973\n3 2947 2949 2965\n3 2793 2827 2893\n3 2892 2974 2975\n3 2976 2847 2789\n3 2893 2766 2768\n3 2872 2920 2377\n3 2597 2977 2976\n3 2944 2685 2746\n3 2714 2814 2978\n3 2578 2979 2880\n3 2752 2980 2906\n3 2871 2981 2799\n3 2907 2980 2934\n3 2872 2982 2920\n3 2980 2983 2934\n3 2723 2922 2433\n3 2904 2917 2984\n3 2929 2928 2985\n3 2966 2949 2986\n3 2959 2987 2988\n3 2989 2990 2927\n3 2991 2935 2992\n3 2993 2989 2994\n3 2995 2996 2997\n3 2919 2993 2905\n3 2827 2690 2945\n3 2622 2595 2998\n3 2999 3000 3001\n3 2983 2953 2934\n3 2957 2959 3002\n3 2852 2679 3003\n3 3004 2897 3005\n3 2968 2897 3004\n3 2789 2543 3006\n3 2965 2967 2947\n3 2992 2997 2991\n3 2688 2943 3007\n3 2943 2711 2910\n3 2998 2595 2597\n3 2758 2924 2862\n3 2903 3008 3009\n3 2975 2954 2892\n3 2862 2859 2825\n3 3004 3010 3011\n3 2832 3012 3013\n3 3014 2978 2814\n3 2944 3015 3016\n3 2799 2981 2941\n3 2854 3017 3018\n3 2990 2928 2927\n3 2909 2921 3007\n3 3009 2989 2927\n3 2996 2991 2997\n3 2903 3019 2917\n3 3020 3021 2659\n3 3022 3023 2903\n3 3024 3025 3026\n3 3027 2907 3028\n3 2991 2933 2935\n3 2922 3029 2838\n3 3008 2993 3009\n3 2929 2991 2927\n3 3028 2907 2934\n3 2852 3030 2878\n3 3001 3031 2999\n3 2975 2763 2709\n3 2903 3009 3022\n3 2745 2766 2910\n3 2914 2694 2899\n3 2859 2862 2924\n3 3001 3000 3032\n3 3009 2996 3022\n3 3022 2996 2995\n3 2959 2988 3002\n3 2777 2444 2589\n3 3018 2853 2854\n3 3033 3034 3035\n3 3007 2921 2688\n3 2946 3012 2832\n3 2989 3036 2990\n3 2953 2983 3037\n3 2912 3038 2911\n3 3039 3040 2654\n3 2828 2622 2998\n3 2934 2933 3028\n3 2967 2714 3041\n3 3042 3031 3043\n3 2559 2777 2589\n3 3044 2672 2925\n3 2907 2906 2980\n3 3045 2957 3002\n3 3046 3047 3048\n3 3049 3050 3051\n3 3052 3018 3017\n3 3053 3054 3027\n3 2993 3036 2989\n3 2597 3055 2998\n3 3056 2709 2828\n3 2903 3023 3057\n3 3058 3042 3043\n3 3059 3024 3060\n3 2858 2818 2914\n3 3061 3059 3060\n3 3062 3003 2679\n3 2978 3041 2714\n3 2927 2991 3009\n3 2991 2996 3009\n3 3063 3064 3038\n3 3039 2654 2813\n3 3065 3030 2852\n3 3037 3007 3066\n3 3067 3068 2902\n3 3022 2995 3069\n3 3044 2777 2672\n3 3043 3031 3001\n3 2945 2954 3070\n3 2788 2954 2945\n3 3001 3032 3071\n3 3029 3072 2838\n3 3073 2543 2838\n3 3074 2946 3075\n3 2929 3028 2991\n3 3069 3076 3022\n3 3064 3063 2902\n3 2911 3038 3064\n3 3077 2917 2968\n3 2914 2899 3078\n3 2953 3037 3079\n3 3046 3048 3080\n3 3056 2828 2998\n3 2929 3027 3028\n3 3004 3011 2968\n3 2578 3081 2979\n3 2991 3028 2933\n3 3082 3083 2982\n3 2928 2990 2985\n3 2947 2941 2981\n3 3084 3046 3080\n3 2610 3085 2854\n3 2911 3086 3087\n3 3041 2947 2967\n3 3040 3039 3088\n3 2925 2858 2914\n3 3065 2852 3003\n3 2943 3066 3007\n3 3037 3066 3079\n3 3089 3058 3043\n3 3090 3091 3092\n3 3006 2976 2789\n3 3060 3024 3026\n3 2941 3015 2944\n3 3011 3093 2968\n3 2941 2947 3041\n3 3094 2943 2910\n3 2893 2827 2945\n3 3095 2945 3070\n3 3096 2978 3014\n3 3053 3027 3097\n3 2929 3098 3027\n3 3044 3099 2777\n3 3073 2838 3072\n3 3100 3101 3102\n3 2766 3094 2910\n3 2837 3103 2955\n3 2879 2444 2777\n3 3100 3104 3096\n3 3041 3015 2941\n3 3105 3106 3107\n3 3086 2911 3064\n3 3015 2978 3096\n3 3017 2854 3085\n3 3104 3015 3096\n3 3064 2902 3108\n3 3068 3108 2902\n3 2893 3094 2766\n3 3095 2893 2945\n3 3094 3066 2943\n3 3027 3098 3097\n3 2968 3109 3077\n3 3110 3022 3076\n3 3111 3092 3091\n3 3112 2990 3093\n3 3036 3093 2990\n3 3071 3032 3113\n3 3065 3003 3114\n3 3011 3112 3093\n3 3100 3102 3104\n3 2955 3103 3115\n3 3036 2993 3109\n3 2929 3116 3098\n3 2968 3093 3109\n3 3117 2723 2920\n3 2723 3117 2922\n3 3118 2954 2975\n3 3066 3094 3119\n3 3015 3041 2978\n3 3057 3023 3120\n3 3055 3056 2998\n3 3062 3114 3003\n3 3073 3121 3006\n3 2777 3122 2879\n3 3123 3072 3029\n3 3124 3011 3125\n3 3073 3006 2543\n3 3036 3109 3093\n3 3095 3094 2893\n3 3056 3126 2709\n3 2597 2976 3127\n3 3055 2597 3127\n3 3089 3043 3128\n3 3124 3098 3116\n3 3029 2922 3117\n3 2975 2709 3126\n3 3124 3116 2985\n3 3119 3095 3129\n3 3130 3131 3078\n3 3006 3121 2976\n3 2960 2961 3132\n3 3119 3094 3095\n3 3099 3122 2777\n3 3133 3134 3135\n3 3136 3111 3091\n3 3134 3133 3137\n3 3125 3097 3098\n3 3089 3128 3138\n3 3125 3098 3124\n3 3011 3124 3112\n3 3095 3070 3118\n3 3070 2954 3118\n3 3139 3089 3138\n3 3126 3140 3118\n3 3141 3057 3120\n3 2985 3112 3124\n3 3118 2975 3126\n3 3142 3143 3141\n3 3144 3029 3145\n3 2925 3146 3044\n3 3112 2985 2990\n3 3147 3143 3142\n3 3148 3149 3150\n3 3140 3129 3118\n3 3073 3142 3121\n3 3151 3087 3086\n3 3072 3142 3073\n3 3152 3147 3153\n3 3055 3154 3056\n3 3127 2976 3121\n3 3145 3029 3117\n3 3138 3155 3139\n3 3127 3154 3055\n3 3118 3129 3095\n3 3072 3153 3142\n3 3153 3147 3142\n3 3156 3157 3158\n3 3153 3072 3123\n3 3141 3121 3142\n3 3110 3121 3159\n3 3141 3120 3121\n3 3160 3126 3056\n3 3127 3121 3110\n3 3127 3110 3154\n3 3161 2914 3078\n3 3144 3152 3123\n3 3029 3144 3123\n3 3123 3152 3153\n3 3120 3159 3121\n3 3099 3044 3146\n3 2914 3146 2925\n3 3162 3163 3164\n3 2914 3161 3146\n3 3165 3147 3152\n3 3166 3167 3168\n3 3152 3144 3169\n3 3117 3170 3145\n3 3171 3145 3170\n3 3134 3172 3173\n3 3161 3078 3131\n3 3171 3174 3145\n3 3169 3165 3152\n3 3170 3175 3171\n3 3176 3147 3165\n3 3175 3177 3178\n3 3171 3175 3178\n3 3165 3179 3176\n3 3165 3169 3179\n3 3178 3169 3171\n3 3178 3179 3169\n");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("2b", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "uniform float tone;\r\nuniform float strength;\r\nuniform sampler2D texBase;\r\nuniform sampler2D texBlur;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main(void) {\r\n  gl_FragColor = texture2D(texBase, vUv) + texture2D(texBlur, vUv)* 2. ;\r\n}\r\n");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("2c", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "varying vec2 vUv;\n\nvoid main(void) {\n  vUv = uv;\n  gl_Position = vec4(position, 1.0);\n}\n");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("2d", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "uniform float minBright;\nuniform sampler2D texture;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n  vec4 bright = max(vec4(0.0), (texture2D(texture, vUv) - .2));\n  gl_FragColor = bright;\n}\n");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("2e", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "varying vec2 vUv;\n\nvoid main(void) {\n  vUv = uv;\n  gl_Position = vec4(position, 1.0);\n}\n");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("2f", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "uniform vec2 resolution;\nuniform vec2 direction;\nuniform sampler2D texture;\nuniform float weight[10];\n\nvarying vec2 vUv;\n\n// #pragma glslify: blur13 = require('glsl-fast-gaussian-blur/13')\n// #pragma glslify: blur9 = require('glsl-fast-gaussian-blur/9')\n// #pragma glslify: blur5 = require('glsl-fast-gaussian-blur/5')\n\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(.53846153846) * direction;\n  vec2 off2 = vec2(.52307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nfloat gaussianPdf(in float x, in float sigma) {\n  return 0.39894 * exp( -0.5 * x * x/(sigma * sigma))/sigma;\n}\n\nvoid main(void) {\n  gl_FragColor = blur9(texture, vUv, resolution, direction);\n}\n");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("30", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "varying vec2 vUv;\n\nvoid main(void) {\n  vUv = uv;\n  gl_Position = vec4(position, 1.0);\n}\n");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("31", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "\r\nvarying vec3 vColor, vNormal, vView;\r\nvarying vec2 vUv;\r\n\r\nvoid main () {\r\n\tvec3 normal = normalize(vNormal);\r\n\tvec3 view = normalize(vView);\r\n\tfloat shade = dot(normal, view)*.5+.5;\r\n\r\n\tvec3 color = mix(vec3(1), vec3(0.341, 0.231, 0.078)*.25, shade);\r\n\tgl_FragColor = vec4(color, 1);\r\n}");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("32", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "\r\nattribute vec2 quantity;\r\nattribute vec3 color;\r\nuniform float time;\r\nuniform vec3 cameraPos;\r\nvarying vec3 vColor, vNormal, vView;\r\nvarying vec2 vUv;\r\n\r\nfloat fbm (vec2 p) {\r\n    float value = 0.0;\r\n    float amplitud = .5;\r\n    for (float i = 3.; i >= 1.; --i) {\r\n        value += amplitud * noise(p);\r\n        p *= 2.;\r\n        amplitud *= .5;\r\n    }\r\n    return value;\r\n}\r\n\r\nvoid main () {\r\n\tfloat salt = random(quantity.xx*100.);\r\n\tfloat pepper = random(quantity.xx*10.+vec2(.123124,.5243));\r\n\tfloat curry = random(quantity.xx*20.+vec2(.87354,.1657));\r\n\t// float slide = mod(quantity.x + time * .02, 1.) * 2. - 1.;\r\n\tfloat size = (.1+.9*(.5+.5*sin(salt * TAU + time)))*1.5;\r\n\tvec3 pos = position * size;\r\n\tvNormal = normal;\r\n\r\n\tfloat a1 = salt*TAU + time * (1.+salt);\r\n\tfloat a2 = pepper*TAU + time * .1;\r\n\r\n\tpos.xz *= rotation(a1);\r\n\tpos.yz *= rotation(a2);\r\n\tvNormal.xz *= rotation(a1);\r\n\tvNormal.yz *= rotation(a2);\r\n\r\n\tfloat a3 = quantity.x * TAU + time * (.01+.2*salt);\r\n\tpos.xz += vec2(cos(a3), sin(a3)) * (6.+7.*quantity.x);\r\n\tpos.y += 3. + sin(salt*10.+time * (.1+.5*pepper)) * 3.;\r\n\t// pos.z += slide * 10.;\r\n\r\n\r\n\t/*\r\n\t// pos.z += quantity.y;\r\n\tfloat angle = quantity.x * 32.6246;\r\n\tfloat radius = quantity.x * 4.;\r\n\tvec2 offset = vec2(cos(angle),sin(angle)) * radius;\r\n\tpos.xz += offset;\r\n\tfloat noisy = fbm(offset*.5);\r\n\tnoisy = abs(noisy*2.-1.);\r\n\tvec2 p = offset/5.;\r\n\tfloat fade = abs(p.x)*abs(p.y);\r\n\tpos.y += noisy*size-fade;\r\n\t*/\r\n\tvView = cameraPos - pos;\r\n\tvColor = color;\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(pos, 1);\r\n}");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("33", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "\r\nuniform float time;\r\nvarying vec3 vColor, vNormal, vView, vWorld;\r\nvarying vec2 vUv, vScreen;\r\n\r\nvoid main () {\r\n\tvec3 normal = normalize(vNormal);\r\n\tvec3 view = normalize(vView);\r\n\tfloat shade = dot(normal, -view)*2.+1.5;\r\n\t// shade *= dot(normal, view)*.5+.5;\r\n\tfloat fade = 1.-length(vUv*2.-1.);\r\n\tfade = smoothstep(.0, .5, fade);\r\n\tfloat salt = noise(vWorld * 100.);\r\n\tfloat dust = abs(sin(vWorld.y*10.+time*.2+vNormal.y*10.));\r\n\tvec3 color = vec3(0.968, 0.792, 0.372);\r\n\tvec3 c = vec3(0.968, 0.909, 0.768);\r\n\tcolor = mix(color, c, abs(dot(normal, vec3(0,0,1))));\r\n\t// color = mix(color, c, abs(dot(normal, vec3(1,0,0))));\r\n\tcolor *= .5;\r\n\r\n\tcolor *= shade * fade;\r\n\tcolor = mix(color, c, smoothstep(.0, 1., .5/dust)*.05);\r\n\tcolor += smoothstep(.5,1.,salt)*.1;\r\n\tcolor = clamp(color, 0., 1.);\r\n\tgl_FragColor = vec4(color, 1);\r\n}");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("34", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "\r\nattribute vec3 color;\r\nuniform float time;\r\nuniform vec3 cameraPos;\r\nvarying vec3 vColor, vNormal, vView, vWorld;\r\nvarying vec2 vUv, vScreen;\r\n\r\nfloat fbm (vec2 p) {\r\n    float value = 0.0;\r\n    float amplitud = .5;\r\n    for (float i = 3.; i >= 1.; --i) {\r\n        value += amplitud * noise(p);\r\n        p *= 2.;\r\n        p += sin(length(p)-time*.5);\r\n        amplitud *= .5;\r\n    }\r\n    return value;\r\n}\r\n\r\nvoid displace (inout vec3 pos) {\r\n\tvec2 p = uv*2.-1.;\r\n\t// float fade = (1.-abs(p.x))*(1.-abs(p.y));\r\n\tfloat fade = abs(p.x)*abs(p.y);\r\n\tfloat noisy = fbm(pos.xz*.25);\r\n\tnoisy = abs(noisy*2.-1.);\r\n\t// noisy = clamp(.01/noisy, 0., 1.);\r\n\tpos.y += noisy - fade;// * (.5 + fade) + fade;\r\n}\r\n\r\nvoid main () {\r\n\tvec3 pos = position;\r\n\tpos.xyz = vec3(pos.x, pos.z, -pos.y);\r\n\tpos.y -= 2.;\r\n\tvec2 delta = vec2(.5,0);\r\n\tvec3 north = pos + delta.yyx;\r\n\tvec3 south = pos - delta.yyx;\r\n\tvec3 east = pos + delta.xyy;\r\n\tvec3 west = pos - delta.xyy;\r\n\tdisplace(pos);\r\n\tdisplace(north);\r\n\tdisplace(south);\r\n\tdisplace(east);\r\n\tdisplace(west);\r\n\tvNormal = normalize(cross(north-south, east-west));\r\n\tvView = cameraPos - pos;\r\n\tvColor = color;\r\n\tvUv = uv;\r\n\tvWorld = pos;\r\n\tgl_Position = projectionMatrix * viewMatrix * vec4(pos, 1);\r\n\tvScreen = gl_Position.xy;\r\n}");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("35", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "\r\nvarying vec2 vUv;\r\n\r\nvoid main () {\r\n\tvUv = uv;\r\n\tgl_Position = vec4(uv * 2. - 1., 0., 1.);\r\n}");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("36", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "\r\nuniform sampler2D frame, frameUI, curve, bloom, blur;\r\nuniform vec2 resolution, mouse;\r\nuniform float time;\r\nvarying vec2 vUv;\r\n\r\nvoid main () {\r\n\tvec2 p = vUv;\r\n\tp.x *= resolution.x/resolution.y;\r\n\tp = vUv * 2. - 1.;\r\n\tvec4 color = texture2D(bloom, vUv);\r\n\tcolor *= 1.+.1*sin(p.y*1000.);\r\n\tcolor *= 1.+.1*random(p);\r\n\tgl_FragColor = color;\r\n}");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("37", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "\r\nuniform sampler2D texture;\r\nvarying vec2 vUv;\r\n\r\nvoid main () {\r\n\tgl_FragColor = texture2D(texture, vUv);\r\n}");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("38", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "\r\nuniform vec2 resolution;\r\nuniform vec4 rect;\r\nuniform vec2 anchor, offset;\r\nvarying vec2 vUv;\r\n\r\nvoid main () {\r\n\tvUv = uv;\r\n\tvec2 p = uv*2.-1.;\r\n\tp -= anchor;\r\n\tp.x *= resolution.y/resolution.x;\r\n\t// vec3 pos = (modelMatrix * vec4(p, 0, 1)).xyz;\r\n\tvec2 pos = p * rect.zw + rect.xy + 2. * offset / resolution;\r\n\tgl_Position = vec4(pos, 0., 1.);\r\n}");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("39", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "\r\nvarying vec2 vAnchor;\r\nvarying vec3 vColor;\r\n\r\nvoid main () {\r\n\tif (length(vAnchor) > 1.) discard;\r\n\t// float dist = clamp(length(vAnchor), 0., 1.);\r\n\t// float shade = .2/dist;\r\n\tgl_FragColor = vec4(1);\r\n\t// gl_FragColor = vec4(vColor, 1);\r\n}");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("3a", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "\r\nattribute vec3 color;\r\nattribute vec2 anchor, quantity;\r\nuniform vec3 cameraPos, cameraTarget;\r\nuniform float time;\r\nvarying vec2 vAnchor;\r\nvarying vec3 vColor;\r\n\r\nvoid main () {\r\n\tfloat salt = random(quantity.xx*10.);\r\n\tfloat pepper = random(quantity.xx*10.+vec2(.546857,.951354));\r\n\tfloat size = .02+.02*salt;\r\n\tvec3 pos = position * 30.;\r\n\tpos = normalize(pos) * 20.;\r\n\t// pos.z *= 2.;\r\n\t// pos.x -= 50.;\r\n\t// pos.y += 15.;\r\n\t// pos.xz *= rotation(time*(.1+salt)*.01);\r\n\t// pos.yz *= rotation(time*(.1+pepper)*.01);\r\n\r\n\tvec3 front = normalize(cameraPos - pos);\r\n\tvec3 right = normalize(cross(front, vec3(0,1,0)));\r\n\tvec3 up = normalize(cross(front, right));\r\n\tpos += (right * anchor.x + up * anchor.y) * size;\r\n\r\n\tvAnchor = anchor;\r\n\tvColor = vec3(1);\r\n\tgl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(pos, 1);\r\n}");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("3b", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "\r\nvarying vec3 vColor;\r\n\r\nvoid main () {\r\n\tgl_FragColor = vec4(vColor, 1);\r\n}");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("3c", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = "\r\nattribute vec3 color;\r\nuniform float time;\r\nuniform vec3 cameraPos;\r\nvarying vec3 vColor;\r\n\r\nvoid main () {\r\n\tvec3 pos = position;\r\n\tfloat t = time * .01;\r\n\tpos *= 10.;\r\n\t// pos.xyz = pos.yxz;\r\n\tpos.zx *= rotation(t);\r\n\t// pos.xy *= rotation(-PI/8.+PI);\r\n\t// pos.yz *= rotation(t*.5);\r\n\tpos.y += 10.;\r\n\t// pos.x -= 20.;\r\n\tvColor = color * smoothstep(1., 0.5, length(pos.xz)/15.);// * clamp(pos.y*.1+.2, 0., 1.);\r\n\tgl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(pos, 1);\r\n}");

      _export("__useDefault", __useDefault);

      _export("default", __useDefault);
    }
  };
});
$__System.register("c", ["3", "20", "21", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "2a", "2b", "2c", "2d", "2e", "2f", "3a", "3b", "3c"], function (_export) {
  var THREE, _Object$assign, descriptors, makeAnimations, OBJLoader, PLYLoader, shaderHeader, animation_scene_json, shader_bloom_gaussian_blur_vert, shader_chocolat_frag, shader_chocolat_vert, shader_desert_frag, shader_desert_vert, shader_fullscreen_vert, shader_render_frag, shader_shape2D_frag, shader_shape2D_vert, shader_star_frag, mesh_cookie_ply, shader_bloom_bloom_frag, shader_bloom_bloom_vert, shader_bloom_bright_frag, shader_bloom_bright_vert, shader_bloom_gaussian_blur_frag, shader_star_vert, shader_wireframe_frag, shader_wireframe_vert, plyLoader, objLoader, fontLoader;

  return {
    setters: [function (_6) {
      THREE = _6;
    }, function (_) {
      _Object$assign = _["default"];
    }, function (_2) {
      descriptors = _2["default"];
    }, function (_3) {
      makeAnimations = _3["default"];
    }, function (_4) {
      OBJLoader = _4.OBJLoader;
    }, function (_5) {
      PLYLoader = _5.PLYLoader;
    }, function (_7) {
      shaderHeader = _7["default"];
    }, function (_8) {
      animation_scene_json = _8["default"];
    }, function (_9) {
      shader_bloom_gaussian_blur_vert = _9["default"];
    }, function (_10) {
      shader_chocolat_frag = _10["default"];
    }, function (_11) {
      shader_chocolat_vert = _11["default"];
    }, function (_12) {
      shader_desert_frag = _12["default"];
    }, function (_13) {
      shader_desert_vert = _13["default"];
    }, function (_14) {
      shader_fullscreen_vert = _14["default"];
    }, function (_15) {
      shader_render_frag = _15["default"];
    }, function (_16) {
      shader_shape2D_frag = _16["default"];
    }, function (_17) {
      shader_shape2D_vert = _17["default"];
    }, function (_18) {
      shader_star_frag = _18["default"];
    }, function (_a) {
      mesh_cookie_ply = _a["default"];
    }, function (_b) {
      shader_bloom_bloom_frag = _b["default"];
    }, function (_c) {
      shader_bloom_bloom_vert = _c["default"];
    }, function (_d) {
      shader_bloom_bright_frag = _d["default"];
    }, function (_e) {
      shader_bloom_bright_vert = _e["default"];
    }, function (_f) {
      shader_bloom_gaussian_blur_frag = _f["default"];
    }, function (_a2) {
      shader_star_vert = _a2["default"];
    }, function (_b2) {
      shader_wireframe_frag = _b2["default"];
    }, function (_c2) {
      shader_wireframe_vert = _c2["default"];
    }],
    execute: function () {
      /* eslint-disable */
      /* This file is generated with "npm run assets", do not edit by hand. */
      "use strict";

      plyLoader = new PLYLoader();
      objLoader = new OBJLoader();
      fontLoader = new THREE.FontLoader();

      _export("default", {
        animations: makeAnimations(JSON.parse(animation_scene_json)),
        geometries: {
          cookie: plyLoader.parse(mesh_cookie_ply)
        },
        fonts: {},
        shaders: {
          wireframe: new THREE.ShaderMaterial(_Object$assign({}, descriptors.shaders.wireframe, {
            vertexShader: shaderHeader + shader_wireframe_vert,
            fragmentShader: shaderHeader + shader_wireframe_frag
          })),
          desert: new THREE.ShaderMaterial(_Object$assign({}, descriptors.shaders.desert, {
            vertexShader: shaderHeader + shader_desert_vert,
            fragmentShader: shaderHeader + shader_desert_frag
          })),
          star: new THREE.ShaderMaterial(_Object$assign({}, descriptors.shaders.star, {
            vertexShader: shaderHeader + shader_star_vert,
            fragmentShader: shaderHeader + shader_star_frag
          })),
          chocolat: new THREE.ShaderMaterial(_Object$assign({}, descriptors.shaders.chocolat, {
            vertexShader: shaderHeader + shader_chocolat_vert,
            fragmentShader: shaderHeader + shader_chocolat_frag
          })),
          shape2D: new THREE.ShaderMaterial(_Object$assign({}, descriptors.shaders.shape2D, {
            vertexShader: shaderHeader + shader_shape2D_vert,
            fragmentShader: shaderHeader + shader_shape2D_frag
          })),
          bloom: new THREE.ShaderMaterial(_Object$assign({}, descriptors.shaders.bloom, {
            vertexShader: shaderHeader + shader_bloom_bloom_vert,
            fragmentShader: shaderHeader + shader_bloom_bloom_frag
          })),
          bright: new THREE.ShaderMaterial(_Object$assign({}, descriptors.shaders.bright, {
            vertexShader: shaderHeader + shader_bloom_bright_vert,
            fragmentShader: shaderHeader + shader_bloom_bright_frag
          })),
          gaussian_blur: new THREE.ShaderMaterial(_Object$assign({}, descriptors.shaders.gaussian_blur, {
            vertexShader: shaderHeader + shader_bloom_gaussian_blur_vert,
            fragmentShader: shaderHeader + shader_bloom_gaussian_blur_frag
          })),
          render: new THREE.ShaderMaterial(_Object$assign({}, descriptors.shaders.render, {
            vertexShader: shaderHeader + shader_fullscreen_vert,
            fragmentShader: shaderHeader + shader_render_frag
          }))
        },
        load: function load(callback) {
          return callback();
        }
      });
    }
  };
});

$__System.register('3d', ['3', '5', '6', 'c'], function (_export) {
  var THREE, _createClass, _classCallCheck, assets, PlaneBloom;

  return {
    setters: [function (_3) {
      THREE = _3;
    }, function (_) {
      _createClass = _['default'];
    }, function (_2) {
      _classCallCheck = _2['default'];
    }, function (_c) {
      assets = _c['default'];
    }],
    execute: function () {
      'use strict';

      PlaneBloom = (function () {
        function PlaneBloom(tex_base, tex_blur) {
          _classCallCheck(this, PlaneBloom);

          this.uniforms = null;
          this.tone = 0.7;
          this.strength = 3;
          this.texBase = tex_base;
          this.texBlur = tex_blur;
          this.mesh = this.createMesh();
        }

        _createClass(PlaneBloom, [{
          key: 'createMesh',
          value: function createMesh() {
            this.uniforms = {
              tone: {
                type: 'f',
                value: this.tone
              },
              strength: {
                type: 'f',
                value: this.strength
              },
              texBase: {
                type: 't',
                value: this.texBase
              },
              texBlur: {
                type: 't',
                value: this.texBlur
              }
            };
            var material = assets.shaders.bloom;
            material.uniforms = this.uniforms;
            return new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), material);
          }
        }]);

        return PlaneBloom;
      })();

      _export('default', PlaneBloom);
    }
  };
});

$__System.register('3e', ['3', '5', '6', '15', '16', '3d'], function (_export) {
  var THREE, _createClass, _classCallCheck, PlaneBright, PlaneBlur, PlaneBloom, Bloom;

  return {
    setters: [function (_3) {
      THREE = _3;
    }, function (_) {
      _createClass = _['default'];
    }, function (_2) {
      _classCallCheck = _2['default'];
    }, function (_4) {
      PlaneBright = _4['default'];
    }, function (_5) {
      PlaneBlur = _5['default'];
    }, function (_d) {
      PlaneBloom = _d['default'];
    }],
    execute: function () {
      'use strict';

      Bloom = (function () {
        function Bloom(tex_base) {
          _classCallCheck(this, Bloom);

          this.blurCount = 3;
          this.renderTarget = [new THREE.WebGLRenderTarget(window.innerWidth / 4, window.innerHeight / 4), new THREE.WebGLRenderTarget(window.innerWidth / 4, window.innerHeight / 4)];
          this.scene = {
            bright: new THREE.Scene(),
            blurh: new THREE.Scene(),
            blurv: new THREE.Scene(),
            bloom: new THREE.Scene()
          };
          this.camera = new THREE.PerspectiveCamera(45, 1, 1, 2);
          this.plane = {
            bright: new PlaneBright(tex_base),
            blurh: new PlaneBlur(this.renderTarget[0].texture, new THREE.Vector2(1.0, 0.0)),
            blurv: new PlaneBlur(this.renderTarget[1].texture, new THREE.Vector2(0.0, 1.0)),
            bloom: new PlaneBloom(tex_base, this.renderTarget[0].texture)
          };
          this.blurTarget = this.renderTarget[0];
          this.bloomTarget = new THREE.WebGLRenderTarget(window.innerWidth, window.innerHeight);
          this.init();
        }

        _createClass(Bloom, [{
          key: 'init',
          value: function init() {
            this.scene.bright.add(this.plane.bright.mesh);
            this.scene.blurh.add(this.plane.blurh.mesh);
            this.scene.blurv.add(this.plane.blurv.mesh);
            this.scene.bloom.add(this.plane.bloom.mesh);
          }
        }, {
          key: 'render',
          value: function render(renderer) {
            renderer.render(this.scene.bright, this.camera, this.renderTarget[0]);
            for (var i = 0; i < this.blurCount; i++) {
              renderer.render(this.scene.blurh, this.camera, this.renderTarget[1]);
              renderer.render(this.scene.blurv, this.camera, this.renderTarget[0]);
            }
            renderer.render(this.scene.bloom, this.camera, this.bloomTarget);
          }
        }, {
          key: 'resize',
          value: function resize() {
            this.renderTarget[0].setSize(window.innerWidth / 4, window.innerHeight / 4);
            this.renderTarget[1].setSize(window.innerWidth / 4, window.innerHeight / 4);
            this.plane.blurh.resize();
            this.plane.blurv.resize();
            this.bloomTarget.setSize(window.innerWidth, window.innerHeight);
          }
        }]);

        return Bloom;
      })();

      _export('default', Bloom);
    }
  };
});

$__System.register('d', ['3', '8', '14', 'c', '3e'], function (_export) {
	'use strict';

	var THREE, renderer, OrbitControls, assets, Bloom, engine;

	_export('initEngine', initEngine);

	function initEngine() {
		engine.controls = new OrbitControls(engine.camera, renderer.domElement);
		engine.framerender = new THREE.Mesh(new THREE.PlaneGeometry(1, 1), assets.shaders.render);
		engine.framerender.frustumCulled = false;
		engine.bloom = new Bloom(engine.frametarget.texture);
	}

	return {
		setters: [function (_) {
			THREE = _;
		}, function (_3) {
			renderer = _3['default'];
		}, function (_2) {
			OrbitControls = _2.OrbitControls;
		}, function (_c) {
			assets = _c['default'];
		}, function (_e) {
			Bloom = _e['default'];
		}],
		execute: function () {
			engine = {
				scene: new THREE.Scene(),
				camera: new THREE.PerspectiveCamera(90, window.innerWidth / window.innerHeight, 0.01, 2000),
				controls: null,
				framerender: null,
				frametarget: new THREE.WebGLRenderTarget(window.innerWidth, window.innerHeight),
				bloom: null
			};

			_export('engine', engine);
		}
	};
});

$__System.register('3f', ['3', '4', '9', '40', 'd'], function (_export) {
	'use strict';

	var THREE, FrameBuffer, uniforms, uniformsToUpdate, Geometry, engine;

	_export('add', add);

	_export('addWireframe', addWireframe);

	_export('addShape2D', addShape2D);

	_export('generateCurve', generateCurve);

	function add(material, geometries, sceneLayer) {
		material.uniforms = uniforms;
		sceneLayer = sceneLayer || engine.scene;
		geometries.forEach(function (geometry) {
			var mesh = new THREE.Mesh(geometry, material);
			mesh.frustumCulled = false;
			sceneLayer.add(mesh);
		});
	}

	function addWireframe(material, geometries, sceneLayer) {
		material.uniforms = uniforms;
		sceneLayer = sceneLayer || engine.scene;
		geometries.forEach(function (geometry) {
			var mesh = new THREE.LineSegments(new THREE.EdgesGeometry(geometry), material);
			mesh.frustumCulled = false;
			sceneLayer.add(mesh);
		});
	}

	function addShape2D(material, rect, anchor, offset, texture, sceneLayer) {
		rect = rect || [0, 0, 1, 1];
		anchor = anchor || [0, 0];
		offset = offset || [0, 0];
		sceneLayer = sceneLayer || engine.scene;
		var mesh = new THREE.Mesh(new THREE.PlaneGeometry(1, 1), material);
		mesh.frustumCulled = false;
		sceneLayer.add(mesh);
		material.uniforms.resolution = { value: [window.innerWidth, window.innerHeight] };
		material.uniforms.rect = { value: rect };
		material.uniforms.anchor = { value: anchor };
		material.uniforms.offset = { value: offset };
		material.uniforms.texture = { value: texture };
		material.uniforms.time = { value: 0 };
		uniformsToUpdate.push(material.uniforms);
	}

	function generateCurve(positions, material, uniformsToUpdate) {

		// calculate normals of the curve
		// Parallel Transport Approach to Curve Framing
		// https://pdfs.semanticscholar.org/7e65/2313c1f8183a0f43acce58ae8d8caf370a6b.pdf

		var dataArray = [];
		for (var i = 0; i < positions.length / 3 / 2; ++i) for (var x = 0; x < 3; ++x) dataArray.push(positions[i * 2 * 3 + x]);
		var dataNormalArray = [];
		var posVector = new THREE.Vector3();
		var nextVector = new THREE.Vector3();
		var biVector = new THREE.Vector3();
		var tangentVectors = [];
		var normalVectors = [new THREE.Vector3(-.5, 0, 1).normalize()];
		for (var i = 0; i < dataArray.length / 3; ++i) {
			tangentVectors.push(new THREE.Vector3());
			posVector.set(dataArray[i * 3], dataArray[i * 3 + 1], dataArray[i * 3 + 2]);
			if ((i + 1) * 3 + 2 < dataArray.length) {
				nextVector.set(dataArray[(i + 1) * 3], dataArray[(i + 1) * 3 + 1], dataArray[(i + 1) * 3 + 2]);
				tangentVectors[i].subVectors(nextVector, posVector).normalize();
			} else {
				nextVector.set(dataArray[(i - 1) * 3], dataArray[(i - 1) * 3 + 1], dataArray[(i - 1) * 3 + 2]);
				tangentVectors[i].subVectors(posVector, nextVector).normalize();
			}
		}
		dataNormalArray.push(normalVectors[0].x, normalVectors[0].y, normalVectors[0].z);
		for (var i = 0; i < tangentVectors.length - 1; ++i) {
			biVector.crossVectors(tangentVectors[i], tangentVectors[i + 1]);
			normalVectors.push(new THREE.Vector3());
			var normal = normalVectors[i];
			if (biVector.length() == 0.) {
				normalVectors[i + 1].set(normal.x, normal.y, normal.z);
			} else {
				biVector.normalize();
				var angle = Math.acos(tangentVectors[i].dot(tangentVectors[i + 1]));
				posVector.set(normal.x, normal.y, normal.z);
				normalVectors[i + 1] = posVector.applyAxisAngle(biVector, angle);
			}
			dataNormalArray.push(normalVectors[i + 1].x, normalVectors[i + 1].y, normalVectors[i + 1].z);
		}

		material.uniforms.time = { value: 0 };
		material.uniforms.curvePosition = { value: FrameBuffer.createDataTexture(dataArray, 3) };
		material.uniforms.curveNormal = { value: FrameBuffer.createDataTexture(dataNormalArray, 3) };

		_export('sceneLayer', _export('sceneLayer', _export('sceneLayer', sceneLayer = sceneLayer || engine.scene)));
		Geometry.create(Geometry.random(1), [dataArray.length / 3, 1]).forEach(function (geometry) {
			var mesh = new THREE.Mesh(geometry, material);
			mesh.frustumCulled = false;
			sceneLayer.add(mesh);
		});
	}

	return {
		setters: [function (_) {
			THREE = _;
		}, function (_2) {
			FrameBuffer = _2['default'];
		}, function (_4) {
			uniforms = _4.uniforms;
			uniformsToUpdate = _4.uniformsToUpdate;
		}, function (_3) {
			Geometry = _3['default'];
		}, function (_d) {
			engine = _d.engine;
		}],
		execute: function () {}
	};
});

$__System.register('41', ['2', 'c', '3f'], function (_export) {
	'use strict';

	var makeText, assets, generateCurve, add, addWireframe, addShape2D;

	_export('addText', addText);

	function addText() {

		addShape2D(assets.shaders.shape2D.clone(), [.0, .0, 1, 1], // rect.xyzw
		[0, 0], // anchor
		[0, 40], // offset
		makeText.createTexture([{
			text: 'cookie',
			font: 'bebasneue_bold',
			fillStyle: '#bdbdbd',
			width: 1024,
			height: 1024,
			fontSize: 150,
			offsetY: -90,
			textAlign: 'center',
			textBaseline: 'middle'
		}, {
			text: 'demoparty',
			font: 'bebasneue_bold',
			fillStyle: '#bdbdbd',
			fontSize: 85,
			offsetY: 0
		}, {
			text: 'NOV 30 - DEC 1, 2018',
			font: 'bebasneue_bold',
			fillStyle: '#bdbdbd',
			fontSize: 65,
			offsetY: 80
		}, {
			text: 'AT FOLIE NUMERIQUE',
			font: 'bebasneue_bold',
			fillStyle: '#bdbdbd',
			fontSize: 50,
			offsetY: 150
		}, {
			text: 'PARIS, FRANCE',
			font: 'bebasneue_bold',
			fillStyle: '#bdbdbd',
			fontSize: 70,
			offsetY: 200
		}, {
			text: 'more info coming soon',
			font: 'bebasneue_bold',
			fillStyle: '#a3a3a3',
			fontSize: 40,
			offsetY: 280
		}]));
	}

	return {
		setters: [function (_) {
			makeText = _;
		}, function (_c) {
			assets = _c['default'];
		}, function (_f) {
			generateCurve = _f.generateCurve;
			add = _f.add;
			addWireframe = _f.addWireframe;
			addShape2D = _f.addShape2D;
		}],
		execute: function () {}
	};
});

$__System.registerDynamic("10", [], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  var $Object = Object;
  module.exports = {
    create: $Object.create,
    getProto: $Object.getPrototypeOf,
    isEnum: {}.propertyIsEnumerable,
    getDesc: $Object.getOwnPropertyDescriptor,
    setDesc: $Object.defineProperty,
    setDescs: $Object.defineProperties,
    getKeys: $Object.keys,
    getNames: $Object.getOwnPropertyNames,
    getSymbols: $Object.getOwnPropertySymbols,
    each: [].forEach
  };
});
$__System.registerDynamic('42', ['10'], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  var $ = $__require('10');
  module.exports = function defineProperty(it, key, desc) {
    return $.setDesc(it, key, desc);
  };
});
$__System.registerDynamic("43", ["42"], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  module.exports = { "default": $__require("42"), __esModule: true };
});
$__System.registerDynamic("5", ["43"], true, function ($__require, exports, module) {
  /* */
  "use strict";

  var global = this || self,
      GLOBAL = global;
  var _Object$defineProperty = $__require("43")["default"];
  exports["default"] = function () {
    function defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor) descriptor.writable = true;
        _Object$defineProperty(target, descriptor.key, descriptor);
      }
    }
    return function (Constructor, protoProps, staticProps) {
      if (protoProps) defineProperties(Constructor.prototype, protoProps);
      if (staticProps) defineProperties(Constructor, staticProps);
      return Constructor;
    };
  }();
  exports.__esModule = true;
});
$__System.registerDynamic("6", [], true, function ($__require, exports, module) {
  /* */
  "use strict";

  var global = this || self,
      GLOBAL = global;
  exports["default"] = function (instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  };

  exports.__esModule = true;
});
(function() {
var define = $__System.amdDefine;
(function(global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define("44", ["exports"], factory) : (factory((global.THREE = {})));
}(this, (function(exports) {
  'use strict';
  if (Number.EPSILON === undefined) {
    Number.EPSILON = Math.pow(2, -52);
  }
  if (Number.isInteger === undefined) {
    Number.isInteger = function(value) {
      return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;
    };
  }
  if (Math.sign === undefined) {
    Math.sign = function(x) {
      return (x < 0) ? -1 : (x > 0) ? 1 : +x;
    };
  }
  if ('name' in Function.prototype === false) {
    Object.defineProperty(Function.prototype, 'name', {get: function() {
        return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1];
      }});
  }
  if (Object.assign === undefined) {
    (function() {
      Object.assign = function(target) {
        if (target === undefined || target === null) {
          throw new TypeError('Cannot convert undefined or null to object');
        }
        var output = Object(target);
        for (var index = 1; index < arguments.length; index++) {
          var source = arguments[index];
          if (source !== undefined && source !== null) {
            for (var nextKey in source) {
              if (Object.prototype.hasOwnProperty.call(source, nextKey)) {
                output[nextKey] = source[nextKey];
              }
            }
          }
        }
        return output;
      };
    })();
  }
  function EventDispatcher() {}
  Object.assign(EventDispatcher.prototype, {
    addEventListener: function(type, listener) {
      if (this._listeners === undefined)
        this._listeners = {};
      var listeners = this._listeners;
      if (listeners[type] === undefined) {
        listeners[type] = [];
      }
      if (listeners[type].indexOf(listener) === -1) {
        listeners[type].push(listener);
      }
    },
    hasEventListener: function(type, listener) {
      if (this._listeners === undefined)
        return false;
      var listeners = this._listeners;
      return listeners[type] !== undefined && listeners[type].indexOf(listener) !== -1;
    },
    removeEventListener: function(type, listener) {
      if (this._listeners === undefined)
        return;
      var listeners = this._listeners;
      var listenerArray = listeners[type];
      if (listenerArray !== undefined) {
        var index = listenerArray.indexOf(listener);
        if (index !== -1) {
          listenerArray.splice(index, 1);
        }
      }
    },
    dispatchEvent: function(event) {
      if (this._listeners === undefined)
        return;
      var listeners = this._listeners;
      var listenerArray = listeners[event.type];
      if (listenerArray !== undefined) {
        event.target = this;
        var array = listenerArray.slice(0);
        for (var i = 0,
            l = array.length; i < l; i++) {
          array[i].call(this, event);
        }
      }
    }
  });
  var REVISION = '94';
  var MOUSE = {
    LEFT: 0,
    MIDDLE: 1,
    RIGHT: 2
  };
  var CullFaceNone = 0;
  var CullFaceBack = 1;
  var CullFaceFront = 2;
  var CullFaceFrontBack = 3;
  var FrontFaceDirectionCW = 0;
  var FrontFaceDirectionCCW = 1;
  var BasicShadowMap = 0;
  var PCFShadowMap = 1;
  var PCFSoftShadowMap = 2;
  var FrontSide = 0;
  var BackSide = 1;
  var DoubleSide = 2;
  var FlatShading = 1;
  var SmoothShading = 2;
  var NoColors = 0;
  var FaceColors = 1;
  var VertexColors = 2;
  var NoBlending = 0;
  var NormalBlending = 1;
  var AdditiveBlending = 2;
  var SubtractiveBlending = 3;
  var MultiplyBlending = 4;
  var CustomBlending = 5;
  var AddEquation = 100;
  var SubtractEquation = 101;
  var ReverseSubtractEquation = 102;
  var MinEquation = 103;
  var MaxEquation = 104;
  var ZeroFactor = 200;
  var OneFactor = 201;
  var SrcColorFactor = 202;
  var OneMinusSrcColorFactor = 203;
  var SrcAlphaFactor = 204;
  var OneMinusSrcAlphaFactor = 205;
  var DstAlphaFactor = 206;
  var OneMinusDstAlphaFactor = 207;
  var DstColorFactor = 208;
  var OneMinusDstColorFactor = 209;
  var SrcAlphaSaturateFactor = 210;
  var NeverDepth = 0;
  var AlwaysDepth = 1;
  var LessDepth = 2;
  var LessEqualDepth = 3;
  var EqualDepth = 4;
  var GreaterEqualDepth = 5;
  var GreaterDepth = 6;
  var NotEqualDepth = 7;
  var MultiplyOperation = 0;
  var MixOperation = 1;
  var AddOperation = 2;
  var NoToneMapping = 0;
  var LinearToneMapping = 1;
  var ReinhardToneMapping = 2;
  var Uncharted2ToneMapping = 3;
  var CineonToneMapping = 4;
  var UVMapping = 300;
  var CubeReflectionMapping = 301;
  var CubeRefractionMapping = 302;
  var EquirectangularReflectionMapping = 303;
  var EquirectangularRefractionMapping = 304;
  var SphericalReflectionMapping = 305;
  var CubeUVReflectionMapping = 306;
  var CubeUVRefractionMapping = 307;
  var RepeatWrapping = 1000;
  var ClampToEdgeWrapping = 1001;
  var MirroredRepeatWrapping = 1002;
  var NearestFilter = 1003;
  var NearestMipMapNearestFilter = 1004;
  var NearestMipMapLinearFilter = 1005;
  var LinearFilter = 1006;
  var LinearMipMapNearestFilter = 1007;
  var LinearMipMapLinearFilter = 1008;
  var UnsignedByteType = 1009;
  var ByteType = 1010;
  var ShortType = 1011;
  var UnsignedShortType = 1012;
  var IntType = 1013;
  var UnsignedIntType = 1014;
  var FloatType = 1015;
  var HalfFloatType = 1016;
  var UnsignedShort4444Type = 1017;
  var UnsignedShort5551Type = 1018;
  var UnsignedShort565Type = 1019;
  var UnsignedInt248Type = 1020;
  var AlphaFormat = 1021;
  var RGBFormat = 1022;
  var RGBAFormat = 1023;
  var LuminanceFormat = 1024;
  var LuminanceAlphaFormat = 1025;
  var RGBEFormat = RGBAFormat;
  var DepthFormat = 1026;
  var DepthStencilFormat = 1027;
  var RGB_S3TC_DXT1_Format = 33776;
  var RGBA_S3TC_DXT1_Format = 33777;
  var RGBA_S3TC_DXT3_Format = 33778;
  var RGBA_S3TC_DXT5_Format = 33779;
  var RGB_PVRTC_4BPPV1_Format = 35840;
  var RGB_PVRTC_2BPPV1_Format = 35841;
  var RGBA_PVRTC_4BPPV1_Format = 35842;
  var RGBA_PVRTC_2BPPV1_Format = 35843;
  var RGB_ETC1_Format = 36196;
  var RGBA_ASTC_4x4_Format = 37808;
  var RGBA_ASTC_5x4_Format = 37809;
  var RGBA_ASTC_5x5_Format = 37810;
  var RGBA_ASTC_6x5_Format = 37811;
  var RGBA_ASTC_6x6_Format = 37812;
  var RGBA_ASTC_8x5_Format = 37813;
  var RGBA_ASTC_8x6_Format = 37814;
  var RGBA_ASTC_8x8_Format = 37815;
  var RGBA_ASTC_10x5_Format = 37816;
  var RGBA_ASTC_10x6_Format = 37817;
  var RGBA_ASTC_10x8_Format = 37818;
  var RGBA_ASTC_10x10_Format = 37819;
  var RGBA_ASTC_12x10_Format = 37820;
  var RGBA_ASTC_12x12_Format = 37821;
  var LoopOnce = 2200;
  var LoopRepeat = 2201;
  var LoopPingPong = 2202;
  var InterpolateDiscrete = 2300;
  var InterpolateLinear = 2301;
  var InterpolateSmooth = 2302;
  var ZeroCurvatureEnding = 2400;
  var ZeroSlopeEnding = 2401;
  var WrapAroundEnding = 2402;
  var TrianglesDrawMode = 0;
  var TriangleStripDrawMode = 1;
  var TriangleFanDrawMode = 2;
  var LinearEncoding = 3000;
  var sRGBEncoding = 3001;
  var GammaEncoding = 3007;
  var RGBEEncoding = 3002;
  var LogLuvEncoding = 3003;
  var RGBM7Encoding = 3004;
  var RGBM16Encoding = 3005;
  var RGBDEncoding = 3006;
  var BasicDepthPacking = 3200;
  var RGBADepthPacking = 3201;
  var TangentSpaceNormalMap = 0;
  var ObjectSpaceNormalMap = 1;
  var _Math = {
    DEG2RAD: Math.PI / 180,
    RAD2DEG: 180 / Math.PI,
    generateUUID: (function() {
      var lut = [];
      for (var i = 0; i < 256; i++) {
        lut[i] = (i < 16 ? '0' : '') + (i).toString(16);
      }
      return function generateUUID() {
        var d0 = Math.random() * 0xffffffff | 0;
        var d1 = Math.random() * 0xffffffff | 0;
        var d2 = Math.random() * 0xffffffff | 0;
        var d3 = Math.random() * 0xffffffff | 0;
        var uuid = lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] + lut[d0 >> 24 & 0xff] + '-' + lut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' + lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' + lut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] + lut[d2 >> 24 & 0xff] + lut[d3 & 0xff] + lut[d3 >> 8 & 0xff] + lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff];
        return uuid.toUpperCase();
      };
    })(),
    clamp: function(value, min, max) {
      return Math.max(min, Math.min(max, value));
    },
    euclideanModulo: function(n, m) {
      return ((n % m) + m) % m;
    },
    mapLinear: function(x, a1, a2, b1, b2) {
      return b1 + (x - a1) * (b2 - b1) / (a2 - a1);
    },
    lerp: function(x, y, t) {
      return (1 - t) * x + t * y;
    },
    smoothstep: function(x, min, max) {
      if (x <= min)
        return 0;
      if (x >= max)
        return 1;
      x = (x - min) / (max - min);
      return x * x * (3 - 2 * x);
    },
    smootherstep: function(x, min, max) {
      if (x <= min)
        return 0;
      if (x >= max)
        return 1;
      x = (x - min) / (max - min);
      return x * x * x * (x * (x * 6 - 15) + 10);
    },
    randInt: function(low, high) {
      return low + Math.floor(Math.random() * (high - low + 1));
    },
    randFloat: function(low, high) {
      return low + Math.random() * (high - low);
    },
    randFloatSpread: function(range) {
      return range * (0.5 - Math.random());
    },
    degToRad: function(degrees) {
      return degrees * _Math.DEG2RAD;
    },
    radToDeg: function(radians) {
      return radians * _Math.RAD2DEG;
    },
    isPowerOfTwo: function(value) {
      return (value & (value - 1)) === 0 && value !== 0;
    },
    ceilPowerOfTwo: function(value) {
      return Math.pow(2, Math.ceil(Math.log(value) / Math.LN2));
    },
    floorPowerOfTwo: function(value) {
      return Math.pow(2, Math.floor(Math.log(value) / Math.LN2));
    }
  };
  function Vector2(x, y) {
    this.x = x || 0;
    this.y = y || 0;
  }
  Object.defineProperties(Vector2.prototype, {
    "width": {
      get: function() {
        return this.x;
      },
      set: function(value) {
        this.x = value;
      }
    },
    "height": {
      get: function() {
        return this.y;
      },
      set: function(value) {
        this.y = value;
      }
    }
  });
  Object.assign(Vector2.prototype, {
    isVector2: true,
    set: function(x, y) {
      this.x = x;
      this.y = y;
      return this;
    },
    setScalar: function(scalar) {
      this.x = scalar;
      this.y = scalar;
      return this;
    },
    setX: function(x) {
      this.x = x;
      return this;
    },
    setY: function(y) {
      this.y = y;
      return this;
    },
    setComponent: function(index, value) {
      switch (index) {
        case 0:
          this.x = value;
          break;
        case 1:
          this.y = value;
          break;
        default:
          throw new Error('index is out of range: ' + index);
      }
      return this;
    },
    getComponent: function(index) {
      switch (index) {
        case 0:
          return this.x;
        case 1:
          return this.y;
        default:
          throw new Error('index is out of range: ' + index);
      }
    },
    clone: function() {
      return new this.constructor(this.x, this.y);
    },
    copy: function(v) {
      this.x = v.x;
      this.y = v.y;
      return this;
    },
    add: function(v, w) {
      if (w !== undefined) {
        console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');
        return this.addVectors(v, w);
      }
      this.x += v.x;
      this.y += v.y;
      return this;
    },
    addScalar: function(s) {
      this.x += s;
      this.y += s;
      return this;
    },
    addVectors: function(a, b) {
      this.x = a.x + b.x;
      this.y = a.y + b.y;
      return this;
    },
    addScaledVector: function(v, s) {
      this.x += v.x * s;
      this.y += v.y * s;
      return this;
    },
    sub: function(v, w) {
      if (w !== undefined) {
        console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');
        return this.subVectors(v, w);
      }
      this.x -= v.x;
      this.y -= v.y;
      return this;
    },
    subScalar: function(s) {
      this.x -= s;
      this.y -= s;
      return this;
    },
    subVectors: function(a, b) {
      this.x = a.x - b.x;
      this.y = a.y - b.y;
      return this;
    },
    multiply: function(v) {
      this.x *= v.x;
      this.y *= v.y;
      return this;
    },
    multiplyScalar: function(scalar) {
      this.x *= scalar;
      this.y *= scalar;
      return this;
    },
    divide: function(v) {
      this.x /= v.x;
      this.y /= v.y;
      return this;
    },
    divideScalar: function(scalar) {
      return this.multiplyScalar(1 / scalar);
    },
    applyMatrix3: function(m) {
      var x = this.x,
          y = this.y;
      var e = m.elements;
      this.x = e[0] * x + e[3] * y + e[6];
      this.y = e[1] * x + e[4] * y + e[7];
      return this;
    },
    min: function(v) {
      this.x = Math.min(this.x, v.x);
      this.y = Math.min(this.y, v.y);
      return this;
    },
    max: function(v) {
      this.x = Math.max(this.x, v.x);
      this.y = Math.max(this.y, v.y);
      return this;
    },
    clamp: function(min, max) {
      this.x = Math.max(min.x, Math.min(max.x, this.x));
      this.y = Math.max(min.y, Math.min(max.y, this.y));
      return this;
    },
    clampScalar: function() {
      var min = new Vector2();
      var max = new Vector2();
      return function clampScalar(minVal, maxVal) {
        min.set(minVal, minVal);
        max.set(maxVal, maxVal);
        return this.clamp(min, max);
      };
    }(),
    clampLength: function(min, max) {
      var length = this.length();
      return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));
    },
    floor: function() {
      this.x = Math.floor(this.x);
      this.y = Math.floor(this.y);
      return this;
    },
    ceil: function() {
      this.x = Math.ceil(this.x);
      this.y = Math.ceil(this.y);
      return this;
    },
    round: function() {
      this.x = Math.round(this.x);
      this.y = Math.round(this.y);
      return this;
    },
    roundToZero: function() {
      this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);
      this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);
      return this;
    },
    negate: function() {
      this.x = -this.x;
      this.y = -this.y;
      return this;
    },
    dot: function(v) {
      return this.x * v.x + this.y * v.y;
    },
    lengthSq: function() {
      return this.x * this.x + this.y * this.y;
    },
    length: function() {
      return Math.sqrt(this.x * this.x + this.y * this.y);
    },
    manhattanLength: function() {
      return Math.abs(this.x) + Math.abs(this.y);
    },
    normalize: function() {
      return this.divideScalar(this.length() || 1);
    },
    angle: function() {
      var angle = Math.atan2(this.y, this.x);
      if (angle < 0)
        angle += 2 * Math.PI;
      return angle;
    },
    distanceTo: function(v) {
      return Math.sqrt(this.distanceToSquared(v));
    },
    distanceToSquared: function(v) {
      var dx = this.x - v.x,
          dy = this.y - v.y;
      return dx * dx + dy * dy;
    },
    manhattanDistanceTo: function(v) {
      return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);
    },
    setLength: function(length) {
      return this.normalize().multiplyScalar(length);
    },
    lerp: function(v, alpha) {
      this.x += (v.x - this.x) * alpha;
      this.y += (v.y - this.y) * alpha;
      return this;
    },
    lerpVectors: function(v1, v2, alpha) {
      return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);
    },
    equals: function(v) {
      return ((v.x === this.x) && (v.y === this.y));
    },
    fromArray: function(array, offset) {
      if (offset === undefined)
        offset = 0;
      this.x = array[offset];
      this.y = array[offset + 1];
      return this;
    },
    toArray: function(array, offset) {
      if (array === undefined)
        array = [];
      if (offset === undefined)
        offset = 0;
      array[offset] = this.x;
      array[offset + 1] = this.y;
      return array;
    },
    fromBufferAttribute: function(attribute, index, offset) {
      if (offset !== undefined) {
        console.warn('THREE.Vector2: offset has been removed from .fromBufferAttribute().');
      }
      this.x = attribute.getX(index);
      this.y = attribute.getY(index);
      return this;
    },
    rotateAround: function(center, angle) {
      var c = Math.cos(angle),
          s = Math.sin(angle);
      var x = this.x - center.x;
      var y = this.y - center.y;
      this.x = x * c - y * s + center.x;
      this.y = x * s + y * c + center.y;
      return this;
    }
  });
  function Matrix4() {
    this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];
    if (arguments.length > 0) {
      console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');
    }
  }
  Object.assign(Matrix4.prototype, {
    isMatrix4: true,
    set: function(n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {
      var te = this.elements;
      te[0] = n11;
      te[4] = n12;
      te[8] = n13;
      te[12] = n14;
      te[1] = n21;
      te[5] = n22;
      te[9] = n23;
      te[13] = n24;
      te[2] = n31;
      te[6] = n32;
      te[10] = n33;
      te[14] = n34;
      te[3] = n41;
      te[7] = n42;
      te[11] = n43;
      te[15] = n44;
      return this;
    },
    identity: function() {
      this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
      return this;
    },
    clone: function() {
      return new Matrix4().fromArray(this.elements);
    },
    copy: function(m) {
      var te = this.elements;
      var me = m.elements;
      te[0] = me[0];
      te[1] = me[1];
      te[2] = me[2];
      te[3] = me[3];
      te[4] = me[4];
      te[5] = me[5];
      te[6] = me[6];
      te[7] = me[7];
      te[8] = me[8];
      te[9] = me[9];
      te[10] = me[10];
      te[11] = me[11];
      te[12] = me[12];
      te[13] = me[13];
      te[14] = me[14];
      te[15] = me[15];
      return this;
    },
    copyPosition: function(m) {
      var te = this.elements,
          me = m.elements;
      te[12] = me[12];
      te[13] = me[13];
      te[14] = me[14];
      return this;
    },
    extractBasis: function(xAxis, yAxis, zAxis) {
      xAxis.setFromMatrixColumn(this, 0);
      yAxis.setFromMatrixColumn(this, 1);
      zAxis.setFromMatrixColumn(this, 2);
      return this;
    },
    makeBasis: function(xAxis, yAxis, zAxis) {
      this.set(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, 0, 0, 0, 1);
      return this;
    },
    extractRotation: function() {
      var v1 = new Vector3();
      return function extractRotation(m) {
        var te = this.elements;
        var me = m.elements;
        var scaleX = 1 / v1.setFromMatrixColumn(m, 0).length();
        var scaleY = 1 / v1.setFromMatrixColumn(m, 1).length();
        var scaleZ = 1 / v1.setFromMatrixColumn(m, 2).length();
        te[0] = me[0] * scaleX;
        te[1] = me[1] * scaleX;
        te[2] = me[2] * scaleX;
        te[3] = 0;
        te[4] = me[4] * scaleY;
        te[5] = me[5] * scaleY;
        te[6] = me[6] * scaleY;
        te[7] = 0;
        te[8] = me[8] * scaleZ;
        te[9] = me[9] * scaleZ;
        te[10] = me[10] * scaleZ;
        te[11] = 0;
        te[12] = 0;
        te[13] = 0;
        te[14] = 0;
        te[15] = 1;
        return this;
      };
    }(),
    makeRotationFromEuler: function(euler) {
      if (!(euler && euler.isEuler)) {
        console.error('THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');
      }
      var te = this.elements;
      var x = euler.x,
          y = euler.y,
          z = euler.z;
      var a = Math.cos(x),
          b = Math.sin(x);
      var c = Math.cos(y),
          d = Math.sin(y);
      var e = Math.cos(z),
          f = Math.sin(z);
      if (euler.order === 'XYZ') {
        var ae = a * e,
            af = a * f,
            be = b * e,
            bf = b * f;
        te[0] = c * e;
        te[4] = -c * f;
        te[8] = d;
        te[1] = af + be * d;
        te[5] = ae - bf * d;
        te[9] = -b * c;
        te[2] = bf - ae * d;
        te[6] = be + af * d;
        te[10] = a * c;
      } else if (euler.order === 'YXZ') {
        var ce = c * e,
            cf = c * f,
            de = d * e,
            df = d * f;
        te[0] = ce + df * b;
        te[4] = de * b - cf;
        te[8] = a * d;
        te[1] = a * f;
        te[5] = a * e;
        te[9] = -b;
        te[2] = cf * b - de;
        te[6] = df + ce * b;
        te[10] = a * c;
      } else if (euler.order === 'ZXY') {
        var ce = c * e,
            cf = c * f,
            de = d * e,
            df = d * f;
        te[0] = ce - df * b;
        te[4] = -a * f;
        te[8] = de + cf * b;
        te[1] = cf + de * b;
        te[5] = a * e;
        te[9] = df - ce * b;
        te[2] = -a * d;
        te[6] = b;
        te[10] = a * c;
      } else if (euler.order === 'ZYX') {
        var ae = a * e,
            af = a * f,
            be = b * e,
            bf = b * f;
        te[0] = c * e;
        te[4] = be * d - af;
        te[8] = ae * d + bf;
        te[1] = c * f;
        te[5] = bf * d + ae;
        te[9] = af * d - be;
        te[2] = -d;
        te[6] = b * c;
        te[10] = a * c;
      } else if (euler.order === 'YZX') {
        var ac = a * c,
            ad = a * d,
            bc = b * c,
            bd = b * d;
        te[0] = c * e;
        te[4] = bd - ac * f;
        te[8] = bc * f + ad;
        te[1] = f;
        te[5] = a * e;
        te[9] = -b * e;
        te[2] = -d * e;
        te[6] = ad * f + bc;
        te[10] = ac - bd * f;
      } else if (euler.order === 'XZY') {
        var ac = a * c,
            ad = a * d,
            bc = b * c,
            bd = b * d;
        te[0] = c * e;
        te[4] = -f;
        te[8] = d * e;
        te[1] = ac * f + bd;
        te[5] = a * e;
        te[9] = ad * f - bc;
        te[2] = bc * f - ad;
        te[6] = b * e;
        te[10] = bd * f + ac;
      }
      te[3] = 0;
      te[7] = 0;
      te[11] = 0;
      te[12] = 0;
      te[13] = 0;
      te[14] = 0;
      te[15] = 1;
      return this;
    },
    makeRotationFromQuaternion: function() {
      var zero = new Vector3(0, 0, 0);
      var one = new Vector3(1, 1, 1);
      return function makeRotationFromQuaternion(q) {
        return this.compose(zero, q, one);
      };
    }(),
    lookAt: function() {
      var x = new Vector3();
      var y = new Vector3();
      var z = new Vector3();
      return function lookAt(eye, target, up) {
        var te = this.elements;
        z.subVectors(eye, target);
        if (z.lengthSq() === 0) {
          z.z = 1;
        }
        z.normalize();
        x.crossVectors(up, z);
        if (x.lengthSq() === 0) {
          if (Math.abs(up.z) === 1) {
            z.x += 0.0001;
          } else {
            z.z += 0.0001;
          }
          z.normalize();
          x.crossVectors(up, z);
        }
        x.normalize();
        y.crossVectors(z, x);
        te[0] = x.x;
        te[4] = y.x;
        te[8] = z.x;
        te[1] = x.y;
        te[5] = y.y;
        te[9] = z.y;
        te[2] = x.z;
        te[6] = y.z;
        te[10] = z.z;
        return this;
      };
    }(),
    multiply: function(m, n) {
      if (n !== undefined) {
        console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');
        return this.multiplyMatrices(m, n);
      }
      return this.multiplyMatrices(this, m);
    },
    premultiply: function(m) {
      return this.multiplyMatrices(m, this);
    },
    multiplyMatrices: function(a, b) {
      var ae = a.elements;
      var be = b.elements;
      var te = this.elements;
      var a11 = ae[0],
          a12 = ae[4],
          a13 = ae[8],
          a14 = ae[12];
      var a21 = ae[1],
          a22 = ae[5],
          a23 = ae[9],
          a24 = ae[13];
      var a31 = ae[2],
          a32 = ae[6],
          a33 = ae[10],
          a34 = ae[14];
      var a41 = ae[3],
          a42 = ae[7],
          a43 = ae[11],
          a44 = ae[15];
      var b11 = be[0],
          b12 = be[4],
          b13 = be[8],
          b14 = be[12];
      var b21 = be[1],
          b22 = be[5],
          b23 = be[9],
          b24 = be[13];
      var b31 = be[2],
          b32 = be[6],
          b33 = be[10],
          b34 = be[14];
      var b41 = be[3],
          b42 = be[7],
          b43 = be[11],
          b44 = be[15];
      te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;
      te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;
      te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;
      te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;
      te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;
      te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;
      te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;
      te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;
      te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;
      te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;
      te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;
      te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;
      te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;
      te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;
      te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;
      te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;
      return this;
    },
    multiplyScalar: function(s) {
      var te = this.elements;
      te[0] *= s;
      te[4] *= s;
      te[8] *= s;
      te[12] *= s;
      te[1] *= s;
      te[5] *= s;
      te[9] *= s;
      te[13] *= s;
      te[2] *= s;
      te[6] *= s;
      te[10] *= s;
      te[14] *= s;
      te[3] *= s;
      te[7] *= s;
      te[11] *= s;
      te[15] *= s;
      return this;
    },
    applyToBufferAttribute: function() {
      var v1 = new Vector3();
      return function applyToBufferAttribute(attribute) {
        for (var i = 0,
            l = attribute.count; i < l; i++) {
          v1.x = attribute.getX(i);
          v1.y = attribute.getY(i);
          v1.z = attribute.getZ(i);
          v1.applyMatrix4(this);
          attribute.setXYZ(i, v1.x, v1.y, v1.z);
        }
        return attribute;
      };
    }(),
    determinant: function() {
      var te = this.elements;
      var n11 = te[0],
          n12 = te[4],
          n13 = te[8],
          n14 = te[12];
      var n21 = te[1],
          n22 = te[5],
          n23 = te[9],
          n24 = te[13];
      var n31 = te[2],
          n32 = te[6],
          n33 = te[10],
          n34 = te[14];
      var n41 = te[3],
          n42 = te[7],
          n43 = te[11],
          n44 = te[15];
      return (n41 * (+n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34) + n42 * (+n11 * n23 * n34 - n11 * n24 * n33 + n14 * n21 * n33 - n13 * n21 * n34 + n13 * n24 * n31 - n14 * n23 * n31) + n43 * (+n11 * n24 * n32 - n11 * n22 * n34 - n14 * n21 * n32 + n12 * n21 * n34 + n14 * n22 * n31 - n12 * n24 * n31) + n44 * (-n13 * n22 * n31 - n11 * n23 * n32 + n11 * n22 * n33 + n13 * n21 * n32 - n12 * n21 * n33 + n12 * n23 * n31));
    },
    transpose: function() {
      var te = this.elements;
      var tmp;
      tmp = te[1];
      te[1] = te[4];
      te[4] = tmp;
      tmp = te[2];
      te[2] = te[8];
      te[8] = tmp;
      tmp = te[6];
      te[6] = te[9];
      te[9] = tmp;
      tmp = te[3];
      te[3] = te[12];
      te[12] = tmp;
      tmp = te[7];
      te[7] = te[13];
      te[13] = tmp;
      tmp = te[11];
      te[11] = te[14];
      te[14] = tmp;
      return this;
    },
    setPosition: function(v) {
      var te = this.elements;
      te[12] = v.x;
      te[13] = v.y;
      te[14] = v.z;
      return this;
    },
    getInverse: function(m, throwOnDegenerate) {
      var te = this.elements,
          me = m.elements,
          n11 = me[0],
          n21 = me[1],
          n31 = me[2],
          n41 = me[3],
          n12 = me[4],
          n22 = me[5],
          n32 = me[6],
          n42 = me[7],
          n13 = me[8],
          n23 = me[9],
          n33 = me[10],
          n43 = me[11],
          n14 = me[12],
          n24 = me[13],
          n34 = me[14],
          n44 = me[15],
          t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,
          t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,
          t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,
          t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;
      var det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;
      if (det === 0) {
        var msg = "THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";
        if (throwOnDegenerate === true) {
          throw new Error(msg);
        } else {
          console.warn(msg);
        }
        return this.identity();
      }
      var detInv = 1 / det;
      te[0] = t11 * detInv;
      te[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;
      te[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;
      te[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;
      te[4] = t12 * detInv;
      te[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;
      te[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;
      te[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;
      te[8] = t13 * detInv;
      te[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;
      te[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;
      te[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;
      te[12] = t14 * detInv;
      te[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;
      te[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;
      te[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;
      return this;
    },
    scale: function(v) {
      var te = this.elements;
      var x = v.x,
          y = v.y,
          z = v.z;
      te[0] *= x;
      te[4] *= y;
      te[8] *= z;
      te[1] *= x;
      te[5] *= y;
      te[9] *= z;
      te[2] *= x;
      te[6] *= y;
      te[10] *= z;
      te[3] *= x;
      te[7] *= y;
      te[11] *= z;
      return this;
    },
    getMaxScaleOnAxis: function() {
      var te = this.elements;
      var scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2] * te[2];
      var scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6] * te[6];
      var scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];
      return Math.sqrt(Math.max(scaleXSq, scaleYSq, scaleZSq));
    },
    makeTranslation: function(x, y, z) {
      this.set(1, 0, 0, x, 0, 1, 0, y, 0, 0, 1, z, 0, 0, 0, 1);
      return this;
    },
    makeRotationX: function(theta) {
      var c = Math.cos(theta),
          s = Math.sin(theta);
      this.set(1, 0, 0, 0, 0, c, -s, 0, 0, s, c, 0, 0, 0, 0, 1);
      return this;
    },
    makeRotationY: function(theta) {
      var c = Math.cos(theta),
          s = Math.sin(theta);
      this.set(c, 0, s, 0, 0, 1, 0, 0, -s, 0, c, 0, 0, 0, 0, 1);
      return this;
    },
    makeRotationZ: function(theta) {
      var c = Math.cos(theta),
          s = Math.sin(theta);
      this.set(c, -s, 0, 0, s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
      return this;
    },
    makeRotationAxis: function(axis, angle) {
      var c = Math.cos(angle);
      var s = Math.sin(angle);
      var t = 1 - c;
      var x = axis.x,
          y = axis.y,
          z = axis.z;
      var tx = t * x,
          ty = t * y;
      this.set(tx * x + c, tx * y - s * z, tx * z + s * y, 0, tx * y + s * z, ty * y + c, ty * z - s * x, 0, tx * z - s * y, ty * z + s * x, t * z * z + c, 0, 0, 0, 0, 1);
      return this;
    },
    makeScale: function(x, y, z) {
      this.set(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1);
      return this;
    },
    makeShear: function(x, y, z) {
      this.set(1, y, z, 0, x, 1, z, 0, x, y, 1, 0, 0, 0, 0, 1);
      return this;
    },
    compose: function(position, quaternion, scale) {
      var te = this.elements;
      var x = quaternion._x,
          y = quaternion._y,
          z = quaternion._z,
          w = quaternion._w;
      var x2 = x + x,
          y2 = y + y,
          z2 = z + z;
      var xx = x * x2,
          xy = x * y2,
          xz = x * z2;
      var yy = y * y2,
          yz = y * z2,
          zz = z * z2;
      var wx = w * x2,
          wy = w * y2,
          wz = w * z2;
      var sx = scale.x,
          sy = scale.y,
          sz = scale.z;
      te[0] = (1 - (yy + zz)) * sx;
      te[1] = (xy + wz) * sx;
      te[2] = (xz - wy) * sx;
      te[3] = 0;
      te[4] = (xy - wz) * sy;
      te[5] = (1 - (xx + zz)) * sy;
      te[6] = (yz + wx) * sy;
      te[7] = 0;
      te[8] = (xz + wy) * sz;
      te[9] = (yz - wx) * sz;
      te[10] = (1 - (xx + yy)) * sz;
      te[11] = 0;
      te[12] = position.x;
      te[13] = position.y;
      te[14] = position.z;
      te[15] = 1;
      return this;
    },
    decompose: function() {
      var vector = new Vector3();
      var matrix = new Matrix4();
      return function decompose(position, quaternion, scale) {
        var te = this.elements;
        var sx = vector.set(te[0], te[1], te[2]).length();
        var sy = vector.set(te[4], te[5], te[6]).length();
        var sz = vector.set(te[8], te[9], te[10]).length();
        var det = this.determinant();
        if (det < 0)
          sx = -sx;
        position.x = te[12];
        position.y = te[13];
        position.z = te[14];
        matrix.copy(this);
        var invSX = 1 / sx;
        var invSY = 1 / sy;
        var invSZ = 1 / sz;
        matrix.elements[0] *= invSX;
        matrix.elements[1] *= invSX;
        matrix.elements[2] *= invSX;
        matrix.elements[4] *= invSY;
        matrix.elements[5] *= invSY;
        matrix.elements[6] *= invSY;
        matrix.elements[8] *= invSZ;
        matrix.elements[9] *= invSZ;
        matrix.elements[10] *= invSZ;
        quaternion.setFromRotationMatrix(matrix);
        scale.x = sx;
        scale.y = sy;
        scale.z = sz;
        return this;
      };
    }(),
    makePerspective: function(left, right, top, bottom, near, far) {
      if (far === undefined) {
        console.warn('THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.');
      }
      var te = this.elements;
      var x = 2 * near / (right - left);
      var y = 2 * near / (top - bottom);
      var a = (right + left) / (right - left);
      var b = (top + bottom) / (top - bottom);
      var c = -(far + near) / (far - near);
      var d = -2 * far * near / (far - near);
      te[0] = x;
      te[4] = 0;
      te[8] = a;
      te[12] = 0;
      te[1] = 0;
      te[5] = y;
      te[9] = b;
      te[13] = 0;
      te[2] = 0;
      te[6] = 0;
      te[10] = c;
      te[14] = d;
      te[3] = 0;
      te[7] = 0;
      te[11] = -1;
      te[15] = 0;
      return this;
    },
    makeOrthographic: function(left, right, top, bottom, near, far) {
      var te = this.elements;
      var w = 1.0 / (right - left);
      var h = 1.0 / (top - bottom);
      var p = 1.0 / (far - near);
      var x = (right + left) * w;
      var y = (top + bottom) * h;
      var z = (far + near) * p;
      te[0] = 2 * w;
      te[4] = 0;
      te[8] = 0;
      te[12] = -x;
      te[1] = 0;
      te[5] = 2 * h;
      te[9] = 0;
      te[13] = -y;
      te[2] = 0;
      te[6] = 0;
      te[10] = -2 * p;
      te[14] = -z;
      te[3] = 0;
      te[7] = 0;
      te[11] = 0;
      te[15] = 1;
      return this;
    },
    equals: function(matrix) {
      var te = this.elements;
      var me = matrix.elements;
      for (var i = 0; i < 16; i++) {
        if (te[i] !== me[i])
          return false;
      }
      return true;
    },
    fromArray: function(array, offset) {
      if (offset === undefined)
        offset = 0;
      for (var i = 0; i < 16; i++) {
        this.elements[i] = array[i + offset];
      }
      return this;
    },
    toArray: function(array, offset) {
      if (array === undefined)
        array = [];
      if (offset === undefined)
        offset = 0;
      var te = this.elements;
      array[offset] = te[0];
      array[offset + 1] = te[1];
      array[offset + 2] = te[2];
      array[offset + 3] = te[3];
      array[offset + 4] = te[4];
      array[offset + 5] = te[5];
      array[offset + 6] = te[6];
      array[offset + 7] = te[7];
      array[offset + 8] = te[8];
      array[offset + 9] = te[9];
      array[offset + 10] = te[10];
      array[offset + 11] = te[11];
      array[offset + 12] = te[12];
      array[offset + 13] = te[13];
      array[offset + 14] = te[14];
      array[offset + 15] = te[15];
      return array;
    }
  });
  function Quaternion(x, y, z, w) {
    this._x = x || 0;
    this._y = y || 0;
    this._z = z || 0;
    this._w = (w !== undefined) ? w : 1;
  }
  Object.assign(Quaternion, {
    slerp: function(qa, qb, qm, t) {
      return qm.copy(qa).slerp(qb, t);
    },
    slerpFlat: function(dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t) {
      var x0 = src0[srcOffset0 + 0],
          y0 = src0[srcOffset0 + 1],
          z0 = src0[srcOffset0 + 2],
          w0 = src0[srcOffset0 + 3],
          x1 = src1[srcOffset1 + 0],
          y1 = src1[srcOffset1 + 1],
          z1 = src1[srcOffset1 + 2],
          w1 = src1[srcOffset1 + 3];
      if (w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1) {
        var s = 1 - t,
            cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,
            dir = (cos >= 0 ? 1 : -1),
            sqrSin = 1 - cos * cos;
        if (sqrSin > Number.EPSILON) {
          var sin = Math.sqrt(sqrSin),
              len = Math.atan2(sin, cos * dir);
          s = Math.sin(s * len) / sin;
          t = Math.sin(t * len) / sin;
        }
        var tDir = t * dir;
        x0 = x0 * s + x1 * tDir;
        y0 = y0 * s + y1 * tDir;
        z0 = z0 * s + z1 * tDir;
        w0 = w0 * s + w1 * tDir;
        if (s === 1 - t) {
          var f = 1 / Math.sqrt(x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0);
          x0 *= f;
          y0 *= f;
          z0 *= f;
          w0 *= f;
        }
      }
      dst[dstOffset] = x0;
      dst[dstOffset + 1] = y0;
      dst[dstOffset + 2] = z0;
      dst[dstOffset + 3] = w0;
    }
  });
  Object.defineProperties(Quaternion.prototype, {
    x: {
      get: function() {
        return this._x;
      },
      set: function(value) {
        this._x = value;
        this.onChangeCallback();
      }
    },
    y: {
      get: function() {
        return this._y;
      },
      set: function(value) {
        this._y = value;
        this.onChangeCallback();
      }
    },
    z: {
      get: function() {
        return this._z;
      },
      set: function(value) {
        this._z = value;
        this.onChangeCallback();
      }
    },
    w: {
      get: function() {
        return this._w;
      },
      set: function(value) {
        this._w = value;
        this.onChangeCallback();
      }
    }
  });
  Object.assign(Quaternion.prototype, {
    set: function(x, y, z, w) {
      this._x = x;
      this._y = y;
      this._z = z;
      this._w = w;
      this.onChangeCallback();
      return this;
    },
    clone: function() {
      return new this.constructor(this._x, this._y, this._z, this._w);
    },
    copy: function(quaternion) {
      this._x = quaternion.x;
      this._y = quaternion.y;
      this._z = quaternion.z;
      this._w = quaternion.w;
      this.onChangeCallback();
      return this;
    },
    setFromEuler: function(euler, update) {
      if (!(euler && euler.isEuler)) {
        throw new Error('THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.');
      }
      var x = euler._x,
          y = euler._y,
          z = euler._z,
          order = euler.order;
      var cos = Math.cos;
      var sin = Math.sin;
      var c1 = cos(x / 2);
      var c2 = cos(y / 2);
      var c3 = cos(z / 2);
      var s1 = sin(x / 2);
      var s2 = sin(y / 2);
      var s3 = sin(z / 2);
      if (order === 'XYZ') {
        this._x = s1 * c2 * c3 + c1 * s2 * s3;
        this._y = c1 * s2 * c3 - s1 * c2 * s3;
        this._z = c1 * c2 * s3 + s1 * s2 * c3;
        this._w = c1 * c2 * c3 - s1 * s2 * s3;
      } else if (order === 'YXZ') {
        this._x = s1 * c2 * c3 + c1 * s2 * s3;
        this._y = c1 * s2 * c3 - s1 * c2 * s3;
        this._z = c1 * c2 * s3 - s1 * s2 * c3;
        this._w = c1 * c2 * c3 + s1 * s2 * s3;
      } else if (order === 'ZXY') {
        this._x = s1 * c2 * c3 - c1 * s2 * s3;
        this._y = c1 * s2 * c3 + s1 * c2 * s3;
        this._z = c1 * c2 * s3 + s1 * s2 * c3;
        this._w = c1 * c2 * c3 - s1 * s2 * s3;
      } else if (order === 'ZYX') {
        this._x = s1 * c2 * c3 - c1 * s2 * s3;
        this._y = c1 * s2 * c3 + s1 * c2 * s3;
        this._z = c1 * c2 * s3 - s1 * s2 * c3;
        this._w = c1 * c2 * c3 + s1 * s2 * s3;
      } else if (order === 'YZX') {
        this._x = s1 * c2 * c3 + c1 * s2 * s3;
        this._y = c1 * s2 * c3 + s1 * c2 * s3;
        this._z = c1 * c2 * s3 - s1 * s2 * c3;
        this._w = c1 * c2 * c3 - s1 * s2 * s3;
      } else if (order === 'XZY') {
        this._x = s1 * c2 * c3 - c1 * s2 * s3;
        this._y = c1 * s2 * c3 - s1 * c2 * s3;
        this._z = c1 * c2 * s3 + s1 * s2 * c3;
        this._w = c1 * c2 * c3 + s1 * s2 * s3;
      }
      if (update !== false)
        this.onChangeCallback();
      return this;
    },
    setFromAxisAngle: function(axis, angle) {
      var halfAngle = angle / 2,
          s = Math.sin(halfAngle);
      this._x = axis.x * s;
      this._y = axis.y * s;
      this._z = axis.z * s;
      this._w = Math.cos(halfAngle);
      this.onChangeCallback();
      return this;
    },
    setFromRotationMatrix: function(m) {
      var te = m.elements,
          m11 = te[0],
          m12 = te[4],
          m13 = te[8],
          m21 = te[1],
          m22 = te[5],
          m23 = te[9],
          m31 = te[2],
          m32 = te[6],
          m33 = te[10],
          trace = m11 + m22 + m33,
          s;
      if (trace > 0) {
        s = 0.5 / Math.sqrt(trace + 1.0);
        this._w = 0.25 / s;
        this._x = (m32 - m23) * s;
        this._y = (m13 - m31) * s;
        this._z = (m21 - m12) * s;
      } else if (m11 > m22 && m11 > m33) {
        s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);
        this._w = (m32 - m23) / s;
        this._x = 0.25 * s;
        this._y = (m12 + m21) / s;
        this._z = (m13 + m31) / s;
      } else if (m22 > m33) {
        s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);
        this._w = (m13 - m31) / s;
        this._x = (m12 + m21) / s;
        this._y = 0.25 * s;
        this._z = (m23 + m32) / s;
      } else {
        s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);
        this._w = (m21 - m12) / s;
        this._x = (m13 + m31) / s;
        this._y = (m23 + m32) / s;
        this._z = 0.25 * s;
      }
      this.onChangeCallback();
      return this;
    },
    setFromUnitVectors: function() {
      var v1 = new Vector3();
      var r;
      var EPS = 0.000001;
      return function setFromUnitVectors(vFrom, vTo) {
        if (v1 === undefined)
          v1 = new Vector3();
        r = vFrom.dot(vTo) + 1;
        if (r < EPS) {
          r = 0;
          if (Math.abs(vFrom.x) > Math.abs(vFrom.z)) {
            v1.set(-vFrom.y, vFrom.x, 0);
          } else {
            v1.set(0, -vFrom.z, vFrom.y);
          }
        } else {
          v1.crossVectors(vFrom, vTo);
        }
        this._x = v1.x;
        this._y = v1.y;
        this._z = v1.z;
        this._w = r;
        return this.normalize();
      };
    }(),
    inverse: function() {
      return this.conjugate();
    },
    conjugate: function() {
      this._x *= -1;
      this._y *= -1;
      this._z *= -1;
      this.onChangeCallback();
      return this;
    },
    dot: function(v) {
      return this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;
    },
    lengthSq: function() {
      return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;
    },
    length: function() {
      return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);
    },
    normalize: function() {
      var l = this.length();
      if (l === 0) {
        this._x = 0;
        this._y = 0;
        this._z = 0;
        this._w = 1;
      } else {
        l = 1 / l;
        this._x = this._x * l;
        this._y = this._y * l;
        this._z = this._z * l;
        this._w = this._w * l;
      }
      this.onChangeCallback();
      return this;
    },
    multiply: function(q, p) {
      if (p !== undefined) {
        console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');
        return this.multiplyQuaternions(q, p);
      }
      return this.multiplyQuaternions(this, q);
    },
    premultiply: function(q) {
      return this.multiplyQuaternions(q, this);
    },
    multiplyQuaternions: function(a, b) {
      var qax = a._x,
          qay = a._y,
          qaz = a._z,
          qaw = a._w;
      var qbx = b._x,
          qby = b._y,
          qbz = b._z,
          qbw = b._w;
      this._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;
      this._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;
      this._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;
      this._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;
      this.onChangeCallback();
      return this;
    },
    slerp: function(qb, t) {
      if (t === 0)
        return this;
      if (t === 1)
        return this.copy(qb);
      var x = this._x,
          y = this._y,
          z = this._z,
          w = this._w;
      var cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;
      if (cosHalfTheta < 0) {
        this._w = -qb._w;
        this._x = -qb._x;
        this._y = -qb._y;
        this._z = -qb._z;
        cosHalfTheta = -cosHalfTheta;
      } else {
        this.copy(qb);
      }
      if (cosHalfTheta >= 1.0) {
        this._w = w;
        this._x = x;
        this._y = y;
        this._z = z;
        return this;
      }
      var sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;
      if (sqrSinHalfTheta <= Number.EPSILON) {
        var s = 1 - t;
        this._w = s * w + t * this._w;
        this._x = s * x + t * this._x;
        this._y = s * y + t * this._y;
        this._z = s * z + t * this._z;
        return this.normalize();
      }
      var sinHalfTheta = Math.sqrt(sqrSinHalfTheta);
      var halfTheta = Math.atan2(sinHalfTheta, cosHalfTheta);
      var ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta,
          ratioB = Math.sin(t * halfTheta) / sinHalfTheta;
      this._w = (w * ratioA + this._w * ratioB);
      this._x = (x * ratioA + this._x * ratioB);
      this._y = (y * ratioA + this._y * ratioB);
      this._z = (z * ratioA + this._z * ratioB);
      this.onChangeCallback();
      return this;
    },
    equals: function(quaternion) {
      return (quaternion._x === this._x) && (quaternion._y === this._y) && (quaternion._z === this._z) && (quaternion._w === this._w);
    },
    fromArray: function(array, offset) {
      if (offset === undefined)
        offset = 0;
      this._x = array[offset];
      this._y = array[offset + 1];
      this._z = array[offset + 2];
      this._w = array[offset + 3];
      this.onChangeCallback();
      return this;
    },
    toArray: function(array, offset) {
      if (array === undefined)
        array = [];
      if (offset === undefined)
        offset = 0;
      array[offset] = this._x;
      array[offset + 1] = this._y;
      array[offset + 2] = this._z;
      array[offset + 3] = this._w;
      return array;
    },
    onChange: function(callback) {
      this.onChangeCallback = callback;
      return this;
    },
    onChangeCallback: function() {}
  });
  function Vector3(x, y, z) {
    this.x = x || 0;
    this.y = y || 0;
    this.z = z || 0;
  }
  Object.assign(Vector3.prototype, {
    isVector3: true,
    set: function(x, y, z) {
      this.x = x;
      this.y = y;
      this.z = z;
      return this;
    },
    setScalar: function(scalar) {
      this.x = scalar;
      this.y = scalar;
      this.z = scalar;
      return this;
    },
    setX: function(x) {
      this.x = x;
      return this;
    },
    setY: function(y) {
      this.y = y;
      return this;
    },
    setZ: function(z) {
      this.z = z;
      return this;
    },
    setComponent: function(index, value) {
      switch (index) {
        case 0:
          this.x = value;
          break;
        case 1:
          this.y = value;
          break;
        case 2:
          this.z = value;
          break;
        default:
          throw new Error('index is out of range: ' + index);
      }
      return this;
    },
    getComponent: function(index) {
      switch (index) {
        case 0:
          return this.x;
        case 1:
          return this.y;
        case 2:
          return this.z;
        default:
          throw new Error('index is out of range: ' + index);
      }
    },
    clone: function() {
      return new this.constructor(this.x, this.y, this.z);
    },
    copy: function(v) {
      this.x = v.x;
      this.y = v.y;
      this.z = v.z;
      return this;
    },
    add: function(v, w) {
      if (w !== undefined) {
        console.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');
        return this.addVectors(v, w);
      }
      this.x += v.x;
      this.y += v.y;
      this.z += v.z;
      return this;
    },
    addScalar: function(s) {
      this.x += s;
      this.y += s;
      this.z += s;
      return this;
    },
    addVectors: function(a, b) {
      this.x = a.x + b.x;
      this.y = a.y + b.y;
      this.z = a.z + b.z;
      return this;
    },
    addScaledVector: function(v, s) {
      this.x += v.x * s;
      this.y += v.y * s;
      this.z += v.z * s;
      return this;
    },
    sub: function(v, w) {
      if (w !== undefined) {
        console.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');
        return this.subVectors(v, w);
      }
      this.x -= v.x;
      this.y -= v.y;
      this.z -= v.z;
      return this;
    },
    subScalar: function(s) {
      this.x -= s;
      this.y -= s;
      this.z -= s;
      return this;
    },
    subVectors: function(a, b) {
      this.x = a.x - b.x;
      this.y = a.y - b.y;
      this.z = a.z - b.z;
      return this;
    },
    multiply: function(v, w) {
      if (w !== undefined) {
        console.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.');
        return this.multiplyVectors(v, w);
      }
      this.x *= v.x;
      this.y *= v.y;
      this.z *= v.z;
      return this;
    },
    multiplyScalar: function(scalar) {
      this.x *= scalar;
      this.y *= scalar;
      this.z *= scalar;
      return this;
    },
    multiplyVectors: function(a, b) {
      this.x = a.x * b.x;
      this.y = a.y * b.y;
      this.z = a.z * b.z;
      return this;
    },
    applyEuler: function() {
      var quaternion = new Quaternion();
      return function applyEuler(euler) {
        if (!(euler && euler.isEuler)) {
          console.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.');
        }
        return this.applyQuaternion(quaternion.setFromEuler(euler));
      };
    }(),
    applyAxisAngle: function() {
      var quaternion = new Quaternion();
      return function applyAxisAngle(axis, angle) {
        return this.applyQuaternion(quaternion.setFromAxisAngle(axis, angle));
      };
    }(),
    applyMatrix3: function(m) {
      var x = this.x,
          y = this.y,
          z = this.z;
      var e = m.elements;
      this.x = e[0] * x + e[3] * y + e[6] * z;
      this.y = e[1] * x + e[4] * y + e[7] * z;
      this.z = e[2] * x + e[5] * y + e[8] * z;
      return this;
    },
    applyMatrix4: function(m) {
      var x = this.x,
          y = this.y,
          z = this.z;
      var e = m.elements;
      var w = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);
      this.x = (e[0] * x + e[4] * y + e[8] * z + e[12]) * w;
      this.y = (e[1] * x + e[5] * y + e[9] * z + e[13]) * w;
      this.z = (e[2] * x + e[6] * y + e[10] * z + e[14]) * w;
      return this;
    },
    applyQuaternion: function(q) {
      var x = this.x,
          y = this.y,
          z = this.z;
      var qx = q.x,
          qy = q.y,
          qz = q.z,
          qw = q.w;
      var ix = qw * x + qy * z - qz * y;
      var iy = qw * y + qz * x - qx * z;
      var iz = qw * z + qx * y - qy * x;
      var iw = -qx * x - qy * y - qz * z;
      this.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;
      this.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;
      this.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;
      return this;
    },
    project: function() {
      var matrix = new Matrix4();
      return function project(camera) {
        matrix.multiplyMatrices(camera.projectionMatrix, matrix.getInverse(camera.matrixWorld));
        return this.applyMatrix4(matrix);
      };
    }(),
    unproject: function() {
      var matrix = new Matrix4();
      return function unproject(camera) {
        matrix.multiplyMatrices(camera.matrixWorld, matrix.getInverse(camera.projectionMatrix));
        return this.applyMatrix4(matrix);
      };
    }(),
    transformDirection: function(m) {
      var x = this.x,
          y = this.y,
          z = this.z;
      var e = m.elements;
      this.x = e[0] * x + e[4] * y + e[8] * z;
      this.y = e[1] * x + e[5] * y + e[9] * z;
      this.z = e[2] * x + e[6] * y + e[10] * z;
      return this.normalize();
    },
    divide: function(v) {
      this.x /= v.x;
      this.y /= v.y;
      this.z /= v.z;
      return this;
    },
    divideScalar: function(scalar) {
      return this.multiplyScalar(1 / scalar);
    },
    min: function(v) {
      this.x = Math.min(this.x, v.x);
      this.y = Math.min(this.y, v.y);
      this.z = Math.min(this.z, v.z);
      return this;
    },
    max: function(v) {
      this.x = Math.max(this.x, v.x);
      this.y = Math.max(this.y, v.y);
      this.z = Math.max(this.z, v.z);
      return this;
    },
    clamp: function(min, max) {
      this.x = Math.max(min.x, Math.min(max.x, this.x));
      this.y = Math.max(min.y, Math.min(max.y, this.y));
      this.z = Math.max(min.z, Math.min(max.z, this.z));
      return this;
    },
    clampScalar: function() {
      var min = new Vector3();
      var max = new Vector3();
      return function clampScalar(minVal, maxVal) {
        min.set(minVal, minVal, minVal);
        max.set(maxVal, maxVal, maxVal);
        return this.clamp(min, max);
      };
    }(),
    clampLength: function(min, max) {
      var length = this.length();
      return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));
    },
    floor: function() {
      this.x = Math.floor(this.x);
      this.y = Math.floor(this.y);
      this.z = Math.floor(this.z);
      return this;
    },
    ceil: function() {
      this.x = Math.ceil(this.x);
      this.y = Math.ceil(this.y);
      this.z = Math.ceil(this.z);
      return this;
    },
    round: function() {
      this.x = Math.round(this.x);
      this.y = Math.round(this.y);
      this.z = Math.round(this.z);
      return this;
    },
    roundToZero: function() {
      this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);
      this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);
      this.z = (this.z < 0) ? Math.ceil(this.z) : Math.floor(this.z);
      return this;
    },
    negate: function() {
      this.x = -this.x;
      this.y = -this.y;
      this.z = -this.z;
      return this;
    },
    dot: function(v) {
      return this.x * v.x + this.y * v.y + this.z * v.z;
    },
    lengthSq: function() {
      return this.x * this.x + this.y * this.y + this.z * this.z;
    },
    length: function() {
      return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
    },
    manhattanLength: function() {
      return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);
    },
    normalize: function() {
      return this.divideScalar(this.length() || 1);
    },
    setLength: function(length) {
      return this.normalize().multiplyScalar(length);
    },
    lerp: function(v, alpha) {
      this.x += (v.x - this.x) * alpha;
      this.y += (v.y - this.y) * alpha;
      this.z += (v.z - this.z) * alpha;
      return this;
    },
    lerpVectors: function(v1, v2, alpha) {
      return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);
    },
    cross: function(v, w) {
      if (w !== undefined) {
        console.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.');
        return this.crossVectors(v, w);
      }
      return this.crossVectors(this, v);
    },
    crossVectors: function(a, b) {
      var ax = a.x,
          ay = a.y,
          az = a.z;
      var bx = b.x,
          by = b.y,
          bz = b.z;
      this.x = ay * bz - az * by;
      this.y = az * bx - ax * bz;
      this.z = ax * by - ay * bx;
      return this;
    },
    projectOnVector: function(vector) {
      var scalar = vector.dot(this) / vector.lengthSq();
      return this.copy(vector).multiplyScalar(scalar);
    },
    projectOnPlane: function() {
      var v1 = new Vector3();
      return function projectOnPlane(planeNormal) {
        v1.copy(this).projectOnVector(planeNormal);
        return this.sub(v1);
      };
    }(),
    reflect: function() {
      var v1 = new Vector3();
      return function reflect(normal) {
        return this.sub(v1.copy(normal).multiplyScalar(2 * this.dot(normal)));
      };
    }(),
    angleTo: function(v) {
      var theta = this.dot(v) / (Math.sqrt(this.lengthSq() * v.lengthSq()));
      return Math.acos(_Math.clamp(theta, -1, 1));
    },
    distanceTo: function(v) {
      return Math.sqrt(this.distanceToSquared(v));
    },
    distanceToSquared: function(v) {
      var dx = this.x - v.x,
          dy = this.y - v.y,
          dz = this.z - v.z;
      return dx * dx + dy * dy + dz * dz;
    },
    manhattanDistanceTo: function(v) {
      return Math.abs(this.x - v.x) + Math.abs(this.y - v.y) + Math.abs(this.z - v.z);
    },
    setFromSpherical: function(s) {
      var sinPhiRadius = Math.sin(s.phi) * s.radius;
      this.x = sinPhiRadius * Math.sin(s.theta);
      this.y = Math.cos(s.phi) * s.radius;
      this.z = sinPhiRadius * Math.cos(s.theta);
      return this;
    },
    setFromCylindrical: function(c) {
      this.x = c.radius * Math.sin(c.theta);
      this.y = c.y;
      this.z = c.radius * Math.cos(c.theta);
      return this;
    },
    setFromMatrixPosition: function(m) {
      var e = m.elements;
      this.x = e[12];
      this.y = e[13];
      this.z = e[14];
      return this;
    },
    setFromMatrixScale: function(m) {
      var sx = this.setFromMatrixColumn(m, 0).length();
      var sy = this.setFromMatrixColumn(m, 1).length();
      var sz = this.setFromMatrixColumn(m, 2).length();
      this.x = sx;
      this.y = sy;
      this.z = sz;
      return this;
    },
    setFromMatrixColumn: function(m, index) {
      return this.fromArray(m.elements, index * 4);
    },
    equals: function(v) {
      return ((v.x === this.x) && (v.y === this.y) && (v.z === this.z));
    },
    fromArray: function(array, offset) {
      if (offset === undefined)
        offset = 0;
      this.x = array[offset];
      this.y = array[offset + 1];
      this.z = array[offset + 2];
      return this;
    },
    toArray: function(array, offset) {
      if (array === undefined)
        array = [];
      if (offset === undefined)
        offset = 0;
      array[offset] = this.x;
      array[offset + 1] = this.y;
      array[offset + 2] = this.z;
      return array;
    },
    fromBufferAttribute: function(attribute, index, offset) {
      if (offset !== undefined) {
        console.warn('THREE.Vector3: offset has been removed from .fromBufferAttribute().');
      }
      this.x = attribute.getX(index);
      this.y = attribute.getY(index);
      this.z = attribute.getZ(index);
      return this;
    }
  });
  function Matrix3() {
    this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1];
    if (arguments.length > 0) {
      console.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');
    }
  }
  Object.assign(Matrix3.prototype, {
    isMatrix3: true,
    set: function(n11, n12, n13, n21, n22, n23, n31, n32, n33) {
      var te = this.elements;
      te[0] = n11;
      te[1] = n21;
      te[2] = n31;
      te[3] = n12;
      te[4] = n22;
      te[5] = n32;
      te[6] = n13;
      te[7] = n23;
      te[8] = n33;
      return this;
    },
    identity: function() {
      this.set(1, 0, 0, 0, 1, 0, 0, 0, 1);
      return this;
    },
    clone: function() {
      return new this.constructor().fromArray(this.elements);
    },
    copy: function(m) {
      var te = this.elements;
      var me = m.elements;
      te[0] = me[0];
      te[1] = me[1];
      te[2] = me[2];
      te[3] = me[3];
      te[4] = me[4];
      te[5] = me[5];
      te[6] = me[6];
      te[7] = me[7];
      te[8] = me[8];
      return this;
    },
    setFromMatrix4: function(m) {
      var me = m.elements;
      this.set(me[0], me[4], me[8], me[1], me[5], me[9], me[2], me[6], me[10]);
      return this;
    },
    applyToBufferAttribute: function() {
      var v1 = new Vector3();
      return function applyToBufferAttribute(attribute) {
        for (var i = 0,
            l = attribute.count; i < l; i++) {
          v1.x = attribute.getX(i);
          v1.y = attribute.getY(i);
          v1.z = attribute.getZ(i);
          v1.applyMatrix3(this);
          attribute.setXYZ(i, v1.x, v1.y, v1.z);
        }
        return attribute;
      };
    }(),
    multiply: function(m) {
      return this.multiplyMatrices(this, m);
    },
    premultiply: function(m) {
      return this.multiplyMatrices(m, this);
    },
    multiplyMatrices: function(a, b) {
      var ae = a.elements;
      var be = b.elements;
      var te = this.elements;
      var a11 = ae[0],
          a12 = ae[3],
          a13 = ae[6];
      var a21 = ae[1],
          a22 = ae[4],
          a23 = ae[7];
      var a31 = ae[2],
          a32 = ae[5],
          a33 = ae[8];
      var b11 = be[0],
          b12 = be[3],
          b13 = be[6];
      var b21 = be[1],
          b22 = be[4],
          b23 = be[7];
      var b31 = be[2],
          b32 = be[5],
          b33 = be[8];
      te[0] = a11 * b11 + a12 * b21 + a13 * b31;
      te[3] = a11 * b12 + a12 * b22 + a13 * b32;
      te[6] = a11 * b13 + a12 * b23 + a13 * b33;
      te[1] = a21 * b11 + a22 * b21 + a23 * b31;
      te[4] = a21 * b12 + a22 * b22 + a23 * b32;
      te[7] = a21 * b13 + a22 * b23 + a23 * b33;
      te[2] = a31 * b11 + a32 * b21 + a33 * b31;
      te[5] = a31 * b12 + a32 * b22 + a33 * b32;
      te[8] = a31 * b13 + a32 * b23 + a33 * b33;
      return this;
    },
    multiplyScalar: function(s) {
      var te = this.elements;
      te[0] *= s;
      te[3] *= s;
      te[6] *= s;
      te[1] *= s;
      te[4] *= s;
      te[7] *= s;
      te[2] *= s;
      te[5] *= s;
      te[8] *= s;
      return this;
    },
    determinant: function() {
      var te = this.elements;
      var a = te[0],
          b = te[1],
          c = te[2],
          d = te[3],
          e = te[4],
          f = te[5],
          g = te[6],
          h = te[7],
          i = te[8];
      return a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;
    },
    getInverse: function(matrix, throwOnDegenerate) {
      if (matrix && matrix.isMatrix4) {
        console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");
      }
      var me = matrix.elements,
          te = this.elements,
          n11 = me[0],
          n21 = me[1],
          n31 = me[2],
          n12 = me[3],
          n22 = me[4],
          n32 = me[5],
          n13 = me[6],
          n23 = me[7],
          n33 = me[8],
          t11 = n33 * n22 - n32 * n23,
          t12 = n32 * n13 - n33 * n12,
          t13 = n23 * n12 - n22 * n13,
          det = n11 * t11 + n21 * t12 + n31 * t13;
      if (det === 0) {
        var msg = "THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";
        if (throwOnDegenerate === true) {
          throw new Error(msg);
        } else {
          console.warn(msg);
        }
        return this.identity();
      }
      var detInv = 1 / det;
      te[0] = t11 * detInv;
      te[1] = (n31 * n23 - n33 * n21) * detInv;
      te[2] = (n32 * n21 - n31 * n22) * detInv;
      te[3] = t12 * detInv;
      te[4] = (n33 * n11 - n31 * n13) * detInv;
      te[5] = (n31 * n12 - n32 * n11) * detInv;
      te[6] = t13 * detInv;
      te[7] = (n21 * n13 - n23 * n11) * detInv;
      te[8] = (n22 * n11 - n21 * n12) * detInv;
      return this;
    },
    transpose: function() {
      var tmp,
          m = this.elements;
      tmp = m[1];
      m[1] = m[3];
      m[3] = tmp;
      tmp = m[2];
      m[2] = m[6];
      m[6] = tmp;
      tmp = m[5];
      m[5] = m[7];
      m[7] = tmp;
      return this;
    },
    getNormalMatrix: function(matrix4) {
      return this.setFromMatrix4(matrix4).getInverse(this).transpose();
    },
    transposeIntoArray: function(r) {
      var m = this.elements;
      r[0] = m[0];
      r[1] = m[3];
      r[2] = m[6];
      r[3] = m[1];
      r[4] = m[4];
      r[5] = m[7];
      r[6] = m[2];
      r[7] = m[5];
      r[8] = m[8];
      return this;
    },
    setUvTransform: function(tx, ty, sx, sy, rotation, cx, cy) {
      var c = Math.cos(rotation);
      var s = Math.sin(rotation);
      this.set(sx * c, sx * s, -sx * (c * cx + s * cy) + cx + tx, -sy * s, sy * c, -sy * (-s * cx + c * cy) + cy + ty, 0, 0, 1);
    },
    scale: function(sx, sy) {
      var te = this.elements;
      te[0] *= sx;
      te[3] *= sx;
      te[6] *= sx;
      te[1] *= sy;
      te[4] *= sy;
      te[7] *= sy;
      return this;
    },
    rotate: function(theta) {
      var c = Math.cos(theta);
      var s = Math.sin(theta);
      var te = this.elements;
      var a11 = te[0],
          a12 = te[3],
          a13 = te[6];
      var a21 = te[1],
          a22 = te[4],
          a23 = te[7];
      te[0] = c * a11 + s * a21;
      te[3] = c * a12 + s * a22;
      te[6] = c * a13 + s * a23;
      te[1] = -s * a11 + c * a21;
      te[4] = -s * a12 + c * a22;
      te[7] = -s * a13 + c * a23;
      return this;
    },
    translate: function(tx, ty) {
      var te = this.elements;
      te[0] += tx * te[2];
      te[3] += tx * te[5];
      te[6] += tx * te[8];
      te[1] += ty * te[2];
      te[4] += ty * te[5];
      te[7] += ty * te[8];
      return this;
    },
    equals: function(matrix) {
      var te = this.elements;
      var me = matrix.elements;
      for (var i = 0; i < 9; i++) {
        if (te[i] !== me[i])
          return false;
      }
      return true;
    },
    fromArray: function(array, offset) {
      if (offset === undefined)
        offset = 0;
      for (var i = 0; i < 9; i++) {
        this.elements[i] = array[i + offset];
      }
      return this;
    },
    toArray: function(array, offset) {
      if (array === undefined)
        array = [];
      if (offset === undefined)
        offset = 0;
      var te = this.elements;
      array[offset] = te[0];
      array[offset + 1] = te[1];
      array[offset + 2] = te[2];
      array[offset + 3] = te[3];
      array[offset + 4] = te[4];
      array[offset + 5] = te[5];
      array[offset + 6] = te[6];
      array[offset + 7] = te[7];
      array[offset + 8] = te[8];
      return array;
    }
  });
  var textureId = 0;
  function Texture(image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {
    Object.defineProperty(this, 'id', {value: textureId++});
    this.uuid = _Math.generateUUID();
    this.name = '';
    this.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;
    this.mipmaps = [];
    this.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;
    this.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;
    this.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;
    this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;
    this.minFilter = minFilter !== undefined ? minFilter : LinearMipMapLinearFilter;
    this.anisotropy = anisotropy !== undefined ? anisotropy : 1;
    this.format = format !== undefined ? format : RGBAFormat;
    this.type = type !== undefined ? type : UnsignedByteType;
    this.offset = new Vector2(0, 0);
    this.repeat = new Vector2(1, 1);
    this.center = new Vector2(0, 0);
    this.rotation = 0;
    this.matrixAutoUpdate = true;
    this.matrix = new Matrix3();
    this.generateMipmaps = true;
    this.premultiplyAlpha = false;
    this.flipY = true;
    this.unpackAlignment = 4;
    this.encoding = encoding !== undefined ? encoding : LinearEncoding;
    this.version = 0;
    this.onUpdate = null;
  }
  Texture.DEFAULT_IMAGE = undefined;
  Texture.DEFAULT_MAPPING = UVMapping;
  Texture.prototype = Object.assign(Object.create(EventDispatcher.prototype), {
    constructor: Texture,
    isTexture: true,
    updateMatrix: function() {
      this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y);
    },
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(source) {
      this.name = source.name;
      this.image = source.image;
      this.mipmaps = source.mipmaps.slice(0);
      this.mapping = source.mapping;
      this.wrapS = source.wrapS;
      this.wrapT = source.wrapT;
      this.magFilter = source.magFilter;
      this.minFilter = source.minFilter;
      this.anisotropy = source.anisotropy;
      this.format = source.format;
      this.type = source.type;
      this.offset.copy(source.offset);
      this.repeat.copy(source.repeat);
      this.center.copy(source.center);
      this.rotation = source.rotation;
      this.matrixAutoUpdate = source.matrixAutoUpdate;
      this.matrix.copy(source.matrix);
      this.generateMipmaps = source.generateMipmaps;
      this.premultiplyAlpha = source.premultiplyAlpha;
      this.flipY = source.flipY;
      this.unpackAlignment = source.unpackAlignment;
      this.encoding = source.encoding;
      return this;
    },
    toJSON: function(meta) {
      var isRootObject = (meta === undefined || typeof meta === 'string');
      if (!isRootObject && meta.textures[this.uuid] !== undefined) {
        return meta.textures[this.uuid];
      }
      function getDataURL(image) {
        var canvas;
        if (image instanceof HTMLCanvasElement) {
          canvas = image;
        } else {
          canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');
          canvas.width = image.width;
          canvas.height = image.height;
          var context = canvas.getContext('2d');
          if (image instanceof ImageData) {
            context.putImageData(image, 0, 0);
          } else {
            context.drawImage(image, 0, 0, image.width, image.height);
          }
        }
        if (canvas.width > 2048 || canvas.height > 2048) {
          return canvas.toDataURL('image/jpeg', 0.6);
        } else {
          return canvas.toDataURL('image/png');
        }
      }
      var output = {
        metadata: {
          version: 4.5,
          type: 'Texture',
          generator: 'Texture.toJSON'
        },
        uuid: this.uuid,
        name: this.name,
        mapping: this.mapping,
        repeat: [this.repeat.x, this.repeat.y],
        offset: [this.offset.x, this.offset.y],
        center: [this.center.x, this.center.y],
        rotation: this.rotation,
        wrap: [this.wrapS, this.wrapT],
        format: this.format,
        minFilter: this.minFilter,
        magFilter: this.magFilter,
        anisotropy: this.anisotropy,
        flipY: this.flipY
      };
      if (this.image !== undefined) {
        var image = this.image;
        if (image.uuid === undefined) {
          image.uuid = _Math.generateUUID();
        }
        if (!isRootObject && meta.images[image.uuid] === undefined) {
          var url;
          if (Array.isArray(image)) {
            url = [];
            for (var i = 0,
                l = image.length; i < l; i++) {
              url.push(getDataURL(image[i]));
            }
          } else {
            url = getDataURL(image);
          }
          meta.images[image.uuid] = {
            uuid: image.uuid,
            url: url
          };
        }
        output.image = image.uuid;
      }
      if (!isRootObject) {
        meta.textures[this.uuid] = output;
      }
      return output;
    },
    dispose: function() {
      this.dispatchEvent({type: 'dispose'});
    },
    transformUv: function(uv) {
      if (this.mapping !== UVMapping)
        return;
      uv.applyMatrix3(this.matrix);
      if (uv.x < 0 || uv.x > 1) {
        switch (this.wrapS) {
          case RepeatWrapping:
            uv.x = uv.x - Math.floor(uv.x);
            break;
          case ClampToEdgeWrapping:
            uv.x = uv.x < 0 ? 0 : 1;
            break;
          case MirroredRepeatWrapping:
            if (Math.abs(Math.floor(uv.x) % 2) === 1) {
              uv.x = Math.ceil(uv.x) - uv.x;
            } else {
              uv.x = uv.x - Math.floor(uv.x);
            }
            break;
        }
      }
      if (uv.y < 0 || uv.y > 1) {
        switch (this.wrapT) {
          case RepeatWrapping:
            uv.y = uv.y - Math.floor(uv.y);
            break;
          case ClampToEdgeWrapping:
            uv.y = uv.y < 0 ? 0 : 1;
            break;
          case MirroredRepeatWrapping:
            if (Math.abs(Math.floor(uv.y) % 2) === 1) {
              uv.y = Math.ceil(uv.y) - uv.y;
            } else {
              uv.y = uv.y - Math.floor(uv.y);
            }
            break;
        }
      }
      if (this.flipY) {
        uv.y = 1 - uv.y;
      }
    }
  });
  Object.defineProperty(Texture.prototype, "needsUpdate", {set: function(value) {
      if (value === true)
        this.version++;
    }});
  function Vector4(x, y, z, w) {
    this.x = x || 0;
    this.y = y || 0;
    this.z = z || 0;
    this.w = (w !== undefined) ? w : 1;
  }
  Object.assign(Vector4.prototype, {
    isVector4: true,
    set: function(x, y, z, w) {
      this.x = x;
      this.y = y;
      this.z = z;
      this.w = w;
      return this;
    },
    setScalar: function(scalar) {
      this.x = scalar;
      this.y = scalar;
      this.z = scalar;
      this.w = scalar;
      return this;
    },
    setX: function(x) {
      this.x = x;
      return this;
    },
    setY: function(y) {
      this.y = y;
      return this;
    },
    setZ: function(z) {
      this.z = z;
      return this;
    },
    setW: function(w) {
      this.w = w;
      return this;
    },
    setComponent: function(index, value) {
      switch (index) {
        case 0:
          this.x = value;
          break;
        case 1:
          this.y = value;
          break;
        case 2:
          this.z = value;
          break;
        case 3:
          this.w = value;
          break;
        default:
          throw new Error('index is out of range: ' + index);
      }
      return this;
    },
    getComponent: function(index) {
      switch (index) {
        case 0:
          return this.x;
        case 1:
          return this.y;
        case 2:
          return this.z;
        case 3:
          return this.w;
        default:
          throw new Error('index is out of range: ' + index);
      }
    },
    clone: function() {
      return new this.constructor(this.x, this.y, this.z, this.w);
    },
    copy: function(v) {
      this.x = v.x;
      this.y = v.y;
      this.z = v.z;
      this.w = (v.w !== undefined) ? v.w : 1;
      return this;
    },
    add: function(v, w) {
      if (w !== undefined) {
        console.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');
        return this.addVectors(v, w);
      }
      this.x += v.x;
      this.y += v.y;
      this.z += v.z;
      this.w += v.w;
      return this;
    },
    addScalar: function(s) {
      this.x += s;
      this.y += s;
      this.z += s;
      this.w += s;
      return this;
    },
    addVectors: function(a, b) {
      this.x = a.x + b.x;
      this.y = a.y + b.y;
      this.z = a.z + b.z;
      this.w = a.w + b.w;
      return this;
    },
    addScaledVector: function(v, s) {
      this.x += v.x * s;
      this.y += v.y * s;
      this.z += v.z * s;
      this.w += v.w * s;
      return this;
    },
    sub: function(v, w) {
      if (w !== undefined) {
        console.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');
        return this.subVectors(v, w);
      }
      this.x -= v.x;
      this.y -= v.y;
      this.z -= v.z;
      this.w -= v.w;
      return this;
    },
    subScalar: function(s) {
      this.x -= s;
      this.y -= s;
      this.z -= s;
      this.w -= s;
      return this;
    },
    subVectors: function(a, b) {
      this.x = a.x - b.x;
      this.y = a.y - b.y;
      this.z = a.z - b.z;
      this.w = a.w - b.w;
      return this;
    },
    multiplyScalar: function(scalar) {
      this.x *= scalar;
      this.y *= scalar;
      this.z *= scalar;
      this.w *= scalar;
      return this;
    },
    applyMatrix4: function(m) {
      var x = this.x,
          y = this.y,
          z = this.z,
          w = this.w;
      var e = m.elements;
      this.x = e[0] * x + e[4] * y + e[8] * z + e[12] * w;
      this.y = e[1] * x + e[5] * y + e[9] * z + e[13] * w;
      this.z = e[2] * x + e[6] * y + e[10] * z + e[14] * w;
      this.w = e[3] * x + e[7] * y + e[11] * z + e[15] * w;
      return this;
    },
    divideScalar: function(scalar) {
      return this.multiplyScalar(1 / scalar);
    },
    setAxisAngleFromQuaternion: function(q) {
      this.w = 2 * Math.acos(q.w);
      var s = Math.sqrt(1 - q.w * q.w);
      if (s < 0.0001) {
        this.x = 1;
        this.y = 0;
        this.z = 0;
      } else {
        this.x = q.x / s;
        this.y = q.y / s;
        this.z = q.z / s;
      }
      return this;
    },
    setAxisAngleFromRotationMatrix: function(m) {
      var angle,
          x,
          y,
          z,
          epsilon = 0.01,
          epsilon2 = 0.1,
          te = m.elements,
          m11 = te[0],
          m12 = te[4],
          m13 = te[8],
          m21 = te[1],
          m22 = te[5],
          m23 = te[9],
          m31 = te[2],
          m32 = te[6],
          m33 = te[10];
      if ((Math.abs(m12 - m21) < epsilon) && (Math.abs(m13 - m31) < epsilon) && (Math.abs(m23 - m32) < epsilon)) {
        if ((Math.abs(m12 + m21) < epsilon2) && (Math.abs(m13 + m31) < epsilon2) && (Math.abs(m23 + m32) < epsilon2) && (Math.abs(m11 + m22 + m33 - 3) < epsilon2)) {
          this.set(1, 0, 0, 0);
          return this;
        }
        angle = Math.PI;
        var xx = (m11 + 1) / 2;
        var yy = (m22 + 1) / 2;
        var zz = (m33 + 1) / 2;
        var xy = (m12 + m21) / 4;
        var xz = (m13 + m31) / 4;
        var yz = (m23 + m32) / 4;
        if ((xx > yy) && (xx > zz)) {
          if (xx < epsilon) {
            x = 0;
            y = 0.707106781;
            z = 0.707106781;
          } else {
            x = Math.sqrt(xx);
            y = xy / x;
            z = xz / x;
          }
        } else if (yy > zz) {
          if (yy < epsilon) {
            x = 0.707106781;
            y = 0;
            z = 0.707106781;
          } else {
            y = Math.sqrt(yy);
            x = xy / y;
            z = yz / y;
          }
        } else {
          if (zz < epsilon) {
            x = 0.707106781;
            y = 0.707106781;
            z = 0;
          } else {
            z = Math.sqrt(zz);
            x = xz / z;
            y = yz / z;
          }
        }
        this.set(x, y, z, angle);
        return this;
      }
      var s = Math.sqrt((m32 - m23) * (m32 - m23) + (m13 - m31) * (m13 - m31) + (m21 - m12) * (m21 - m12));
      if (Math.abs(s) < 0.001)
        s = 1;
      this.x = (m32 - m23) / s;
      this.y = (m13 - m31) / s;
      this.z = (m21 - m12) / s;
      this.w = Math.acos((m11 + m22 + m33 - 1) / 2);
      return this;
    },
    min: function(v) {
      this.x = Math.min(this.x, v.x);
      this.y = Math.min(this.y, v.y);
      this.z = Math.min(this.z, v.z);
      this.w = Math.min(this.w, v.w);
      return this;
    },
    max: function(v) {
      this.x = Math.max(this.x, v.x);
      this.y = Math.max(this.y, v.y);
      this.z = Math.max(this.z, v.z);
      this.w = Math.max(this.w, v.w);
      return this;
    },
    clamp: function(min, max) {
      this.x = Math.max(min.x, Math.min(max.x, this.x));
      this.y = Math.max(min.y, Math.min(max.y, this.y));
      this.z = Math.max(min.z, Math.min(max.z, this.z));
      this.w = Math.max(min.w, Math.min(max.w, this.w));
      return this;
    },
    clampScalar: function() {
      var min,
          max;
      return function clampScalar(minVal, maxVal) {
        if (min === undefined) {
          min = new Vector4();
          max = new Vector4();
        }
        min.set(minVal, minVal, minVal, minVal);
        max.set(maxVal, maxVal, maxVal, maxVal);
        return this.clamp(min, max);
      };
    }(),
    clampLength: function(min, max) {
      var length = this.length();
      return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));
    },
    floor: function() {
      this.x = Math.floor(this.x);
      this.y = Math.floor(this.y);
      this.z = Math.floor(this.z);
      this.w = Math.floor(this.w);
      return this;
    },
    ceil: function() {
      this.x = Math.ceil(this.x);
      this.y = Math.ceil(this.y);
      this.z = Math.ceil(this.z);
      this.w = Math.ceil(this.w);
      return this;
    },
    round: function() {
      this.x = Math.round(this.x);
      this.y = Math.round(this.y);
      this.z = Math.round(this.z);
      this.w = Math.round(this.w);
      return this;
    },
    roundToZero: function() {
      this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);
      this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);
      this.z = (this.z < 0) ? Math.ceil(this.z) : Math.floor(this.z);
      this.w = (this.w < 0) ? Math.ceil(this.w) : Math.floor(this.w);
      return this;
    },
    negate: function() {
      this.x = -this.x;
      this.y = -this.y;
      this.z = -this.z;
      this.w = -this.w;
      return this;
    },
    dot: function(v) {
      return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;
    },
    lengthSq: function() {
      return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;
    },
    length: function() {
      return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
    },
    manhattanLength: function() {
      return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);
    },
    normalize: function() {
      return this.divideScalar(this.length() || 1);
    },
    setLength: function(length) {
      return this.normalize().multiplyScalar(length);
    },
    lerp: function(v, alpha) {
      this.x += (v.x - this.x) * alpha;
      this.y += (v.y - this.y) * alpha;
      this.z += (v.z - this.z) * alpha;
      this.w += (v.w - this.w) * alpha;
      return this;
    },
    lerpVectors: function(v1, v2, alpha) {
      return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);
    },
    equals: function(v) {
      return ((v.x === this.x) && (v.y === this.y) && (v.z === this.z) && (v.w === this.w));
    },
    fromArray: function(array, offset) {
      if (offset === undefined)
        offset = 0;
      this.x = array[offset];
      this.y = array[offset + 1];
      this.z = array[offset + 2];
      this.w = array[offset + 3];
      return this;
    },
    toArray: function(array, offset) {
      if (array === undefined)
        array = [];
      if (offset === undefined)
        offset = 0;
      array[offset] = this.x;
      array[offset + 1] = this.y;
      array[offset + 2] = this.z;
      array[offset + 3] = this.w;
      return array;
    },
    fromBufferAttribute: function(attribute, index, offset) {
      if (offset !== undefined) {
        console.warn('THREE.Vector4: offset has been removed from .fromBufferAttribute().');
      }
      this.x = attribute.getX(index);
      this.y = attribute.getY(index);
      this.z = attribute.getZ(index);
      this.w = attribute.getW(index);
      return this;
    }
  });
  function WebGLRenderTarget(width, height, options) {
    this.width = width;
    this.height = height;
    this.scissor = new Vector4(0, 0, width, height);
    this.scissorTest = false;
    this.viewport = new Vector4(0, 0, width, height);
    options = options || {};
    if (options.minFilter === undefined)
      options.minFilter = LinearFilter;
    this.texture = new Texture(undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);
    this.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : true;
    this.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;
    this.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;
    this.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;
  }
  WebGLRenderTarget.prototype = Object.assign(Object.create(EventDispatcher.prototype), {
    constructor: WebGLRenderTarget,
    isWebGLRenderTarget: true,
    setSize: function(width, height) {
      if (this.width !== width || this.height !== height) {
        this.width = width;
        this.height = height;
        this.dispose();
      }
      this.viewport.set(0, 0, width, height);
      this.scissor.set(0, 0, width, height);
    },
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(source) {
      this.width = source.width;
      this.height = source.height;
      this.viewport.copy(source.viewport);
      this.texture = source.texture.clone();
      this.depthBuffer = source.depthBuffer;
      this.stencilBuffer = source.stencilBuffer;
      this.depthTexture = source.depthTexture;
      return this;
    },
    dispose: function() {
      this.dispatchEvent({type: 'dispose'});
    }
  });
  function WebGLRenderTargetCube(width, height, options) {
    WebGLRenderTarget.call(this, width, height, options);
    this.activeCubeFace = 0;
    this.activeMipMapLevel = 0;
  }
  WebGLRenderTargetCube.prototype = Object.create(WebGLRenderTarget.prototype);
  WebGLRenderTargetCube.prototype.constructor = WebGLRenderTargetCube;
  WebGLRenderTargetCube.prototype.isWebGLRenderTargetCube = true;
  function DataTexture(data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {
    Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);
    this.image = {
      data: data,
      width: width,
      height: height
    };
    this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;
    this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;
    this.generateMipmaps = false;
    this.flipY = false;
    this.unpackAlignment = 1;
  }
  DataTexture.prototype = Object.create(Texture.prototype);
  DataTexture.prototype.constructor = DataTexture;
  DataTexture.prototype.isDataTexture = true;
  function Box3(min, max) {
    this.min = (min !== undefined) ? min : new Vector3(+Infinity, +Infinity, +Infinity);
    this.max = (max !== undefined) ? max : new Vector3(-Infinity, -Infinity, -Infinity);
  }
  Object.assign(Box3.prototype, {
    isBox3: true,
    set: function(min, max) {
      this.min.copy(min);
      this.max.copy(max);
      return this;
    },
    setFromArray: function(array) {
      var minX = +Infinity;
      var minY = +Infinity;
      var minZ = +Infinity;
      var maxX = -Infinity;
      var maxY = -Infinity;
      var maxZ = -Infinity;
      for (var i = 0,
          l = array.length; i < l; i += 3) {
        var x = array[i];
        var y = array[i + 1];
        var z = array[i + 2];
        if (x < minX)
          minX = x;
        if (y < minY)
          minY = y;
        if (z < minZ)
          minZ = z;
        if (x > maxX)
          maxX = x;
        if (y > maxY)
          maxY = y;
        if (z > maxZ)
          maxZ = z;
      }
      this.min.set(minX, minY, minZ);
      this.max.set(maxX, maxY, maxZ);
      return this;
    },
    setFromBufferAttribute: function(attribute) {
      var minX = +Infinity;
      var minY = +Infinity;
      var minZ = +Infinity;
      var maxX = -Infinity;
      var maxY = -Infinity;
      var maxZ = -Infinity;
      for (var i = 0,
          l = attribute.count; i < l; i++) {
        var x = attribute.getX(i);
        var y = attribute.getY(i);
        var z = attribute.getZ(i);
        if (x < minX)
          minX = x;
        if (y < minY)
          minY = y;
        if (z < minZ)
          minZ = z;
        if (x > maxX)
          maxX = x;
        if (y > maxY)
          maxY = y;
        if (z > maxZ)
          maxZ = z;
      }
      this.min.set(minX, minY, minZ);
      this.max.set(maxX, maxY, maxZ);
      return this;
    },
    setFromPoints: function(points) {
      this.makeEmpty();
      for (var i = 0,
          il = points.length; i < il; i++) {
        this.expandByPoint(points[i]);
      }
      return this;
    },
    setFromCenterAndSize: function() {
      var v1 = new Vector3();
      return function setFromCenterAndSize(center, size) {
        var halfSize = v1.copy(size).multiplyScalar(0.5);
        this.min.copy(center).sub(halfSize);
        this.max.copy(center).add(halfSize);
        return this;
      };
    }(),
    setFromObject: function(object) {
      this.makeEmpty();
      return this.expandByObject(object);
    },
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(box) {
      this.min.copy(box.min);
      this.max.copy(box.max);
      return this;
    },
    makeEmpty: function() {
      this.min.x = this.min.y = this.min.z = +Infinity;
      this.max.x = this.max.y = this.max.z = -Infinity;
      return this;
    },
    isEmpty: function() {
      return (this.max.x < this.min.x) || (this.max.y < this.min.y) || (this.max.z < this.min.z);
    },
    getCenter: function(target) {
      if (target === undefined) {
        console.warn('THREE.Box3: .getCenter() target is now required');
        target = new Vector3();
      }
      return this.isEmpty() ? target.set(0, 0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);
    },
    getSize: function(target) {
      if (target === undefined) {
        console.warn('THREE.Box3: .getSize() target is now required');
        target = new Vector3();
      }
      return this.isEmpty() ? target.set(0, 0, 0) : target.subVectors(this.max, this.min);
    },
    expandByPoint: function(point) {
      this.min.min(point);
      this.max.max(point);
      return this;
    },
    expandByVector: function(vector) {
      this.min.sub(vector);
      this.max.add(vector);
      return this;
    },
    expandByScalar: function(scalar) {
      this.min.addScalar(-scalar);
      this.max.addScalar(scalar);
      return this;
    },
    expandByObject: function() {
      var scope,
          i,
          l;
      var v1 = new Vector3();
      function traverse(node) {
        var geometry = node.geometry;
        if (geometry !== undefined) {
          if (geometry.isGeometry) {
            var vertices = geometry.vertices;
            for (i = 0, l = vertices.length; i < l; i++) {
              v1.copy(vertices[i]);
              v1.applyMatrix4(node.matrixWorld);
              scope.expandByPoint(v1);
            }
          } else if (geometry.isBufferGeometry) {
            var attribute = geometry.attributes.position;
            if (attribute !== undefined) {
              for (i = 0, l = attribute.count; i < l; i++) {
                v1.fromBufferAttribute(attribute, i).applyMatrix4(node.matrixWorld);
                scope.expandByPoint(v1);
              }
            }
          }
        }
      }
      return function expandByObject(object) {
        scope = this;
        object.updateMatrixWorld(true);
        object.traverse(traverse);
        return this;
      };
    }(),
    containsPoint: function(point) {
      return point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y || point.z < this.min.z || point.z > this.max.z ? false : true;
    },
    containsBox: function(box) {
      return this.min.x <= box.min.x && box.max.x <= this.max.x && this.min.y <= box.min.y && box.max.y <= this.max.y && this.min.z <= box.min.z && box.max.z <= this.max.z;
    },
    getParameter: function(point, target) {
      if (target === undefined) {
        console.warn('THREE.Box3: .getParameter() target is now required');
        target = new Vector3();
      }
      return target.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y), (point.z - this.min.z) / (this.max.z - this.min.z));
    },
    intersectsBox: function(box) {
      return box.max.x < this.min.x || box.min.x > this.max.x || box.max.y < this.min.y || box.min.y > this.max.y || box.max.z < this.min.z || box.min.z > this.max.z ? false : true;
    },
    intersectsSphere: (function() {
      var closestPoint = new Vector3();
      return function intersectsSphere(sphere) {
        this.clampPoint(sphere.center, closestPoint);
        return closestPoint.distanceToSquared(sphere.center) <= (sphere.radius * sphere.radius);
      };
    })(),
    intersectsPlane: function(plane) {
      var min,
          max;
      if (plane.normal.x > 0) {
        min = plane.normal.x * this.min.x;
        max = plane.normal.x * this.max.x;
      } else {
        min = plane.normal.x * this.max.x;
        max = plane.normal.x * this.min.x;
      }
      if (plane.normal.y > 0) {
        min += plane.normal.y * this.min.y;
        max += plane.normal.y * this.max.y;
      } else {
        min += plane.normal.y * this.max.y;
        max += plane.normal.y * this.min.y;
      }
      if (plane.normal.z > 0) {
        min += plane.normal.z * this.min.z;
        max += plane.normal.z * this.max.z;
      } else {
        min += plane.normal.z * this.max.z;
        max += plane.normal.z * this.min.z;
      }
      return (min <= plane.constant && max >= plane.constant);
    },
    intersectsTriangle: (function() {
      var v0 = new Vector3();
      var v1 = new Vector3();
      var v2 = new Vector3();
      var f0 = new Vector3();
      var f1 = new Vector3();
      var f2 = new Vector3();
      var testAxis = new Vector3();
      var center = new Vector3();
      var extents = new Vector3();
      var triangleNormal = new Vector3();
      function satForAxes(axes) {
        var i,
            j;
        for (i = 0, j = axes.length - 3; i <= j; i += 3) {
          testAxis.fromArray(axes, i);
          var r = extents.x * Math.abs(testAxis.x) + extents.y * Math.abs(testAxis.y) + extents.z * Math.abs(testAxis.z);
          var p0 = v0.dot(testAxis);
          var p1 = v1.dot(testAxis);
          var p2 = v2.dot(testAxis);
          if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {
            return false;
          }
        }
        return true;
      }
      return function intersectsTriangle(triangle) {
        if (this.isEmpty()) {
          return false;
        }
        this.getCenter(center);
        extents.subVectors(this.max, center);
        v0.subVectors(triangle.a, center);
        v1.subVectors(triangle.b, center);
        v2.subVectors(triangle.c, center);
        f0.subVectors(v1, v0);
        f1.subVectors(v2, v1);
        f2.subVectors(v0, v2);
        var axes = [0, -f0.z, f0.y, 0, -f1.z, f1.y, 0, -f2.z, f2.y, f0.z, 0, -f0.x, f1.z, 0, -f1.x, f2.z, 0, -f2.x, -f0.y, f0.x, 0, -f1.y, f1.x, 0, -f2.y, f2.x, 0];
        if (!satForAxes(axes)) {
          return false;
        }
        axes = [1, 0, 0, 0, 1, 0, 0, 0, 1];
        if (!satForAxes(axes)) {
          return false;
        }
        triangleNormal.crossVectors(f0, f1);
        axes = [triangleNormal.x, triangleNormal.y, triangleNormal.z];
        return satForAxes(axes);
      };
    })(),
    clampPoint: function(point, target) {
      if (target === undefined) {
        console.warn('THREE.Box3: .clampPoint() target is now required');
        target = new Vector3();
      }
      return target.copy(point).clamp(this.min, this.max);
    },
    distanceToPoint: function() {
      var v1 = new Vector3();
      return function distanceToPoint(point) {
        var clampedPoint = v1.copy(point).clamp(this.min, this.max);
        return clampedPoint.sub(point).length();
      };
    }(),
    getBoundingSphere: function() {
      var v1 = new Vector3();
      return function getBoundingSphere(target) {
        if (target === undefined) {
          console.warn('THREE.Box3: .getBoundingSphere() target is now required');
          target = new Sphere();
        }
        this.getCenter(target.center);
        target.radius = this.getSize(v1).length() * 0.5;
        return target;
      };
    }(),
    intersect: function(box) {
      this.min.max(box.min);
      this.max.min(box.max);
      if (this.isEmpty())
        this.makeEmpty();
      return this;
    },
    union: function(box) {
      this.min.min(box.min);
      this.max.max(box.max);
      return this;
    },
    applyMatrix4: function(matrix) {
      if (this.isEmpty())
        return this;
      var m = matrix.elements;
      var xax = m[0] * this.min.x,
          xay = m[1] * this.min.x,
          xaz = m[2] * this.min.x;
      var xbx = m[0] * this.max.x,
          xby = m[1] * this.max.x,
          xbz = m[2] * this.max.x;
      var yax = m[4] * this.min.y,
          yay = m[5] * this.min.y,
          yaz = m[6] * this.min.y;
      var ybx = m[4] * this.max.y,
          yby = m[5] * this.max.y,
          ybz = m[6] * this.max.y;
      var zax = m[8] * this.min.z,
          zay = m[9] * this.min.z,
          zaz = m[10] * this.min.z;
      var zbx = m[8] * this.max.z,
          zby = m[9] * this.max.z,
          zbz = m[10] * this.max.z;
      this.min.x = Math.min(xax, xbx) + Math.min(yax, ybx) + Math.min(zax, zbx) + m[12];
      this.min.y = Math.min(xay, xby) + Math.min(yay, yby) + Math.min(zay, zby) + m[13];
      this.min.z = Math.min(xaz, xbz) + Math.min(yaz, ybz) + Math.min(zaz, zbz) + m[14];
      this.max.x = Math.max(xax, xbx) + Math.max(yax, ybx) + Math.max(zax, zbx) + m[12];
      this.max.y = Math.max(xay, xby) + Math.max(yay, yby) + Math.max(zay, zby) + m[13];
      this.max.z = Math.max(xaz, xbz) + Math.max(yaz, ybz) + Math.max(zaz, zbz) + m[14];
      return this;
    },
    translate: function(offset) {
      this.min.add(offset);
      this.max.add(offset);
      return this;
    },
    equals: function(box) {
      return box.min.equals(this.min) && box.max.equals(this.max);
    }
  });
  function Sphere(center, radius) {
    this.center = (center !== undefined) ? center : new Vector3();
    this.radius = (radius !== undefined) ? radius : 0;
  }
  Object.assign(Sphere.prototype, {
    set: function(center, radius) {
      this.center.copy(center);
      this.radius = radius;
      return this;
    },
    setFromPoints: function() {
      var box = new Box3();
      return function setFromPoints(points, optionalCenter) {
        var center = this.center;
        if (optionalCenter !== undefined) {
          center.copy(optionalCenter);
        } else {
          box.setFromPoints(points).getCenter(center);
        }
        var maxRadiusSq = 0;
        for (var i = 0,
            il = points.length; i < il; i++) {
          maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(points[i]));
        }
        this.radius = Math.sqrt(maxRadiusSq);
        return this;
      };
    }(),
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(sphere) {
      this.center.copy(sphere.center);
      this.radius = sphere.radius;
      return this;
    },
    empty: function() {
      return (this.radius <= 0);
    },
    containsPoint: function(point) {
      return (point.distanceToSquared(this.center) <= (this.radius * this.radius));
    },
    distanceToPoint: function(point) {
      return (point.distanceTo(this.center) - this.radius);
    },
    intersectsSphere: function(sphere) {
      var radiusSum = this.radius + sphere.radius;
      return sphere.center.distanceToSquared(this.center) <= (radiusSum * radiusSum);
    },
    intersectsBox: function(box) {
      return box.intersectsSphere(this);
    },
    intersectsPlane: function(plane) {
      return Math.abs(plane.distanceToPoint(this.center)) <= this.radius;
    },
    clampPoint: function(point, target) {
      var deltaLengthSq = this.center.distanceToSquared(point);
      if (target === undefined) {
        console.warn('THREE.Sphere: .clampPoint() target is now required');
        target = new Vector3();
      }
      target.copy(point);
      if (deltaLengthSq > (this.radius * this.radius)) {
        target.sub(this.center).normalize();
        target.multiplyScalar(this.radius).add(this.center);
      }
      return target;
    },
    getBoundingBox: function(target) {
      if (target === undefined) {
        console.warn('THREE.Sphere: .getBoundingBox() target is now required');
        target = new Box3();
      }
      target.set(this.center, this.center);
      target.expandByScalar(this.radius);
      return target;
    },
    applyMatrix4: function(matrix) {
      this.center.applyMatrix4(matrix);
      this.radius = this.radius * matrix.getMaxScaleOnAxis();
      return this;
    },
    translate: function(offset) {
      this.center.add(offset);
      return this;
    },
    equals: function(sphere) {
      return sphere.center.equals(this.center) && (sphere.radius === this.radius);
    }
  });
  function Plane(normal, constant) {
    this.normal = (normal !== undefined) ? normal : new Vector3(1, 0, 0);
    this.constant = (constant !== undefined) ? constant : 0;
  }
  Object.assign(Plane.prototype, {
    set: function(normal, constant) {
      this.normal.copy(normal);
      this.constant = constant;
      return this;
    },
    setComponents: function(x, y, z, w) {
      this.normal.set(x, y, z);
      this.constant = w;
      return this;
    },
    setFromNormalAndCoplanarPoint: function(normal, point) {
      this.normal.copy(normal);
      this.constant = -point.dot(this.normal);
      return this;
    },
    setFromCoplanarPoints: function() {
      var v1 = new Vector3();
      var v2 = new Vector3();
      return function setFromCoplanarPoints(a, b, c) {
        var normal = v1.subVectors(c, b).cross(v2.subVectors(a, b)).normalize();
        this.setFromNormalAndCoplanarPoint(normal, a);
        return this;
      };
    }(),
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(plane) {
      this.normal.copy(plane.normal);
      this.constant = plane.constant;
      return this;
    },
    normalize: function() {
      var inverseNormalLength = 1.0 / this.normal.length();
      this.normal.multiplyScalar(inverseNormalLength);
      this.constant *= inverseNormalLength;
      return this;
    },
    negate: function() {
      this.constant *= -1;
      this.normal.negate();
      return this;
    },
    distanceToPoint: function(point) {
      return this.normal.dot(point) + this.constant;
    },
    distanceToSphere: function(sphere) {
      return this.distanceToPoint(sphere.center) - sphere.radius;
    },
    projectPoint: function(point, target) {
      if (target === undefined) {
        console.warn('THREE.Plane: .projectPoint() target is now required');
        target = new Vector3();
      }
      return target.copy(this.normal).multiplyScalar(-this.distanceToPoint(point)).add(point);
    },
    intersectLine: function() {
      var v1 = new Vector3();
      return function intersectLine(line, target) {
        if (target === undefined) {
          console.warn('THREE.Plane: .intersectLine() target is now required');
          target = new Vector3();
        }
        var direction = line.delta(v1);
        var denominator = this.normal.dot(direction);
        if (denominator === 0) {
          if (this.distanceToPoint(line.start) === 0) {
            return target.copy(line.start);
          }
          return undefined;
        }
        var t = -(line.start.dot(this.normal) + this.constant) / denominator;
        if (t < 0 || t > 1) {
          return undefined;
        }
        return target.copy(direction).multiplyScalar(t).add(line.start);
      };
    }(),
    intersectsLine: function(line) {
      var startSign = this.distanceToPoint(line.start);
      var endSign = this.distanceToPoint(line.end);
      return (startSign < 0 && endSign > 0) || (endSign < 0 && startSign > 0);
    },
    intersectsBox: function(box) {
      return box.intersectsPlane(this);
    },
    intersectsSphere: function(sphere) {
      return sphere.intersectsPlane(this);
    },
    coplanarPoint: function(target) {
      if (target === undefined) {
        console.warn('THREE.Plane: .coplanarPoint() target is now required');
        target = new Vector3();
      }
      return target.copy(this.normal).multiplyScalar(-this.constant);
    },
    applyMatrix4: function() {
      var v1 = new Vector3();
      var m1 = new Matrix3();
      return function applyMatrix4(matrix, optionalNormalMatrix) {
        var normalMatrix = optionalNormalMatrix || m1.getNormalMatrix(matrix);
        var referencePoint = this.coplanarPoint(v1).applyMatrix4(matrix);
        var normal = this.normal.applyMatrix3(normalMatrix).normalize();
        this.constant = -referencePoint.dot(normal);
        return this;
      };
    }(),
    translate: function(offset) {
      this.constant -= offset.dot(this.normal);
      return this;
    },
    equals: function(plane) {
      return plane.normal.equals(this.normal) && (plane.constant === this.constant);
    }
  });
  function Frustum(p0, p1, p2, p3, p4, p5) {
    this.planes = [(p0 !== undefined) ? p0 : new Plane(), (p1 !== undefined) ? p1 : new Plane(), (p2 !== undefined) ? p2 : new Plane(), (p3 !== undefined) ? p3 : new Plane(), (p4 !== undefined) ? p4 : new Plane(), (p5 !== undefined) ? p5 : new Plane()];
  }
  Object.assign(Frustum.prototype, {
    set: function(p0, p1, p2, p3, p4, p5) {
      var planes = this.planes;
      planes[0].copy(p0);
      planes[1].copy(p1);
      planes[2].copy(p2);
      planes[3].copy(p3);
      planes[4].copy(p4);
      planes[5].copy(p5);
      return this;
    },
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(frustum) {
      var planes = this.planes;
      for (var i = 0; i < 6; i++) {
        planes[i].copy(frustum.planes[i]);
      }
      return this;
    },
    setFromMatrix: function(m) {
      var planes = this.planes;
      var me = m.elements;
      var me0 = me[0],
          me1 = me[1],
          me2 = me[2],
          me3 = me[3];
      var me4 = me[4],
          me5 = me[5],
          me6 = me[6],
          me7 = me[7];
      var me8 = me[8],
          me9 = me[9],
          me10 = me[10],
          me11 = me[11];
      var me12 = me[12],
          me13 = me[13],
          me14 = me[14],
          me15 = me[15];
      planes[0].setComponents(me3 - me0, me7 - me4, me11 - me8, me15 - me12).normalize();
      planes[1].setComponents(me3 + me0, me7 + me4, me11 + me8, me15 + me12).normalize();
      planes[2].setComponents(me3 + me1, me7 + me5, me11 + me9, me15 + me13).normalize();
      planes[3].setComponents(me3 - me1, me7 - me5, me11 - me9, me15 - me13).normalize();
      planes[4].setComponents(me3 - me2, me7 - me6, me11 - me10, me15 - me14).normalize();
      planes[5].setComponents(me3 + me2, me7 + me6, me11 + me10, me15 + me14).normalize();
      return this;
    },
    intersectsObject: function() {
      var sphere = new Sphere();
      return function intersectsObject(object) {
        var geometry = object.geometry;
        if (geometry.boundingSphere === null)
          geometry.computeBoundingSphere();
        sphere.copy(geometry.boundingSphere).applyMatrix4(object.matrixWorld);
        return this.intersectsSphere(sphere);
      };
    }(),
    intersectsSprite: function() {
      var sphere = new Sphere();
      return function intersectsSprite(sprite) {
        sphere.center.set(0, 0, 0);
        sphere.radius = 0.7071067811865476;
        sphere.applyMatrix4(sprite.matrixWorld);
        return this.intersectsSphere(sphere);
      };
    }(),
    intersectsSphere: function(sphere) {
      var planes = this.planes;
      var center = sphere.center;
      var negRadius = -sphere.radius;
      for (var i = 0; i < 6; i++) {
        var distance = planes[i].distanceToPoint(center);
        if (distance < negRadius) {
          return false;
        }
      }
      return true;
    },
    intersectsBox: function() {
      var p1 = new Vector3(),
          p2 = new Vector3();
      return function intersectsBox(box) {
        var planes = this.planes;
        for (var i = 0; i < 6; i++) {
          var plane = planes[i];
          p1.x = plane.normal.x > 0 ? box.min.x : box.max.x;
          p2.x = plane.normal.x > 0 ? box.max.x : box.min.x;
          p1.y = plane.normal.y > 0 ? box.min.y : box.max.y;
          p2.y = plane.normal.y > 0 ? box.max.y : box.min.y;
          p1.z = plane.normal.z > 0 ? box.min.z : box.max.z;
          p2.z = plane.normal.z > 0 ? box.max.z : box.min.z;
          var d1 = plane.distanceToPoint(p1);
          var d2 = plane.distanceToPoint(p2);
          if (d1 < 0 && d2 < 0) {
            return false;
          }
        }
        return true;
      };
    }(),
    containsPoint: function(point) {
      var planes = this.planes;
      for (var i = 0; i < 6; i++) {
        if (planes[i].distanceToPoint(point) < 0) {
          return false;
        }
      }
      return true;
    }
  });
  var alphamap_fragment = "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n";
  var alphamap_pars_fragment = "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n";
  var alphatest_fragment = "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n";
  var aomap_fragment = "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n";
  var aomap_pars_fragment = "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";
  var begin_vertex = "\nvec3 transformed = vec3( position );\n";
  var beginnormal_vertex = "\nvec3 objectNormal = vec3( normal );\n";
  var bsdfs = "float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";
  var bumpmap_pars_fragment = "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n";
  var clipping_planes_fragment = "#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n";
  var clipping_planes_pars_fragment = "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";
  var clipping_planes_pars_vertex = "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n";
  var clipping_planes_vertex = "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n";
  var color_fragment = "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif";
  var color_pars_fragment = "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n";
  var color_pars_vertex = "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";
  var color_vertex = "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif";
  var common = "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n";
  var cube_uv_reflection_fragment = "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n";
  var defaultnormal_vertex = "vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n";
  var displacementmap_pars_vertex = "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n";
  var displacementmap_vertex = "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";
  var emissivemap_fragment = "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n";
  var emissivemap_pars_fragment = "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n";
  var encodings_fragment = "  gl_FragColor = linearToOutputTexel( gl_FragColor );\n";
  var encodings_pars_fragment = "\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n";
  var envmap_fragment = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n";
  var envmap_pars_fragment = "#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n";
  var envmap_pars_vertex = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n";
  var envmap_vertex = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n";
  var fog_vertex = "\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif";
  var fog_pars_vertex = "#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n";
  var fog_fragment = "#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";
  var fog_pars_fragment = "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n";
  var gradientmap_pars_fragment = "#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n";
  var lightmap_fragment = "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";
  var lightmap_pars_fragment = "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";
  var lights_lambert_vertex = "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n";
  var lights_pars_begin = "uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n";
  var lights_pars_maps = "#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n";
  var lights_phong_fragment = "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n";
  var lights_phong_pars_fragment = "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n";
  var lights_physical_fragment = "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n";
  var lights_physical_pars_fragment = "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";
  var lights_fragment_begin = "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n";
  var lights_fragment_maps = "#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n";
  var lights_fragment_end = "#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n";
  var logdepthbuf_fragment = "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif";
  var logdepthbuf_pars_fragment = "#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n";
  var logdepthbuf_pars_vertex = "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif";
  var logdepthbuf_vertex = "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n";
  var map_fragment = "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n";
  var map_pars_fragment = "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n";
  var map_particle_fragment = "#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n";
  var map_particle_pars_fragment = "#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n";
  var metalnessmap_fragment = "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n";
  var metalnessmap_pars_fragment = "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";
  var morphnormal_vertex = "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";
  var morphtarget_pars_vertex = "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif";
  var morphtarget_vertex = "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n";
  var normal_fragment_begin = "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n";
  var normal_fragment_maps = "#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";
  var normalmap_pars_fragment = "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif\n";
  var packing = "vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";
  var premultiplied_alpha_fragment = "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n";
  var project_vertex = "vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n";
  var dithering_fragment = "#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n";
  var dithering_pars_fragment = "#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n";
  var roughnessmap_fragment = "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n";
  var roughnessmap_pars_fragment = "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";
  var shadowmap_pars_fragment = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n";
  var shadowmap_pars_vertex = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n";
  var shadowmap_vertex = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n";
  var shadowmask_pars_fragment = "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n";
  var skinbase_vertex = "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif";
  var skinning_pars_vertex = "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n";
  var skinning_vertex = "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n";
  var skinnormal_vertex = "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";
  var specularmap_fragment = "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif";
  var specularmap_pars_fragment = "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";
  var tonemapping_fragment = "#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n";
  var tonemapping_pars_fragment = "#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";
  var uv_pars_fragment = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif";
  var uv_pars_vertex = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n";
  var uv_vertex = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif";
  var uv2_pars_fragment = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";
  var uv2_pars_vertex = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif";
  var uv2_vertex = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif";
  var worldpos_vertex = "#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n";
  var cube_frag = "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n";
  var cube_vert = "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n";
  var depth_frag = "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n";
  var depth_vert = "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";
  var distanceRGBA_frag = "#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n";
  var distanceRGBA_vert = "#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n";
  var equirect_frag = "uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n";
  var equirect_vert = "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n";
  var linedashed_frag = "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
  var linedashed_vert = "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n";
  var meshbasic_frag = "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
  var meshbasic_vert = "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n";
  var meshlambert_frag = "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n";
  var meshlambert_vert = "#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";
  var meshphong_frag = "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n";
  var meshphong_vert = "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";
  var meshphysical_frag = "#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars_begin>\n#include <lights_pars_maps>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n";
  var meshphysical_vert = "#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";
  var normal_frag = "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n";
  var normal_vert = "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n";
  var points_frag = "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
  var points_vert = "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n";
  var shadow_frag = "uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n";
  var shadow_vert = "#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";
  var ShaderChunk = {
    alphamap_fragment: alphamap_fragment,
    alphamap_pars_fragment: alphamap_pars_fragment,
    alphatest_fragment: alphatest_fragment,
    aomap_fragment: aomap_fragment,
    aomap_pars_fragment: aomap_pars_fragment,
    begin_vertex: begin_vertex,
    beginnormal_vertex: beginnormal_vertex,
    bsdfs: bsdfs,
    bumpmap_pars_fragment: bumpmap_pars_fragment,
    clipping_planes_fragment: clipping_planes_fragment,
    clipping_planes_pars_fragment: clipping_planes_pars_fragment,
    clipping_planes_pars_vertex: clipping_planes_pars_vertex,
    clipping_planes_vertex: clipping_planes_vertex,
    color_fragment: color_fragment,
    color_pars_fragment: color_pars_fragment,
    color_pars_vertex: color_pars_vertex,
    color_vertex: color_vertex,
    common: common,
    cube_uv_reflection_fragment: cube_uv_reflection_fragment,
    defaultnormal_vertex: defaultnormal_vertex,
    displacementmap_pars_vertex: displacementmap_pars_vertex,
    displacementmap_vertex: displacementmap_vertex,
    emissivemap_fragment: emissivemap_fragment,
    emissivemap_pars_fragment: emissivemap_pars_fragment,
    encodings_fragment: encodings_fragment,
    encodings_pars_fragment: encodings_pars_fragment,
    envmap_fragment: envmap_fragment,
    envmap_pars_fragment: envmap_pars_fragment,
    envmap_pars_vertex: envmap_pars_vertex,
    envmap_vertex: envmap_vertex,
    fog_vertex: fog_vertex,
    fog_pars_vertex: fog_pars_vertex,
    fog_fragment: fog_fragment,
    fog_pars_fragment: fog_pars_fragment,
    gradientmap_pars_fragment: gradientmap_pars_fragment,
    lightmap_fragment: lightmap_fragment,
    lightmap_pars_fragment: lightmap_pars_fragment,
    lights_lambert_vertex: lights_lambert_vertex,
    lights_pars_begin: lights_pars_begin,
    lights_pars_maps: lights_pars_maps,
    lights_phong_fragment: lights_phong_fragment,
    lights_phong_pars_fragment: lights_phong_pars_fragment,
    lights_physical_fragment: lights_physical_fragment,
    lights_physical_pars_fragment: lights_physical_pars_fragment,
    lights_fragment_begin: lights_fragment_begin,
    lights_fragment_maps: lights_fragment_maps,
    lights_fragment_end: lights_fragment_end,
    logdepthbuf_fragment: logdepthbuf_fragment,
    logdepthbuf_pars_fragment: logdepthbuf_pars_fragment,
    logdepthbuf_pars_vertex: logdepthbuf_pars_vertex,
    logdepthbuf_vertex: logdepthbuf_vertex,
    map_fragment: map_fragment,
    map_pars_fragment: map_pars_fragment,
    map_particle_fragment: map_particle_fragment,
    map_particle_pars_fragment: map_particle_pars_fragment,
    metalnessmap_fragment: metalnessmap_fragment,
    metalnessmap_pars_fragment: metalnessmap_pars_fragment,
    morphnormal_vertex: morphnormal_vertex,
    morphtarget_pars_vertex: morphtarget_pars_vertex,
    morphtarget_vertex: morphtarget_vertex,
    normal_fragment_begin: normal_fragment_begin,
    normal_fragment_maps: normal_fragment_maps,
    normalmap_pars_fragment: normalmap_pars_fragment,
    packing: packing,
    premultiplied_alpha_fragment: premultiplied_alpha_fragment,
    project_vertex: project_vertex,
    dithering_fragment: dithering_fragment,
    dithering_pars_fragment: dithering_pars_fragment,
    roughnessmap_fragment: roughnessmap_fragment,
    roughnessmap_pars_fragment: roughnessmap_pars_fragment,
    shadowmap_pars_fragment: shadowmap_pars_fragment,
    shadowmap_pars_vertex: shadowmap_pars_vertex,
    shadowmap_vertex: shadowmap_vertex,
    shadowmask_pars_fragment: shadowmask_pars_fragment,
    skinbase_vertex: skinbase_vertex,
    skinning_pars_vertex: skinning_pars_vertex,
    skinning_vertex: skinning_vertex,
    skinnormal_vertex: skinnormal_vertex,
    specularmap_fragment: specularmap_fragment,
    specularmap_pars_fragment: specularmap_pars_fragment,
    tonemapping_fragment: tonemapping_fragment,
    tonemapping_pars_fragment: tonemapping_pars_fragment,
    uv_pars_fragment: uv_pars_fragment,
    uv_pars_vertex: uv_pars_vertex,
    uv_vertex: uv_vertex,
    uv2_pars_fragment: uv2_pars_fragment,
    uv2_pars_vertex: uv2_pars_vertex,
    uv2_vertex: uv2_vertex,
    worldpos_vertex: worldpos_vertex,
    cube_frag: cube_frag,
    cube_vert: cube_vert,
    depth_frag: depth_frag,
    depth_vert: depth_vert,
    distanceRGBA_frag: distanceRGBA_frag,
    distanceRGBA_vert: distanceRGBA_vert,
    equirect_frag: equirect_frag,
    equirect_vert: equirect_vert,
    linedashed_frag: linedashed_frag,
    linedashed_vert: linedashed_vert,
    meshbasic_frag: meshbasic_frag,
    meshbasic_vert: meshbasic_vert,
    meshlambert_frag: meshlambert_frag,
    meshlambert_vert: meshlambert_vert,
    meshphong_frag: meshphong_frag,
    meshphong_vert: meshphong_vert,
    meshphysical_frag: meshphysical_frag,
    meshphysical_vert: meshphysical_vert,
    normal_frag: normal_frag,
    normal_vert: normal_vert,
    points_frag: points_frag,
    points_vert: points_vert,
    shadow_frag: shadow_frag,
    shadow_vert: shadow_vert
  };
  var UniformsUtils = {
    merge: function(uniforms) {
      var merged = {};
      for (var u = 0; u < uniforms.length; u++) {
        var tmp = this.clone(uniforms[u]);
        for (var p in tmp) {
          merged[p] = tmp[p];
        }
      }
      return merged;
    },
    clone: function(uniforms_src) {
      var uniforms_dst = {};
      for (var u in uniforms_src) {
        uniforms_dst[u] = {};
        for (var p in uniforms_src[u]) {
          var parameter_src = uniforms_src[u][p];
          if (parameter_src && (parameter_src.isColor || parameter_src.isMatrix3 || parameter_src.isMatrix4 || parameter_src.isVector2 || parameter_src.isVector3 || parameter_src.isVector4 || parameter_src.isTexture)) {
            uniforms_dst[u][p] = parameter_src.clone();
          } else if (Array.isArray(parameter_src)) {
            uniforms_dst[u][p] = parameter_src.slice();
          } else {
            uniforms_dst[u][p] = parameter_src;
          }
        }
      }
      return uniforms_dst;
    }
  };
  var ColorKeywords = {
    'aliceblue': 0xF0F8FF,
    'antiquewhite': 0xFAEBD7,
    'aqua': 0x00FFFF,
    'aquamarine': 0x7FFFD4,
    'azure': 0xF0FFFF,
    'beige': 0xF5F5DC,
    'bisque': 0xFFE4C4,
    'black': 0x000000,
    'blanchedalmond': 0xFFEBCD,
    'blue': 0x0000FF,
    'blueviolet': 0x8A2BE2,
    'brown': 0xA52A2A,
    'burlywood': 0xDEB887,
    'cadetblue': 0x5F9EA0,
    'chartreuse': 0x7FFF00,
    'chocolate': 0xD2691E,
    'coral': 0xFF7F50,
    'cornflowerblue': 0x6495ED,
    'cornsilk': 0xFFF8DC,
    'crimson': 0xDC143C,
    'cyan': 0x00FFFF,
    'darkblue': 0x00008B,
    'darkcyan': 0x008B8B,
    'darkgoldenrod': 0xB8860B,
    'darkgray': 0xA9A9A9,
    'darkgreen': 0x006400,
    'darkgrey': 0xA9A9A9,
    'darkkhaki': 0xBDB76B,
    'darkmagenta': 0x8B008B,
    'darkolivegreen': 0x556B2F,
    'darkorange': 0xFF8C00,
    'darkorchid': 0x9932CC,
    'darkred': 0x8B0000,
    'darksalmon': 0xE9967A,
    'darkseagreen': 0x8FBC8F,
    'darkslateblue': 0x483D8B,
    'darkslategray': 0x2F4F4F,
    'darkslategrey': 0x2F4F4F,
    'darkturquoise': 0x00CED1,
    'darkviolet': 0x9400D3,
    'deeppink': 0xFF1493,
    'deepskyblue': 0x00BFFF,
    'dimgray': 0x696969,
    'dimgrey': 0x696969,
    'dodgerblue': 0x1E90FF,
    'firebrick': 0xB22222,
    'floralwhite': 0xFFFAF0,
    'forestgreen': 0x228B22,
    'fuchsia': 0xFF00FF,
    'gainsboro': 0xDCDCDC,
    'ghostwhite': 0xF8F8FF,
    'gold': 0xFFD700,
    'goldenrod': 0xDAA520,
    'gray': 0x808080,
    'green': 0x008000,
    'greenyellow': 0xADFF2F,
    'grey': 0x808080,
    'honeydew': 0xF0FFF0,
    'hotpink': 0xFF69B4,
    'indianred': 0xCD5C5C,
    'indigo': 0x4B0082,
    'ivory': 0xFFFFF0,
    'khaki': 0xF0E68C,
    'lavender': 0xE6E6FA,
    'lavenderblush': 0xFFF0F5,
    'lawngreen': 0x7CFC00,
    'lemonchiffon': 0xFFFACD,
    'lightblue': 0xADD8E6,
    'lightcoral': 0xF08080,
    'lightcyan': 0xE0FFFF,
    'lightgoldenrodyellow': 0xFAFAD2,
    'lightgray': 0xD3D3D3,
    'lightgreen': 0x90EE90,
    'lightgrey': 0xD3D3D3,
    'lightpink': 0xFFB6C1,
    'lightsalmon': 0xFFA07A,
    'lightseagreen': 0x20B2AA,
    'lightskyblue': 0x87CEFA,
    'lightslategray': 0x778899,
    'lightslategrey': 0x778899,
    'lightsteelblue': 0xB0C4DE,
    'lightyellow': 0xFFFFE0,
    'lime': 0x00FF00,
    'limegreen': 0x32CD32,
    'linen': 0xFAF0E6,
    'magenta': 0xFF00FF,
    'maroon': 0x800000,
    'mediumaquamarine': 0x66CDAA,
    'mediumblue': 0x0000CD,
    'mediumorchid': 0xBA55D3,
    'mediumpurple': 0x9370DB,
    'mediumseagreen': 0x3CB371,
    'mediumslateblue': 0x7B68EE,
    'mediumspringgreen': 0x00FA9A,
    'mediumturquoise': 0x48D1CC,
    'mediumvioletred': 0xC71585,
    'midnightblue': 0x191970,
    'mintcream': 0xF5FFFA,
    'mistyrose': 0xFFE4E1,
    'moccasin': 0xFFE4B5,
    'navajowhite': 0xFFDEAD,
    'navy': 0x000080,
    'oldlace': 0xFDF5E6,
    'olive': 0x808000,
    'olivedrab': 0x6B8E23,
    'orange': 0xFFA500,
    'orangered': 0xFF4500,
    'orchid': 0xDA70D6,
    'palegoldenrod': 0xEEE8AA,
    'palegreen': 0x98FB98,
    'paleturquoise': 0xAFEEEE,
    'palevioletred': 0xDB7093,
    'papayawhip': 0xFFEFD5,
    'peachpuff': 0xFFDAB9,
    'peru': 0xCD853F,
    'pink': 0xFFC0CB,
    'plum': 0xDDA0DD,
    'powderblue': 0xB0E0E6,
    'purple': 0x800080,
    'rebeccapurple': 0x663399,
    'red': 0xFF0000,
    'rosybrown': 0xBC8F8F,
    'royalblue': 0x4169E1,
    'saddlebrown': 0x8B4513,
    'salmon': 0xFA8072,
    'sandybrown': 0xF4A460,
    'seagreen': 0x2E8B57,
    'seashell': 0xFFF5EE,
    'sienna': 0xA0522D,
    'silver': 0xC0C0C0,
    'skyblue': 0x87CEEB,
    'slateblue': 0x6A5ACD,
    'slategray': 0x708090,
    'slategrey': 0x708090,
    'snow': 0xFFFAFA,
    'springgreen': 0x00FF7F,
    'steelblue': 0x4682B4,
    'tan': 0xD2B48C,
    'teal': 0x008080,
    'thistle': 0xD8BFD8,
    'tomato': 0xFF6347,
    'turquoise': 0x40E0D0,
    'violet': 0xEE82EE,
    'wheat': 0xF5DEB3,
    'white': 0xFFFFFF,
    'whitesmoke': 0xF5F5F5,
    'yellow': 0xFFFF00,
    'yellowgreen': 0x9ACD32
  };
  function Color(r, g, b) {
    if (g === undefined && b === undefined) {
      return this.set(r);
    }
    return this.setRGB(r, g, b);
  }
  Object.assign(Color.prototype, {
    isColor: true,
    r: 1,
    g: 1,
    b: 1,
    set: function(value) {
      if (value && value.isColor) {
        this.copy(value);
      } else if (typeof value === 'number') {
        this.setHex(value);
      } else if (typeof value === 'string') {
        this.setStyle(value);
      }
      return this;
    },
    setScalar: function(scalar) {
      this.r = scalar;
      this.g = scalar;
      this.b = scalar;
      return this;
    },
    setHex: function(hex) {
      hex = Math.floor(hex);
      this.r = (hex >> 16 & 255) / 255;
      this.g = (hex >> 8 & 255) / 255;
      this.b = (hex & 255) / 255;
      return this;
    },
    setRGB: function(r, g, b) {
      this.r = r;
      this.g = g;
      this.b = b;
      return this;
    },
    setHSL: function() {
      function hue2rgb(p, q, t) {
        if (t < 0)
          t += 1;
        if (t > 1)
          t -= 1;
        if (t < 1 / 6)
          return p + (q - p) * 6 * t;
        if (t < 1 / 2)
          return q;
        if (t < 2 / 3)
          return p + (q - p) * 6 * (2 / 3 - t);
        return p;
      }
      return function setHSL(h, s, l) {
        h = _Math.euclideanModulo(h, 1);
        s = _Math.clamp(s, 0, 1);
        l = _Math.clamp(l, 0, 1);
        if (s === 0) {
          this.r = this.g = this.b = l;
        } else {
          var p = l <= 0.5 ? l * (1 + s) : l + s - (l * s);
          var q = (2 * l) - p;
          this.r = hue2rgb(q, p, h + 1 / 3);
          this.g = hue2rgb(q, p, h);
          this.b = hue2rgb(q, p, h - 1 / 3);
        }
        return this;
      };
    }(),
    setStyle: function(style) {
      function handleAlpha(string) {
        if (string === undefined)
          return;
        if (parseFloat(string) < 1) {
          console.warn('THREE.Color: Alpha component of ' + style + ' will be ignored.');
        }
      }
      var m;
      if (m = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(style)) {
        var color;
        var name = m[1];
        var components = m[2];
        switch (name) {
          case 'rgb':
          case 'rgba':
            if (color = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(components)) {
              this.r = Math.min(255, parseInt(color[1], 10)) / 255;
              this.g = Math.min(255, parseInt(color[2], 10)) / 255;
              this.b = Math.min(255, parseInt(color[3], 10)) / 255;
              handleAlpha(color[5]);
              return this;
            }
            if (color = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(components)) {
              this.r = Math.min(100, parseInt(color[1], 10)) / 100;
              this.g = Math.min(100, parseInt(color[2], 10)) / 100;
              this.b = Math.min(100, parseInt(color[3], 10)) / 100;
              handleAlpha(color[5]);
              return this;
            }
            break;
          case 'hsl':
          case 'hsla':
            if (color = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(components)) {
              var h = parseFloat(color[1]) / 360;
              var s = parseInt(color[2], 10) / 100;
              var l = parseInt(color[3], 10) / 100;
              handleAlpha(color[5]);
              return this.setHSL(h, s, l);
            }
            break;
        }
      } else if (m = /^\#([A-Fa-f0-9]+)$/.exec(style)) {
        var hex = m[1];
        var size = hex.length;
        if (size === 3) {
          this.r = parseInt(hex.charAt(0) + hex.charAt(0), 16) / 255;
          this.g = parseInt(hex.charAt(1) + hex.charAt(1), 16) / 255;
          this.b = parseInt(hex.charAt(2) + hex.charAt(2), 16) / 255;
          return this;
        } else if (size === 6) {
          this.r = parseInt(hex.charAt(0) + hex.charAt(1), 16) / 255;
          this.g = parseInt(hex.charAt(2) + hex.charAt(3), 16) / 255;
          this.b = parseInt(hex.charAt(4) + hex.charAt(5), 16) / 255;
          return this;
        }
      }
      if (style && style.length > 0) {
        var hex = ColorKeywords[style];
        if (hex !== undefined) {
          this.setHex(hex);
        } else {
          console.warn('THREE.Color: Unknown color ' + style);
        }
      }
      return this;
    },
    clone: function() {
      return new this.constructor(this.r, this.g, this.b);
    },
    copy: function(color) {
      this.r = color.r;
      this.g = color.g;
      this.b = color.b;
      return this;
    },
    copyGammaToLinear: function(color, gammaFactor) {
      if (gammaFactor === undefined)
        gammaFactor = 2.0;
      this.r = Math.pow(color.r, gammaFactor);
      this.g = Math.pow(color.g, gammaFactor);
      this.b = Math.pow(color.b, gammaFactor);
      return this;
    },
    copyLinearToGamma: function(color, gammaFactor) {
      if (gammaFactor === undefined)
        gammaFactor = 2.0;
      var safeInverse = (gammaFactor > 0) ? (1.0 / gammaFactor) : 1.0;
      this.r = Math.pow(color.r, safeInverse);
      this.g = Math.pow(color.g, safeInverse);
      this.b = Math.pow(color.b, safeInverse);
      return this;
    },
    convertGammaToLinear: function(gammaFactor) {
      this.copyGammaToLinear(this, gammaFactor);
      return this;
    },
    convertLinearToGamma: function(gammaFactor) {
      this.copyLinearToGamma(this, gammaFactor);
      return this;
    },
    copySRGBToLinear: function() {
      function SRGBToLinear(c) {
        return (c < 0.04045) ? c * 0.0773993808 : Math.pow(c * 0.9478672986 + 0.0521327014, 2.4);
      }
      return function copySRGBToLinear(color) {
        this.r = SRGBToLinear(color.r);
        this.g = SRGBToLinear(color.g);
        this.b = SRGBToLinear(color.b);
        return this;
      };
    }(),
    copyLinearToSRGB: function() {
      function LinearToSRGB(c) {
        return (c < 0.0031308) ? c * 12.92 : 1.055 * (Math.pow(c, 0.41666)) - 0.055;
      }
      return function copyLinearToSRGB(color) {
        this.r = LinearToSRGB(color.r);
        this.g = LinearToSRGB(color.g);
        this.b = LinearToSRGB(color.b);
        return this;
      };
    }(),
    convertSRGBToLinear: function() {
      this.copySRGBToLinear(this);
      return this;
    },
    convertLinearToSRGB: function() {
      this.copyLinearToSRGB(this);
      return this;
    },
    getHex: function() {
      return (this.r * 255) << 16 ^ (this.g * 255) << 8 ^ (this.b * 255) << 0;
    },
    getHexString: function() {
      return ('000000' + this.getHex().toString(16)).slice(-6);
    },
    getHSL: function(target) {
      if (target === undefined) {
        console.warn('THREE.Color: .getHSL() target is now required');
        target = {
          h: 0,
          s: 0,
          l: 0
        };
      }
      var r = this.r,
          g = this.g,
          b = this.b;
      var max = Math.max(r, g, b);
      var min = Math.min(r, g, b);
      var hue,
          saturation;
      var lightness = (min + max) / 2.0;
      if (min === max) {
        hue = 0;
        saturation = 0;
      } else {
        var delta = max - min;
        saturation = lightness <= 0.5 ? delta / (max + min) : delta / (2 - max - min);
        switch (max) {
          case r:
            hue = (g - b) / delta + (g < b ? 6 : 0);
            break;
          case g:
            hue = (b - r) / delta + 2;
            break;
          case b:
            hue = (r - g) / delta + 4;
            break;
        }
        hue /= 6;
      }
      target.h = hue;
      target.s = saturation;
      target.l = lightness;
      return target;
    },
    getStyle: function() {
      return 'rgb(' + ((this.r * 255) | 0) + ',' + ((this.g * 255) | 0) + ',' + ((this.b * 255) | 0) + ')';
    },
    offsetHSL: function() {
      var hsl = {};
      return function(h, s, l) {
        this.getHSL(hsl);
        hsl.h += h;
        hsl.s += s;
        hsl.l += l;
        this.setHSL(hsl.h, hsl.s, hsl.l);
        return this;
      };
    }(),
    add: function(color) {
      this.r += color.r;
      this.g += color.g;
      this.b += color.b;
      return this;
    },
    addColors: function(color1, color2) {
      this.r = color1.r + color2.r;
      this.g = color1.g + color2.g;
      this.b = color1.b + color2.b;
      return this;
    },
    addScalar: function(s) {
      this.r += s;
      this.g += s;
      this.b += s;
      return this;
    },
    sub: function(color) {
      this.r = Math.max(0, this.r - color.r);
      this.g = Math.max(0, this.g - color.g);
      this.b = Math.max(0, this.b - color.b);
      return this;
    },
    multiply: function(color) {
      this.r *= color.r;
      this.g *= color.g;
      this.b *= color.b;
      return this;
    },
    multiplyScalar: function(s) {
      this.r *= s;
      this.g *= s;
      this.b *= s;
      return this;
    },
    lerp: function(color, alpha) {
      this.r += (color.r - this.r) * alpha;
      this.g += (color.g - this.g) * alpha;
      this.b += (color.b - this.b) * alpha;
      return this;
    },
    equals: function(c) {
      return (c.r === this.r) && (c.g === this.g) && (c.b === this.b);
    },
    fromArray: function(array, offset) {
      if (offset === undefined)
        offset = 0;
      this.r = array[offset];
      this.g = array[offset + 1];
      this.b = array[offset + 2];
      return this;
    },
    toArray: function(array, offset) {
      if (array === undefined)
        array = [];
      if (offset === undefined)
        offset = 0;
      array[offset] = this.r;
      array[offset + 1] = this.g;
      array[offset + 2] = this.b;
      return array;
    },
    toJSON: function() {
      return this.getHex();
    }
  });
  var UniformsLib = {
    common: {
      diffuse: {value: new Color(0xeeeeee)},
      opacity: {value: 1.0},
      map: {value: null},
      uvTransform: {value: new Matrix3()},
      alphaMap: {value: null}
    },
    specularmap: {specularMap: {value: null}},
    envmap: {
      envMap: {value: null},
      flipEnvMap: {value: -1},
      reflectivity: {value: 1.0},
      refractionRatio: {value: 0.98},
      maxMipLevel: {value: 0}
    },
    aomap: {
      aoMap: {value: null},
      aoMapIntensity: {value: 1}
    },
    lightmap: {
      lightMap: {value: null},
      lightMapIntensity: {value: 1}
    },
    emissivemap: {emissiveMap: {value: null}},
    bumpmap: {
      bumpMap: {value: null},
      bumpScale: {value: 1}
    },
    normalmap: {
      normalMap: {value: null},
      normalScale: {value: new Vector2(1, 1)}
    },
    displacementmap: {
      displacementMap: {value: null},
      displacementScale: {value: 1},
      displacementBias: {value: 0}
    },
    roughnessmap: {roughnessMap: {value: null}},
    metalnessmap: {metalnessMap: {value: null}},
    gradientmap: {gradientMap: {value: null}},
    fog: {
      fogDensity: {value: 0.00025},
      fogNear: {value: 1},
      fogFar: {value: 2000},
      fogColor: {value: new Color(0xffffff)}
    },
    lights: {
      ambientLightColor: {value: []},
      directionalLights: {
        value: [],
        properties: {
          direction: {},
          color: {},
          shadow: {},
          shadowBias: {},
          shadowRadius: {},
          shadowMapSize: {}
        }
      },
      directionalShadowMap: {value: []},
      directionalShadowMatrix: {value: []},
      spotLights: {
        value: [],
        properties: {
          color: {},
          position: {},
          direction: {},
          distance: {},
          coneCos: {},
          penumbraCos: {},
          decay: {},
          shadow: {},
          shadowBias: {},
          shadowRadius: {},
          shadowMapSize: {}
        }
      },
      spotShadowMap: {value: []},
      spotShadowMatrix: {value: []},
      pointLights: {
        value: [],
        properties: {
          color: {},
          position: {},
          decay: {},
          distance: {},
          shadow: {},
          shadowBias: {},
          shadowRadius: {},
          shadowMapSize: {},
          shadowCameraNear: {},
          shadowCameraFar: {}
        }
      },
      pointShadowMap: {value: []},
      pointShadowMatrix: {value: []},
      hemisphereLights: {
        value: [],
        properties: {
          direction: {},
          skyColor: {},
          groundColor: {}
        }
      },
      rectAreaLights: {
        value: [],
        properties: {
          color: {},
          position: {},
          width: {},
          height: {}
        }
      }
    },
    points: {
      diffuse: {value: new Color(0xeeeeee)},
      opacity: {value: 1.0},
      size: {value: 1.0},
      scale: {value: 1.0},
      map: {value: null},
      uvTransform: {value: new Matrix3()}
    }
  };
  var ShaderLib = {
    basic: {
      uniforms: UniformsUtils.merge([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.fog]),
      vertexShader: ShaderChunk.meshbasic_vert,
      fragmentShader: ShaderChunk.meshbasic_frag
    },
    lambert: {
      uniforms: UniformsUtils.merge([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.fog, UniformsLib.lights, {emissive: {value: new Color(0x000000)}}]),
      vertexShader: ShaderChunk.meshlambert_vert,
      fragmentShader: ShaderChunk.meshlambert_frag
    },
    phong: {
      uniforms: UniformsUtils.merge([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.gradientmap, UniformsLib.fog, UniformsLib.lights, {
        emissive: {value: new Color(0x000000)},
        specular: {value: new Color(0x111111)},
        shininess: {value: 30}
      }]),
      vertexShader: ShaderChunk.meshphong_vert,
      fragmentShader: ShaderChunk.meshphong_frag
    },
    standard: {
      uniforms: UniformsUtils.merge([UniformsLib.common, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.roughnessmap, UniformsLib.metalnessmap, UniformsLib.fog, UniformsLib.lights, {
        emissive: {value: new Color(0x000000)},
        roughness: {value: 0.5},
        metalness: {value: 0.5},
        envMapIntensity: {value: 1}
      }]),
      vertexShader: ShaderChunk.meshphysical_vert,
      fragmentShader: ShaderChunk.meshphysical_frag
    },
    points: {
      uniforms: UniformsUtils.merge([UniformsLib.points, UniformsLib.fog]),
      vertexShader: ShaderChunk.points_vert,
      fragmentShader: ShaderChunk.points_frag
    },
    dashed: {
      uniforms: UniformsUtils.merge([UniformsLib.common, UniformsLib.fog, {
        scale: {value: 1},
        dashSize: {value: 1},
        totalSize: {value: 2}
      }]),
      vertexShader: ShaderChunk.linedashed_vert,
      fragmentShader: ShaderChunk.linedashed_frag
    },
    depth: {
      uniforms: UniformsUtils.merge([UniformsLib.common, UniformsLib.displacementmap]),
      vertexShader: ShaderChunk.depth_vert,
      fragmentShader: ShaderChunk.depth_frag
    },
    normal: {
      uniforms: UniformsUtils.merge([UniformsLib.common, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, {opacity: {value: 1.0}}]),
      vertexShader: ShaderChunk.normal_vert,
      fragmentShader: ShaderChunk.normal_frag
    },
    cube: {
      uniforms: {
        tCube: {value: null},
        tFlip: {value: -1},
        opacity: {value: 1.0}
      },
      vertexShader: ShaderChunk.cube_vert,
      fragmentShader: ShaderChunk.cube_frag
    },
    equirect: {
      uniforms: {tEquirect: {value: null}},
      vertexShader: ShaderChunk.equirect_vert,
      fragmentShader: ShaderChunk.equirect_frag
    },
    distanceRGBA: {
      uniforms: UniformsUtils.merge([UniformsLib.common, UniformsLib.displacementmap, {
        referencePosition: {value: new Vector3()},
        nearDistance: {value: 1},
        farDistance: {value: 1000}
      }]),
      vertexShader: ShaderChunk.distanceRGBA_vert,
      fragmentShader: ShaderChunk.distanceRGBA_frag
    },
    shadow: {
      uniforms: UniformsUtils.merge([UniformsLib.lights, UniformsLib.fog, {
        color: {value: new Color(0x00000)},
        opacity: {value: 1.0}
      }]),
      vertexShader: ShaderChunk.shadow_vert,
      fragmentShader: ShaderChunk.shadow_frag
    }
  };
  ShaderLib.physical = {
    uniforms: UniformsUtils.merge([ShaderLib.standard.uniforms, {
      clearCoat: {value: 0},
      clearCoatRoughness: {value: 0}
    }]),
    vertexShader: ShaderChunk.meshphysical_vert,
    fragmentShader: ShaderChunk.meshphysical_frag
  };
  function WebGLAnimation() {
    var context = null;
    var isAnimating = false;
    var animationLoop = null;
    function onAnimationFrame(time, frame) {
      if (isAnimating === false)
        return;
      animationLoop(time, frame);
      context.requestAnimationFrame(onAnimationFrame);
    }
    return {
      start: function() {
        if (isAnimating === true)
          return;
        if (animationLoop === null)
          return;
        context.requestAnimationFrame(onAnimationFrame);
        isAnimating = true;
      },
      stop: function() {
        isAnimating = false;
      },
      setAnimationLoop: function(callback) {
        animationLoop = callback;
      },
      setContext: function(value) {
        context = value;
      }
    };
  }
  function WebGLAttributes(gl) {
    var buffers = new WeakMap();
    function createBuffer(attribute, bufferType) {
      var array = attribute.array;
      var usage = attribute.dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;
      var buffer = gl.createBuffer();
      gl.bindBuffer(bufferType, buffer);
      gl.bufferData(bufferType, array, usage);
      attribute.onUploadCallback();
      var type = gl.FLOAT;
      if (array instanceof Float32Array) {
        type = gl.FLOAT;
      } else if (array instanceof Float64Array) {
        console.warn('THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.');
      } else if (array instanceof Uint16Array) {
        type = gl.UNSIGNED_SHORT;
      } else if (array instanceof Int16Array) {
        type = gl.SHORT;
      } else if (array instanceof Uint32Array) {
        type = gl.UNSIGNED_INT;
      } else if (array instanceof Int32Array) {
        type = gl.INT;
      } else if (array instanceof Int8Array) {
        type = gl.BYTE;
      } else if (array instanceof Uint8Array) {
        type = gl.UNSIGNED_BYTE;
      }
      return {
        buffer: buffer,
        type: type,
        bytesPerElement: array.BYTES_PER_ELEMENT,
        version: attribute.version
      };
    }
    function updateBuffer(buffer, attribute, bufferType) {
      var array = attribute.array;
      var updateRange = attribute.updateRange;
      gl.bindBuffer(bufferType, buffer);
      if (attribute.dynamic === false) {
        gl.bufferData(bufferType, array, gl.STATIC_DRAW);
      } else if (updateRange.count === -1) {
        gl.bufferSubData(bufferType, 0, array);
      } else if (updateRange.count === 0) {
        console.error('THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.');
      } else {
        gl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT, array.subarray(updateRange.offset, updateRange.offset + updateRange.count));
        updateRange.count = -1;
      }
    }
    function get(attribute) {
      if (attribute.isInterleavedBufferAttribute)
        attribute = attribute.data;
      return buffers.get(attribute);
    }
    function remove(attribute) {
      if (attribute.isInterleavedBufferAttribute)
        attribute = attribute.data;
      var data = buffers.get(attribute);
      if (data) {
        gl.deleteBuffer(data.buffer);
        buffers.delete(attribute);
      }
    }
    function update(attribute, bufferType) {
      if (attribute.isInterleavedBufferAttribute)
        attribute = attribute.data;
      var data = buffers.get(attribute);
      if (data === undefined) {
        buffers.set(attribute, createBuffer(attribute, bufferType));
      } else if (data.version < attribute.version) {
        updateBuffer(data.buffer, attribute, bufferType);
        data.version = attribute.version;
      }
    }
    return {
      get: get,
      remove: remove,
      update: update
    };
  }
  function Euler(x, y, z, order) {
    this._x = x || 0;
    this._y = y || 0;
    this._z = z || 0;
    this._order = order || Euler.DefaultOrder;
  }
  Euler.RotationOrders = ['XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX'];
  Euler.DefaultOrder = 'XYZ';
  Object.defineProperties(Euler.prototype, {
    x: {
      get: function() {
        return this._x;
      },
      set: function(value) {
        this._x = value;
        this.onChangeCallback();
      }
    },
    y: {
      get: function() {
        return this._y;
      },
      set: function(value) {
        this._y = value;
        this.onChangeCallback();
      }
    },
    z: {
      get: function() {
        return this._z;
      },
      set: function(value) {
        this._z = value;
        this.onChangeCallback();
      }
    },
    order: {
      get: function() {
        return this._order;
      },
      set: function(value) {
        this._order = value;
        this.onChangeCallback();
      }
    }
  });
  Object.assign(Euler.prototype, {
    isEuler: true,
    set: function(x, y, z, order) {
      this._x = x;
      this._y = y;
      this._z = z;
      this._order = order || this._order;
      this.onChangeCallback();
      return this;
    },
    clone: function() {
      return new this.constructor(this._x, this._y, this._z, this._order);
    },
    copy: function(euler) {
      this._x = euler._x;
      this._y = euler._y;
      this._z = euler._z;
      this._order = euler._order;
      this.onChangeCallback();
      return this;
    },
    setFromRotationMatrix: function(m, order, update) {
      var clamp = _Math.clamp;
      var te = m.elements;
      var m11 = te[0],
          m12 = te[4],
          m13 = te[8];
      var m21 = te[1],
          m22 = te[5],
          m23 = te[9];
      var m31 = te[2],
          m32 = te[6],
          m33 = te[10];
      order = order || this._order;
      if (order === 'XYZ') {
        this._y = Math.asin(clamp(m13, -1, 1));
        if (Math.abs(m13) < 0.99999) {
          this._x = Math.atan2(-m23, m33);
          this._z = Math.atan2(-m12, m11);
        } else {
          this._x = Math.atan2(m32, m22);
          this._z = 0;
        }
      } else if (order === 'YXZ') {
        this._x = Math.asin(-clamp(m23, -1, 1));
        if (Math.abs(m23) < 0.99999) {
          this._y = Math.atan2(m13, m33);
          this._z = Math.atan2(m21, m22);
        } else {
          this._y = Math.atan2(-m31, m11);
          this._z = 0;
        }
      } else if (order === 'ZXY') {
        this._x = Math.asin(clamp(m32, -1, 1));
        if (Math.abs(m32) < 0.99999) {
          this._y = Math.atan2(-m31, m33);
          this._z = Math.atan2(-m12, m22);
        } else {
          this._y = 0;
          this._z = Math.atan2(m21, m11);
        }
      } else if (order === 'ZYX') {
        this._y = Math.asin(-clamp(m31, -1, 1));
        if (Math.abs(m31) < 0.99999) {
          this._x = Math.atan2(m32, m33);
          this._z = Math.atan2(m21, m11);
        } else {
          this._x = 0;
          this._z = Math.atan2(-m12, m22);
        }
      } else if (order === 'YZX') {
        this._z = Math.asin(clamp(m21, -1, 1));
        if (Math.abs(m21) < 0.99999) {
          this._x = Math.atan2(-m23, m22);
          this._y = Math.atan2(-m31, m11);
        } else {
          this._x = 0;
          this._y = Math.atan2(m13, m33);
        }
      } else if (order === 'XZY') {
        this._z = Math.asin(-clamp(m12, -1, 1));
        if (Math.abs(m12) < 0.99999) {
          this._x = Math.atan2(m32, m22);
          this._y = Math.atan2(m13, m11);
        } else {
          this._x = Math.atan2(-m23, m33);
          this._y = 0;
        }
      } else {
        console.warn('THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order);
      }
      this._order = order;
      if (update !== false)
        this.onChangeCallback();
      return this;
    },
    setFromQuaternion: function() {
      var matrix = new Matrix4();
      return function setFromQuaternion(q, order, update) {
        matrix.makeRotationFromQuaternion(q);
        return this.setFromRotationMatrix(matrix, order, update);
      };
    }(),
    setFromVector3: function(v, order) {
      return this.set(v.x, v.y, v.z, order || this._order);
    },
    reorder: function() {
      var q = new Quaternion();
      return function reorder(newOrder) {
        q.setFromEuler(this);
        return this.setFromQuaternion(q, newOrder);
      };
    }(),
    equals: function(euler) {
      return (euler._x === this._x) && (euler._y === this._y) && (euler._z === this._z) && (euler._order === this._order);
    },
    fromArray: function(array) {
      this._x = array[0];
      this._y = array[1];
      this._z = array[2];
      if (array[3] !== undefined)
        this._order = array[3];
      this.onChangeCallback();
      return this;
    },
    toArray: function(array, offset) {
      if (array === undefined)
        array = [];
      if (offset === undefined)
        offset = 0;
      array[offset] = this._x;
      array[offset + 1] = this._y;
      array[offset + 2] = this._z;
      array[offset + 3] = this._order;
      return array;
    },
    toVector3: function(optionalResult) {
      if (optionalResult) {
        return optionalResult.set(this._x, this._y, this._z);
      } else {
        return new Vector3(this._x, this._y, this._z);
      }
    },
    onChange: function(callback) {
      this.onChangeCallback = callback;
      return this;
    },
    onChangeCallback: function() {}
  });
  function Layers() {
    this.mask = 1 | 0;
  }
  Object.assign(Layers.prototype, {
    set: function(channel) {
      this.mask = 1 << channel | 0;
    },
    enable: function(channel) {
      this.mask |= 1 << channel | 0;
    },
    toggle: function(channel) {
      this.mask ^= 1 << channel | 0;
    },
    disable: function(channel) {
      this.mask &= ~(1 << channel | 0);
    },
    test: function(layers) {
      return (this.mask & layers.mask) !== 0;
    }
  });
  var object3DId = 0;
  function Object3D() {
    Object.defineProperty(this, 'id', {value: object3DId++});
    this.uuid = _Math.generateUUID();
    this.name = '';
    this.type = 'Object3D';
    this.parent = null;
    this.children = [];
    this.up = Object3D.DefaultUp.clone();
    var position = new Vector3();
    var rotation = new Euler();
    var quaternion = new Quaternion();
    var scale = new Vector3(1, 1, 1);
    function onRotationChange() {
      quaternion.setFromEuler(rotation, false);
    }
    function onQuaternionChange() {
      rotation.setFromQuaternion(quaternion, undefined, false);
    }
    rotation.onChange(onRotationChange);
    quaternion.onChange(onQuaternionChange);
    Object.defineProperties(this, {
      position: {
        enumerable: true,
        value: position
      },
      rotation: {
        enumerable: true,
        value: rotation
      },
      quaternion: {
        enumerable: true,
        value: quaternion
      },
      scale: {
        enumerable: true,
        value: scale
      },
      modelViewMatrix: {value: new Matrix4()},
      normalMatrix: {value: new Matrix3()}
    });
    this.matrix = new Matrix4();
    this.matrixWorld = new Matrix4();
    this.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;
    this.matrixWorldNeedsUpdate = false;
    this.layers = new Layers();
    this.visible = true;
    this.castShadow = false;
    this.receiveShadow = false;
    this.frustumCulled = true;
    this.renderOrder = 0;
    this.userData = {};
  }
  Object3D.DefaultUp = new Vector3(0, 1, 0);
  Object3D.DefaultMatrixAutoUpdate = true;
  Object3D.prototype = Object.assign(Object.create(EventDispatcher.prototype), {
    constructor: Object3D,
    isObject3D: true,
    onBeforeRender: function() {},
    onAfterRender: function() {},
    applyMatrix: function(matrix) {
      this.matrix.multiplyMatrices(matrix, this.matrix);
      this.matrix.decompose(this.position, this.quaternion, this.scale);
    },
    applyQuaternion: function(q) {
      this.quaternion.premultiply(q);
      return this;
    },
    setRotationFromAxisAngle: function(axis, angle) {
      this.quaternion.setFromAxisAngle(axis, angle);
    },
    setRotationFromEuler: function(euler) {
      this.quaternion.setFromEuler(euler, true);
    },
    setRotationFromMatrix: function(m) {
      this.quaternion.setFromRotationMatrix(m);
    },
    setRotationFromQuaternion: function(q) {
      this.quaternion.copy(q);
    },
    rotateOnAxis: function() {
      var q1 = new Quaternion();
      return function rotateOnAxis(axis, angle) {
        q1.setFromAxisAngle(axis, angle);
        this.quaternion.multiply(q1);
        return this;
      };
    }(),
    rotateOnWorldAxis: function() {
      var q1 = new Quaternion();
      return function rotateOnWorldAxis(axis, angle) {
        q1.setFromAxisAngle(axis, angle);
        this.quaternion.premultiply(q1);
        return this;
      };
    }(),
    rotateX: function() {
      var v1 = new Vector3(1, 0, 0);
      return function rotateX(angle) {
        return this.rotateOnAxis(v1, angle);
      };
    }(),
    rotateY: function() {
      var v1 = new Vector3(0, 1, 0);
      return function rotateY(angle) {
        return this.rotateOnAxis(v1, angle);
      };
    }(),
    rotateZ: function() {
      var v1 = new Vector3(0, 0, 1);
      return function rotateZ(angle) {
        return this.rotateOnAxis(v1, angle);
      };
    }(),
    translateOnAxis: function() {
      var v1 = new Vector3();
      return function translateOnAxis(axis, distance) {
        v1.copy(axis).applyQuaternion(this.quaternion);
        this.position.add(v1.multiplyScalar(distance));
        return this;
      };
    }(),
    translateX: function() {
      var v1 = new Vector3(1, 0, 0);
      return function translateX(distance) {
        return this.translateOnAxis(v1, distance);
      };
    }(),
    translateY: function() {
      var v1 = new Vector3(0, 1, 0);
      return function translateY(distance) {
        return this.translateOnAxis(v1, distance);
      };
    }(),
    translateZ: function() {
      var v1 = new Vector3(0, 0, 1);
      return function translateZ(distance) {
        return this.translateOnAxis(v1, distance);
      };
    }(),
    localToWorld: function(vector) {
      return vector.applyMatrix4(this.matrixWorld);
    },
    worldToLocal: function() {
      var m1 = new Matrix4();
      return function worldToLocal(vector) {
        return vector.applyMatrix4(m1.getInverse(this.matrixWorld));
      };
    }(),
    lookAt: function() {
      var m1 = new Matrix4();
      var vector = new Vector3();
      return function lookAt(x, y, z) {
        if (x.isVector3) {
          vector.copy(x);
        } else {
          vector.set(x, y, z);
        }
        if (this.isCamera) {
          m1.lookAt(this.position, vector, this.up);
        } else {
          m1.lookAt(vector, this.position, this.up);
        }
        this.quaternion.setFromRotationMatrix(m1);
      };
    }(),
    add: function(object) {
      if (arguments.length > 1) {
        for (var i = 0; i < arguments.length; i++) {
          this.add(arguments[i]);
        }
        return this;
      }
      if (object === this) {
        console.error("THREE.Object3D.add: object can't be added as a child of itself.", object);
        return this;
      }
      if ((object && object.isObject3D)) {
        if (object.parent !== null) {
          object.parent.remove(object);
        }
        object.parent = this;
        object.dispatchEvent({type: 'added'});
        this.children.push(object);
      } else {
        console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", object);
      }
      return this;
    },
    remove: function(object) {
      if (arguments.length > 1) {
        for (var i = 0; i < arguments.length; i++) {
          this.remove(arguments[i]);
        }
        return this;
      }
      var index = this.children.indexOf(object);
      if (index !== -1) {
        object.parent = null;
        object.dispatchEvent({type: 'removed'});
        this.children.splice(index, 1);
      }
      return this;
    },
    getObjectById: function(id) {
      return this.getObjectByProperty('id', id);
    },
    getObjectByName: function(name) {
      return this.getObjectByProperty('name', name);
    },
    getObjectByProperty: function(name, value) {
      if (this[name] === value)
        return this;
      for (var i = 0,
          l = this.children.length; i < l; i++) {
        var child = this.children[i];
        var object = child.getObjectByProperty(name, value);
        if (object !== undefined) {
          return object;
        }
      }
      return undefined;
    },
    getWorldPosition: function(target) {
      if (target === undefined) {
        console.warn('THREE.Object3D: .getWorldPosition() target is now required');
        target = new Vector3();
      }
      this.updateMatrixWorld(true);
      return target.setFromMatrixPosition(this.matrixWorld);
    },
    getWorldQuaternion: function() {
      var position = new Vector3();
      var scale = new Vector3();
      return function getWorldQuaternion(target) {
        if (target === undefined) {
          console.warn('THREE.Object3D: .getWorldQuaternion() target is now required');
          target = new Quaternion();
        }
        this.updateMatrixWorld(true);
        this.matrixWorld.decompose(position, target, scale);
        return target;
      };
    }(),
    getWorldScale: function() {
      var position = new Vector3();
      var quaternion = new Quaternion();
      return function getWorldScale(target) {
        if (target === undefined) {
          console.warn('THREE.Object3D: .getWorldScale() target is now required');
          target = new Vector3();
        }
        this.updateMatrixWorld(true);
        this.matrixWorld.decompose(position, quaternion, target);
        return target;
      };
    }(),
    getWorldDirection: function() {
      var quaternion = new Quaternion();
      return function getWorldDirection(target) {
        if (target === undefined) {
          console.warn('THREE.Object3D: .getWorldDirection() target is now required');
          target = new Vector3();
        }
        this.getWorldQuaternion(quaternion);
        return target.set(0, 0, 1).applyQuaternion(quaternion);
      };
    }(),
    raycast: function() {},
    traverse: function(callback) {
      callback(this);
      var children = this.children;
      for (var i = 0,
          l = children.length; i < l; i++) {
        children[i].traverse(callback);
      }
    },
    traverseVisible: function(callback) {
      if (this.visible === false)
        return;
      callback(this);
      var children = this.children;
      for (var i = 0,
          l = children.length; i < l; i++) {
        children[i].traverseVisible(callback);
      }
    },
    traverseAncestors: function(callback) {
      var parent = this.parent;
      if (parent !== null) {
        callback(parent);
        parent.traverseAncestors(callback);
      }
    },
    updateMatrix: function() {
      this.matrix.compose(this.position, this.quaternion, this.scale);
      this.matrixWorldNeedsUpdate = true;
    },
    updateMatrixWorld: function(force) {
      if (this.matrixAutoUpdate)
        this.updateMatrix();
      if (this.matrixWorldNeedsUpdate || force) {
        if (this.parent === null) {
          this.matrixWorld.copy(this.matrix);
        } else {
          this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);
        }
        this.matrixWorldNeedsUpdate = false;
        force = true;
      }
      var children = this.children;
      for (var i = 0,
          l = children.length; i < l; i++) {
        children[i].updateMatrixWorld(force);
      }
    },
    toJSON: function(meta) {
      var isRootObject = (meta === undefined || typeof meta === 'string');
      var output = {};
      if (isRootObject) {
        meta = {
          geometries: {},
          materials: {},
          textures: {},
          images: {},
          shapes: {}
        };
        output.metadata = {
          version: 4.5,
          type: 'Object',
          generator: 'Object3D.toJSON'
        };
      }
      var object = {};
      object.uuid = this.uuid;
      object.type = this.type;
      if (this.name !== '')
        object.name = this.name;
      if (this.castShadow === true)
        object.castShadow = true;
      if (this.receiveShadow === true)
        object.receiveShadow = true;
      if (this.visible === false)
        object.visible = false;
      if (this.frustumCulled === false)
        object.frustumCulled = false;
      if (this.renderOrder !== 0)
        object.renderOrder = this.renderOrder;
      if (JSON.stringify(this.userData) !== '{}')
        object.userData = this.userData;
      object.layers = this.layers.mask;
      object.matrix = this.matrix.toArray();
      if (this.matrixAutoUpdate === false)
        object.matrixAutoUpdate = false;
      function serialize(library, element) {
        if (library[element.uuid] === undefined) {
          library[element.uuid] = element.toJSON(meta);
        }
        return element.uuid;
      }
      if (this.geometry !== undefined) {
        object.geometry = serialize(meta.geometries, this.geometry);
        var parameters = this.geometry.parameters;
        if (parameters !== undefined && parameters.shapes !== undefined) {
          var shapes = parameters.shapes;
          if (Array.isArray(shapes)) {
            for (var i = 0,
                l = shapes.length; i < l; i++) {
              var shape = shapes[i];
              serialize(meta.shapes, shape);
            }
          } else {
            serialize(meta.shapes, shapes);
          }
        }
      }
      if (this.material !== undefined) {
        if (Array.isArray(this.material)) {
          var uuids = [];
          for (var i = 0,
              l = this.material.length; i < l; i++) {
            uuids.push(serialize(meta.materials, this.material[i]));
          }
          object.material = uuids;
        } else {
          object.material = serialize(meta.materials, this.material);
        }
      }
      if (this.children.length > 0) {
        object.children = [];
        for (var i = 0; i < this.children.length; i++) {
          object.children.push(this.children[i].toJSON(meta).object);
        }
      }
      if (isRootObject) {
        var geometries = extractFromCache(meta.geometries);
        var materials = extractFromCache(meta.materials);
        var textures = extractFromCache(meta.textures);
        var images = extractFromCache(meta.images);
        var shapes = extractFromCache(meta.shapes);
        if (geometries.length > 0)
          output.geometries = geometries;
        if (materials.length > 0)
          output.materials = materials;
        if (textures.length > 0)
          output.textures = textures;
        if (images.length > 0)
          output.images = images;
        if (shapes.length > 0)
          output.shapes = shapes;
      }
      output.object = object;
      return output;
      function extractFromCache(cache) {
        var values = [];
        for (var key in cache) {
          var data = cache[key];
          delete data.metadata;
          values.push(data);
        }
        return values;
      }
    },
    clone: function(recursive) {
      return new this.constructor().copy(this, recursive);
    },
    copy: function(source, recursive) {
      if (recursive === undefined)
        recursive = true;
      this.name = source.name;
      this.up.copy(source.up);
      this.position.copy(source.position);
      this.quaternion.copy(source.quaternion);
      this.scale.copy(source.scale);
      this.matrix.copy(source.matrix);
      this.matrixWorld.copy(source.matrixWorld);
      this.matrixAutoUpdate = source.matrixAutoUpdate;
      this.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;
      this.layers.mask = source.layers.mask;
      this.visible = source.visible;
      this.castShadow = source.castShadow;
      this.receiveShadow = source.receiveShadow;
      this.frustumCulled = source.frustumCulled;
      this.renderOrder = source.renderOrder;
      this.userData = JSON.parse(JSON.stringify(source.userData));
      if (recursive === true) {
        for (var i = 0; i < source.children.length; i++) {
          var child = source.children[i];
          this.add(child.clone());
        }
      }
      return this;
    }
  });
  function Camera() {
    Object3D.call(this);
    this.type = 'Camera';
    this.matrixWorldInverse = new Matrix4();
    this.projectionMatrix = new Matrix4();
  }
  Camera.prototype = Object.assign(Object.create(Object3D.prototype), {
    constructor: Camera,
    isCamera: true,
    copy: function(source, recursive) {
      Object3D.prototype.copy.call(this, source, recursive);
      this.matrixWorldInverse.copy(source.matrixWorldInverse);
      this.projectionMatrix.copy(source.projectionMatrix);
      return this;
    },
    getWorldDirection: function() {
      var quaternion = new Quaternion();
      return function getWorldDirection(target) {
        if (target === undefined) {
          console.warn('THREE.Camera: .getWorldDirection() target is now required');
          target = new Vector3();
        }
        this.getWorldQuaternion(quaternion);
        return target.set(0, 0, -1).applyQuaternion(quaternion);
      };
    }(),
    updateMatrixWorld: function(force) {
      Object3D.prototype.updateMatrixWorld.call(this, force);
      this.matrixWorldInverse.getInverse(this.matrixWorld);
    },
    clone: function() {
      return new this.constructor().copy(this);
    }
  });
  function OrthographicCamera(left, right, top, bottom, near, far) {
    Camera.call(this);
    this.type = 'OrthographicCamera';
    this.zoom = 1;
    this.view = null;
    this.left = left;
    this.right = right;
    this.top = top;
    this.bottom = bottom;
    this.near = (near !== undefined) ? near : 0.1;
    this.far = (far !== undefined) ? far : 2000;
    this.updateProjectionMatrix();
  }
  OrthographicCamera.prototype = Object.assign(Object.create(Camera.prototype), {
    constructor: OrthographicCamera,
    isOrthographicCamera: true,
    copy: function(source, recursive) {
      Camera.prototype.copy.call(this, source, recursive);
      this.left = source.left;
      this.right = source.right;
      this.top = source.top;
      this.bottom = source.bottom;
      this.near = source.near;
      this.far = source.far;
      this.zoom = source.zoom;
      this.view = source.view === null ? null : Object.assign({}, source.view);
      return this;
    },
    setViewOffset: function(fullWidth, fullHeight, x, y, width, height) {
      if (this.view === null) {
        this.view = {
          enabled: true,
          fullWidth: 1,
          fullHeight: 1,
          offsetX: 0,
          offsetY: 0,
          width: 1,
          height: 1
        };
      }
      this.view.enabled = true;
      this.view.fullWidth = fullWidth;
      this.view.fullHeight = fullHeight;
      this.view.offsetX = x;
      this.view.offsetY = y;
      this.view.width = width;
      this.view.height = height;
      this.updateProjectionMatrix();
    },
    clearViewOffset: function() {
      if (this.view !== null) {
        this.view.enabled = false;
      }
      this.updateProjectionMatrix();
    },
    updateProjectionMatrix: function() {
      var dx = (this.right - this.left) / (2 * this.zoom);
      var dy = (this.top - this.bottom) / (2 * this.zoom);
      var cx = (this.right + this.left) / 2;
      var cy = (this.top + this.bottom) / 2;
      var left = cx - dx;
      var right = cx + dx;
      var top = cy + dy;
      var bottom = cy - dy;
      if (this.view !== null && this.view.enabled) {
        var zoomW = this.zoom / (this.view.width / this.view.fullWidth);
        var zoomH = this.zoom / (this.view.height / this.view.fullHeight);
        var scaleW = (this.right - this.left) / this.view.width;
        var scaleH = (this.top - this.bottom) / this.view.height;
        left += scaleW * (this.view.offsetX / zoomW);
        right = left + scaleW * (this.view.width / zoomW);
        top -= scaleH * (this.view.offsetY / zoomH);
        bottom = top - scaleH * (this.view.height / zoomH);
      }
      this.projectionMatrix.makeOrthographic(left, right, top, bottom, this.near, this.far);
    },
    toJSON: function(meta) {
      var data = Object3D.prototype.toJSON.call(this, meta);
      data.object.zoom = this.zoom;
      data.object.left = this.left;
      data.object.right = this.right;
      data.object.top = this.top;
      data.object.bottom = this.bottom;
      data.object.near = this.near;
      data.object.far = this.far;
      if (this.view !== null)
        data.object.view = Object.assign({}, this.view);
      return data;
    }
  });
  function Face3(a, b, c, normal, color, materialIndex) {
    this.a = a;
    this.b = b;
    this.c = c;
    this.normal = (normal && normal.isVector3) ? normal : new Vector3();
    this.vertexNormals = Array.isArray(normal) ? normal : [];
    this.color = (color && color.isColor) ? color : new Color();
    this.vertexColors = Array.isArray(color) ? color : [];
    this.materialIndex = materialIndex !== undefined ? materialIndex : 0;
  }
  Object.assign(Face3.prototype, {
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(source) {
      this.a = source.a;
      this.b = source.b;
      this.c = source.c;
      this.normal.copy(source.normal);
      this.color.copy(source.color);
      this.materialIndex = source.materialIndex;
      for (var i = 0,
          il = source.vertexNormals.length; i < il; i++) {
        this.vertexNormals[i] = source.vertexNormals[i].clone();
      }
      for (var i = 0,
          il = source.vertexColors.length; i < il; i++) {
        this.vertexColors[i] = source.vertexColors[i].clone();
      }
      return this;
    }
  });
  var geometryId = 0;
  function Geometry() {
    Object.defineProperty(this, 'id', {value: geometryId += 2});
    this.uuid = _Math.generateUUID();
    this.name = '';
    this.type = 'Geometry';
    this.vertices = [];
    this.colors = [];
    this.faces = [];
    this.faceVertexUvs = [[]];
    this.morphTargets = [];
    this.morphNormals = [];
    this.skinWeights = [];
    this.skinIndices = [];
    this.lineDistances = [];
    this.boundingBox = null;
    this.boundingSphere = null;
    this.elementsNeedUpdate = false;
    this.verticesNeedUpdate = false;
    this.uvsNeedUpdate = false;
    this.normalsNeedUpdate = false;
    this.colorsNeedUpdate = false;
    this.lineDistancesNeedUpdate = false;
    this.groupsNeedUpdate = false;
  }
  Geometry.prototype = Object.assign(Object.create(EventDispatcher.prototype), {
    constructor: Geometry,
    isGeometry: true,
    applyMatrix: function(matrix) {
      var normalMatrix = new Matrix3().getNormalMatrix(matrix);
      for (var i = 0,
          il = this.vertices.length; i < il; i++) {
        var vertex = this.vertices[i];
        vertex.applyMatrix4(matrix);
      }
      for (var i = 0,
          il = this.faces.length; i < il; i++) {
        var face = this.faces[i];
        face.normal.applyMatrix3(normalMatrix).normalize();
        for (var j = 0,
            jl = face.vertexNormals.length; j < jl; j++) {
          face.vertexNormals[j].applyMatrix3(normalMatrix).normalize();
        }
      }
      if (this.boundingBox !== null) {
        this.computeBoundingBox();
      }
      if (this.boundingSphere !== null) {
        this.computeBoundingSphere();
      }
      this.verticesNeedUpdate = true;
      this.normalsNeedUpdate = true;
      return this;
    },
    rotateX: function() {
      var m1 = new Matrix4();
      return function rotateX(angle) {
        m1.makeRotationX(angle);
        this.applyMatrix(m1);
        return this;
      };
    }(),
    rotateY: function() {
      var m1 = new Matrix4();
      return function rotateY(angle) {
        m1.makeRotationY(angle);
        this.applyMatrix(m1);
        return this;
      };
    }(),
    rotateZ: function() {
      var m1 = new Matrix4();
      return function rotateZ(angle) {
        m1.makeRotationZ(angle);
        this.applyMatrix(m1);
        return this;
      };
    }(),
    translate: function() {
      var m1 = new Matrix4();
      return function translate(x, y, z) {
        m1.makeTranslation(x, y, z);
        this.applyMatrix(m1);
        return this;
      };
    }(),
    scale: function() {
      var m1 = new Matrix4();
      return function scale(x, y, z) {
        m1.makeScale(x, y, z);
        this.applyMatrix(m1);
        return this;
      };
    }(),
    lookAt: function() {
      var obj = new Object3D();
      return function lookAt(vector) {
        obj.lookAt(vector);
        obj.updateMatrix();
        this.applyMatrix(obj.matrix);
      };
    }(),
    fromBufferGeometry: function(geometry) {
      var scope = this;
      var indices = geometry.index !== null ? geometry.index.array : undefined;
      var attributes = geometry.attributes;
      var positions = attributes.position.array;
      var normals = attributes.normal !== undefined ? attributes.normal.array : undefined;
      var colors = attributes.color !== undefined ? attributes.color.array : undefined;
      var uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;
      var uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;
      if (uvs2 !== undefined)
        this.faceVertexUvs[1] = [];
      var tempNormals = [];
      var tempUVs = [];
      var tempUVs2 = [];
      for (var i = 0,
          j = 0; i < positions.length; i += 3, j += 2) {
        scope.vertices.push(new Vector3(positions[i], positions[i + 1], positions[i + 2]));
        if (normals !== undefined) {
          tempNormals.push(new Vector3(normals[i], normals[i + 1], normals[i + 2]));
        }
        if (colors !== undefined) {
          scope.colors.push(new Color(colors[i], colors[i + 1], colors[i + 2]));
        }
        if (uvs !== undefined) {
          tempUVs.push(new Vector2(uvs[j], uvs[j + 1]));
        }
        if (uvs2 !== undefined) {
          tempUVs2.push(new Vector2(uvs2[j], uvs2[j + 1]));
        }
      }
      function addFace(a, b, c, materialIndex) {
        var vertexNormals = normals !== undefined ? [tempNormals[a].clone(), tempNormals[b].clone(), tempNormals[c].clone()] : [];
        var vertexColors = colors !== undefined ? [scope.colors[a].clone(), scope.colors[b].clone(), scope.colors[c].clone()] : [];
        var face = new Face3(a, b, c, vertexNormals, vertexColors, materialIndex);
        scope.faces.push(face);
        if (uvs !== undefined) {
          scope.faceVertexUvs[0].push([tempUVs[a].clone(), tempUVs[b].clone(), tempUVs[c].clone()]);
        }
        if (uvs2 !== undefined) {
          scope.faceVertexUvs[1].push([tempUVs2[a].clone(), tempUVs2[b].clone(), tempUVs2[c].clone()]);
        }
      }
      var groups = geometry.groups;
      if (groups.length > 0) {
        for (var i = 0; i < groups.length; i++) {
          var group = groups[i];
          var start = group.start;
          var count = group.count;
          for (var j = start,
              jl = start + count; j < jl; j += 3) {
            if (indices !== undefined) {
              addFace(indices[j], indices[j + 1], indices[j + 2], group.materialIndex);
            } else {
              addFace(j, j + 1, j + 2, group.materialIndex);
            }
          }
        }
      } else {
        if (indices !== undefined) {
          for (var i = 0; i < indices.length; i += 3) {
            addFace(indices[i], indices[i + 1], indices[i + 2]);
          }
        } else {
          for (var i = 0; i < positions.length / 3; i += 3) {
            addFace(i, i + 1, i + 2);
          }
        }
      }
      this.computeFaceNormals();
      if (geometry.boundingBox !== null) {
        this.boundingBox = geometry.boundingBox.clone();
      }
      if (geometry.boundingSphere !== null) {
        this.boundingSphere = geometry.boundingSphere.clone();
      }
      return this;
    },
    center: function() {
      var offset = new Vector3();
      return function center() {
        this.computeBoundingBox();
        this.boundingBox.getCenter(offset).negate();
        this.translate(offset.x, offset.y, offset.z);
        return this;
      };
    }(),
    normalize: function() {
      this.computeBoundingSphere();
      var center = this.boundingSphere.center;
      var radius = this.boundingSphere.radius;
      var s = radius === 0 ? 1 : 1.0 / radius;
      var matrix = new Matrix4();
      matrix.set(s, 0, 0, -s * center.x, 0, s, 0, -s * center.y, 0, 0, s, -s * center.z, 0, 0, 0, 1);
      this.applyMatrix(matrix);
      return this;
    },
    computeFaceNormals: function() {
      var cb = new Vector3(),
          ab = new Vector3();
      for (var f = 0,
          fl = this.faces.length; f < fl; f++) {
        var face = this.faces[f];
        var vA = this.vertices[face.a];
        var vB = this.vertices[face.b];
        var vC = this.vertices[face.c];
        cb.subVectors(vC, vB);
        ab.subVectors(vA, vB);
        cb.cross(ab);
        cb.normalize();
        face.normal.copy(cb);
      }
    },
    computeVertexNormals: function(areaWeighted) {
      if (areaWeighted === undefined)
        areaWeighted = true;
      var v,
          vl,
          f,
          fl,
          face,
          vertices;
      vertices = new Array(this.vertices.length);
      for (v = 0, vl = this.vertices.length; v < vl; v++) {
        vertices[v] = new Vector3();
      }
      if (areaWeighted) {
        var vA,
            vB,
            vC;
        var cb = new Vector3(),
            ab = new Vector3();
        for (f = 0, fl = this.faces.length; f < fl; f++) {
          face = this.faces[f];
          vA = this.vertices[face.a];
          vB = this.vertices[face.b];
          vC = this.vertices[face.c];
          cb.subVectors(vC, vB);
          ab.subVectors(vA, vB);
          cb.cross(ab);
          vertices[face.a].add(cb);
          vertices[face.b].add(cb);
          vertices[face.c].add(cb);
        }
      } else {
        this.computeFaceNormals();
        for (f = 0, fl = this.faces.length; f < fl; f++) {
          face = this.faces[f];
          vertices[face.a].add(face.normal);
          vertices[face.b].add(face.normal);
          vertices[face.c].add(face.normal);
        }
      }
      for (v = 0, vl = this.vertices.length; v < vl; v++) {
        vertices[v].normalize();
      }
      for (f = 0, fl = this.faces.length; f < fl; f++) {
        face = this.faces[f];
        var vertexNormals = face.vertexNormals;
        if (vertexNormals.length === 3) {
          vertexNormals[0].copy(vertices[face.a]);
          vertexNormals[1].copy(vertices[face.b]);
          vertexNormals[2].copy(vertices[face.c]);
        } else {
          vertexNormals[0] = vertices[face.a].clone();
          vertexNormals[1] = vertices[face.b].clone();
          vertexNormals[2] = vertices[face.c].clone();
        }
      }
      if (this.faces.length > 0) {
        this.normalsNeedUpdate = true;
      }
    },
    computeFlatVertexNormals: function() {
      var f,
          fl,
          face;
      this.computeFaceNormals();
      for (f = 0, fl = this.faces.length; f < fl; f++) {
        face = this.faces[f];
        var vertexNormals = face.vertexNormals;
        if (vertexNormals.length === 3) {
          vertexNormals[0].copy(face.normal);
          vertexNormals[1].copy(face.normal);
          vertexNormals[2].copy(face.normal);
        } else {
          vertexNormals[0] = face.normal.clone();
          vertexNormals[1] = face.normal.clone();
          vertexNormals[2] = face.normal.clone();
        }
      }
      if (this.faces.length > 0) {
        this.normalsNeedUpdate = true;
      }
    },
    computeMorphNormals: function() {
      var i,
          il,
          f,
          fl,
          face;
      for (f = 0, fl = this.faces.length; f < fl; f++) {
        face = this.faces[f];
        if (!face.__originalFaceNormal) {
          face.__originalFaceNormal = face.normal.clone();
        } else {
          face.__originalFaceNormal.copy(face.normal);
        }
        if (!face.__originalVertexNormals)
          face.__originalVertexNormals = [];
        for (i = 0, il = face.vertexNormals.length; i < il; i++) {
          if (!face.__originalVertexNormals[i]) {
            face.__originalVertexNormals[i] = face.vertexNormals[i].clone();
          } else {
            face.__originalVertexNormals[i].copy(face.vertexNormals[i]);
          }
        }
      }
      var tmpGeo = new Geometry();
      tmpGeo.faces = this.faces;
      for (i = 0, il = this.morphTargets.length; i < il; i++) {
        if (!this.morphNormals[i]) {
          this.morphNormals[i] = {};
          this.morphNormals[i].faceNormals = [];
          this.morphNormals[i].vertexNormals = [];
          var dstNormalsFace = this.morphNormals[i].faceNormals;
          var dstNormalsVertex = this.morphNormals[i].vertexNormals;
          var faceNormal,
              vertexNormals;
          for (f = 0, fl = this.faces.length; f < fl; f++) {
            faceNormal = new Vector3();
            vertexNormals = {
              a: new Vector3(),
              b: new Vector3(),
              c: new Vector3()
            };
            dstNormalsFace.push(faceNormal);
            dstNormalsVertex.push(vertexNormals);
          }
        }
        var morphNormals = this.morphNormals[i];
        tmpGeo.vertices = this.morphTargets[i].vertices;
        tmpGeo.computeFaceNormals();
        tmpGeo.computeVertexNormals();
        var faceNormal,
            vertexNormals;
        for (f = 0, fl = this.faces.length; f < fl; f++) {
          face = this.faces[f];
          faceNormal = morphNormals.faceNormals[f];
          vertexNormals = morphNormals.vertexNormals[f];
          faceNormal.copy(face.normal);
          vertexNormals.a.copy(face.vertexNormals[0]);
          vertexNormals.b.copy(face.vertexNormals[1]);
          vertexNormals.c.copy(face.vertexNormals[2]);
        }
      }
      for (f = 0, fl = this.faces.length; f < fl; f++) {
        face = this.faces[f];
        face.normal = face.__originalFaceNormal;
        face.vertexNormals = face.__originalVertexNormals;
      }
    },
    computeBoundingBox: function() {
      if (this.boundingBox === null) {
        this.boundingBox = new Box3();
      }
      this.boundingBox.setFromPoints(this.vertices);
    },
    computeBoundingSphere: function() {
      if (this.boundingSphere === null) {
        this.boundingSphere = new Sphere();
      }
      this.boundingSphere.setFromPoints(this.vertices);
    },
    merge: function(geometry, matrix, materialIndexOffset) {
      if (!(geometry && geometry.isGeometry)) {
        console.error('THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry);
        return;
      }
      var normalMatrix,
          vertexOffset = this.vertices.length,
          vertices1 = this.vertices,
          vertices2 = geometry.vertices,
          faces1 = this.faces,
          faces2 = geometry.faces,
          uvs1 = this.faceVertexUvs[0],
          uvs2 = geometry.faceVertexUvs[0],
          colors1 = this.colors,
          colors2 = geometry.colors;
      if (materialIndexOffset === undefined)
        materialIndexOffset = 0;
      if (matrix !== undefined) {
        normalMatrix = new Matrix3().getNormalMatrix(matrix);
      }
      for (var i = 0,
          il = vertices2.length; i < il; i++) {
        var vertex = vertices2[i];
        var vertexCopy = vertex.clone();
        if (matrix !== undefined)
          vertexCopy.applyMatrix4(matrix);
        vertices1.push(vertexCopy);
      }
      for (var i = 0,
          il = colors2.length; i < il; i++) {
        colors1.push(colors2[i].clone());
      }
      for (i = 0, il = faces2.length; i < il; i++) {
        var face = faces2[i],
            faceCopy,
            normal,
            color,
            faceVertexNormals = face.vertexNormals,
            faceVertexColors = face.vertexColors;
        faceCopy = new Face3(face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset);
        faceCopy.normal.copy(face.normal);
        if (normalMatrix !== undefined) {
          faceCopy.normal.applyMatrix3(normalMatrix).normalize();
        }
        for (var j = 0,
            jl = faceVertexNormals.length; j < jl; j++) {
          normal = faceVertexNormals[j].clone();
          if (normalMatrix !== undefined) {
            normal.applyMatrix3(normalMatrix).normalize();
          }
          faceCopy.vertexNormals.push(normal);
        }
        faceCopy.color.copy(face.color);
        for (var j = 0,
            jl = faceVertexColors.length; j < jl; j++) {
          color = faceVertexColors[j];
          faceCopy.vertexColors.push(color.clone());
        }
        faceCopy.materialIndex = face.materialIndex + materialIndexOffset;
        faces1.push(faceCopy);
      }
      for (i = 0, il = uvs2.length; i < il; i++) {
        var uv = uvs2[i],
            uvCopy = [];
        if (uv === undefined) {
          continue;
        }
        for (var j = 0,
            jl = uv.length; j < jl; j++) {
          uvCopy.push(uv[j].clone());
        }
        uvs1.push(uvCopy);
      }
    },
    mergeMesh: function(mesh) {
      if (!(mesh && mesh.isMesh)) {
        console.error('THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh);
        return;
      }
      if (mesh.matrixAutoUpdate)
        mesh.updateMatrix();
      this.merge(mesh.geometry, mesh.matrix);
    },
    mergeVertices: function() {
      var verticesMap = {};
      var unique = [],
          changes = [];
      var v,
          key;
      var precisionPoints = 4;
      var precision = Math.pow(10, precisionPoints);
      var i,
          il,
          face;
      var indices,
          j,
          jl;
      for (i = 0, il = this.vertices.length; i < il; i++) {
        v = this.vertices[i];
        key = Math.round(v.x * precision) + '_' + Math.round(v.y * precision) + '_' + Math.round(v.z * precision);
        if (verticesMap[key] === undefined) {
          verticesMap[key] = i;
          unique.push(this.vertices[i]);
          changes[i] = unique.length - 1;
        } else {
          changes[i] = changes[verticesMap[key]];
        }
      }
      var faceIndicesToRemove = [];
      for (i = 0, il = this.faces.length; i < il; i++) {
        face = this.faces[i];
        face.a = changes[face.a];
        face.b = changes[face.b];
        face.c = changes[face.c];
        indices = [face.a, face.b, face.c];
        for (var n = 0; n < 3; n++) {
          if (indices[n] === indices[(n + 1) % 3]) {
            faceIndicesToRemove.push(i);
            break;
          }
        }
      }
      for (i = faceIndicesToRemove.length - 1; i >= 0; i--) {
        var idx = faceIndicesToRemove[i];
        this.faces.splice(idx, 1);
        for (j = 0, jl = this.faceVertexUvs.length; j < jl; j++) {
          this.faceVertexUvs[j].splice(idx, 1);
        }
      }
      var diff = this.vertices.length - unique.length;
      this.vertices = unique;
      return diff;
    },
    setFromPoints: function(points) {
      this.vertices = [];
      for (var i = 0,
          l = points.length; i < l; i++) {
        var point = points[i];
        this.vertices.push(new Vector3(point.x, point.y, point.z || 0));
      }
      return this;
    },
    sortFacesByMaterialIndex: function() {
      var faces = this.faces;
      var length = faces.length;
      for (var i = 0; i < length; i++) {
        faces[i]._id = i;
      }
      function materialIndexSort(a, b) {
        return a.materialIndex - b.materialIndex;
      }
      faces.sort(materialIndexSort);
      var uvs1 = this.faceVertexUvs[0];
      var uvs2 = this.faceVertexUvs[1];
      var newUvs1,
          newUvs2;
      if (uvs1 && uvs1.length === length)
        newUvs1 = [];
      if (uvs2 && uvs2.length === length)
        newUvs2 = [];
      for (var i = 0; i < length; i++) {
        var id = faces[i]._id;
        if (newUvs1)
          newUvs1.push(uvs1[id]);
        if (newUvs2)
          newUvs2.push(uvs2[id]);
      }
      if (newUvs1)
        this.faceVertexUvs[0] = newUvs1;
      if (newUvs2)
        this.faceVertexUvs[1] = newUvs2;
    },
    toJSON: function() {
      var data = {metadata: {
          version: 4.5,
          type: 'Geometry',
          generator: 'Geometry.toJSON'
        }};
      data.uuid = this.uuid;
      data.type = this.type;
      if (this.name !== '')
        data.name = this.name;
      if (this.parameters !== undefined) {
        var parameters = this.parameters;
        for (var key in parameters) {
          if (parameters[key] !== undefined)
            data[key] = parameters[key];
        }
        return data;
      }
      var vertices = [];
      for (var i = 0; i < this.vertices.length; i++) {
        var vertex = this.vertices[i];
        vertices.push(vertex.x, vertex.y, vertex.z);
      }
      var faces = [];
      var normals = [];
      var normalsHash = {};
      var colors = [];
      var colorsHash = {};
      var uvs = [];
      var uvsHash = {};
      for (var i = 0; i < this.faces.length; i++) {
        var face = this.faces[i];
        var hasMaterial = true;
        var hasFaceUv = false;
        var hasFaceVertexUv = this.faceVertexUvs[0][i] !== undefined;
        var hasFaceNormal = face.normal.length() > 0;
        var hasFaceVertexNormal = face.vertexNormals.length > 0;
        var hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;
        var hasFaceVertexColor = face.vertexColors.length > 0;
        var faceType = 0;
        faceType = setBit(faceType, 0, 0);
        faceType = setBit(faceType, 1, hasMaterial);
        faceType = setBit(faceType, 2, hasFaceUv);
        faceType = setBit(faceType, 3, hasFaceVertexUv);
        faceType = setBit(faceType, 4, hasFaceNormal);
        faceType = setBit(faceType, 5, hasFaceVertexNormal);
        faceType = setBit(faceType, 6, hasFaceColor);
        faceType = setBit(faceType, 7, hasFaceVertexColor);
        faces.push(faceType);
        faces.push(face.a, face.b, face.c);
        faces.push(face.materialIndex);
        if (hasFaceVertexUv) {
          var faceVertexUvs = this.faceVertexUvs[0][i];
          faces.push(getUvIndex(faceVertexUvs[0]), getUvIndex(faceVertexUvs[1]), getUvIndex(faceVertexUvs[2]));
        }
        if (hasFaceNormal) {
          faces.push(getNormalIndex(face.normal));
        }
        if (hasFaceVertexNormal) {
          var vertexNormals = face.vertexNormals;
          faces.push(getNormalIndex(vertexNormals[0]), getNormalIndex(vertexNormals[1]), getNormalIndex(vertexNormals[2]));
        }
        if (hasFaceColor) {
          faces.push(getColorIndex(face.color));
        }
        if (hasFaceVertexColor) {
          var vertexColors = face.vertexColors;
          faces.push(getColorIndex(vertexColors[0]), getColorIndex(vertexColors[1]), getColorIndex(vertexColors[2]));
        }
      }
      function setBit(value, position, enabled) {
        return enabled ? value | (1 << position) : value & (~(1 << position));
      }
      function getNormalIndex(normal) {
        var hash = normal.x.toString() + normal.y.toString() + normal.z.toString();
        if (normalsHash[hash] !== undefined) {
          return normalsHash[hash];
        }
        normalsHash[hash] = normals.length / 3;
        normals.push(normal.x, normal.y, normal.z);
        return normalsHash[hash];
      }
      function getColorIndex(color) {
        var hash = color.r.toString() + color.g.toString() + color.b.toString();
        if (colorsHash[hash] !== undefined) {
          return colorsHash[hash];
        }
        colorsHash[hash] = colors.length;
        colors.push(color.getHex());
        return colorsHash[hash];
      }
      function getUvIndex(uv) {
        var hash = uv.x.toString() + uv.y.toString();
        if (uvsHash[hash] !== undefined) {
          return uvsHash[hash];
        }
        uvsHash[hash] = uvs.length / 2;
        uvs.push(uv.x, uv.y);
        return uvsHash[hash];
      }
      data.data = {};
      data.data.vertices = vertices;
      data.data.normals = normals;
      if (colors.length > 0)
        data.data.colors = colors;
      if (uvs.length > 0)
        data.data.uvs = [uvs];
      data.data.faces = faces;
      return data;
    },
    clone: function() {
      return new Geometry().copy(this);
    },
    copy: function(source) {
      var i,
          il,
          j,
          jl,
          k,
          kl;
      this.vertices = [];
      this.colors = [];
      this.faces = [];
      this.faceVertexUvs = [[]];
      this.morphTargets = [];
      this.morphNormals = [];
      this.skinWeights = [];
      this.skinIndices = [];
      this.lineDistances = [];
      this.boundingBox = null;
      this.boundingSphere = null;
      this.name = source.name;
      var vertices = source.vertices;
      for (i = 0, il = vertices.length; i < il; i++) {
        this.vertices.push(vertices[i].clone());
      }
      var colors = source.colors;
      for (i = 0, il = colors.length; i < il; i++) {
        this.colors.push(colors[i].clone());
      }
      var faces = source.faces;
      for (i = 0, il = faces.length; i < il; i++) {
        this.faces.push(faces[i].clone());
      }
      for (i = 0, il = source.faceVertexUvs.length; i < il; i++) {
        var faceVertexUvs = source.faceVertexUvs[i];
        if (this.faceVertexUvs[i] === undefined) {
          this.faceVertexUvs[i] = [];
        }
        for (j = 0, jl = faceVertexUvs.length; j < jl; j++) {
          var uvs = faceVertexUvs[j],
              uvsCopy = [];
          for (k = 0, kl = uvs.length; k < kl; k++) {
            var uv = uvs[k];
            uvsCopy.push(uv.clone());
          }
          this.faceVertexUvs[i].push(uvsCopy);
        }
      }
      var morphTargets = source.morphTargets;
      for (i = 0, il = morphTargets.length; i < il; i++) {
        var morphTarget = {};
        morphTarget.name = morphTargets[i].name;
        if (morphTargets[i].vertices !== undefined) {
          morphTarget.vertices = [];
          for (j = 0, jl = morphTargets[i].vertices.length; j < jl; j++) {
            morphTarget.vertices.push(morphTargets[i].vertices[j].clone());
          }
        }
        if (morphTargets[i].normals !== undefined) {
          morphTarget.normals = [];
          for (j = 0, jl = morphTargets[i].normals.length; j < jl; j++) {
            morphTarget.normals.push(morphTargets[i].normals[j].clone());
          }
        }
        this.morphTargets.push(morphTarget);
      }
      var morphNormals = source.morphNormals;
      for (i = 0, il = morphNormals.length; i < il; i++) {
        var morphNormal = {};
        if (morphNormals[i].vertexNormals !== undefined) {
          morphNormal.vertexNormals = [];
          for (j = 0, jl = morphNormals[i].vertexNormals.length; j < jl; j++) {
            var srcVertexNormal = morphNormals[i].vertexNormals[j];
            var destVertexNormal = {};
            destVertexNormal.a = srcVertexNormal.a.clone();
            destVertexNormal.b = srcVertexNormal.b.clone();
            destVertexNormal.c = srcVertexNormal.c.clone();
            morphNormal.vertexNormals.push(destVertexNormal);
          }
        }
        if (morphNormals[i].faceNormals !== undefined) {
          morphNormal.faceNormals = [];
          for (j = 0, jl = morphNormals[i].faceNormals.length; j < jl; j++) {
            morphNormal.faceNormals.push(morphNormals[i].faceNormals[j].clone());
          }
        }
        this.morphNormals.push(morphNormal);
      }
      var skinWeights = source.skinWeights;
      for (i = 0, il = skinWeights.length; i < il; i++) {
        this.skinWeights.push(skinWeights[i].clone());
      }
      var skinIndices = source.skinIndices;
      for (i = 0, il = skinIndices.length; i < il; i++) {
        this.skinIndices.push(skinIndices[i].clone());
      }
      var lineDistances = source.lineDistances;
      for (i = 0, il = lineDistances.length; i < il; i++) {
        this.lineDistances.push(lineDistances[i]);
      }
      var boundingBox = source.boundingBox;
      if (boundingBox !== null) {
        this.boundingBox = boundingBox.clone();
      }
      var boundingSphere = source.boundingSphere;
      if (boundingSphere !== null) {
        this.boundingSphere = boundingSphere.clone();
      }
      this.elementsNeedUpdate = source.elementsNeedUpdate;
      this.verticesNeedUpdate = source.verticesNeedUpdate;
      this.uvsNeedUpdate = source.uvsNeedUpdate;
      this.normalsNeedUpdate = source.normalsNeedUpdate;
      this.colorsNeedUpdate = source.colorsNeedUpdate;
      this.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;
      this.groupsNeedUpdate = source.groupsNeedUpdate;
      return this;
    },
    dispose: function() {
      this.dispatchEvent({type: 'dispose'});
    }
  });
  function BufferAttribute(array, itemSize, normalized) {
    if (Array.isArray(array)) {
      throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');
    }
    this.name = '';
    this.array = array;
    this.itemSize = itemSize;
    this.count = array !== undefined ? array.length / itemSize : 0;
    this.normalized = normalized === true;
    this.dynamic = false;
    this.updateRange = {
      offset: 0,
      count: -1
    };
    this.version = 0;
  }
  Object.defineProperty(BufferAttribute.prototype, 'needsUpdate', {set: function(value) {
      if (value === true)
        this.version++;
    }});
  Object.assign(BufferAttribute.prototype, {
    isBufferAttribute: true,
    onUploadCallback: function() {},
    setArray: function(array) {
      if (Array.isArray(array)) {
        throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');
      }
      this.count = array !== undefined ? array.length / this.itemSize : 0;
      this.array = array;
      return this;
    },
    setDynamic: function(value) {
      this.dynamic = value;
      return this;
    },
    copy: function(source) {
      this.name = source.name;
      this.array = new source.array.constructor(source.array);
      this.itemSize = source.itemSize;
      this.count = source.count;
      this.normalized = source.normalized;
      this.dynamic = source.dynamic;
      return this;
    },
    copyAt: function(index1, attribute, index2) {
      index1 *= this.itemSize;
      index2 *= attribute.itemSize;
      for (var i = 0,
          l = this.itemSize; i < l; i++) {
        this.array[index1 + i] = attribute.array[index2 + i];
      }
      return this;
    },
    copyArray: function(array) {
      this.array.set(array);
      return this;
    },
    copyColorsArray: function(colors) {
      var array = this.array,
          offset = 0;
      for (var i = 0,
          l = colors.length; i < l; i++) {
        var color = colors[i];
        if (color === undefined) {
          console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined', i);
          color = new Color();
        }
        array[offset++] = color.r;
        array[offset++] = color.g;
        array[offset++] = color.b;
      }
      return this;
    },
    copyVector2sArray: function(vectors) {
      var array = this.array,
          offset = 0;
      for (var i = 0,
          l = vectors.length; i < l; i++) {
        var vector = vectors[i];
        if (vector === undefined) {
          console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i);
          vector = new Vector2();
        }
        array[offset++] = vector.x;
        array[offset++] = vector.y;
      }
      return this;
    },
    copyVector3sArray: function(vectors) {
      var array = this.array,
          offset = 0;
      for (var i = 0,
          l = vectors.length; i < l; i++) {
        var vector = vectors[i];
        if (vector === undefined) {
          console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i);
          vector = new Vector3();
        }
        array[offset++] = vector.x;
        array[offset++] = vector.y;
        array[offset++] = vector.z;
      }
      return this;
    },
    copyVector4sArray: function(vectors) {
      var array = this.array,
          offset = 0;
      for (var i = 0,
          l = vectors.length; i < l; i++) {
        var vector = vectors[i];
        if (vector === undefined) {
          console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i);
          vector = new Vector4();
        }
        array[offset++] = vector.x;
        array[offset++] = vector.y;
        array[offset++] = vector.z;
        array[offset++] = vector.w;
      }
      return this;
    },
    set: function(value, offset) {
      if (offset === undefined)
        offset = 0;
      this.array.set(value, offset);
      return this;
    },
    getX: function(index) {
      return this.array[index * this.itemSize];
    },
    setX: function(index, x) {
      this.array[index * this.itemSize] = x;
      return this;
    },
    getY: function(index) {
      return this.array[index * this.itemSize + 1];
    },
    setY: function(index, y) {
      this.array[index * this.itemSize + 1] = y;
      return this;
    },
    getZ: function(index) {
      return this.array[index * this.itemSize + 2];
    },
    setZ: function(index, z) {
      this.array[index * this.itemSize + 2] = z;
      return this;
    },
    getW: function(index) {
      return this.array[index * this.itemSize + 3];
    },
    setW: function(index, w) {
      this.array[index * this.itemSize + 3] = w;
      return this;
    },
    setXY: function(index, x, y) {
      index *= this.itemSize;
      this.array[index + 0] = x;
      this.array[index + 1] = y;
      return this;
    },
    setXYZ: function(index, x, y, z) {
      index *= this.itemSize;
      this.array[index + 0] = x;
      this.array[index + 1] = y;
      this.array[index + 2] = z;
      return this;
    },
    setXYZW: function(index, x, y, z, w) {
      index *= this.itemSize;
      this.array[index + 0] = x;
      this.array[index + 1] = y;
      this.array[index + 2] = z;
      this.array[index + 3] = w;
      return this;
    },
    onUpload: function(callback) {
      this.onUploadCallback = callback;
      return this;
    },
    clone: function() {
      return new this.constructor(this.array, this.itemSize).copy(this);
    }
  });
  function Int8BufferAttribute(array, itemSize, normalized) {
    BufferAttribute.call(this, new Int8Array(array), itemSize, normalized);
  }
  Int8BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
  Int8BufferAttribute.prototype.constructor = Int8BufferAttribute;
  function Uint8BufferAttribute(array, itemSize, normalized) {
    BufferAttribute.call(this, new Uint8Array(array), itemSize, normalized);
  }
  Uint8BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
  Uint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;
  function Uint8ClampedBufferAttribute(array, itemSize, normalized) {
    BufferAttribute.call(this, new Uint8ClampedArray(array), itemSize, normalized);
  }
  Uint8ClampedBufferAttribute.prototype = Object.create(BufferAttribute.prototype);
  Uint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;
  function Int16BufferAttribute(array, itemSize, normalized) {
    BufferAttribute.call(this, new Int16Array(array), itemSize, normalized);
  }
  Int16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
  Int16BufferAttribute.prototype.constructor = Int16BufferAttribute;
  function Uint16BufferAttribute(array, itemSize, normalized) {
    BufferAttribute.call(this, new Uint16Array(array), itemSize, normalized);
  }
  Uint16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
  Uint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;
  function Int32BufferAttribute(array, itemSize, normalized) {
    BufferAttribute.call(this, new Int32Array(array), itemSize, normalized);
  }
  Int32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
  Int32BufferAttribute.prototype.constructor = Int32BufferAttribute;
  function Uint32BufferAttribute(array, itemSize, normalized) {
    BufferAttribute.call(this, new Uint32Array(array), itemSize, normalized);
  }
  Uint32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
  Uint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;
  function Float32BufferAttribute(array, itemSize, normalized) {
    BufferAttribute.call(this, new Float32Array(array), itemSize, normalized);
  }
  Float32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
  Float32BufferAttribute.prototype.constructor = Float32BufferAttribute;
  function Float64BufferAttribute(array, itemSize, normalized) {
    BufferAttribute.call(this, new Float64Array(array), itemSize, normalized);
  }
  Float64BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
  Float64BufferAttribute.prototype.constructor = Float64BufferAttribute;
  function DirectGeometry() {
    this.vertices = [];
    this.normals = [];
    this.colors = [];
    this.uvs = [];
    this.uvs2 = [];
    this.groups = [];
    this.morphTargets = {};
    this.skinWeights = [];
    this.skinIndices = [];
    this.boundingBox = null;
    this.boundingSphere = null;
    this.verticesNeedUpdate = false;
    this.normalsNeedUpdate = false;
    this.colorsNeedUpdate = false;
    this.uvsNeedUpdate = false;
    this.groupsNeedUpdate = false;
  }
  Object.assign(DirectGeometry.prototype, {
    computeGroups: function(geometry) {
      var group;
      var groups = [];
      var materialIndex = undefined;
      var faces = geometry.faces;
      for (var i = 0; i < faces.length; i++) {
        var face = faces[i];
        if (face.materialIndex !== materialIndex) {
          materialIndex = face.materialIndex;
          if (group !== undefined) {
            group.count = (i * 3) - group.start;
            groups.push(group);
          }
          group = {
            start: i * 3,
            materialIndex: materialIndex
          };
        }
      }
      if (group !== undefined) {
        group.count = (i * 3) - group.start;
        groups.push(group);
      }
      this.groups = groups;
    },
    fromGeometry: function(geometry) {
      var faces = geometry.faces;
      var vertices = geometry.vertices;
      var faceVertexUvs = geometry.faceVertexUvs;
      var hasFaceVertexUv = faceVertexUvs[0] && faceVertexUvs[0].length > 0;
      var hasFaceVertexUv2 = faceVertexUvs[1] && faceVertexUvs[1].length > 0;
      var morphTargets = geometry.morphTargets;
      var morphTargetsLength = morphTargets.length;
      var morphTargetsPosition;
      if (morphTargetsLength > 0) {
        morphTargetsPosition = [];
        for (var i = 0; i < morphTargetsLength; i++) {
          morphTargetsPosition[i] = [];
        }
        this.morphTargets.position = morphTargetsPosition;
      }
      var morphNormals = geometry.morphNormals;
      var morphNormalsLength = morphNormals.length;
      var morphTargetsNormal;
      if (morphNormalsLength > 0) {
        morphTargetsNormal = [];
        for (var i = 0; i < morphNormalsLength; i++) {
          morphTargetsNormal[i] = [];
        }
        this.morphTargets.normal = morphTargetsNormal;
      }
      var skinIndices = geometry.skinIndices;
      var skinWeights = geometry.skinWeights;
      var hasSkinIndices = skinIndices.length === vertices.length;
      var hasSkinWeights = skinWeights.length === vertices.length;
      if (vertices.length > 0 && faces.length === 0) {
        console.error('THREE.DirectGeometry: Faceless geometries are not supported.');
      }
      for (var i = 0; i < faces.length; i++) {
        var face = faces[i];
        this.vertices.push(vertices[face.a], vertices[face.b], vertices[face.c]);
        var vertexNormals = face.vertexNormals;
        if (vertexNormals.length === 3) {
          this.normals.push(vertexNormals[0], vertexNormals[1], vertexNormals[2]);
        } else {
          var normal = face.normal;
          this.normals.push(normal, normal, normal);
        }
        var vertexColors = face.vertexColors;
        if (vertexColors.length === 3) {
          this.colors.push(vertexColors[0], vertexColors[1], vertexColors[2]);
        } else {
          var color = face.color;
          this.colors.push(color, color, color);
        }
        if (hasFaceVertexUv === true) {
          var vertexUvs = faceVertexUvs[0][i];
          if (vertexUvs !== undefined) {
            this.uvs.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);
          } else {
            console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i);
            this.uvs.push(new Vector2(), new Vector2(), new Vector2());
          }
        }
        if (hasFaceVertexUv2 === true) {
          var vertexUvs = faceVertexUvs[1][i];
          if (vertexUvs !== undefined) {
            this.uvs2.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);
          } else {
            console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i);
            this.uvs2.push(new Vector2(), new Vector2(), new Vector2());
          }
        }
        for (var j = 0; j < morphTargetsLength; j++) {
          var morphTarget = morphTargets[j].vertices;
          morphTargetsPosition[j].push(morphTarget[face.a], morphTarget[face.b], morphTarget[face.c]);
        }
        for (var j = 0; j < morphNormalsLength; j++) {
          var morphNormal = morphNormals[j].vertexNormals[i];
          morphTargetsNormal[j].push(morphNormal.a, morphNormal.b, morphNormal.c);
        }
        if (hasSkinIndices) {
          this.skinIndices.push(skinIndices[face.a], skinIndices[face.b], skinIndices[face.c]);
        }
        if (hasSkinWeights) {
          this.skinWeights.push(skinWeights[face.a], skinWeights[face.b], skinWeights[face.c]);
        }
      }
      this.computeGroups(geometry);
      this.verticesNeedUpdate = geometry.verticesNeedUpdate;
      this.normalsNeedUpdate = geometry.normalsNeedUpdate;
      this.colorsNeedUpdate = geometry.colorsNeedUpdate;
      this.uvsNeedUpdate = geometry.uvsNeedUpdate;
      this.groupsNeedUpdate = geometry.groupsNeedUpdate;
      return this;
    }
  });
  function arrayMax(array) {
    if (array.length === 0)
      return -Infinity;
    var max = array[0];
    for (var i = 1,
        l = array.length; i < l; ++i) {
      if (array[i] > max)
        max = array[i];
    }
    return max;
  }
  var bufferGeometryId = 1;
  function BufferGeometry() {
    Object.defineProperty(this, 'id', {value: bufferGeometryId += 2});
    this.uuid = _Math.generateUUID();
    this.name = '';
    this.type = 'BufferGeometry';
    this.index = null;
    this.attributes = {};
    this.morphAttributes = {};
    this.groups = [];
    this.boundingBox = null;
    this.boundingSphere = null;
    this.drawRange = {
      start: 0,
      count: Infinity
    };
    this.userData = {};
  }
  BufferGeometry.prototype = Object.assign(Object.create(EventDispatcher.prototype), {
    constructor: BufferGeometry,
    isBufferGeometry: true,
    getIndex: function() {
      return this.index;
    },
    setIndex: function(index) {
      if (Array.isArray(index)) {
        this.index = new (arrayMax(index) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute)(index, 1);
      } else {
        this.index = index;
      }
    },
    addAttribute: function(name, attribute) {
      if (!(attribute && attribute.isBufferAttribute) && !(attribute && attribute.isInterleavedBufferAttribute)) {
        console.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).');
        return this.addAttribute(name, new BufferAttribute(arguments[1], arguments[2]));
      }
      if (name === 'index') {
        console.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.');
        this.setIndex(attribute);
        return this;
      }
      this.attributes[name] = attribute;
      return this;
    },
    getAttribute: function(name) {
      return this.attributes[name];
    },
    removeAttribute: function(name) {
      delete this.attributes[name];
      return this;
    },
    addGroup: function(start, count, materialIndex) {
      this.groups.push({
        start: start,
        count: count,
        materialIndex: materialIndex !== undefined ? materialIndex : 0
      });
    },
    clearGroups: function() {
      this.groups = [];
    },
    setDrawRange: function(start, count) {
      this.drawRange.start = start;
      this.drawRange.count = count;
    },
    applyMatrix: function(matrix) {
      var position = this.attributes.position;
      if (position !== undefined) {
        matrix.applyToBufferAttribute(position);
        position.needsUpdate = true;
      }
      var normal = this.attributes.normal;
      if (normal !== undefined) {
        var normalMatrix = new Matrix3().getNormalMatrix(matrix);
        normalMatrix.applyToBufferAttribute(normal);
        normal.needsUpdate = true;
      }
      if (this.boundingBox !== null) {
        this.computeBoundingBox();
      }
      if (this.boundingSphere !== null) {
        this.computeBoundingSphere();
      }
      return this;
    },
    rotateX: function() {
      var m1 = new Matrix4();
      return function rotateX(angle) {
        m1.makeRotationX(angle);
        this.applyMatrix(m1);
        return this;
      };
    }(),
    rotateY: function() {
      var m1 = new Matrix4();
      return function rotateY(angle) {
        m1.makeRotationY(angle);
        this.applyMatrix(m1);
        return this;
      };
    }(),
    rotateZ: function() {
      var m1 = new Matrix4();
      return function rotateZ(angle) {
        m1.makeRotationZ(angle);
        this.applyMatrix(m1);
        return this;
      };
    }(),
    translate: function() {
      var m1 = new Matrix4();
      return function translate(x, y, z) {
        m1.makeTranslation(x, y, z);
        this.applyMatrix(m1);
        return this;
      };
    }(),
    scale: function() {
      var m1 = new Matrix4();
      return function scale(x, y, z) {
        m1.makeScale(x, y, z);
        this.applyMatrix(m1);
        return this;
      };
    }(),
    lookAt: function() {
      var obj = new Object3D();
      return function lookAt(vector) {
        obj.lookAt(vector);
        obj.updateMatrix();
        this.applyMatrix(obj.matrix);
      };
    }(),
    center: function() {
      var offset = new Vector3();
      return function center() {
        this.computeBoundingBox();
        this.boundingBox.getCenter(offset).negate();
        this.translate(offset.x, offset.y, offset.z);
        return this;
      };
    }(),
    setFromObject: function(object) {
      var geometry = object.geometry;
      if (object.isPoints || object.isLine) {
        var positions = new Float32BufferAttribute(geometry.vertices.length * 3, 3);
        var colors = new Float32BufferAttribute(geometry.colors.length * 3, 3);
        this.addAttribute('position', positions.copyVector3sArray(geometry.vertices));
        this.addAttribute('color', colors.copyColorsArray(geometry.colors));
        if (geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length) {
          var lineDistances = new Float32BufferAttribute(geometry.lineDistances.length, 1);
          this.addAttribute('lineDistance', lineDistances.copyArray(geometry.lineDistances));
        }
        if (geometry.boundingSphere !== null) {
          this.boundingSphere = geometry.boundingSphere.clone();
        }
        if (geometry.boundingBox !== null) {
          this.boundingBox = geometry.boundingBox.clone();
        }
      } else if (object.isMesh) {
        if (geometry && geometry.isGeometry) {
          this.fromGeometry(geometry);
        }
      }
      return this;
    },
    setFromPoints: function(points) {
      var position = [];
      for (var i = 0,
          l = points.length; i < l; i++) {
        var point = points[i];
        position.push(point.x, point.y, point.z || 0);
      }
      this.addAttribute('position', new Float32BufferAttribute(position, 3));
      return this;
    },
    updateFromObject: function(object) {
      var geometry = object.geometry;
      if (object.isMesh) {
        var direct = geometry.__directGeometry;
        if (geometry.elementsNeedUpdate === true) {
          direct = undefined;
          geometry.elementsNeedUpdate = false;
        }
        if (direct === undefined) {
          return this.fromGeometry(geometry);
        }
        direct.verticesNeedUpdate = geometry.verticesNeedUpdate;
        direct.normalsNeedUpdate = geometry.normalsNeedUpdate;
        direct.colorsNeedUpdate = geometry.colorsNeedUpdate;
        direct.uvsNeedUpdate = geometry.uvsNeedUpdate;
        direct.groupsNeedUpdate = geometry.groupsNeedUpdate;
        geometry.verticesNeedUpdate = false;
        geometry.normalsNeedUpdate = false;
        geometry.colorsNeedUpdate = false;
        geometry.uvsNeedUpdate = false;
        geometry.groupsNeedUpdate = false;
        geometry = direct;
      }
      var attribute;
      if (geometry.verticesNeedUpdate === true) {
        attribute = this.attributes.position;
        if (attribute !== undefined) {
          attribute.copyVector3sArray(geometry.vertices);
          attribute.needsUpdate = true;
        }
        geometry.verticesNeedUpdate = false;
      }
      if (geometry.normalsNeedUpdate === true) {
        attribute = this.attributes.normal;
        if (attribute !== undefined) {
          attribute.copyVector3sArray(geometry.normals);
          attribute.needsUpdate = true;
        }
        geometry.normalsNeedUpdate = false;
      }
      if (geometry.colorsNeedUpdate === true) {
        attribute = this.attributes.color;
        if (attribute !== undefined) {
          attribute.copyColorsArray(geometry.colors);
          attribute.needsUpdate = true;
        }
        geometry.colorsNeedUpdate = false;
      }
      if (geometry.uvsNeedUpdate) {
        attribute = this.attributes.uv;
        if (attribute !== undefined) {
          attribute.copyVector2sArray(geometry.uvs);
          attribute.needsUpdate = true;
        }
        geometry.uvsNeedUpdate = false;
      }
      if (geometry.lineDistancesNeedUpdate) {
        attribute = this.attributes.lineDistance;
        if (attribute !== undefined) {
          attribute.copyArray(geometry.lineDistances);
          attribute.needsUpdate = true;
        }
        geometry.lineDistancesNeedUpdate = false;
      }
      if (geometry.groupsNeedUpdate) {
        geometry.computeGroups(object.geometry);
        this.groups = geometry.groups;
        geometry.groupsNeedUpdate = false;
      }
      return this;
    },
    fromGeometry: function(geometry) {
      geometry.__directGeometry = new DirectGeometry().fromGeometry(geometry);
      return this.fromDirectGeometry(geometry.__directGeometry);
    },
    fromDirectGeometry: function(geometry) {
      var positions = new Float32Array(geometry.vertices.length * 3);
      this.addAttribute('position', new BufferAttribute(positions, 3).copyVector3sArray(geometry.vertices));
      if (geometry.normals.length > 0) {
        var normals = new Float32Array(geometry.normals.length * 3);
        this.addAttribute('normal', new BufferAttribute(normals, 3).copyVector3sArray(geometry.normals));
      }
      if (geometry.colors.length > 0) {
        var colors = new Float32Array(geometry.colors.length * 3);
        this.addAttribute('color', new BufferAttribute(colors, 3).copyColorsArray(geometry.colors));
      }
      if (geometry.uvs.length > 0) {
        var uvs = new Float32Array(geometry.uvs.length * 2);
        this.addAttribute('uv', new BufferAttribute(uvs, 2).copyVector2sArray(geometry.uvs));
      }
      if (geometry.uvs2.length > 0) {
        var uvs2 = new Float32Array(geometry.uvs2.length * 2);
        this.addAttribute('uv2', new BufferAttribute(uvs2, 2).copyVector2sArray(geometry.uvs2));
      }
      this.groups = geometry.groups;
      for (var name in geometry.morphTargets) {
        var array = [];
        var morphTargets = geometry.morphTargets[name];
        for (var i = 0,
            l = morphTargets.length; i < l; i++) {
          var morphTarget = morphTargets[i];
          var attribute = new Float32BufferAttribute(morphTarget.length * 3, 3);
          array.push(attribute.copyVector3sArray(morphTarget));
        }
        this.morphAttributes[name] = array;
      }
      if (geometry.skinIndices.length > 0) {
        var skinIndices = new Float32BufferAttribute(geometry.skinIndices.length * 4, 4);
        this.addAttribute('skinIndex', skinIndices.copyVector4sArray(geometry.skinIndices));
      }
      if (geometry.skinWeights.length > 0) {
        var skinWeights = new Float32BufferAttribute(geometry.skinWeights.length * 4, 4);
        this.addAttribute('skinWeight', skinWeights.copyVector4sArray(geometry.skinWeights));
      }
      if (geometry.boundingSphere !== null) {
        this.boundingSphere = geometry.boundingSphere.clone();
      }
      if (geometry.boundingBox !== null) {
        this.boundingBox = geometry.boundingBox.clone();
      }
      return this;
    },
    computeBoundingBox: function() {
      if (this.boundingBox === null) {
        this.boundingBox = new Box3();
      }
      var position = this.attributes.position;
      if (position !== undefined) {
        this.boundingBox.setFromBufferAttribute(position);
      } else {
        this.boundingBox.makeEmpty();
      }
      if (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) {
        console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this);
      }
    },
    computeBoundingSphere: function() {
      var box = new Box3();
      var vector = new Vector3();
      return function computeBoundingSphere() {
        if (this.boundingSphere === null) {
          this.boundingSphere = new Sphere();
        }
        var position = this.attributes.position;
        if (position) {
          var center = this.boundingSphere.center;
          box.setFromBufferAttribute(position);
          box.getCenter(center);
          var maxRadiusSq = 0;
          for (var i = 0,
              il = position.count; i < il; i++) {
            vector.x = position.getX(i);
            vector.y = position.getY(i);
            vector.z = position.getZ(i);
            maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(vector));
          }
          this.boundingSphere.radius = Math.sqrt(maxRadiusSq);
          if (isNaN(this.boundingSphere.radius)) {
            console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this);
          }
        }
      };
    }(),
    computeFaceNormals: function() {},
    computeVertexNormals: function() {
      var index = this.index;
      var attributes = this.attributes;
      var groups = this.groups;
      if (attributes.position) {
        var positions = attributes.position.array;
        if (attributes.normal === undefined) {
          this.addAttribute('normal', new BufferAttribute(new Float32Array(positions.length), 3));
        } else {
          var array = attributes.normal.array;
          for (var i = 0,
              il = array.length; i < il; i++) {
            array[i] = 0;
          }
        }
        var normals = attributes.normal.array;
        var vA,
            vB,
            vC;
        var pA = new Vector3(),
            pB = new Vector3(),
            pC = new Vector3();
        var cb = new Vector3(),
            ab = new Vector3();
        if (index) {
          var indices = index.array;
          if (groups.length === 0) {
            this.addGroup(0, indices.length);
          }
          for (var j = 0,
              jl = groups.length; j < jl; ++j) {
            var group = groups[j];
            var start = group.start;
            var count = group.count;
            for (var i = start,
                il = start + count; i < il; i += 3) {
              vA = indices[i + 0] * 3;
              vB = indices[i + 1] * 3;
              vC = indices[i + 2] * 3;
              pA.fromArray(positions, vA);
              pB.fromArray(positions, vB);
              pC.fromArray(positions, vC);
              cb.subVectors(pC, pB);
              ab.subVectors(pA, pB);
              cb.cross(ab);
              normals[vA] += cb.x;
              normals[vA + 1] += cb.y;
              normals[vA + 2] += cb.z;
              normals[vB] += cb.x;
              normals[vB + 1] += cb.y;
              normals[vB + 2] += cb.z;
              normals[vC] += cb.x;
              normals[vC + 1] += cb.y;
              normals[vC + 2] += cb.z;
            }
          }
        } else {
          for (var i = 0,
              il = positions.length; i < il; i += 9) {
            pA.fromArray(positions, i);
            pB.fromArray(positions, i + 3);
            pC.fromArray(positions, i + 6);
            cb.subVectors(pC, pB);
            ab.subVectors(pA, pB);
            cb.cross(ab);
            normals[i] = cb.x;
            normals[i + 1] = cb.y;
            normals[i + 2] = cb.z;
            normals[i + 3] = cb.x;
            normals[i + 4] = cb.y;
            normals[i + 5] = cb.z;
            normals[i + 6] = cb.x;
            normals[i + 7] = cb.y;
            normals[i + 8] = cb.z;
          }
        }
        this.normalizeNormals();
        attributes.normal.needsUpdate = true;
      }
    },
    merge: function(geometry, offset) {
      if (!(geometry && geometry.isBufferGeometry)) {
        console.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry);
        return;
      }
      if (offset === undefined) {
        offset = 0;
        console.warn('THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. ' + 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.');
      }
      var attributes = this.attributes;
      for (var key in attributes) {
        if (geometry.attributes[key] === undefined)
          continue;
        var attribute1 = attributes[key];
        var attributeArray1 = attribute1.array;
        var attribute2 = geometry.attributes[key];
        var attributeArray2 = attribute2.array;
        var attributeSize = attribute2.itemSize;
        for (var i = 0,
            j = attributeSize * offset; i < attributeArray2.length; i++, j++) {
          attributeArray1[j] = attributeArray2[i];
        }
      }
      return this;
    },
    normalizeNormals: function() {
      var vector = new Vector3();
      return function normalizeNormals() {
        var normals = this.attributes.normal;
        for (var i = 0,
            il = normals.count; i < il; i++) {
          vector.x = normals.getX(i);
          vector.y = normals.getY(i);
          vector.z = normals.getZ(i);
          vector.normalize();
          normals.setXYZ(i, vector.x, vector.y, vector.z);
        }
      };
    }(),
    toNonIndexed: function() {
      if (this.index === null) {
        console.warn('THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.');
        return this;
      }
      var geometry2 = new BufferGeometry();
      var indices = this.index.array;
      var attributes = this.attributes;
      for (var name in attributes) {
        var attribute = attributes[name];
        var array = attribute.array;
        var itemSize = attribute.itemSize;
        var array2 = new array.constructor(indices.length * itemSize);
        var index = 0,
            index2 = 0;
        for (var i = 0,
            l = indices.length; i < l; i++) {
          index = indices[i] * itemSize;
          for (var j = 0; j < itemSize; j++) {
            array2[index2++] = array[index++];
          }
        }
        geometry2.addAttribute(name, new BufferAttribute(array2, itemSize));
      }
      var groups = this.groups;
      for (var i = 0,
          l = groups.length; i < l; i++) {
        var group = groups[i];
        geometry2.addGroup(group.start, group.count, group.materialIndex);
      }
      return geometry2;
    },
    toJSON: function() {
      var data = {metadata: {
          version: 4.5,
          type: 'BufferGeometry',
          generator: 'BufferGeometry.toJSON'
        }};
      data.uuid = this.uuid;
      data.type = this.type;
      if (this.name !== '')
        data.name = this.name;
      if (Object.keys(this.userData).length > 0)
        data.userData = this.userData;
      if (this.parameters !== undefined) {
        var parameters = this.parameters;
        for (var key in parameters) {
          if (parameters[key] !== undefined)
            data[key] = parameters[key];
        }
        return data;
      }
      data.data = {attributes: {}};
      var index = this.index;
      if (index !== null) {
        var array = Array.prototype.slice.call(index.array);
        data.data.index = {
          type: index.array.constructor.name,
          array: array
        };
      }
      var attributes = this.attributes;
      for (var key in attributes) {
        var attribute = attributes[key];
        var array = Array.prototype.slice.call(attribute.array);
        data.data.attributes[key] = {
          itemSize: attribute.itemSize,
          type: attribute.array.constructor.name,
          array: array,
          normalized: attribute.normalized
        };
      }
      var groups = this.groups;
      if (groups.length > 0) {
        data.data.groups = JSON.parse(JSON.stringify(groups));
      }
      var boundingSphere = this.boundingSphere;
      if (boundingSphere !== null) {
        data.data.boundingSphere = {
          center: boundingSphere.center.toArray(),
          radius: boundingSphere.radius
        };
      }
      return data;
    },
    clone: function() {
      return new BufferGeometry().copy(this);
    },
    copy: function(source) {
      var name,
          i,
          l;
      this.index = null;
      this.attributes = {};
      this.morphAttributes = {};
      this.groups = [];
      this.boundingBox = null;
      this.boundingSphere = null;
      this.name = source.name;
      var index = source.index;
      if (index !== null) {
        this.setIndex(index.clone());
      }
      var attributes = source.attributes;
      for (name in attributes) {
        var attribute = attributes[name];
        this.addAttribute(name, attribute.clone());
      }
      var morphAttributes = source.morphAttributes;
      for (name in morphAttributes) {
        var array = [];
        var morphAttribute = morphAttributes[name];
        for (i = 0, l = morphAttribute.length; i < l; i++) {
          array.push(morphAttribute[i].clone());
        }
        this.morphAttributes[name] = array;
      }
      var groups = source.groups;
      for (i = 0, l = groups.length; i < l; i++) {
        var group = groups[i];
        this.addGroup(group.start, group.count, group.materialIndex);
      }
      var boundingBox = source.boundingBox;
      if (boundingBox !== null) {
        this.boundingBox = boundingBox.clone();
      }
      var boundingSphere = source.boundingSphere;
      if (boundingSphere !== null) {
        this.boundingSphere = boundingSphere.clone();
      }
      this.drawRange.start = source.drawRange.start;
      this.drawRange.count = source.drawRange.count;
      this.userData = source.userData;
      return this;
    },
    dispose: function() {
      this.dispatchEvent({type: 'dispose'});
    }
  });
  function BoxGeometry(width, height, depth, widthSegments, heightSegments, depthSegments) {
    Geometry.call(this);
    this.type = 'BoxGeometry';
    this.parameters = {
      width: width,
      height: height,
      depth: depth,
      widthSegments: widthSegments,
      heightSegments: heightSegments,
      depthSegments: depthSegments
    };
    this.fromBufferGeometry(new BoxBufferGeometry(width, height, depth, widthSegments, heightSegments, depthSegments));
    this.mergeVertices();
  }
  BoxGeometry.prototype = Object.create(Geometry.prototype);
  BoxGeometry.prototype.constructor = BoxGeometry;
  function BoxBufferGeometry(width, height, depth, widthSegments, heightSegments, depthSegments) {
    BufferGeometry.call(this);
    this.type = 'BoxBufferGeometry';
    this.parameters = {
      width: width,
      height: height,
      depth: depth,
      widthSegments: widthSegments,
      heightSegments: heightSegments,
      depthSegments: depthSegments
    };
    var scope = this;
    width = width || 1;
    height = height || 1;
    depth = depth || 1;
    widthSegments = Math.floor(widthSegments) || 1;
    heightSegments = Math.floor(heightSegments) || 1;
    depthSegments = Math.floor(depthSegments) || 1;
    var indices = [];
    var vertices = [];
    var normals = [];
    var uvs = [];
    var numberOfVertices = 0;
    var groupStart = 0;
    buildPlane('z', 'y', 'x', -1, -1, depth, height, width, depthSegments, heightSegments, 0);
    buildPlane('z', 'y', 'x', 1, -1, depth, height, -width, depthSegments, heightSegments, 1);
    buildPlane('x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2);
    buildPlane('x', 'z', 'y', 1, -1, width, depth, -height, widthSegments, depthSegments, 3);
    buildPlane('x', 'y', 'z', 1, -1, width, height, depth, widthSegments, heightSegments, 4);
    buildPlane('x', 'y', 'z', -1, -1, width, height, -depth, widthSegments, heightSegments, 5);
    this.setIndex(indices);
    this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
    this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
    function buildPlane(u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex) {
      var segmentWidth = width / gridX;
      var segmentHeight = height / gridY;
      var widthHalf = width / 2;
      var heightHalf = height / 2;
      var depthHalf = depth / 2;
      var gridX1 = gridX + 1;
      var gridY1 = gridY + 1;
      var vertexCounter = 0;
      var groupCount = 0;
      var ix,
          iy;
      var vector = new Vector3();
      for (iy = 0; iy < gridY1; iy++) {
        var y = iy * segmentHeight - heightHalf;
        for (ix = 0; ix < gridX1; ix++) {
          var x = ix * segmentWidth - widthHalf;
          vector[u] = x * udir;
          vector[v] = y * vdir;
          vector[w] = depthHalf;
          vertices.push(vector.x, vector.y, vector.z);
          vector[u] = 0;
          vector[v] = 0;
          vector[w] = depth > 0 ? 1 : -1;
          normals.push(vector.x, vector.y, vector.z);
          uvs.push(ix / gridX);
          uvs.push(1 - (iy / gridY));
          vertexCounter += 1;
        }
      }
      for (iy = 0; iy < gridY; iy++) {
        for (ix = 0; ix < gridX; ix++) {
          var a = numberOfVertices + ix + gridX1 * iy;
          var b = numberOfVertices + ix + gridX1 * (iy + 1);
          var c = numberOfVertices + (ix + 1) + gridX1 * (iy + 1);
          var d = numberOfVertices + (ix + 1) + gridX1 * iy;
          indices.push(a, b, d);
          indices.push(b, c, d);
          groupCount += 6;
        }
      }
      scope.addGroup(groupStart, groupCount, materialIndex);
      groupStart += groupCount;
      numberOfVertices += vertexCounter;
    }
  }
  BoxBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
  BoxBufferGeometry.prototype.constructor = BoxBufferGeometry;
  function PlaneGeometry(width, height, widthSegments, heightSegments) {
    Geometry.call(this);
    this.type = 'PlaneGeometry';
    this.parameters = {
      width: width,
      height: height,
      widthSegments: widthSegments,
      heightSegments: heightSegments
    };
    this.fromBufferGeometry(new PlaneBufferGeometry(width, height, widthSegments, heightSegments));
    this.mergeVertices();
  }
  PlaneGeometry.prototype = Object.create(Geometry.prototype);
  PlaneGeometry.prototype.constructor = PlaneGeometry;
  function PlaneBufferGeometry(width, height, widthSegments, heightSegments) {
    BufferGeometry.call(this);
    this.type = 'PlaneBufferGeometry';
    this.parameters = {
      width: width,
      height: height,
      widthSegments: widthSegments,
      heightSegments: heightSegments
    };
    width = width || 1;
    height = height || 1;
    var width_half = width / 2;
    var height_half = height / 2;
    var gridX = Math.floor(widthSegments) || 1;
    var gridY = Math.floor(heightSegments) || 1;
    var gridX1 = gridX + 1;
    var gridY1 = gridY + 1;
    var segment_width = width / gridX;
    var segment_height = height / gridY;
    var ix,
        iy;
    var indices = [];
    var vertices = [];
    var normals = [];
    var uvs = [];
    for (iy = 0; iy < gridY1; iy++) {
      var y = iy * segment_height - height_half;
      for (ix = 0; ix < gridX1; ix++) {
        var x = ix * segment_width - width_half;
        vertices.push(x, -y, 0);
        normals.push(0, 0, 1);
        uvs.push(ix / gridX);
        uvs.push(1 - (iy / gridY));
      }
    }
    for (iy = 0; iy < gridY; iy++) {
      for (ix = 0; ix < gridX; ix++) {
        var a = ix + gridX1 * iy;
        var b = ix + gridX1 * (iy + 1);
        var c = (ix + 1) + gridX1 * (iy + 1);
        var d = (ix + 1) + gridX1 * iy;
        indices.push(a, b, d);
        indices.push(b, c, d);
      }
    }
    this.setIndex(indices);
    this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
    this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
  }
  PlaneBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
  PlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;
  var materialId = 0;
  function Material() {
    Object.defineProperty(this, 'id', {value: materialId++});
    this.uuid = _Math.generateUUID();
    this.name = '';
    this.type = 'Material';
    this.fog = true;
    this.lights = true;
    this.blending = NormalBlending;
    this.side = FrontSide;
    this.flatShading = false;
    this.vertexColors = NoColors;
    this.opacity = 1;
    this.transparent = false;
    this.blendSrc = SrcAlphaFactor;
    this.blendDst = OneMinusSrcAlphaFactor;
    this.blendEquation = AddEquation;
    this.blendSrcAlpha = null;
    this.blendDstAlpha = null;
    this.blendEquationAlpha = null;
    this.depthFunc = LessEqualDepth;
    this.depthTest = true;
    this.depthWrite = true;
    this.clippingPlanes = null;
    this.clipIntersection = false;
    this.clipShadows = false;
    this.shadowSide = null;
    this.colorWrite = true;
    this.precision = null;
    this.polygonOffset = false;
    this.polygonOffsetFactor = 0;
    this.polygonOffsetUnits = 0;
    this.dithering = false;
    this.alphaTest = 0;
    this.premultipliedAlpha = false;
    this.overdraw = 0;
    this.visible = true;
    this.userData = {};
    this.needsUpdate = true;
  }
  Material.prototype = Object.assign(Object.create(EventDispatcher.prototype), {
    constructor: Material,
    isMaterial: true,
    onBeforeCompile: function() {},
    setValues: function(values) {
      if (values === undefined)
        return;
      for (var key in values) {
        var newValue = values[key];
        if (newValue === undefined) {
          console.warn("THREE.Material: '" + key + "' parameter is undefined.");
          continue;
        }
        if (key === 'shading') {
          console.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');
          this.flatShading = (newValue === FlatShading) ? true : false;
          continue;
        }
        var currentValue = this[key];
        if (currentValue === undefined) {
          console.warn("THREE." + this.type + ": '" + key + "' is not a property of this material.");
          continue;
        }
        if (currentValue && currentValue.isColor) {
          currentValue.set(newValue);
        } else if ((currentValue && currentValue.isVector3) && (newValue && newValue.isVector3)) {
          currentValue.copy(newValue);
        } else if (key === 'overdraw') {
          this[key] = Number(newValue);
        } else {
          this[key] = newValue;
        }
      }
    },
    toJSON: function(meta) {
      var isRoot = (meta === undefined || typeof meta === 'string');
      if (isRoot) {
        meta = {
          textures: {},
          images: {}
        };
      }
      var data = {metadata: {
          version: 4.5,
          type: 'Material',
          generator: 'Material.toJSON'
        }};
      data.uuid = this.uuid;
      data.type = this.type;
      if (this.name !== '')
        data.name = this.name;
      if (this.color && this.color.isColor)
        data.color = this.color.getHex();
      if (this.roughness !== undefined)
        data.roughness = this.roughness;
      if (this.metalness !== undefined)
        data.metalness = this.metalness;
      if (this.emissive && this.emissive.isColor)
        data.emissive = this.emissive.getHex();
      if (this.emissiveIntensity !== 1)
        data.emissiveIntensity = this.emissiveIntensity;
      if (this.specular && this.specular.isColor)
        data.specular = this.specular.getHex();
      if (this.shininess !== undefined)
        data.shininess = this.shininess;
      if (this.clearCoat !== undefined)
        data.clearCoat = this.clearCoat;
      if (this.clearCoatRoughness !== undefined)
        data.clearCoatRoughness = this.clearCoatRoughness;
      if (this.map && this.map.isTexture)
        data.map = this.map.toJSON(meta).uuid;
      if (this.alphaMap && this.alphaMap.isTexture)
        data.alphaMap = this.alphaMap.toJSON(meta).uuid;
      if (this.lightMap && this.lightMap.isTexture)
        data.lightMap = this.lightMap.toJSON(meta).uuid;
      if (this.aoMap && this.aoMap.isTexture) {
        data.aoMap = this.aoMap.toJSON(meta).uuid;
        data.aoMapIntensity = this.aoMapIntensity;
      }
      if (this.bumpMap && this.bumpMap.isTexture) {
        data.bumpMap = this.bumpMap.toJSON(meta).uuid;
        data.bumpScale = this.bumpScale;
      }
      if (this.normalMap && this.normalMap.isTexture) {
        data.normalMap = this.normalMap.toJSON(meta).uuid;
        data.normalMapType = this.normalMapType;
        data.normalScale = this.normalScale.toArray();
      }
      if (this.displacementMap && this.displacementMap.isTexture) {
        data.displacementMap = this.displacementMap.toJSON(meta).uuid;
        data.displacementScale = this.displacementScale;
        data.displacementBias = this.displacementBias;
      }
      if (this.roughnessMap && this.roughnessMap.isTexture)
        data.roughnessMap = this.roughnessMap.toJSON(meta).uuid;
      if (this.metalnessMap && this.metalnessMap.isTexture)
        data.metalnessMap = this.metalnessMap.toJSON(meta).uuid;
      if (this.emissiveMap && this.emissiveMap.isTexture)
        data.emissiveMap = this.emissiveMap.toJSON(meta).uuid;
      if (this.specularMap && this.specularMap.isTexture)
        data.specularMap = this.specularMap.toJSON(meta).uuid;
      if (this.envMap && this.envMap.isTexture) {
        data.envMap = this.envMap.toJSON(meta).uuid;
        data.reflectivity = this.reflectivity;
      }
      if (this.gradientMap && this.gradientMap.isTexture) {
        data.gradientMap = this.gradientMap.toJSON(meta).uuid;
      }
      if (this.size !== undefined)
        data.size = this.size;
      if (this.sizeAttenuation !== undefined)
        data.sizeAttenuation = this.sizeAttenuation;
      if (this.blending !== NormalBlending)
        data.blending = this.blending;
      if (this.flatShading === true)
        data.flatShading = this.flatShading;
      if (this.side !== FrontSide)
        data.side = this.side;
      if (this.vertexColors !== NoColors)
        data.vertexColors = this.vertexColors;
      if (this.opacity < 1)
        data.opacity = this.opacity;
      if (this.transparent === true)
        data.transparent = this.transparent;
      data.depthFunc = this.depthFunc;
      data.depthTest = this.depthTest;
      data.depthWrite = this.depthWrite;
      if (this.rotation !== 0)
        data.rotation = this.rotation;
      if (this.linewidth !== 1)
        data.linewidth = this.linewidth;
      if (this.dashSize !== undefined)
        data.dashSize = this.dashSize;
      if (this.gapSize !== undefined)
        data.gapSize = this.gapSize;
      if (this.scale !== undefined)
        data.scale = this.scale;
      if (this.dithering === true)
        data.dithering = true;
      if (this.alphaTest > 0)
        data.alphaTest = this.alphaTest;
      if (this.premultipliedAlpha === true)
        data.premultipliedAlpha = this.premultipliedAlpha;
      if (this.wireframe === true)
        data.wireframe = this.wireframe;
      if (this.wireframeLinewidth > 1)
        data.wireframeLinewidth = this.wireframeLinewidth;
      if (this.wireframeLinecap !== 'round')
        data.wireframeLinecap = this.wireframeLinecap;
      if (this.wireframeLinejoin !== 'round')
        data.wireframeLinejoin = this.wireframeLinejoin;
      if (this.morphTargets === true)
        data.morphTargets = true;
      if (this.skinning === true)
        data.skinning = true;
      if (this.visible === false)
        data.visible = false;
      if (JSON.stringify(this.userData) !== '{}')
        data.userData = this.userData;
      function extractFromCache(cache) {
        var values = [];
        for (var key in cache) {
          var data = cache[key];
          delete data.metadata;
          values.push(data);
        }
        return values;
      }
      if (isRoot) {
        var textures = extractFromCache(meta.textures);
        var images = extractFromCache(meta.images);
        if (textures.length > 0)
          data.textures = textures;
        if (images.length > 0)
          data.images = images;
      }
      return data;
    },
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(source) {
      this.name = source.name;
      this.fog = source.fog;
      this.lights = source.lights;
      this.blending = source.blending;
      this.side = source.side;
      this.flatShading = source.flatShading;
      this.vertexColors = source.vertexColors;
      this.opacity = source.opacity;
      this.transparent = source.transparent;
      this.blendSrc = source.blendSrc;
      this.blendDst = source.blendDst;
      this.blendEquation = source.blendEquation;
      this.blendSrcAlpha = source.blendSrcAlpha;
      this.blendDstAlpha = source.blendDstAlpha;
      this.blendEquationAlpha = source.blendEquationAlpha;
      this.depthFunc = source.depthFunc;
      this.depthTest = source.depthTest;
      this.depthWrite = source.depthWrite;
      this.colorWrite = source.colorWrite;
      this.precision = source.precision;
      this.polygonOffset = source.polygonOffset;
      this.polygonOffsetFactor = source.polygonOffsetFactor;
      this.polygonOffsetUnits = source.polygonOffsetUnits;
      this.dithering = source.dithering;
      this.alphaTest = source.alphaTest;
      this.premultipliedAlpha = source.premultipliedAlpha;
      this.overdraw = source.overdraw;
      this.visible = source.visible;
      this.userData = JSON.parse(JSON.stringify(source.userData));
      this.clipShadows = source.clipShadows;
      this.clipIntersection = source.clipIntersection;
      var srcPlanes = source.clippingPlanes,
          dstPlanes = null;
      if (srcPlanes !== null) {
        var n = srcPlanes.length;
        dstPlanes = new Array(n);
        for (var i = 0; i !== n; ++i)
          dstPlanes[i] = srcPlanes[i].clone();
      }
      this.clippingPlanes = dstPlanes;
      this.shadowSide = source.shadowSide;
      return this;
    },
    dispose: function() {
      this.dispatchEvent({type: 'dispose'});
    }
  });
  function MeshBasicMaterial(parameters) {
    Material.call(this);
    this.type = 'MeshBasicMaterial';
    this.color = new Color(0xffffff);
    this.map = null;
    this.lightMap = null;
    this.lightMapIntensity = 1.0;
    this.aoMap = null;
    this.aoMapIntensity = 1.0;
    this.specularMap = null;
    this.alphaMap = null;
    this.envMap = null;
    this.combine = MultiplyOperation;
    this.reflectivity = 1;
    this.refractionRatio = 0.98;
    this.wireframe = false;
    this.wireframeLinewidth = 1;
    this.wireframeLinecap = 'round';
    this.wireframeLinejoin = 'round';
    this.skinning = false;
    this.morphTargets = false;
    this.lights = false;
    this.setValues(parameters);
  }
  MeshBasicMaterial.prototype = Object.create(Material.prototype);
  MeshBasicMaterial.prototype.constructor = MeshBasicMaterial;
  MeshBasicMaterial.prototype.isMeshBasicMaterial = true;
  MeshBasicMaterial.prototype.copy = function(source) {
    Material.prototype.copy.call(this, source);
    this.color.copy(source.color);
    this.map = source.map;
    this.lightMap = source.lightMap;
    this.lightMapIntensity = source.lightMapIntensity;
    this.aoMap = source.aoMap;
    this.aoMapIntensity = source.aoMapIntensity;
    this.specularMap = source.specularMap;
    this.alphaMap = source.alphaMap;
    this.envMap = source.envMap;
    this.combine = source.combine;
    this.reflectivity = source.reflectivity;
    this.refractionRatio = source.refractionRatio;
    this.wireframe = source.wireframe;
    this.wireframeLinewidth = source.wireframeLinewidth;
    this.wireframeLinecap = source.wireframeLinecap;
    this.wireframeLinejoin = source.wireframeLinejoin;
    this.skinning = source.skinning;
    this.morphTargets = source.morphTargets;
    return this;
  };
  function ShaderMaterial(parameters) {
    Material.call(this);
    this.type = 'ShaderMaterial';
    this.defines = {};
    this.uniforms = {};
    this.vertexShader = 'void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}';
    this.fragmentShader = 'void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}';
    this.linewidth = 1;
    this.wireframe = false;
    this.wireframeLinewidth = 1;
    this.fog = false;
    this.lights = false;
    this.clipping = false;
    this.skinning = false;
    this.morphTargets = false;
    this.morphNormals = false;
    this.extensions = {
      derivatives: false,
      fragDepth: false,
      drawBuffers: false,
      shaderTextureLOD: false
    };
    this.defaultAttributeValues = {
      'color': [1, 1, 1],
      'uv': [0, 0],
      'uv2': [0, 0]
    };
    this.index0AttributeName = undefined;
    this.uniformsNeedUpdate = false;
    if (parameters !== undefined) {
      if (parameters.attributes !== undefined) {
        console.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.');
      }
      this.setValues(parameters);
    }
  }
  ShaderMaterial.prototype = Object.create(Material.prototype);
  ShaderMaterial.prototype.constructor = ShaderMaterial;
  ShaderMaterial.prototype.isShaderMaterial = true;
  ShaderMaterial.prototype.copy = function(source) {
    Material.prototype.copy.call(this, source);
    this.fragmentShader = source.fragmentShader;
    this.vertexShader = source.vertexShader;
    this.uniforms = UniformsUtils.clone(source.uniforms);
    this.defines = Object.assign({}, source.defines);
    this.wireframe = source.wireframe;
    this.wireframeLinewidth = source.wireframeLinewidth;
    this.lights = source.lights;
    this.clipping = source.clipping;
    this.skinning = source.skinning;
    this.morphTargets = source.morphTargets;
    this.morphNormals = source.morphNormals;
    this.extensions = source.extensions;
    return this;
  };
  ShaderMaterial.prototype.toJSON = function(meta) {
    var data = Material.prototype.toJSON.call(this, meta);
    data.uniforms = this.uniforms;
    data.vertexShader = this.vertexShader;
    data.fragmentShader = this.fragmentShader;
    return data;
  };
  function Ray(origin, direction) {
    this.origin = (origin !== undefined) ? origin : new Vector3();
    this.direction = (direction !== undefined) ? direction : new Vector3();
  }
  Object.assign(Ray.prototype, {
    set: function(origin, direction) {
      this.origin.copy(origin);
      this.direction.copy(direction);
      return this;
    },
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(ray) {
      this.origin.copy(ray.origin);
      this.direction.copy(ray.direction);
      return this;
    },
    at: function(t, target) {
      if (target === undefined) {
        console.warn('THREE.Ray: .at() target is now required');
        target = new Vector3();
      }
      return target.copy(this.direction).multiplyScalar(t).add(this.origin);
    },
    lookAt: function(v) {
      this.direction.copy(v).sub(this.origin).normalize();
      return this;
    },
    recast: function() {
      var v1 = new Vector3();
      return function recast(t) {
        this.origin.copy(this.at(t, v1));
        return this;
      };
    }(),
    closestPointToPoint: function(point, target) {
      if (target === undefined) {
        console.warn('THREE.Ray: .closestPointToPoint() target is now required');
        target = new Vector3();
      }
      target.subVectors(point, this.origin);
      var directionDistance = target.dot(this.direction);
      if (directionDistance < 0) {
        return target.copy(this.origin);
      }
      return target.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);
    },
    distanceToPoint: function(point) {
      return Math.sqrt(this.distanceSqToPoint(point));
    },
    distanceSqToPoint: function() {
      var v1 = new Vector3();
      return function distanceSqToPoint(point) {
        var directionDistance = v1.subVectors(point, this.origin).dot(this.direction);
        if (directionDistance < 0) {
          return this.origin.distanceToSquared(point);
        }
        v1.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);
        return v1.distanceToSquared(point);
      };
    }(),
    distanceSqToSegment: function() {
      var segCenter = new Vector3();
      var segDir = new Vector3();
      var diff = new Vector3();
      return function distanceSqToSegment(v0, v1, optionalPointOnRay, optionalPointOnSegment) {
        segCenter.copy(v0).add(v1).multiplyScalar(0.5);
        segDir.copy(v1).sub(v0).normalize();
        diff.copy(this.origin).sub(segCenter);
        var segExtent = v0.distanceTo(v1) * 0.5;
        var a01 = -this.direction.dot(segDir);
        var b0 = diff.dot(this.direction);
        var b1 = -diff.dot(segDir);
        var c = diff.lengthSq();
        var det = Math.abs(1 - a01 * a01);
        var s0,
            s1,
            sqrDist,
            extDet;
        if (det > 0) {
          s0 = a01 * b1 - b0;
          s1 = a01 * b0 - b1;
          extDet = segExtent * det;
          if (s0 >= 0) {
            if (s1 >= -extDet) {
              if (s1 <= extDet) {
                var invDet = 1 / det;
                s0 *= invDet;
                s1 *= invDet;
                sqrDist = s0 * (s0 + a01 * s1 + 2 * b0) + s1 * (a01 * s0 + s1 + 2 * b1) + c;
              } else {
                s1 = segExtent;
                s0 = Math.max(0, -(a01 * s1 + b0));
                sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;
              }
            } else {
              s1 = -segExtent;
              s0 = Math.max(0, -(a01 * s1 + b0));
              sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;
            }
          } else {
            if (s1 <= -extDet) {
              s0 = Math.max(0, -(-a01 * segExtent + b0));
              s1 = (s0 > 0) ? -segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);
              sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;
            } else if (s1 <= extDet) {
              s0 = 0;
              s1 = Math.min(Math.max(-segExtent, -b1), segExtent);
              sqrDist = s1 * (s1 + 2 * b1) + c;
            } else {
              s0 = Math.max(0, -(a01 * segExtent + b0));
              s1 = (s0 > 0) ? segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);
              sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;
            }
          }
        } else {
          s1 = (a01 > 0) ? -segExtent : segExtent;
          s0 = Math.max(0, -(a01 * s1 + b0));
          sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;
        }
        if (optionalPointOnRay) {
          optionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin);
        }
        if (optionalPointOnSegment) {
          optionalPointOnSegment.copy(segDir).multiplyScalar(s1).add(segCenter);
        }
        return sqrDist;
      };
    }(),
    intersectSphere: function() {
      var v1 = new Vector3();
      return function intersectSphere(sphere, target) {
        v1.subVectors(sphere.center, this.origin);
        var tca = v1.dot(this.direction);
        var d2 = v1.dot(v1) - tca * tca;
        var radius2 = sphere.radius * sphere.radius;
        if (d2 > radius2)
          return null;
        var thc = Math.sqrt(radius2 - d2);
        var t0 = tca - thc;
        var t1 = tca + thc;
        if (t0 < 0 && t1 < 0)
          return null;
        if (t0 < 0)
          return this.at(t1, target);
        return this.at(t0, target);
      };
    }(),
    intersectsSphere: function(sphere) {
      return this.distanceToPoint(sphere.center) <= sphere.radius;
    },
    distanceToPlane: function(plane) {
      var denominator = plane.normal.dot(this.direction);
      if (denominator === 0) {
        if (plane.distanceToPoint(this.origin) === 0) {
          return 0;
        }
        return null;
      }
      var t = -(this.origin.dot(plane.normal) + plane.constant) / denominator;
      return t >= 0 ? t : null;
    },
    intersectPlane: function(plane, target) {
      var t = this.distanceToPlane(plane);
      if (t === null) {
        return null;
      }
      return this.at(t, target);
    },
    intersectsPlane: function(plane) {
      var distToPoint = plane.distanceToPoint(this.origin);
      if (distToPoint === 0) {
        return true;
      }
      var denominator = plane.normal.dot(this.direction);
      if (denominator * distToPoint < 0) {
        return true;
      }
      return false;
    },
    intersectBox: function(box, target) {
      var tmin,
          tmax,
          tymin,
          tymax,
          tzmin,
          tzmax;
      var invdirx = 1 / this.direction.x,
          invdiry = 1 / this.direction.y,
          invdirz = 1 / this.direction.z;
      var origin = this.origin;
      if (invdirx >= 0) {
        tmin = (box.min.x - origin.x) * invdirx;
        tmax = (box.max.x - origin.x) * invdirx;
      } else {
        tmin = (box.max.x - origin.x) * invdirx;
        tmax = (box.min.x - origin.x) * invdirx;
      }
      if (invdiry >= 0) {
        tymin = (box.min.y - origin.y) * invdiry;
        tymax = (box.max.y - origin.y) * invdiry;
      } else {
        tymin = (box.max.y - origin.y) * invdiry;
        tymax = (box.min.y - origin.y) * invdiry;
      }
      if ((tmin > tymax) || (tymin > tmax))
        return null;
      if (tymin > tmin || tmin !== tmin)
        tmin = tymin;
      if (tymax < tmax || tmax !== tmax)
        tmax = tymax;
      if (invdirz >= 0) {
        tzmin = (box.min.z - origin.z) * invdirz;
        tzmax = (box.max.z - origin.z) * invdirz;
      } else {
        tzmin = (box.max.z - origin.z) * invdirz;
        tzmax = (box.min.z - origin.z) * invdirz;
      }
      if ((tmin > tzmax) || (tzmin > tmax))
        return null;
      if (tzmin > tmin || tmin !== tmin)
        tmin = tzmin;
      if (tzmax < tmax || tmax !== tmax)
        tmax = tzmax;
      if (tmax < 0)
        return null;
      return this.at(tmin >= 0 ? tmin : tmax, target);
    },
    intersectsBox: (function() {
      var v = new Vector3();
      return function intersectsBox(box) {
        return this.intersectBox(box, v) !== null;
      };
    })(),
    intersectTriangle: function() {
      var diff = new Vector3();
      var edge1 = new Vector3();
      var edge2 = new Vector3();
      var normal = new Vector3();
      return function intersectTriangle(a, b, c, backfaceCulling, target) {
        edge1.subVectors(b, a);
        edge2.subVectors(c, a);
        normal.crossVectors(edge1, edge2);
        var DdN = this.direction.dot(normal);
        var sign;
        if (DdN > 0) {
          if (backfaceCulling)
            return null;
          sign = 1;
        } else if (DdN < 0) {
          sign = -1;
          DdN = -DdN;
        } else {
          return null;
        }
        diff.subVectors(this.origin, a);
        var DdQxE2 = sign * this.direction.dot(edge2.crossVectors(diff, edge2));
        if (DdQxE2 < 0) {
          return null;
        }
        var DdE1xQ = sign * this.direction.dot(edge1.cross(diff));
        if (DdE1xQ < 0) {
          return null;
        }
        if (DdQxE2 + DdE1xQ > DdN) {
          return null;
        }
        var QdN = -sign * diff.dot(normal);
        if (QdN < 0) {
          return null;
        }
        return this.at(QdN / DdN, target);
      };
    }(),
    applyMatrix4: function(matrix4) {
      this.origin.applyMatrix4(matrix4);
      this.direction.transformDirection(matrix4);
      return this;
    },
    equals: function(ray) {
      return ray.origin.equals(this.origin) && ray.direction.equals(this.direction);
    }
  });
  function Line3(start, end) {
    this.start = (start !== undefined) ? start : new Vector3();
    this.end = (end !== undefined) ? end : new Vector3();
  }
  Object.assign(Line3.prototype, {
    set: function(start, end) {
      this.start.copy(start);
      this.end.copy(end);
      return this;
    },
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(line) {
      this.start.copy(line.start);
      this.end.copy(line.end);
      return this;
    },
    getCenter: function(target) {
      if (target === undefined) {
        console.warn('THREE.Line3: .getCenter() target is now required');
        target = new Vector3();
      }
      return target.addVectors(this.start, this.end).multiplyScalar(0.5);
    },
    delta: function(target) {
      if (target === undefined) {
        console.warn('THREE.Line3: .delta() target is now required');
        target = new Vector3();
      }
      return target.subVectors(this.end, this.start);
    },
    distanceSq: function() {
      return this.start.distanceToSquared(this.end);
    },
    distance: function() {
      return this.start.distanceTo(this.end);
    },
    at: function(t, target) {
      if (target === undefined) {
        console.warn('THREE.Line3: .at() target is now required');
        target = new Vector3();
      }
      return this.delta(target).multiplyScalar(t).add(this.start);
    },
    closestPointToPointParameter: function() {
      var startP = new Vector3();
      var startEnd = new Vector3();
      return function closestPointToPointParameter(point, clampToLine) {
        startP.subVectors(point, this.start);
        startEnd.subVectors(this.end, this.start);
        var startEnd2 = startEnd.dot(startEnd);
        var startEnd_startP = startEnd.dot(startP);
        var t = startEnd_startP / startEnd2;
        if (clampToLine) {
          t = _Math.clamp(t, 0, 1);
        }
        return t;
      };
    }(),
    closestPointToPoint: function(point, clampToLine, target) {
      var t = this.closestPointToPointParameter(point, clampToLine);
      if (target === undefined) {
        console.warn('THREE.Line3: .closestPointToPoint() target is now required');
        target = new Vector3();
      }
      return this.delta(target).multiplyScalar(t).add(this.start);
    },
    applyMatrix4: function(matrix) {
      this.start.applyMatrix4(matrix);
      this.end.applyMatrix4(matrix);
      return this;
    },
    equals: function(line) {
      return line.start.equals(this.start) && line.end.equals(this.end);
    }
  });
  function Triangle(a, b, c) {
    this.a = (a !== undefined) ? a : new Vector3();
    this.b = (b !== undefined) ? b : new Vector3();
    this.c = (c !== undefined) ? c : new Vector3();
  }
  Object.assign(Triangle, {
    getNormal: function() {
      var v0 = new Vector3();
      return function getNormal(a, b, c, target) {
        if (target === undefined) {
          console.warn('THREE.Triangle: .getNormal() target is now required');
          target = new Vector3();
        }
        target.subVectors(c, b);
        v0.subVectors(a, b);
        target.cross(v0);
        var targetLengthSq = target.lengthSq();
        if (targetLengthSq > 0) {
          return target.multiplyScalar(1 / Math.sqrt(targetLengthSq));
        }
        return target.set(0, 0, 0);
      };
    }(),
    getBarycoord: function() {
      var v0 = new Vector3();
      var v1 = new Vector3();
      var v2 = new Vector3();
      return function getBarycoord(point, a, b, c, target) {
        v0.subVectors(c, a);
        v1.subVectors(b, a);
        v2.subVectors(point, a);
        var dot00 = v0.dot(v0);
        var dot01 = v0.dot(v1);
        var dot02 = v0.dot(v2);
        var dot11 = v1.dot(v1);
        var dot12 = v1.dot(v2);
        var denom = (dot00 * dot11 - dot01 * dot01);
        if (target === undefined) {
          console.warn('THREE.Triangle: .getBarycoord() target is now required');
          target = new Vector3();
        }
        if (denom === 0) {
          return target.set(-2, -1, -1);
        }
        var invDenom = 1 / denom;
        var u = (dot11 * dot02 - dot01 * dot12) * invDenom;
        var v = (dot00 * dot12 - dot01 * dot02) * invDenom;
        return target.set(1 - u - v, v, u);
      };
    }(),
    containsPoint: function() {
      var v1 = new Vector3();
      return function containsPoint(point, a, b, c) {
        Triangle.getBarycoord(point, a, b, c, v1);
        return (v1.x >= 0) && (v1.y >= 0) && ((v1.x + v1.y) <= 1);
      };
    }()
  });
  Object.assign(Triangle.prototype, {
    set: function(a, b, c) {
      this.a.copy(a);
      this.b.copy(b);
      this.c.copy(c);
      return this;
    },
    setFromPointsAndIndices: function(points, i0, i1, i2) {
      this.a.copy(points[i0]);
      this.b.copy(points[i1]);
      this.c.copy(points[i2]);
      return this;
    },
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(triangle) {
      this.a.copy(triangle.a);
      this.b.copy(triangle.b);
      this.c.copy(triangle.c);
      return this;
    },
    getArea: function() {
      var v0 = new Vector3();
      var v1 = new Vector3();
      return function getArea() {
        v0.subVectors(this.c, this.b);
        v1.subVectors(this.a, this.b);
        return v0.cross(v1).length() * 0.5;
      };
    }(),
    getMidpoint: function(target) {
      if (target === undefined) {
        console.warn('THREE.Triangle: .getMidpoint() target is now required');
        target = new Vector3();
      }
      return target.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3);
    },
    getNormal: function(target) {
      return Triangle.getNormal(this.a, this.b, this.c, target);
    },
    getPlane: function(target) {
      if (target === undefined) {
        console.warn('THREE.Triangle: .getPlane() target is now required');
        target = new Vector3();
      }
      return target.setFromCoplanarPoints(this.a, this.b, this.c);
    },
    getBarycoord: function(point, target) {
      return Triangle.getBarycoord(point, this.a, this.b, this.c, target);
    },
    containsPoint: function(point) {
      return Triangle.containsPoint(point, this.a, this.b, this.c);
    },
    intersectsBox: function(box) {
      return box.intersectsTriangle(this);
    },
    closestPointToPoint: function() {
      var plane = new Plane();
      var edgeList = [new Line3(), new Line3(), new Line3()];
      var projectedPoint = new Vector3();
      var closestPoint = new Vector3();
      return function closestPointToPoint(point, target) {
        if (target === undefined) {
          console.warn('THREE.Triangle: .closestPointToPoint() target is now required');
          target = new Vector3();
        }
        var minDistance = Infinity;
        plane.setFromCoplanarPoints(this.a, this.b, this.c);
        plane.projectPoint(point, projectedPoint);
        if (this.containsPoint(projectedPoint) === true) {
          target.copy(projectedPoint);
        } else {
          edgeList[0].set(this.a, this.b);
          edgeList[1].set(this.b, this.c);
          edgeList[2].set(this.c, this.a);
          for (var i = 0; i < edgeList.length; i++) {
            edgeList[i].closestPointToPoint(projectedPoint, true, closestPoint);
            var distance = projectedPoint.distanceToSquared(closestPoint);
            if (distance < minDistance) {
              minDistance = distance;
              target.copy(closestPoint);
            }
          }
        }
        return target;
      };
    }(),
    equals: function(triangle) {
      return triangle.a.equals(this.a) && triangle.b.equals(this.b) && triangle.c.equals(this.c);
    }
  });
  function Mesh(geometry, material) {
    Object3D.call(this);
    this.type = 'Mesh';
    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();
    this.material = material !== undefined ? material : new MeshBasicMaterial({color: Math.random() * 0xffffff});
    this.drawMode = TrianglesDrawMode;
    this.updateMorphTargets();
  }
  Mesh.prototype = Object.assign(Object.create(Object3D.prototype), {
    constructor: Mesh,
    isMesh: true,
    setDrawMode: function(value) {
      this.drawMode = value;
    },
    copy: function(source) {
      Object3D.prototype.copy.call(this, source);
      this.drawMode = source.drawMode;
      if (source.morphTargetInfluences !== undefined) {
        this.morphTargetInfluences = source.morphTargetInfluences.slice();
      }
      if (source.morphTargetDictionary !== undefined) {
        this.morphTargetDictionary = Object.assign({}, source.morphTargetDictionary);
      }
      return this;
    },
    updateMorphTargets: function() {
      var geometry = this.geometry;
      var m,
          ml,
          name;
      if (geometry.isBufferGeometry) {
        var morphAttributes = geometry.morphAttributes;
        var keys = Object.keys(morphAttributes);
        if (keys.length > 0) {
          var morphAttribute = morphAttributes[keys[0]];
          if (morphAttribute !== undefined) {
            this.morphTargetInfluences = [];
            this.morphTargetDictionary = {};
            for (m = 0, ml = morphAttribute.length; m < ml; m++) {
              name = morphAttribute[m].name || String(m);
              this.morphTargetInfluences.push(0);
              this.morphTargetDictionary[name] = m;
            }
          }
        }
      } else {
        var morphTargets = geometry.morphTargets;
        if (morphTargets !== undefined && morphTargets.length > 0) {
          this.morphTargetInfluences = [];
          this.morphTargetDictionary = {};
          for (m = 0, ml = morphTargets.length; m < ml; m++) {
            name = morphTargets[m].name || String(m);
            this.morphTargetInfluences.push(0);
            this.morphTargetDictionary[name] = m;
          }
        }
      }
    },
    raycast: (function() {
      var inverseMatrix = new Matrix4();
      var ray = new Ray();
      var sphere = new Sphere();
      var vA = new Vector3();
      var vB = new Vector3();
      var vC = new Vector3();
      var tempA = new Vector3();
      var tempB = new Vector3();
      var tempC = new Vector3();
      var uvA = new Vector2();
      var uvB = new Vector2();
      var uvC = new Vector2();
      var barycoord = new Vector3();
      var intersectionPoint = new Vector3();
      var intersectionPointWorld = new Vector3();
      function uvIntersection(point, p1, p2, p3, uv1, uv2, uv3) {
        Triangle.getBarycoord(point, p1, p2, p3, barycoord);
        uv1.multiplyScalar(barycoord.x);
        uv2.multiplyScalar(barycoord.y);
        uv3.multiplyScalar(barycoord.z);
        uv1.add(uv2).add(uv3);
        return uv1.clone();
      }
      function checkIntersection(object, material, raycaster, ray, pA, pB, pC, point) {
        var intersect;
        if (material.side === BackSide) {
          intersect = ray.intersectTriangle(pC, pB, pA, true, point);
        } else {
          intersect = ray.intersectTriangle(pA, pB, pC, material.side !== DoubleSide, point);
        }
        if (intersect === null)
          return null;
        intersectionPointWorld.copy(point);
        intersectionPointWorld.applyMatrix4(object.matrixWorld);
        var distance = raycaster.ray.origin.distanceTo(intersectionPointWorld);
        if (distance < raycaster.near || distance > raycaster.far)
          return null;
        return {
          distance: distance,
          point: intersectionPointWorld.clone(),
          object: object
        };
      }
      function checkBufferGeometryIntersection(object, material, raycaster, ray, position, uv, a, b, c) {
        vA.fromBufferAttribute(position, a);
        vB.fromBufferAttribute(position, b);
        vC.fromBufferAttribute(position, c);
        var intersection = checkIntersection(object, material, raycaster, ray, vA, vB, vC, intersectionPoint);
        if (intersection) {
          if (uv) {
            uvA.fromBufferAttribute(uv, a);
            uvB.fromBufferAttribute(uv, b);
            uvC.fromBufferAttribute(uv, c);
            intersection.uv = uvIntersection(intersectionPoint, vA, vB, vC, uvA, uvB, uvC);
          }
          var face = new Face3(a, b, c);
          Triangle.getNormal(vA, vB, vC, face.normal);
          intersection.face = face;
        }
        return intersection;
      }
      return function raycast(raycaster, intersects) {
        var geometry = this.geometry;
        var material = this.material;
        var matrixWorld = this.matrixWorld;
        if (material === undefined)
          return;
        if (geometry.boundingSphere === null)
          geometry.computeBoundingSphere();
        sphere.copy(geometry.boundingSphere);
        sphere.applyMatrix4(matrixWorld);
        if (raycaster.ray.intersectsSphere(sphere) === false)
          return;
        inverseMatrix.getInverse(matrixWorld);
        ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);
        if (geometry.boundingBox !== null) {
          if (ray.intersectsBox(geometry.boundingBox) === false)
            return;
        }
        var intersection;
        if (geometry.isBufferGeometry) {
          var a,
              b,
              c;
          var index = geometry.index;
          var position = geometry.attributes.position;
          var uv = geometry.attributes.uv;
          var groups = geometry.groups;
          var drawRange = geometry.drawRange;
          var i,
              j,
              il,
              jl;
          var group,
              groupMaterial;
          var start,
              end;
          if (index !== null) {
            if (Array.isArray(material)) {
              for (i = 0, il = groups.length; i < il; i++) {
                group = groups[i];
                groupMaterial = material[group.materialIndex];
                start = Math.max(group.start, drawRange.start);
                end = Math.min((group.start + group.count), (drawRange.start + drawRange.count));
                for (j = start, jl = end; j < jl; j += 3) {
                  a = index.getX(i);
                  b = index.getX(i + 1);
                  c = index.getX(i + 2);
                  intersection = checkBufferGeometryIntersection(this, groupMaterial, raycaster, ray, position, uv, a, b, c);
                  if (intersection) {
                    intersection.faceIndex = Math.floor(i / 3);
                    intersects.push(intersection);
                  }
                }
              }
            } else {
              start = Math.max(0, drawRange.start);
              end = Math.min(index.count, (drawRange.start + drawRange.count));
              for (i = start, il = end; i < il; i += 3) {
                a = index.getX(i);
                b = index.getX(i + 1);
                c = index.getX(i + 2);
                intersection = checkBufferGeometryIntersection(this, material, raycaster, ray, position, uv, a, b, c);
                if (intersection) {
                  intersection.faceIndex = Math.floor(i / 3);
                  intersects.push(intersection);
                }
              }
            }
          } else if (position !== undefined) {
            if (Array.isArray(material)) {
              for (i = 0, il = groups.length; i < il; i++) {
                group = groups[i];
                groupMaterial = material[group.materialIndex];
                start = Math.max(group.start, drawRange.start);
                end = Math.min((group.start + group.count), (drawRange.start + drawRange.count));
                for (j = start, jl = end; j < jl; j += 3) {
                  a = j;
                  b = j + 1;
                  c = j + 2;
                  intersection = checkBufferGeometryIntersection(this, groupMaterial, raycaster, ray, position, uv, a, b, c);
                  if (intersection) {
                    intersection.faceIndex = Math.floor(i / 3);
                    intersects.push(intersection);
                  }
                }
              }
            } else {
              start = Math.max(0, drawRange.start);
              end = Math.min(position.count, (drawRange.start + drawRange.count));
              for (i = start, il = end; i < il; i += 3) {
                a = i;
                b = i + 1;
                c = i + 2;
                intersection = checkBufferGeometryIntersection(this, material, raycaster, ray, position, uv, a, b, c);
                if (intersection) {
                  intersection.faceIndex = Math.floor(i / 3);
                  intersects.push(intersection);
                }
              }
            }
          }
        } else if (geometry.isGeometry) {
          var fvA,
              fvB,
              fvC;
          var isMultiMaterial = Array.isArray(material);
          var vertices = geometry.vertices;
          var faces = geometry.faces;
          var uvs;
          var faceVertexUvs = geometry.faceVertexUvs[0];
          if (faceVertexUvs.length > 0)
            uvs = faceVertexUvs;
          for (var f = 0,
              fl = faces.length; f < fl; f++) {
            var face = faces[f];
            var faceMaterial = isMultiMaterial ? material[face.materialIndex] : material;
            if (faceMaterial === undefined)
              continue;
            fvA = vertices[face.a];
            fvB = vertices[face.b];
            fvC = vertices[face.c];
            if (faceMaterial.morphTargets === true) {
              var morphTargets = geometry.morphTargets;
              var morphInfluences = this.morphTargetInfluences;
              vA.set(0, 0, 0);
              vB.set(0, 0, 0);
              vC.set(0, 0, 0);
              for (var t = 0,
                  tl = morphTargets.length; t < tl; t++) {
                var influence = morphInfluences[t];
                if (influence === 0)
                  continue;
                var targets = morphTargets[t].vertices;
                vA.addScaledVector(tempA.subVectors(targets[face.a], fvA), influence);
                vB.addScaledVector(tempB.subVectors(targets[face.b], fvB), influence);
                vC.addScaledVector(tempC.subVectors(targets[face.c], fvC), influence);
              }
              vA.add(fvA);
              vB.add(fvB);
              vC.add(fvC);
              fvA = vA;
              fvB = vB;
              fvC = vC;
            }
            intersection = checkIntersection(this, faceMaterial, raycaster, ray, fvA, fvB, fvC, intersectionPoint);
            if (intersection) {
              if (uvs && uvs[f]) {
                var uvs_f = uvs[f];
                uvA.copy(uvs_f[0]);
                uvB.copy(uvs_f[1]);
                uvC.copy(uvs_f[2]);
                intersection.uv = uvIntersection(intersectionPoint, fvA, fvB, fvC, uvA, uvB, uvC);
              }
              intersection.face = face;
              intersection.faceIndex = f;
              intersects.push(intersection);
            }
          }
        }
      };
    }()),
    clone: function() {
      return new this.constructor(this.geometry, this.material).copy(this);
    }
  });
  function WebGLBackground(renderer, state, objects, premultipliedAlpha) {
    var clearColor = new Color(0x000000);
    var clearAlpha = 0;
    var planeCamera,
        planeMesh;
    var boxMesh;
    function render(renderList, scene, camera, forceClear) {
      var background = scene.background;
      if (background === null) {
        setClear(clearColor, clearAlpha);
      } else if (background && background.isColor) {
        setClear(background, 1);
        forceClear = true;
      }
      if (renderer.autoClear || forceClear) {
        renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);
      }
      if (background && background.isCubeTexture) {
        if (boxMesh === undefined) {
          boxMesh = new Mesh(new BoxBufferGeometry(1, 1, 1), new ShaderMaterial({
            uniforms: ShaderLib.cube.uniforms,
            vertexShader: ShaderLib.cube.vertexShader,
            fragmentShader: ShaderLib.cube.fragmentShader,
            side: BackSide,
            depthTest: true,
            depthWrite: false,
            fog: false
          }));
          boxMesh.geometry.removeAttribute('normal');
          boxMesh.geometry.removeAttribute('uv');
          boxMesh.onBeforeRender = function(renderer, scene, camera) {
            this.matrixWorld.copyPosition(camera.matrixWorld);
          };
          objects.update(boxMesh);
        }
        boxMesh.material.uniforms.tCube.value = background;
        renderList.push(boxMesh, boxMesh.geometry, boxMesh.material, 0, null);
      } else if (background && background.isTexture) {
        if (planeCamera === undefined) {
          planeCamera = new OrthographicCamera(-1, 1, 1, -1, 0, 1);
          planeMesh = new Mesh(new PlaneBufferGeometry(2, 2), new MeshBasicMaterial({
            depthTest: false,
            depthWrite: false,
            fog: false
          }));
          objects.update(planeMesh);
        }
        planeMesh.material.map = background;
        renderer.renderBufferDirect(planeCamera, null, planeMesh.geometry, planeMesh.material, planeMesh, null);
      }
    }
    function setClear(color, alpha) {
      state.buffers.color.setClear(color.r, color.g, color.b, alpha, premultipliedAlpha);
    }
    return {
      getClearColor: function() {
        return clearColor;
      },
      setClearColor: function(color, alpha) {
        clearColor.set(color);
        clearAlpha = alpha !== undefined ? alpha : 1;
        setClear(clearColor, clearAlpha);
      },
      getClearAlpha: function() {
        return clearAlpha;
      },
      setClearAlpha: function(alpha) {
        clearAlpha = alpha;
        setClear(clearColor, clearAlpha);
      },
      render: render
    };
  }
  function WebGLBufferRenderer(gl, extensions, info) {
    var mode;
    function setMode(value) {
      mode = value;
    }
    function render(start, count) {
      gl.drawArrays(mode, start, count);
      info.update(count, mode);
    }
    function renderInstances(geometry, start, count) {
      var extension = extensions.get('ANGLE_instanced_arrays');
      if (extension === null) {
        console.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');
        return;
      }
      extension.drawArraysInstancedANGLE(mode, start, count, geometry.maxInstancedCount);
      info.update(count, mode, geometry.maxInstancedCount);
    }
    this.setMode = setMode;
    this.render = render;
    this.renderInstances = renderInstances;
  }
  function WebGLCapabilities(gl, extensions, parameters) {
    var maxAnisotropy;
    function getMaxAnisotropy() {
      if (maxAnisotropy !== undefined)
        return maxAnisotropy;
      var extension = extensions.get('EXT_texture_filter_anisotropic');
      if (extension !== null) {
        maxAnisotropy = gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
      } else {
        maxAnisotropy = 0;
      }
      return maxAnisotropy;
    }
    function getMaxPrecision(precision) {
      if (precision === 'highp') {
        if (gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT).precision > 0 && gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT).precision > 0) {
          return 'highp';
        }
        precision = 'mediump';
      }
      if (precision === 'mediump') {
        if (gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT).precision > 0 && gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT).precision > 0) {
          return 'mediump';
        }
      }
      return 'lowp';
    }
    var precision = parameters.precision !== undefined ? parameters.precision : 'highp';
    var maxPrecision = getMaxPrecision(precision);
    if (maxPrecision !== precision) {
      console.warn('THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.');
      precision = maxPrecision;
    }
    var logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;
    var maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);
    var maxVertexTextures = gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS);
    var maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);
    var maxCubemapSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);
    var maxAttributes = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);
    var maxVertexUniforms = gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS);
    var maxVaryings = gl.getParameter(gl.MAX_VARYING_VECTORS);
    var maxFragmentUniforms = gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS);
    var vertexTextures = maxVertexTextures > 0;
    var floatFragmentTextures = !!extensions.get('OES_texture_float');
    var floatVertexTextures = vertexTextures && floatFragmentTextures;
    return {
      getMaxAnisotropy: getMaxAnisotropy,
      getMaxPrecision: getMaxPrecision,
      precision: precision,
      logarithmicDepthBuffer: logarithmicDepthBuffer,
      maxTextures: maxTextures,
      maxVertexTextures: maxVertexTextures,
      maxTextureSize: maxTextureSize,
      maxCubemapSize: maxCubemapSize,
      maxAttributes: maxAttributes,
      maxVertexUniforms: maxVertexUniforms,
      maxVaryings: maxVaryings,
      maxFragmentUniforms: maxFragmentUniforms,
      vertexTextures: vertexTextures,
      floatFragmentTextures: floatFragmentTextures,
      floatVertexTextures: floatVertexTextures
    };
  }
  function WebGLClipping() {
    var scope = this,
        globalState = null,
        numGlobalPlanes = 0,
        localClippingEnabled = false,
        renderingShadows = false,
        plane = new Plane(),
        viewNormalMatrix = new Matrix3(),
        uniform = {
          value: null,
          needsUpdate: false
        };
    this.uniform = uniform;
    this.numPlanes = 0;
    this.numIntersection = 0;
    this.init = function(planes, enableLocalClipping, camera) {
      var enabled = planes.length !== 0 || enableLocalClipping || numGlobalPlanes !== 0 || localClippingEnabled;
      localClippingEnabled = enableLocalClipping;
      globalState = projectPlanes(planes, camera, 0);
      numGlobalPlanes = planes.length;
      return enabled;
    };
    this.beginShadows = function() {
      renderingShadows = true;
      projectPlanes(null);
    };
    this.endShadows = function() {
      renderingShadows = false;
      resetGlobalState();
    };
    this.setState = function(planes, clipIntersection, clipShadows, camera, cache, fromCache) {
      if (!localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && !clipShadows) {
        if (renderingShadows) {
          projectPlanes(null);
        } else {
          resetGlobalState();
        }
      } else {
        var nGlobal = renderingShadows ? 0 : numGlobalPlanes,
            lGlobal = nGlobal * 4,
            dstArray = cache.clippingState || null;
        uniform.value = dstArray;
        dstArray = projectPlanes(planes, camera, lGlobal, fromCache);
        for (var i = 0; i !== lGlobal; ++i) {
          dstArray[i] = globalState[i];
        }
        cache.clippingState = dstArray;
        this.numIntersection = clipIntersection ? this.numPlanes : 0;
        this.numPlanes += nGlobal;
      }
    };
    function resetGlobalState() {
      if (uniform.value !== globalState) {
        uniform.value = globalState;
        uniform.needsUpdate = numGlobalPlanes > 0;
      }
      scope.numPlanes = numGlobalPlanes;
      scope.numIntersection = 0;
    }
    function projectPlanes(planes, camera, dstOffset, skipTransform) {
      var nPlanes = planes !== null ? planes.length : 0,
          dstArray = null;
      if (nPlanes !== 0) {
        dstArray = uniform.value;
        if (skipTransform !== true || dstArray === null) {
          var flatSize = dstOffset + nPlanes * 4,
              viewMatrix = camera.matrixWorldInverse;
          viewNormalMatrix.getNormalMatrix(viewMatrix);
          if (dstArray === null || dstArray.length < flatSize) {
            dstArray = new Float32Array(flatSize);
          }
          for (var i = 0,
              i4 = dstOffset; i !== nPlanes; ++i, i4 += 4) {
            plane.copy(planes[i]).applyMatrix4(viewMatrix, viewNormalMatrix);
            plane.normal.toArray(dstArray, i4);
            dstArray[i4 + 3] = plane.constant;
          }
        }
        uniform.value = dstArray;
        uniform.needsUpdate = true;
      }
      scope.numPlanes = nPlanes;
      return dstArray;
    }
  }
  function WebGLExtensions(gl) {
    var extensions = {};
    return {get: function(name) {
        if (extensions[name] !== undefined) {
          return extensions[name];
        }
        var extension;
        switch (name) {
          case 'WEBGL_depth_texture':
            extension = gl.getExtension('WEBGL_depth_texture') || gl.getExtension('MOZ_WEBGL_depth_texture') || gl.getExtension('WEBKIT_WEBGL_depth_texture');
            break;
          case 'EXT_texture_filter_anisotropic':
            extension = gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('MOZ_EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');
            break;
          case 'WEBGL_compressed_texture_s3tc':
            extension = gl.getExtension('WEBGL_compressed_texture_s3tc') || gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');
            break;
          case 'WEBGL_compressed_texture_pvrtc':
            extension = gl.getExtension('WEBGL_compressed_texture_pvrtc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');
            break;
          default:
            extension = gl.getExtension(name);
        }
        if (extension === null) {
          console.warn('THREE.WebGLRenderer: ' + name + ' extension not supported.');
        }
        extensions[name] = extension;
        return extension;
      }};
  }
  function WebGLGeometries(gl, attributes, info) {
    var geometries = {};
    var wireframeAttributes = {};
    function onGeometryDispose(event) {
      var geometry = event.target;
      var buffergeometry = geometries[geometry.id];
      if (buffergeometry.index !== null) {
        attributes.remove(buffergeometry.index);
      }
      for (var name in buffergeometry.attributes) {
        attributes.remove(buffergeometry.attributes[name]);
      }
      geometry.removeEventListener('dispose', onGeometryDispose);
      delete geometries[geometry.id];
      var attribute = wireframeAttributes[geometry.id];
      if (attribute) {
        attributes.remove(attribute);
        delete wireframeAttributes[geometry.id];
      }
      attribute = wireframeAttributes[buffergeometry.id];
      if (attribute) {
        attributes.remove(attribute);
        delete wireframeAttributes[buffergeometry.id];
      }
      info.memory.geometries--;
    }
    function get(object, geometry) {
      var buffergeometry = geometries[geometry.id];
      if (buffergeometry)
        return buffergeometry;
      geometry.addEventListener('dispose', onGeometryDispose);
      if (geometry.isBufferGeometry) {
        buffergeometry = geometry;
      } else if (geometry.isGeometry) {
        if (geometry._bufferGeometry === undefined) {
          geometry._bufferGeometry = new BufferGeometry().setFromObject(object);
        }
        buffergeometry = geometry._bufferGeometry;
      }
      geometries[geometry.id] = buffergeometry;
      info.memory.geometries++;
      return buffergeometry;
    }
    function update(geometry) {
      var index = geometry.index;
      var geometryAttributes = geometry.attributes;
      if (index !== null) {
        attributes.update(index, gl.ELEMENT_ARRAY_BUFFER);
      }
      for (var name in geometryAttributes) {
        attributes.update(geometryAttributes[name], gl.ARRAY_BUFFER);
      }
      var morphAttributes = geometry.morphAttributes;
      for (var name in morphAttributes) {
        var array = morphAttributes[name];
        for (var i = 0,
            l = array.length; i < l; i++) {
          attributes.update(array[i], gl.ARRAY_BUFFER);
        }
      }
    }
    function getWireframeAttribute(geometry) {
      var attribute = wireframeAttributes[geometry.id];
      if (attribute)
        return attribute;
      var indices = [];
      var geometryIndex = geometry.index;
      var geometryAttributes = geometry.attributes;
      if (geometryIndex !== null) {
        var array = geometryIndex.array;
        for (var i = 0,
            l = array.length; i < l; i += 3) {
          var a = array[i + 0];
          var b = array[i + 1];
          var c = array[i + 2];
          indices.push(a, b, b, c, c, a);
        }
      } else {
        var array = geometryAttributes.position.array;
        for (var i = 0,
            l = (array.length / 3) - 1; i < l; i += 3) {
          var a = i + 0;
          var b = i + 1;
          var c = i + 2;
          indices.push(a, b, b, c, c, a);
        }
      }
      attribute = new (arrayMax(indices) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute)(indices, 1);
      attributes.update(attribute, gl.ELEMENT_ARRAY_BUFFER);
      wireframeAttributes[geometry.id] = attribute;
      return attribute;
    }
    return {
      get: get,
      update: update,
      getWireframeAttribute: getWireframeAttribute
    };
  }
  function WebGLIndexedBufferRenderer(gl, extensions, info) {
    var mode;
    function setMode(value) {
      mode = value;
    }
    var type,
        bytesPerElement;
    function setIndex(value) {
      type = value.type;
      bytesPerElement = value.bytesPerElement;
    }
    function render(start, count) {
      gl.drawElements(mode, count, type, start * bytesPerElement);
      info.update(count, mode);
    }
    function renderInstances(geometry, start, count) {
      var extension = extensions.get('ANGLE_instanced_arrays');
      if (extension === null) {
        console.error('THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');
        return;
      }
      extension.drawElementsInstancedANGLE(mode, count, type, start * bytesPerElement, geometry.maxInstancedCount);
      info.update(count, mode, geometry.maxInstancedCount);
    }
    this.setMode = setMode;
    this.setIndex = setIndex;
    this.render = render;
    this.renderInstances = renderInstances;
  }
  function WebGLInfo(gl) {
    var memory = {
      geometries: 0,
      textures: 0
    };
    var render = {
      frame: 0,
      calls: 0,
      triangles: 0,
      points: 0,
      lines: 0
    };
    function update(count, mode, instanceCount) {
      instanceCount = instanceCount || 1;
      render.calls++;
      switch (mode) {
        case gl.TRIANGLES:
          render.triangles += instanceCount * (count / 3);
          break;
        case gl.TRIANGLE_STRIP:
        case gl.TRIANGLE_FAN:
          render.triangles += instanceCount * (count - 2);
          break;
        case gl.LINES:
          render.lines += instanceCount * (count / 2);
          break;
        case gl.LINE_STRIP:
          render.lines += instanceCount * (count - 1);
          break;
        case gl.LINE_LOOP:
          render.lines += instanceCount * count;
          break;
        case gl.POINTS:
          render.points += instanceCount * count;
          break;
        default:
          console.error('THREE.WebGLInfo: Unknown draw mode:', mode);
          break;
      }
    }
    function reset() {
      render.frame++;
      render.calls = 0;
      render.triangles = 0;
      render.points = 0;
      render.lines = 0;
    }
    return {
      memory: memory,
      render: render,
      programs: null,
      autoReset: true,
      reset: reset,
      update: update
    };
  }
  function absNumericalSort(a, b) {
    return Math.abs(b[1]) - Math.abs(a[1]);
  }
  function WebGLMorphtargets(gl) {
    var influencesList = {};
    var morphInfluences = new Float32Array(8);
    function update(object, geometry, material, program) {
      var objectInfluences = object.morphTargetInfluences;
      var length = objectInfluences.length;
      var influences = influencesList[geometry.id];
      if (influences === undefined) {
        influences = [];
        for (var i = 0; i < length; i++) {
          influences[i] = [i, 0];
        }
        influencesList[geometry.id] = influences;
      }
      var morphTargets = material.morphTargets && geometry.morphAttributes.position;
      var morphNormals = material.morphNormals && geometry.morphAttributes.normal;
      for (var i = 0; i < length; i++) {
        var influence = influences[i];
        if (influence[1] !== 0) {
          if (morphTargets)
            geometry.removeAttribute('morphTarget' + i);
          if (morphNormals)
            geometry.removeAttribute('morphNormal' + i);
        }
      }
      for (var i = 0; i < length; i++) {
        var influence = influences[i];
        influence[0] = i;
        influence[1] = objectInfluences[i];
      }
      influences.sort(absNumericalSort);
      for (var i = 0; i < 8; i++) {
        var influence = influences[i];
        if (influence) {
          var index = influence[0];
          var value = influence[1];
          if (value) {
            if (morphTargets)
              geometry.addAttribute('morphTarget' + i, morphTargets[index]);
            if (morphNormals)
              geometry.addAttribute('morphNormal' + i, morphNormals[index]);
            morphInfluences[i] = value;
            continue;
          }
        }
        morphInfluences[i] = 0;
      }
      program.getUniforms().setValue(gl, 'morphTargetInfluences', morphInfluences);
    }
    return {update: update};
  }
  function WebGLObjects(geometries, info) {
    var updateList = {};
    function update(object) {
      var frame = info.render.frame;
      var geometry = object.geometry;
      var buffergeometry = geometries.get(object, geometry);
      if (updateList[buffergeometry.id] !== frame) {
        if (geometry.isGeometry) {
          buffergeometry.updateFromObject(object);
        }
        geometries.update(buffergeometry);
        updateList[buffergeometry.id] = frame;
      }
      return buffergeometry;
    }
    function dispose() {
      updateList = {};
    }
    return {
      update: update,
      dispose: dispose
    };
  }
  function CubeTexture(images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {
    images = images !== undefined ? images : [];
    mapping = mapping !== undefined ? mapping : CubeReflectionMapping;
    Texture.call(this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);
    this.flipY = false;
  }
  CubeTexture.prototype = Object.create(Texture.prototype);
  CubeTexture.prototype.constructor = CubeTexture;
  CubeTexture.prototype.isCubeTexture = true;
  Object.defineProperty(CubeTexture.prototype, 'images', {
    get: function() {
      return this.image;
    },
    set: function(value) {
      this.image = value;
    }
  });
  var emptyTexture = new Texture();
  var emptyCubeTexture = new CubeTexture();
  function UniformContainer() {
    this.seq = [];
    this.map = {};
  }
  var arrayCacheF32 = [];
  var arrayCacheI32 = [];
  var mat4array = new Float32Array(16);
  var mat3array = new Float32Array(9);
  var mat2array = new Float32Array(4);
  function flatten(array, nBlocks, blockSize) {
    var firstElem = array[0];
    if (firstElem <= 0 || firstElem > 0)
      return array;
    var n = nBlocks * blockSize,
        r = arrayCacheF32[n];
    if (r === undefined) {
      r = new Float32Array(n);
      arrayCacheF32[n] = r;
    }
    if (nBlocks !== 0) {
      firstElem.toArray(r, 0);
      for (var i = 1,
          offset = 0; i !== nBlocks; ++i) {
        offset += blockSize;
        array[i].toArray(r, offset);
      }
    }
    return r;
  }
  function arraysEqual(a, b) {
    if (a.length !== b.length)
      return false;
    for (var i = 0,
        l = a.length; i < l; i++) {
      if (a[i] !== b[i])
        return false;
    }
    return true;
  }
  function copyArray(a, b) {
    for (var i = 0,
        l = b.length; i < l; i++) {
      a[i] = b[i];
    }
  }
  function allocTexUnits(renderer, n) {
    var r = arrayCacheI32[n];
    if (r === undefined) {
      r = new Int32Array(n);
      arrayCacheI32[n] = r;
    }
    for (var i = 0; i !== n; ++i)
      r[i] = renderer.allocTextureUnit();
    return r;
  }
  function setValue1f(gl, v) {
    var cache = this.cache;
    if (cache[0] === v)
      return;
    gl.uniform1f(this.addr, v);
    cache[0] = v;
  }
  function setValue1i(gl, v) {
    var cache = this.cache;
    if (cache[0] === v)
      return;
    gl.uniform1i(this.addr, v);
    cache[0] = v;
  }
  function setValue2fv(gl, v) {
    var cache = this.cache;
    if (v.x !== undefined) {
      if (cache[0] !== v.x || cache[1] !== v.y) {
        gl.uniform2f(this.addr, v.x, v.y);
        cache[0] = v.x;
        cache[1] = v.y;
      }
    } else {
      if (arraysEqual(cache, v))
        return;
      gl.uniform2fv(this.addr, v);
      copyArray(cache, v);
    }
  }
  function setValue3fv(gl, v) {
    var cache = this.cache;
    if (v.x !== undefined) {
      if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z) {
        gl.uniform3f(this.addr, v.x, v.y, v.z);
        cache[0] = v.x;
        cache[1] = v.y;
        cache[2] = v.z;
      }
    } else if (v.r !== undefined) {
      if (cache[0] !== v.r || cache[1] !== v.g || cache[2] !== v.b) {
        gl.uniform3f(this.addr, v.r, v.g, v.b);
        cache[0] = v.r;
        cache[1] = v.g;
        cache[2] = v.b;
      }
    } else {
      if (arraysEqual(cache, v))
        return;
      gl.uniform3fv(this.addr, v);
      copyArray(cache, v);
    }
  }
  function setValue4fv(gl, v) {
    var cache = this.cache;
    if (v.x !== undefined) {
      if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z || cache[3] !== v.w) {
        gl.uniform4f(this.addr, v.x, v.y, v.z, v.w);
        cache[0] = v.x;
        cache[1] = v.y;
        cache[2] = v.z;
        cache[3] = v.w;
      }
    } else {
      if (arraysEqual(cache, v))
        return;
      gl.uniform4fv(this.addr, v);
      copyArray(cache, v);
    }
  }
  function setValue2fm(gl, v) {
    var cache = this.cache;
    var elements = v.elements;
    if (elements === undefined) {
      if (arraysEqual(cache, v))
        return;
      gl.uniformMatrix2fv(this.addr, false, v);
      copyArray(cache, v);
    } else {
      if (arraysEqual(cache, elements))
        return;
      mat2array.set(elements);
      gl.uniformMatrix2fv(this.addr, false, mat2array);
      copyArray(cache, elements);
    }
  }
  function setValue3fm(gl, v) {
    var cache = this.cache;
    var elements = v.elements;
    if (elements === undefined) {
      if (arraysEqual(cache, v))
        return;
      gl.uniformMatrix3fv(this.addr, false, v);
      copyArray(cache, v);
    } else {
      if (arraysEqual(cache, elements))
        return;
      mat3array.set(elements);
      gl.uniformMatrix3fv(this.addr, false, mat3array);
      copyArray(cache, elements);
    }
  }
  function setValue4fm(gl, v) {
    var cache = this.cache;
    var elements = v.elements;
    if (elements === undefined) {
      if (arraysEqual(cache, v))
        return;
      gl.uniformMatrix4fv(this.addr, false, v);
      copyArray(cache, v);
    } else {
      if (arraysEqual(cache, elements))
        return;
      mat4array.set(elements);
      gl.uniformMatrix4fv(this.addr, false, mat4array);
      copyArray(cache, elements);
    }
  }
  function setValueT1(gl, v, renderer) {
    var cache = this.cache;
    var unit = renderer.allocTextureUnit();
    if (cache[0] !== unit) {
      gl.uniform1i(this.addr, unit);
      cache[0] = unit;
    }
    renderer.setTexture2D(v || emptyTexture, unit);
  }
  function setValueT6(gl, v, renderer) {
    var cache = this.cache;
    var unit = renderer.allocTextureUnit();
    if (cache[0] !== unit) {
      gl.uniform1i(this.addr, unit);
      cache[0] = unit;
    }
    renderer.setTextureCube(v || emptyCubeTexture, unit);
  }
  function setValue2iv(gl, v) {
    var cache = this.cache;
    if (arraysEqual(cache, v))
      return;
    gl.uniform2iv(this.addr, v);
    copyArray(cache, v);
  }
  function setValue3iv(gl, v) {
    var cache = this.cache;
    if (arraysEqual(cache, v))
      return;
    gl.uniform3iv(this.addr, v);
    copyArray(cache, v);
  }
  function setValue4iv(gl, v) {
    var cache = this.cache;
    if (arraysEqual(cache, v))
      return;
    gl.uniform4iv(this.addr, v);
    copyArray(cache, v);
  }
  function getSingularSetter(type) {
    switch (type) {
      case 0x1406:
        return setValue1f;
      case 0x8b50:
        return setValue2fv;
      case 0x8b51:
        return setValue3fv;
      case 0x8b52:
        return setValue4fv;
      case 0x8b5a:
        return setValue2fm;
      case 0x8b5b:
        return setValue3fm;
      case 0x8b5c:
        return setValue4fm;
      case 0x8b5e:
      case 0x8d66:
        return setValueT1;
      case 0x8b60:
        return setValueT6;
      case 0x1404:
      case 0x8b56:
        return setValue1i;
      case 0x8b53:
      case 0x8b57:
        return setValue2iv;
      case 0x8b54:
      case 0x8b58:
        return setValue3iv;
      case 0x8b55:
      case 0x8b59:
        return setValue4iv;
    }
  }
  function setValue1fv(gl, v) {
    var cache = this.cache;
    if (arraysEqual(cache, v))
      return;
    gl.uniform1fv(this.addr, v);
    copyArray(cache, v);
  }
  function setValue1iv(gl, v) {
    var cache = this.cache;
    if (arraysEqual(cache, v))
      return;
    gl.uniform1iv(this.addr, v);
    copyArray(cache, v);
  }
  function setValueV2a(gl, v) {
    var cache = this.cache;
    var data = flatten(v, this.size, 2);
    if (arraysEqual(cache, data))
      return;
    gl.uniform2fv(this.addr, data);
    this.updateCache(data);
  }
  function setValueV3a(gl, v) {
    var cache = this.cache;
    var data = flatten(v, this.size, 3);
    if (arraysEqual(cache, data))
      return;
    gl.uniform3fv(this.addr, data);
    this.updateCache(data);
  }
  function setValueV4a(gl, v) {
    var cache = this.cache;
    var data = flatten(v, this.size, 4);
    if (arraysEqual(cache, data))
      return;
    gl.uniform4fv(this.addr, data);
    this.updateCache(data);
  }
  function setValueM2a(gl, v) {
    var cache = this.cache;
    var data = flatten(v, this.size, 4);
    if (arraysEqual(cache, data))
      return;
    gl.uniformMatrix2fv(this.addr, false, data);
    this.updateCache(data);
  }
  function setValueM3a(gl, v) {
    var cache = this.cache;
    var data = flatten(v, this.size, 9);
    if (arraysEqual(cache, data))
      return;
    gl.uniformMatrix3fv(this.addr, false, data);
    this.updateCache(data);
  }
  function setValueM4a(gl, v) {
    var cache = this.cache;
    var data = flatten(v, this.size, 16);
    if (arraysEqual(cache, data))
      return;
    gl.uniformMatrix4fv(this.addr, false, data);
    this.updateCache(data);
  }
  function setValueT1a(gl, v, renderer) {
    var cache = this.cache;
    var n = v.length;
    var units = allocTexUnits(renderer, n);
    if (arraysEqual(cache, units) === false) {
      gl.uniform1iv(this.addr, units);
      copyArray(cache, units);
    }
    for (var i = 0; i !== n; ++i) {
      renderer.setTexture2D(v[i] || emptyTexture, units[i]);
    }
  }
  function setValueT6a(gl, v, renderer) {
    var cache = this.cache;
    var n = v.length;
    var units = allocTexUnits(renderer, n);
    if (arraysEqual(cache, units) === false) {
      gl.uniform1iv(this.addr, units);
      copyArray(cache, units);
    }
    for (var i = 0; i !== n; ++i) {
      renderer.setTextureCube(v[i] || emptyCubeTexture, units[i]);
    }
  }
  function getPureArraySetter(type) {
    switch (type) {
      case 0x1406:
        return setValue1fv;
      case 0x8b50:
        return setValueV2a;
      case 0x8b51:
        return setValueV3a;
      case 0x8b52:
        return setValueV4a;
      case 0x8b5a:
        return setValueM2a;
      case 0x8b5b:
        return setValueM3a;
      case 0x8b5c:
        return setValueM4a;
      case 0x8b5e:
        return setValueT1a;
      case 0x8b60:
        return setValueT6a;
      case 0x1404:
      case 0x8b56:
        return setValue1iv;
      case 0x8b53:
      case 0x8b57:
        return setValue2iv;
      case 0x8b54:
      case 0x8b58:
        return setValue3iv;
      case 0x8b55:
      case 0x8b59:
        return setValue4iv;
    }
  }
  function SingleUniform(id, activeInfo, addr) {
    this.id = id;
    this.addr = addr;
    this.cache = [];
    this.setValue = getSingularSetter(activeInfo.type);
  }
  function PureArrayUniform(id, activeInfo, addr) {
    this.id = id;
    this.addr = addr;
    this.cache = [];
    this.size = activeInfo.size;
    this.setValue = getPureArraySetter(activeInfo.type);
  }
  PureArrayUniform.prototype.updateCache = function(data) {
    var cache = this.cache;
    if (data instanceof Float32Array && cache.length !== data.length) {
      this.cache = new Float32Array(data.length);
    }
    copyArray(cache, data);
  };
  function StructuredUniform(id) {
    this.id = id;
    UniformContainer.call(this);
  }
  StructuredUniform.prototype.setValue = function(gl, value) {
    var seq = this.seq;
    for (var i = 0,
        n = seq.length; i !== n; ++i) {
      var u = seq[i];
      u.setValue(gl, value[u.id]);
    }
  };
  var RePathPart = /([\w\d_]+)(\])?(\[|\.)?/g;
  function addUniform(container, uniformObject) {
    container.seq.push(uniformObject);
    container.map[uniformObject.id] = uniformObject;
  }
  function parseUniform(activeInfo, addr, container) {
    var path = activeInfo.name,
        pathLength = path.length;
    RePathPart.lastIndex = 0;
    while (true) {
      var match = RePathPart.exec(path),
          matchEnd = RePathPart.lastIndex,
          id = match[1],
          idIsIndex = match[2] === ']',
          subscript = match[3];
      if (idIsIndex)
        id = id | 0;
      if (subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength) {
        addUniform(container, subscript === undefined ? new SingleUniform(id, activeInfo, addr) : new PureArrayUniform(id, activeInfo, addr));
        break;
      } else {
        var map = container.map,
            next = map[id];
        if (next === undefined) {
          next = new StructuredUniform(id);
          addUniform(container, next);
        }
        container = next;
      }
    }
  }
  function WebGLUniforms(gl, program, renderer) {
    UniformContainer.call(this);
    this.renderer = renderer;
    var n = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);
    for (var i = 0; i < n; ++i) {
      var info = gl.getActiveUniform(program, i),
          addr = gl.getUniformLocation(program, info.name);
      parseUniform(info, addr, this);
    }
  }
  WebGLUniforms.prototype.setValue = function(gl, name, value) {
    var u = this.map[name];
    if (u !== undefined)
      u.setValue(gl, value, this.renderer);
  };
  WebGLUniforms.prototype.setOptional = function(gl, object, name) {
    var v = object[name];
    if (v !== undefined)
      this.setValue(gl, name, v);
  };
  WebGLUniforms.upload = function(gl, seq, values, renderer) {
    for (var i = 0,
        n = seq.length; i !== n; ++i) {
      var u = seq[i],
          v = values[u.id];
      if (v.needsUpdate !== false) {
        u.setValue(gl, v.value, renderer);
      }
    }
  };
  WebGLUniforms.seqWithValue = function(seq, values) {
    var r = [];
    for (var i = 0,
        n = seq.length; i !== n; ++i) {
      var u = seq[i];
      if (u.id in values)
        r.push(u);
    }
    return r;
  };
  function addLineNumbers(string) {
    var lines = string.split('\n');
    for (var i = 0; i < lines.length; i++) {
      lines[i] = (i + 1) + ': ' + lines[i];
    }
    return lines.join('\n');
  }
  function WebGLShader(gl, type, string) {
    var shader = gl.createShader(type);
    gl.shaderSource(shader, string);
    gl.compileShader(shader);
    if (gl.getShaderParameter(shader, gl.COMPILE_STATUS) === false) {
      console.error('THREE.WebGLShader: Shader couldn\'t compile.');
    }
    if (gl.getShaderInfoLog(shader) !== '') {
      console.warn('THREE.WebGLShader: gl.getShaderInfoLog()', type === gl.VERTEX_SHADER ? 'vertex' : 'fragment', gl.getShaderInfoLog(shader), addLineNumbers(string));
    }
    return shader;
  }
  var programIdCount = 0;
  function getEncodingComponents(encoding) {
    switch (encoding) {
      case LinearEncoding:
        return ['Linear', '( value )'];
      case sRGBEncoding:
        return ['sRGB', '( value )'];
      case RGBEEncoding:
        return ['RGBE', '( value )'];
      case RGBM7Encoding:
        return ['RGBM', '( value, 7.0 )'];
      case RGBM16Encoding:
        return ['RGBM', '( value, 16.0 )'];
      case RGBDEncoding:
        return ['RGBD', '( value, 256.0 )'];
      case GammaEncoding:
        return ['Gamma', '( value, float( GAMMA_FACTOR ) )'];
      default:
        throw new Error('unsupported encoding: ' + encoding);
    }
  }
  function getTexelDecodingFunction(functionName, encoding) {
    var components = getEncodingComponents(encoding);
    return 'vec4 ' + functionName + '( vec4 value ) { return ' + components[0] + 'ToLinear' + components[1] + '; }';
  }
  function getTexelEncodingFunction(functionName, encoding) {
    var components = getEncodingComponents(encoding);
    return 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[0] + components[1] + '; }';
  }
  function getToneMappingFunction(functionName, toneMapping) {
    var toneMappingName;
    switch (toneMapping) {
      case LinearToneMapping:
        toneMappingName = 'Linear';
        break;
      case ReinhardToneMapping:
        toneMappingName = 'Reinhard';
        break;
      case Uncharted2ToneMapping:
        toneMappingName = 'Uncharted2';
        break;
      case CineonToneMapping:
        toneMappingName = 'OptimizedCineon';
        break;
      default:
        throw new Error('unsupported toneMapping: ' + toneMapping);
    }
    return 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';
  }
  function generateExtensions(extensions, parameters, rendererExtensions) {
    extensions = extensions || {};
    var chunks = [(extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || (parameters.normalMap && !parameters.objectSpaceNormalMap) || parameters.flatShading) ? '#extension GL_OES_standard_derivatives : enable' : '', (extensions.fragDepth || parameters.logarithmicDepthBuffer) && rendererExtensions.get('EXT_frag_depth') ? '#extension GL_EXT_frag_depth : enable' : '', (extensions.drawBuffers) && rendererExtensions.get('WEBGL_draw_buffers') ? '#extension GL_EXT_draw_buffers : require' : '', (extensions.shaderTextureLOD || parameters.envMap) && rendererExtensions.get('EXT_shader_texture_lod') ? '#extension GL_EXT_shader_texture_lod : enable' : ''];
    return chunks.filter(filterEmptyLine).join('\n');
  }
  function generateDefines(defines) {
    var chunks = [];
    for (var name in defines) {
      var value = defines[name];
      if (value === false)
        continue;
      chunks.push('#define ' + name + ' ' + value);
    }
    return chunks.join('\n');
  }
  function fetchAttributeLocations(gl, program) {
    var attributes = {};
    var n = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);
    for (var i = 0; i < n; i++) {
      var info = gl.getActiveAttrib(program, i);
      var name = info.name;
      attributes[name] = gl.getAttribLocation(program, name);
    }
    return attributes;
  }
  function filterEmptyLine(string) {
    return string !== '';
  }
  function replaceLightNums(string, parameters) {
    return string.replace(/NUM_DIR_LIGHTS/g, parameters.numDirLights).replace(/NUM_SPOT_LIGHTS/g, parameters.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, parameters.numPointLights).replace(/NUM_HEMI_LIGHTS/g, parameters.numHemiLights);
  }
  function replaceClippingPlaneNums(string, parameters) {
    return string.replace(/NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, (parameters.numClippingPlanes - parameters.numClipIntersection));
  }
  function parseIncludes(string) {
    var pattern = /^[ \t]*#include +<([\w\d.]+)>/gm;
    function replace(match, include) {
      var replace = ShaderChunk[include];
      if (replace === undefined) {
        throw new Error('Can not resolve #include <' + include + '>');
      }
      return parseIncludes(replace);
    }
    return string.replace(pattern, replace);
  }
  function unrollLoops(string) {
    var pattern = /#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;
    function replace(match, start, end, snippet) {
      var unroll = '';
      for (var i = parseInt(start); i < parseInt(end); i++) {
        unroll += snippet.replace(/\[ i \]/g, '[ ' + i + ' ]');
      }
      return unroll;
    }
    return string.replace(pattern, replace);
  }
  function WebGLProgram(renderer, extensions, code, material, shader, parameters) {
    var gl = renderer.context;
    var defines = material.defines;
    var vertexShader = shader.vertexShader;
    var fragmentShader = shader.fragmentShader;
    var shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';
    if (parameters.shadowMapType === PCFShadowMap) {
      shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';
    } else if (parameters.shadowMapType === PCFSoftShadowMap) {
      shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';
    }
    var envMapTypeDefine = 'ENVMAP_TYPE_CUBE';
    var envMapModeDefine = 'ENVMAP_MODE_REFLECTION';
    var envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';
    if (parameters.envMap) {
      switch (material.envMap.mapping) {
        case CubeReflectionMapping:
        case CubeRefractionMapping:
          envMapTypeDefine = 'ENVMAP_TYPE_CUBE';
          break;
        case CubeUVReflectionMapping:
        case CubeUVRefractionMapping:
          envMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';
          break;
        case EquirectangularReflectionMapping:
        case EquirectangularRefractionMapping:
          envMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';
          break;
        case SphericalReflectionMapping:
          envMapTypeDefine = 'ENVMAP_TYPE_SPHERE';
          break;
      }
      switch (material.envMap.mapping) {
        case CubeRefractionMapping:
        case EquirectangularRefractionMapping:
          envMapModeDefine = 'ENVMAP_MODE_REFRACTION';
          break;
      }
      switch (material.combine) {
        case MultiplyOperation:
          envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';
          break;
        case MixOperation:
          envMapBlendingDefine = 'ENVMAP_BLENDING_MIX';
          break;
        case AddOperation:
          envMapBlendingDefine = 'ENVMAP_BLENDING_ADD';
          break;
      }
    }
    var gammaFactorDefine = (renderer.gammaFactor > 0) ? renderer.gammaFactor : 1.0;
    var customExtensions = generateExtensions(material.extensions, parameters, extensions);
    var customDefines = generateDefines(defines);
    var program = gl.createProgram();
    var prefixVertex,
        prefixFragment;
    if (material.isRawShaderMaterial) {
      prefixVertex = [customDefines].filter(filterEmptyLine).join('\n');
      if (prefixVertex.length > 0) {
        prefixVertex += '\n';
      }
      prefixFragment = [customExtensions, customDefines].filter(filterEmptyLine).join('\n');
      if (prefixFragment.length > 0) {
        prefixFragment += '\n';
      }
    } else {
      prefixVertex = ['precision ' + parameters.precision + ' float;', 'precision ' + parameters.precision + ' int;', '#define SHADER_NAME ' + shader.name, customDefines, parameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '', '#define GAMMA_FACTOR ' + gammaFactorDefine, '#define MAX_BONES ' + parameters.maxBones, (parameters.useFog && parameters.fog) ? '#define USE_FOG' : '', (parameters.useFog && parameters.fogExp) ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', (parameters.normalMap && parameters.objectSpaceNormalMap) ? '#define OBJECTSPACE_NORMALMAP' : '', parameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.vertexColors ? '#define USE_COLOR' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.skinning ? '#define USE_SKINNING' : '', parameters.useVertexTexture ? '#define BONE_TEXTURE' : '', parameters.morphTargets ? '#define USE_MORPHTARGETS' : '', parameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && extensions.get('EXT_frag_depth') ? '#define USE_LOGDEPTHBUF_EXT' : '', 'uniform mat4 modelMatrix;', 'uniform mat4 modelViewMatrix;', 'uniform mat4 projectionMatrix;', 'uniform mat4 viewMatrix;', 'uniform mat3 normalMatrix;', 'uniform vec3 cameraPosition;', 'attribute vec3 position;', 'attribute vec3 normal;', 'attribute vec2 uv;', '#ifdef USE_COLOR', '	attribute vec3 color;', '#endif', '#ifdef USE_MORPHTARGETS', '	attribute vec3 morphTarget0;', '	attribute vec3 morphTarget1;', '	attribute vec3 morphTarget2;', '	attribute vec3 morphTarget3;', '	#ifdef USE_MORPHNORMALS', '		attribute vec3 morphNormal0;', '		attribute vec3 morphNormal1;', '		attribute vec3 morphNormal2;', '		attribute vec3 morphNormal3;', '	#else', '		attribute vec3 morphTarget4;', '		attribute vec3 morphTarget5;', '		attribute vec3 morphTarget6;', '		attribute vec3 morphTarget7;', '	#endif', '#endif', '#ifdef USE_SKINNING', '	attribute vec4 skinIndex;', '	attribute vec4 skinWeight;', '#endif', '\n'].filter(filterEmptyLine).join('\n');
      prefixFragment = [customExtensions, 'precision ' + parameters.precision + ' float;', 'precision ' + parameters.precision + ' int;', '#define SHADER_NAME ' + shader.name, customDefines, parameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + (parameters.alphaTest % 1 ? '' : '.0') : '', '#define GAMMA_FACTOR ' + gammaFactorDefine, (parameters.useFog && parameters.fog) ? '#define USE_FOG' : '', (parameters.useFog && parameters.fogExp) ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapTypeDefine : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.envMap ? '#define ' + envMapBlendingDefine : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', (parameters.normalMap && parameters.objectSpaceNormalMap) ? '#define OBJECTSPACE_NORMALMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.vertexColors ? '#define USE_COLOR' : '', parameters.gradientMap ? '#define USE_GRADIENTMAP' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '', parameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && extensions.get('EXT_frag_depth') ? '#define USE_LOGDEPTHBUF_EXT' : '', parameters.envMap && extensions.get('EXT_shader_texture_lod') ? '#define TEXTURE_LOD_EXT' : '', 'uniform mat4 viewMatrix;', 'uniform vec3 cameraPosition;', (parameters.toneMapping !== NoToneMapping) ? '#define TONE_MAPPING' : '', (parameters.toneMapping !== NoToneMapping) ? ShaderChunk['tonemapping_pars_fragment'] : '', (parameters.toneMapping !== NoToneMapping) ? getToneMappingFunction('toneMapping', parameters.toneMapping) : '', parameters.dithering ? '#define DITHERING' : '', (parameters.outputEncoding || parameters.mapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding) ? ShaderChunk['encodings_pars_fragment'] : '', parameters.mapEncoding ? getTexelDecodingFunction('mapTexelToLinear', parameters.mapEncoding) : '', parameters.envMapEncoding ? getTexelDecodingFunction('envMapTexelToLinear', parameters.envMapEncoding) : '', parameters.emissiveMapEncoding ? getTexelDecodingFunction('emissiveMapTexelToLinear', parameters.emissiveMapEncoding) : '', parameters.outputEncoding ? getTexelEncodingFunction('linearToOutputTexel', parameters.outputEncoding) : '', parameters.depthPacking ? '#define DEPTH_PACKING ' + material.depthPacking : '', '\n'].filter(filterEmptyLine).join('\n');
    }
    vertexShader = parseIncludes(vertexShader);
    vertexShader = replaceLightNums(vertexShader, parameters);
    vertexShader = replaceClippingPlaneNums(vertexShader, parameters);
    fragmentShader = parseIncludes(fragmentShader);
    fragmentShader = replaceLightNums(fragmentShader, parameters);
    fragmentShader = replaceClippingPlaneNums(fragmentShader, parameters);
    vertexShader = unrollLoops(vertexShader);
    fragmentShader = unrollLoops(fragmentShader);
    var vertexGlsl = prefixVertex + vertexShader;
    var fragmentGlsl = prefixFragment + fragmentShader;
    var glVertexShader = WebGLShader(gl, gl.VERTEX_SHADER, vertexGlsl);
    var glFragmentShader = WebGLShader(gl, gl.FRAGMENT_SHADER, fragmentGlsl);
    gl.attachShader(program, glVertexShader);
    gl.attachShader(program, glFragmentShader);
    if (material.index0AttributeName !== undefined) {
      gl.bindAttribLocation(program, 0, material.index0AttributeName);
    } else if (parameters.morphTargets === true) {
      gl.bindAttribLocation(program, 0, 'position');
    }
    gl.linkProgram(program);
    var programLog = gl.getProgramInfoLog(program).trim();
    var vertexLog = gl.getShaderInfoLog(glVertexShader).trim();
    var fragmentLog = gl.getShaderInfoLog(glFragmentShader).trim();
    var runnable = true;
    var haveDiagnostics = true;
    if (gl.getProgramParameter(program, gl.LINK_STATUS) === false) {
      runnable = false;
      console.error('THREE.WebGLProgram: shader error: ', gl.getError(), 'gl.VALIDATE_STATUS', gl.getProgramParameter(program, gl.VALIDATE_STATUS), 'gl.getProgramInfoLog', programLog, vertexLog, fragmentLog);
    } else if (programLog !== '') {
      console.warn('THREE.WebGLProgram: gl.getProgramInfoLog()', programLog);
    } else if (vertexLog === '' || fragmentLog === '') {
      haveDiagnostics = false;
    }
    if (haveDiagnostics) {
      this.diagnostics = {
        runnable: runnable,
        material: material,
        programLog: programLog,
        vertexShader: {
          log: vertexLog,
          prefix: prefixVertex
        },
        fragmentShader: {
          log: fragmentLog,
          prefix: prefixFragment
        }
      };
    }
    gl.deleteShader(glVertexShader);
    gl.deleteShader(glFragmentShader);
    var cachedUniforms;
    this.getUniforms = function() {
      if (cachedUniforms === undefined) {
        cachedUniforms = new WebGLUniforms(gl, program, renderer);
      }
      return cachedUniforms;
    };
    var cachedAttributes;
    this.getAttributes = function() {
      if (cachedAttributes === undefined) {
        cachedAttributes = fetchAttributeLocations(gl, program);
      }
      return cachedAttributes;
    };
    this.destroy = function() {
      gl.deleteProgram(program);
      this.program = undefined;
    };
    Object.defineProperties(this, {
      uniforms: {get: function() {
          console.warn('THREE.WebGLProgram: .uniforms is now .getUniforms().');
          return this.getUniforms();
        }},
      attributes: {get: function() {
          console.warn('THREE.WebGLProgram: .attributes is now .getAttributes().');
          return this.getAttributes();
        }}
    });
    this.name = shader.name;
    this.id = programIdCount++;
    this.code = code;
    this.usedTimes = 1;
    this.program = program;
    this.vertexShader = glVertexShader;
    this.fragmentShader = glFragmentShader;
    return this;
  }
  function WebGLPrograms(renderer, extensions, capabilities) {
    var programs = [];
    var shaderIDs = {
      MeshDepthMaterial: 'depth',
      MeshDistanceMaterial: 'distanceRGBA',
      MeshNormalMaterial: 'normal',
      MeshBasicMaterial: 'basic',
      MeshLambertMaterial: 'lambert',
      MeshPhongMaterial: 'phong',
      MeshToonMaterial: 'phong',
      MeshStandardMaterial: 'physical',
      MeshPhysicalMaterial: 'physical',
      LineBasicMaterial: 'basic',
      LineDashedMaterial: 'dashed',
      PointsMaterial: 'points',
      ShadowMaterial: 'shadow'
    };
    var parameterNames = ["precision", "supportsVertexTextures", "map", "mapEncoding", "envMap", "envMapMode", "envMapEncoding", "lightMap", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "objectSpaceNormalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "gradientMap", "alphaMap", "combine", "vertexColors", "fog", "useFog", "fogExp", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "numRectAreaLights", "shadowMapEnabled", "shadowMapType", "toneMapping", 'physicallyCorrectLights', "alphaTest", "doubleSided", "flipSided", "numClippingPlanes", "numClipIntersection", "depthPacking", "dithering"];
    function allocateBones(object) {
      var skeleton = object.skeleton;
      var bones = skeleton.bones;
      if (capabilities.floatVertexTextures) {
        return 1024;
      } else {
        var nVertexUniforms = capabilities.maxVertexUniforms;
        var nVertexMatrices = Math.floor((nVertexUniforms - 20) / 4);
        var maxBones = Math.min(nVertexMatrices, bones.length);
        if (maxBones < bones.length) {
          console.warn('THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.');
          return 0;
        }
        return maxBones;
      }
    }
    function getTextureEncodingFromMap(map, gammaOverrideLinear) {
      var encoding;
      if (!map) {
        encoding = LinearEncoding;
      } else if (map.isTexture) {
        encoding = map.encoding;
      } else if (map.isWebGLRenderTarget) {
        console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.");
        encoding = map.texture.encoding;
      }
      if (encoding === LinearEncoding && gammaOverrideLinear) {
        encoding = GammaEncoding;
      }
      return encoding;
    }
    this.getParameters = function(material, lights, shadows, fog, nClipPlanes, nClipIntersection, object) {
      var shaderID = shaderIDs[material.type];
      var maxBones = object.isSkinnedMesh ? allocateBones(object) : 0;
      var precision = capabilities.precision;
      if (material.precision !== null) {
        precision = capabilities.getMaxPrecision(material.precision);
        if (precision !== material.precision) {
          console.warn('THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.');
        }
      }
      var currentRenderTarget = renderer.getRenderTarget();
      var parameters = {
        shaderID: shaderID,
        precision: precision,
        supportsVertexTextures: capabilities.vertexTextures,
        outputEncoding: getTextureEncodingFromMap((!currentRenderTarget) ? null : currentRenderTarget.texture, renderer.gammaOutput),
        map: !!material.map,
        mapEncoding: getTextureEncodingFromMap(material.map, renderer.gammaInput),
        envMap: !!material.envMap,
        envMapMode: material.envMap && material.envMap.mapping,
        envMapEncoding: getTextureEncodingFromMap(material.envMap, renderer.gammaInput),
        envMapCubeUV: (!!material.envMap) && ((material.envMap.mapping === CubeUVReflectionMapping) || (material.envMap.mapping === CubeUVRefractionMapping)),
        lightMap: !!material.lightMap,
        aoMap: !!material.aoMap,
        emissiveMap: !!material.emissiveMap,
        emissiveMapEncoding: getTextureEncodingFromMap(material.emissiveMap, renderer.gammaInput),
        bumpMap: !!material.bumpMap,
        normalMap: !!material.normalMap,
        objectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,
        displacementMap: !!material.displacementMap,
        roughnessMap: !!material.roughnessMap,
        metalnessMap: !!material.metalnessMap,
        specularMap: !!material.specularMap,
        alphaMap: !!material.alphaMap,
        gradientMap: !!material.gradientMap,
        combine: material.combine,
        vertexColors: material.vertexColors,
        fog: !!fog,
        useFog: material.fog,
        fogExp: (fog && fog.isFogExp2),
        flatShading: material.flatShading,
        sizeAttenuation: material.sizeAttenuation,
        logarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,
        skinning: material.skinning && maxBones > 0,
        maxBones: maxBones,
        useVertexTexture: capabilities.floatVertexTextures,
        morphTargets: material.morphTargets,
        morphNormals: material.morphNormals,
        maxMorphTargets: renderer.maxMorphTargets,
        maxMorphNormals: renderer.maxMorphNormals,
        numDirLights: lights.directional.length,
        numPointLights: lights.point.length,
        numSpotLights: lights.spot.length,
        numRectAreaLights: lights.rectArea.length,
        numHemiLights: lights.hemi.length,
        numClippingPlanes: nClipPlanes,
        numClipIntersection: nClipIntersection,
        dithering: material.dithering,
        shadowMapEnabled: renderer.shadowMap.enabled && object.receiveShadow && shadows.length > 0,
        shadowMapType: renderer.shadowMap.type,
        toneMapping: renderer.toneMapping,
        physicallyCorrectLights: renderer.physicallyCorrectLights,
        premultipliedAlpha: material.premultipliedAlpha,
        alphaTest: material.alphaTest,
        doubleSided: material.side === DoubleSide,
        flipSided: material.side === BackSide,
        depthPacking: (material.depthPacking !== undefined) ? material.depthPacking : false
      };
      return parameters;
    };
    this.getProgramCode = function(material, parameters) {
      var array = [];
      if (parameters.shaderID) {
        array.push(parameters.shaderID);
      } else {
        array.push(material.fragmentShader);
        array.push(material.vertexShader);
      }
      if (material.defines !== undefined) {
        for (var name in material.defines) {
          array.push(name);
          array.push(material.defines[name]);
        }
      }
      for (var i = 0; i < parameterNames.length; i++) {
        array.push(parameters[parameterNames[i]]);
      }
      array.push(material.onBeforeCompile.toString());
      array.push(renderer.gammaOutput);
      return array.join();
    };
    this.acquireProgram = function(material, shader, parameters, code) {
      var program;
      for (var p = 0,
          pl = programs.length; p < pl; p++) {
        var programInfo = programs[p];
        if (programInfo.code === code) {
          program = programInfo;
          ++program.usedTimes;
          break;
        }
      }
      if (program === undefined) {
        program = new WebGLProgram(renderer, extensions, code, material, shader, parameters);
        programs.push(program);
      }
      return program;
    };
    this.releaseProgram = function(program) {
      if (--program.usedTimes === 0) {
        var i = programs.indexOf(program);
        programs[i] = programs[programs.length - 1];
        programs.pop();
        program.destroy();
      }
    };
    this.programs = programs;
  }
  function WebGLProperties() {
    var properties = new WeakMap();
    function get(object) {
      var map = properties.get(object);
      if (map === undefined) {
        map = {};
        properties.set(object, map);
      }
      return map;
    }
    function remove(object) {
      properties.delete(object);
    }
    function update(object, key, value) {
      properties.get(object)[key] = value;
    }
    function dispose() {
      properties = new WeakMap();
    }
    return {
      get: get,
      remove: remove,
      update: update,
      dispose: dispose
    };
  }
  function painterSortStable(a, b) {
    if (a.renderOrder !== b.renderOrder) {
      return a.renderOrder - b.renderOrder;
    } else if (a.program && b.program && a.program !== b.program) {
      return a.program.id - b.program.id;
    } else if (a.material.id !== b.material.id) {
      return a.material.id - b.material.id;
    } else if (a.z !== b.z) {
      return a.z - b.z;
    } else {
      return a.id - b.id;
    }
  }
  function reversePainterSortStable(a, b) {
    if (a.renderOrder !== b.renderOrder) {
      return a.renderOrder - b.renderOrder;
    }
    if (a.z !== b.z) {
      return b.z - a.z;
    } else {
      return a.id - b.id;
    }
  }
  function WebGLRenderList() {
    var renderItems = [];
    var renderItemsIndex = 0;
    var opaque = [];
    var transparent = [];
    function init() {
      renderItemsIndex = 0;
      opaque.length = 0;
      transparent.length = 0;
    }
    function push(object, geometry, material, z, group) {
      var renderItem = renderItems[renderItemsIndex];
      if (renderItem === undefined) {
        renderItem = {
          id: object.id,
          object: object,
          geometry: geometry,
          material: material,
          program: material.program,
          renderOrder: object.renderOrder,
          z: z,
          group: group
        };
        renderItems[renderItemsIndex] = renderItem;
      } else {
        renderItem.id = object.id;
        renderItem.object = object;
        renderItem.geometry = geometry;
        renderItem.material = material;
        renderItem.program = material.program;
        renderItem.renderOrder = object.renderOrder;
        renderItem.z = z;
        renderItem.group = group;
      }
      (material.transparent === true ? transparent : opaque).push(renderItem);
      renderItemsIndex++;
    }
    function sort() {
      if (opaque.length > 1)
        opaque.sort(painterSortStable);
      if (transparent.length > 1)
        transparent.sort(reversePainterSortStable);
    }
    return {
      opaque: opaque,
      transparent: transparent,
      init: init,
      push: push,
      sort: sort
    };
  }
  function WebGLRenderLists() {
    var lists = {};
    function get(scene, camera) {
      var hash = scene.id + ',' + camera.id;
      var list = lists[hash];
      if (list === undefined) {
        list = new WebGLRenderList();
        lists[hash] = list;
      }
      return list;
    }
    function dispose() {
      lists = {};
    }
    return {
      get: get,
      dispose: dispose
    };
  }
  function UniformsCache() {
    var lights = {};
    return {get: function(light) {
        if (lights[light.id] !== undefined) {
          return lights[light.id];
        }
        var uniforms;
        switch (light.type) {
          case 'DirectionalLight':
            uniforms = {
              direction: new Vector3(),
              color: new Color(),
              shadow: false,
              shadowBias: 0,
              shadowRadius: 1,
              shadowMapSize: new Vector2()
            };
            break;
          case 'SpotLight':
            uniforms = {
              position: new Vector3(),
              direction: new Vector3(),
              color: new Color(),
              distance: 0,
              coneCos: 0,
              penumbraCos: 0,
              decay: 0,
              shadow: false,
              shadowBias: 0,
              shadowRadius: 1,
              shadowMapSize: new Vector2()
            };
            break;
          case 'PointLight':
            uniforms = {
              position: new Vector3(),
              color: new Color(),
              distance: 0,
              decay: 0,
              shadow: false,
              shadowBias: 0,
              shadowRadius: 1,
              shadowMapSize: new Vector2(),
              shadowCameraNear: 1,
              shadowCameraFar: 1000
            };
            break;
          case 'HemisphereLight':
            uniforms = {
              direction: new Vector3(),
              skyColor: new Color(),
              groundColor: new Color()
            };
            break;
          case 'RectAreaLight':
            uniforms = {
              color: new Color(),
              position: new Vector3(),
              halfWidth: new Vector3(),
              halfHeight: new Vector3()
            };
            break;
        }
        lights[light.id] = uniforms;
        return uniforms;
      }};
  }
  var count = 0;
  function WebGLLights() {
    var cache = new UniformsCache();
    var state = {
      id: count++,
      hash: '',
      ambient: [0, 0, 0],
      directional: [],
      directionalShadowMap: [],
      directionalShadowMatrix: [],
      spot: [],
      spotShadowMap: [],
      spotShadowMatrix: [],
      rectArea: [],
      point: [],
      pointShadowMap: [],
      pointShadowMatrix: [],
      hemi: []
    };
    var vector3 = new Vector3();
    var matrix4 = new Matrix4();
    var matrix42 = new Matrix4();
    function setup(lights, shadows, camera) {
      var r = 0,
          g = 0,
          b = 0;
      var directionalLength = 0;
      var pointLength = 0;
      var spotLength = 0;
      var rectAreaLength = 0;
      var hemiLength = 0;
      var viewMatrix = camera.matrixWorldInverse;
      for (var i = 0,
          l = lights.length; i < l; i++) {
        var light = lights[i];
        var color = light.color;
        var intensity = light.intensity;
        var distance = light.distance;
        var shadowMap = (light.shadow && light.shadow.map) ? light.shadow.map.texture : null;
        if (light.isAmbientLight) {
          r += color.r * intensity;
          g += color.g * intensity;
          b += color.b * intensity;
        } else if (light.isDirectionalLight) {
          var uniforms = cache.get(light);
          uniforms.color.copy(light.color).multiplyScalar(light.intensity);
          uniforms.direction.setFromMatrixPosition(light.matrixWorld);
          vector3.setFromMatrixPosition(light.target.matrixWorld);
          uniforms.direction.sub(vector3);
          uniforms.direction.transformDirection(viewMatrix);
          uniforms.shadow = light.castShadow;
          if (light.castShadow) {
            var shadow = light.shadow;
            uniforms.shadowBias = shadow.bias;
            uniforms.shadowRadius = shadow.radius;
            uniforms.shadowMapSize = shadow.mapSize;
          }
          state.directionalShadowMap[directionalLength] = shadowMap;
          state.directionalShadowMatrix[directionalLength] = light.shadow.matrix;
          state.directional[directionalLength] = uniforms;
          directionalLength++;
        } else if (light.isSpotLight) {
          var uniforms = cache.get(light);
          uniforms.position.setFromMatrixPosition(light.matrixWorld);
          uniforms.position.applyMatrix4(viewMatrix);
          uniforms.color.copy(color).multiplyScalar(intensity);
          uniforms.distance = distance;
          uniforms.direction.setFromMatrixPosition(light.matrixWorld);
          vector3.setFromMatrixPosition(light.target.matrixWorld);
          uniforms.direction.sub(vector3);
          uniforms.direction.transformDirection(viewMatrix);
          uniforms.coneCos = Math.cos(light.angle);
          uniforms.penumbraCos = Math.cos(light.angle * (1 - light.penumbra));
          uniforms.decay = (light.distance === 0) ? 0.0 : light.decay;
          uniforms.shadow = light.castShadow;
          if (light.castShadow) {
            var shadow = light.shadow;
            uniforms.shadowBias = shadow.bias;
            uniforms.shadowRadius = shadow.radius;
            uniforms.shadowMapSize = shadow.mapSize;
          }
          state.spotShadowMap[spotLength] = shadowMap;
          state.spotShadowMatrix[spotLength] = light.shadow.matrix;
          state.spot[spotLength] = uniforms;
          spotLength++;
        } else if (light.isRectAreaLight) {
          var uniforms = cache.get(light);
          uniforms.color.copy(color).multiplyScalar(intensity);
          uniforms.position.setFromMatrixPosition(light.matrixWorld);
          uniforms.position.applyMatrix4(viewMatrix);
          matrix42.identity();
          matrix4.copy(light.matrixWorld);
          matrix4.premultiply(viewMatrix);
          matrix42.extractRotation(matrix4);
          uniforms.halfWidth.set(light.width * 0.5, 0.0, 0.0);
          uniforms.halfHeight.set(0.0, light.height * 0.5, 0.0);
          uniforms.halfWidth.applyMatrix4(matrix42);
          uniforms.halfHeight.applyMatrix4(matrix42);
          state.rectArea[rectAreaLength] = uniforms;
          rectAreaLength++;
        } else if (light.isPointLight) {
          var uniforms = cache.get(light);
          uniforms.position.setFromMatrixPosition(light.matrixWorld);
          uniforms.position.applyMatrix4(viewMatrix);
          uniforms.color.copy(light.color).multiplyScalar(light.intensity);
          uniforms.distance = light.distance;
          uniforms.decay = (light.distance === 0) ? 0.0 : light.decay;
          uniforms.shadow = light.castShadow;
          if (light.castShadow) {
            var shadow = light.shadow;
            uniforms.shadowBias = shadow.bias;
            uniforms.shadowRadius = shadow.radius;
            uniforms.shadowMapSize = shadow.mapSize;
            uniforms.shadowCameraNear = shadow.camera.near;
            uniforms.shadowCameraFar = shadow.camera.far;
          }
          state.pointShadowMap[pointLength] = shadowMap;
          state.pointShadowMatrix[pointLength] = light.shadow.matrix;
          state.point[pointLength] = uniforms;
          pointLength++;
        } else if (light.isHemisphereLight) {
          var uniforms = cache.get(light);
          uniforms.direction.setFromMatrixPosition(light.matrixWorld);
          uniforms.direction.transformDirection(viewMatrix);
          uniforms.direction.normalize();
          uniforms.skyColor.copy(light.color).multiplyScalar(intensity);
          uniforms.groundColor.copy(light.groundColor).multiplyScalar(intensity);
          state.hemi[hemiLength] = uniforms;
          hemiLength++;
        }
      }
      state.ambient[0] = r;
      state.ambient[1] = g;
      state.ambient[2] = b;
      state.directional.length = directionalLength;
      state.spot.length = spotLength;
      state.rectArea.length = rectAreaLength;
      state.point.length = pointLength;
      state.hemi.length = hemiLength;
      state.hash = state.id + ',' + directionalLength + ',' + pointLength + ',' + spotLength + ',' + rectAreaLength + ',' + hemiLength + ',' + shadows.length;
    }
    return {
      setup: setup,
      state: state
    };
  }
  function WebGLRenderState() {
    var lights = new WebGLLights();
    var lightsArray = [];
    var shadowsArray = [];
    var spritesArray = [];
    function init() {
      lightsArray.length = 0;
      shadowsArray.length = 0;
      spritesArray.length = 0;
    }
    function pushLight(light) {
      lightsArray.push(light);
    }
    function pushShadow(shadowLight) {
      shadowsArray.push(shadowLight);
    }
    function pushSprite(sprite) {
      spritesArray.push(sprite);
    }
    function setupLights(camera) {
      lights.setup(lightsArray, shadowsArray, camera);
    }
    var state = {
      lightsArray: lightsArray,
      shadowsArray: shadowsArray,
      spritesArray: spritesArray,
      lights: lights
    };
    return {
      init: init,
      state: state,
      setupLights: setupLights,
      pushLight: pushLight,
      pushShadow: pushShadow,
      pushSprite: pushSprite
    };
  }
  function WebGLRenderStates() {
    var renderStates = {};
    function get(scene, camera) {
      var hash = scene.id + ',' + camera.id;
      var renderState = renderStates[hash];
      if (renderState === undefined) {
        renderState = new WebGLRenderState();
        renderStates[hash] = renderState;
      }
      return renderState;
    }
    function dispose() {
      renderStates = {};
    }
    return {
      get: get,
      dispose: dispose
    };
  }
  function MeshDepthMaterial(parameters) {
    Material.call(this);
    this.type = 'MeshDepthMaterial';
    this.depthPacking = BasicDepthPacking;
    this.skinning = false;
    this.morphTargets = false;
    this.map = null;
    this.alphaMap = null;
    this.displacementMap = null;
    this.displacementScale = 1;
    this.displacementBias = 0;
    this.wireframe = false;
    this.wireframeLinewidth = 1;
    this.fog = false;
    this.lights = false;
    this.setValues(parameters);
  }
  MeshDepthMaterial.prototype = Object.create(Material.prototype);
  MeshDepthMaterial.prototype.constructor = MeshDepthMaterial;
  MeshDepthMaterial.prototype.isMeshDepthMaterial = true;
  MeshDepthMaterial.prototype.copy = function(source) {
    Material.prototype.copy.call(this, source);
    this.depthPacking = source.depthPacking;
    this.skinning = source.skinning;
    this.morphTargets = source.morphTargets;
    this.map = source.map;
    this.alphaMap = source.alphaMap;
    this.displacementMap = source.displacementMap;
    this.displacementScale = source.displacementScale;
    this.displacementBias = source.displacementBias;
    this.wireframe = source.wireframe;
    this.wireframeLinewidth = source.wireframeLinewidth;
    return this;
  };
  function MeshDistanceMaterial(parameters) {
    Material.call(this);
    this.type = 'MeshDistanceMaterial';
    this.referencePosition = new Vector3();
    this.nearDistance = 1;
    this.farDistance = 1000;
    this.skinning = false;
    this.morphTargets = false;
    this.map = null;
    this.alphaMap = null;
    this.displacementMap = null;
    this.displacementScale = 1;
    this.displacementBias = 0;
    this.fog = false;
    this.lights = false;
    this.setValues(parameters);
  }
  MeshDistanceMaterial.prototype = Object.create(Material.prototype);
  MeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;
  MeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;
  MeshDistanceMaterial.prototype.copy = function(source) {
    Material.prototype.copy.call(this, source);
    this.referencePosition.copy(source.referencePosition);
    this.nearDistance = source.nearDistance;
    this.farDistance = source.farDistance;
    this.skinning = source.skinning;
    this.morphTargets = source.morphTargets;
    this.map = source.map;
    this.alphaMap = source.alphaMap;
    this.displacementMap = source.displacementMap;
    this.displacementScale = source.displacementScale;
    this.displacementBias = source.displacementBias;
    return this;
  };
  function WebGLShadowMap(_renderer, _objects, maxTextureSize) {
    var _frustum = new Frustum(),
        _projScreenMatrix = new Matrix4(),
        _shadowMapSize = new Vector2(),
        _maxShadowMapSize = new Vector2(maxTextureSize, maxTextureSize),
        _lookTarget = new Vector3(),
        _lightPositionWorld = new Vector3(),
        _MorphingFlag = 1,
        _SkinningFlag = 2,
        _NumberOfMaterialVariants = (_MorphingFlag | _SkinningFlag) + 1,
        _depthMaterials = new Array(_NumberOfMaterialVariants),
        _distanceMaterials = new Array(_NumberOfMaterialVariants),
        _materialCache = {};
    var shadowSide = {
      0: BackSide,
      1: FrontSide,
      2: DoubleSide
    };
    var cubeDirections = [new Vector3(1, 0, 0), new Vector3(-1, 0, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1), new Vector3(0, 1, 0), new Vector3(0, -1, 0)];
    var cubeUps = [new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1)];
    var cube2DViewPorts = [new Vector4(), new Vector4(), new Vector4(), new Vector4(), new Vector4(), new Vector4()];
    for (var i = 0; i !== _NumberOfMaterialVariants; ++i) {
      var useMorphing = (i & _MorphingFlag) !== 0;
      var useSkinning = (i & _SkinningFlag) !== 0;
      var depthMaterial = new MeshDepthMaterial({
        depthPacking: RGBADepthPacking,
        morphTargets: useMorphing,
        skinning: useSkinning
      });
      _depthMaterials[i] = depthMaterial;
      var distanceMaterial = new MeshDistanceMaterial({
        morphTargets: useMorphing,
        skinning: useSkinning
      });
      _distanceMaterials[i] = distanceMaterial;
    }
    var scope = this;
    this.enabled = false;
    this.autoUpdate = true;
    this.needsUpdate = false;
    this.type = PCFShadowMap;
    this.render = function(lights, scene, camera) {
      if (scope.enabled === false)
        return;
      if (scope.autoUpdate === false && scope.needsUpdate === false)
        return;
      if (lights.length === 0)
        return;
      var _gl = _renderer.context;
      var _state = _renderer.state;
      _state.disable(_gl.BLEND);
      _state.buffers.color.setClear(1, 1, 1, 1);
      _state.buffers.depth.setTest(true);
      _state.setScissorTest(false);
      var faceCount;
      for (var i = 0,
          il = lights.length; i < il; i++) {
        var light = lights[i];
        var shadow = light.shadow;
        var isPointLight = light && light.isPointLight;
        if (shadow === undefined) {
          console.warn('THREE.WebGLShadowMap:', light, 'has no shadow.');
          continue;
        }
        var shadowCamera = shadow.camera;
        _shadowMapSize.copy(shadow.mapSize);
        _shadowMapSize.min(_maxShadowMapSize);
        if (isPointLight) {
          var vpWidth = _shadowMapSize.x;
          var vpHeight = _shadowMapSize.y;
          cube2DViewPorts[0].set(vpWidth * 2, vpHeight, vpWidth, vpHeight);
          cube2DViewPorts[1].set(0, vpHeight, vpWidth, vpHeight);
          cube2DViewPorts[2].set(vpWidth * 3, vpHeight, vpWidth, vpHeight);
          cube2DViewPorts[3].set(vpWidth, vpHeight, vpWidth, vpHeight);
          cube2DViewPorts[4].set(vpWidth * 3, 0, vpWidth, vpHeight);
          cube2DViewPorts[5].set(vpWidth, 0, vpWidth, vpHeight);
          _shadowMapSize.x *= 4.0;
          _shadowMapSize.y *= 2.0;
        }
        if (shadow.map === null) {
          var pars = {
            minFilter: NearestFilter,
            magFilter: NearestFilter,
            format: RGBAFormat
          };
          shadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);
          shadow.map.texture.name = light.name + ".shadowMap";
          shadowCamera.updateProjectionMatrix();
        }
        if (shadow.isSpotLightShadow) {
          shadow.update(light);
        }
        var shadowMap = shadow.map;
        var shadowMatrix = shadow.matrix;
        _lightPositionWorld.setFromMatrixPosition(light.matrixWorld);
        shadowCamera.position.copy(_lightPositionWorld);
        if (isPointLight) {
          faceCount = 6;
          shadowMatrix.makeTranslation(-_lightPositionWorld.x, -_lightPositionWorld.y, -_lightPositionWorld.z);
        } else {
          faceCount = 1;
          _lookTarget.setFromMatrixPosition(light.target.matrixWorld);
          shadowCamera.lookAt(_lookTarget);
          shadowCamera.updateMatrixWorld();
          shadowMatrix.set(0.5, 0.0, 0.0, 0.5, 0.0, 0.5, 0.0, 0.5, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0, 1.0);
          shadowMatrix.multiply(shadowCamera.projectionMatrix);
          shadowMatrix.multiply(shadowCamera.matrixWorldInverse);
        }
        _renderer.setRenderTarget(shadowMap);
        _renderer.clear();
        for (var face = 0; face < faceCount; face++) {
          if (isPointLight) {
            _lookTarget.copy(shadowCamera.position);
            _lookTarget.add(cubeDirections[face]);
            shadowCamera.up.copy(cubeUps[face]);
            shadowCamera.lookAt(_lookTarget);
            shadowCamera.updateMatrixWorld();
            var vpDimensions = cube2DViewPorts[face];
            _state.viewport(vpDimensions);
          }
          _projScreenMatrix.multiplyMatrices(shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse);
          _frustum.setFromMatrix(_projScreenMatrix);
          renderObject(scene, camera, shadowCamera, isPointLight);
        }
      }
      scope.needsUpdate = false;
    };
    function getDepthMaterial(object, material, isPointLight, lightPositionWorld, shadowCameraNear, shadowCameraFar) {
      var geometry = object.geometry;
      var result = null;
      var materialVariants = _depthMaterials;
      var customMaterial = object.customDepthMaterial;
      if (isPointLight) {
        materialVariants = _distanceMaterials;
        customMaterial = object.customDistanceMaterial;
      }
      if (!customMaterial) {
        var useMorphing = false;
        if (material.morphTargets) {
          if (geometry && geometry.isBufferGeometry) {
            useMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;
          } else if (geometry && geometry.isGeometry) {
            useMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;
          }
        }
        if (object.isSkinnedMesh && material.skinning === false) {
          console.warn('THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object);
        }
        var useSkinning = object.isSkinnedMesh && material.skinning;
        var variantIndex = 0;
        if (useMorphing)
          variantIndex |= _MorphingFlag;
        if (useSkinning)
          variantIndex |= _SkinningFlag;
        result = materialVariants[variantIndex];
      } else {
        result = customMaterial;
      }
      if (_renderer.localClippingEnabled && material.clipShadows === true && material.clippingPlanes.length !== 0) {
        var keyA = result.uuid,
            keyB = material.uuid;
        var materialsForVariant = _materialCache[keyA];
        if (materialsForVariant === undefined) {
          materialsForVariant = {};
          _materialCache[keyA] = materialsForVariant;
        }
        var cachedMaterial = materialsForVariant[keyB];
        if (cachedMaterial === undefined) {
          cachedMaterial = result.clone();
          materialsForVariant[keyB] = cachedMaterial;
        }
        result = cachedMaterial;
      }
      result.visible = material.visible;
      result.wireframe = material.wireframe;
      result.side = (material.shadowSide != null) ? material.shadowSide : shadowSide[material.side];
      result.clipShadows = material.clipShadows;
      result.clippingPlanes = material.clippingPlanes;
      result.clipIntersection = material.clipIntersection;
      result.wireframeLinewidth = material.wireframeLinewidth;
      result.linewidth = material.linewidth;
      if (isPointLight && result.isMeshDistanceMaterial) {
        result.referencePosition.copy(lightPositionWorld);
        result.nearDistance = shadowCameraNear;
        result.farDistance = shadowCameraFar;
      }
      return result;
    }
    function renderObject(object, camera, shadowCamera, isPointLight) {
      if (object.visible === false)
        return;
      var visible = object.layers.test(camera.layers);
      if (visible && (object.isMesh || object.isLine || object.isPoints)) {
        if (object.castShadow && (!object.frustumCulled || _frustum.intersectsObject(object))) {
          object.modelViewMatrix.multiplyMatrices(shadowCamera.matrixWorldInverse, object.matrixWorld);
          var geometry = _objects.update(object);
          var material = object.material;
          if (Array.isArray(material)) {
            var groups = geometry.groups;
            for (var k = 0,
                kl = groups.length; k < kl; k++) {
              var group = groups[k];
              var groupMaterial = material[group.materialIndex];
              if (groupMaterial && groupMaterial.visible) {
                var depthMaterial = getDepthMaterial(object, groupMaterial, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far);
                _renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, group);
              }
            }
          } else if (material.visible) {
            var depthMaterial = getDepthMaterial(object, material, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far);
            _renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, null);
          }
        }
      }
      var children = object.children;
      for (var i = 0,
          l = children.length; i < l; i++) {
        renderObject(children[i], camera, shadowCamera, isPointLight);
      }
    }
  }
  function CanvasTexture(canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {
    Texture.call(this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);
    this.needsUpdate = true;
  }
  CanvasTexture.prototype = Object.create(Texture.prototype);
  CanvasTexture.prototype.constructor = CanvasTexture;
  CanvasTexture.prototype.isCanvasTexture = true;
  function WebGLSpriteRenderer(renderer, gl, state, textures, capabilities) {
    var vertexBuffer,
        elementBuffer;
    var program,
        attributes,
        uniforms;
    var texture;
    var spritePosition = new Vector3();
    var spriteRotation = new Quaternion();
    var spriteScale = new Vector3();
    function init() {
      var vertices = new Float32Array([-0.5, -0.5, 0, 0, 0.5, -0.5, 1, 0, 0.5, 0.5, 1, 1, -0.5, 0.5, 0, 1]);
      var faces = new Uint16Array([0, 1, 2, 0, 2, 3]);
      vertexBuffer = gl.createBuffer();
      elementBuffer = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);
      gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);
      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, elementBuffer);
      gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW);
      program = createProgram();
      attributes = {
        position: gl.getAttribLocation(program, 'position'),
        uv: gl.getAttribLocation(program, 'uv')
      };
      uniforms = {
        uvOffset: gl.getUniformLocation(program, 'uvOffset'),
        uvScale: gl.getUniformLocation(program, 'uvScale'),
        rotation: gl.getUniformLocation(program, 'rotation'),
        center: gl.getUniformLocation(program, 'center'),
        scale: gl.getUniformLocation(program, 'scale'),
        color: gl.getUniformLocation(program, 'color'),
        map: gl.getUniformLocation(program, 'map'),
        opacity: gl.getUniformLocation(program, 'opacity'),
        modelViewMatrix: gl.getUniformLocation(program, 'modelViewMatrix'),
        projectionMatrix: gl.getUniformLocation(program, 'projectionMatrix'),
        fogType: gl.getUniformLocation(program, 'fogType'),
        fogDensity: gl.getUniformLocation(program, 'fogDensity'),
        fogNear: gl.getUniformLocation(program, 'fogNear'),
        fogFar: gl.getUniformLocation(program, 'fogFar'),
        fogColor: gl.getUniformLocation(program, 'fogColor'),
        fogDepth: gl.getUniformLocation(program, 'fogDepth'),
        alphaTest: gl.getUniformLocation(program, 'alphaTest')
      };
      var canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');
      canvas.width = 8;
      canvas.height = 8;
      var context = canvas.getContext('2d');
      context.fillStyle = 'white';
      context.fillRect(0, 0, 8, 8);
      texture = new CanvasTexture(canvas);
    }
    this.render = function(sprites, scene, camera) {
      if (sprites.length === 0)
        return;
      if (program === undefined) {
        init();
      }
      state.useProgram(program);
      state.initAttributes();
      state.enableAttribute(attributes.position);
      state.enableAttribute(attributes.uv);
      state.disableUnusedAttributes();
      state.disable(gl.CULL_FACE);
      state.enable(gl.BLEND);
      gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);
      gl.vertexAttribPointer(attributes.position, 2, gl.FLOAT, false, 2 * 8, 0);
      gl.vertexAttribPointer(attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8);
      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, elementBuffer);
      gl.uniformMatrix4fv(uniforms.projectionMatrix, false, camera.projectionMatrix.elements);
      state.activeTexture(gl.TEXTURE0);
      gl.uniform1i(uniforms.map, 0);
      var oldFogType = 0;
      var sceneFogType = 0;
      var fog = scene.fog;
      if (fog) {
        gl.uniform3f(uniforms.fogColor, fog.color.r, fog.color.g, fog.color.b);
        if (fog.isFog) {
          gl.uniform1f(uniforms.fogNear, fog.near);
          gl.uniform1f(uniforms.fogFar, fog.far);
          gl.uniform1i(uniforms.fogType, 1);
          oldFogType = 1;
          sceneFogType = 1;
        } else if (fog.isFogExp2) {
          gl.uniform1f(uniforms.fogDensity, fog.density);
          gl.uniform1i(uniforms.fogType, 2);
          oldFogType = 2;
          sceneFogType = 2;
        }
      } else {
        gl.uniform1i(uniforms.fogType, 0);
        oldFogType = 0;
        sceneFogType = 0;
      }
      for (var i = 0,
          l = sprites.length; i < l; i++) {
        var sprite = sprites[i];
        sprite.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, sprite.matrixWorld);
        sprite.z = -sprite.modelViewMatrix.elements[14];
      }
      sprites.sort(painterSortStable);
      var scale = [];
      var center = [];
      for (var i = 0,
          l = sprites.length; i < l; i++) {
        var sprite = sprites[i];
        var material = sprite.material;
        if (material.visible === false)
          continue;
        sprite.onBeforeRender(renderer, scene, camera, undefined, material, undefined);
        gl.uniform1f(uniforms.alphaTest, material.alphaTest);
        gl.uniformMatrix4fv(uniforms.modelViewMatrix, false, sprite.modelViewMatrix.elements);
        sprite.matrixWorld.decompose(spritePosition, spriteRotation, spriteScale);
        scale[0] = spriteScale.x;
        scale[1] = spriteScale.y;
        center[0] = sprite.center.x - 0.5;
        center[1] = sprite.center.y - 0.5;
        var fogType = 0;
        if (scene.fog && material.fog) {
          fogType = sceneFogType;
        }
        if (oldFogType !== fogType) {
          gl.uniform1i(uniforms.fogType, fogType);
          oldFogType = fogType;
        }
        if (material.map !== null) {
          gl.uniform2f(uniforms.uvOffset, material.map.offset.x, material.map.offset.y);
          gl.uniform2f(uniforms.uvScale, material.map.repeat.x, material.map.repeat.y);
        } else {
          gl.uniform2f(uniforms.uvOffset, 0, 0);
          gl.uniform2f(uniforms.uvScale, 1, 1);
        }
        gl.uniform1f(uniforms.opacity, material.opacity);
        gl.uniform3f(uniforms.color, material.color.r, material.color.g, material.color.b);
        gl.uniform1f(uniforms.rotation, material.rotation);
        gl.uniform2fv(uniforms.center, center);
        gl.uniform2fv(uniforms.scale, scale);
        state.setBlending(material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha);
        state.buffers.depth.setTest(material.depthTest);
        state.buffers.depth.setMask(material.depthWrite);
        state.buffers.color.setMask(material.colorWrite);
        textures.setTexture2D(material.map || texture, 0);
        gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);
        sprite.onAfterRender(renderer, scene, camera, undefined, material, undefined);
      }
      state.enable(gl.CULL_FACE);
      state.reset();
    };
    function createProgram() {
      var program = gl.createProgram();
      var vertexShader = gl.createShader(gl.VERTEX_SHADER);
      var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);
      gl.shaderSource(vertexShader, ['precision ' + capabilities.precision + ' float;', '#define SHADER_NAME ' + 'SpriteMaterial', 'uniform mat4 modelViewMatrix;', 'uniform mat4 projectionMatrix;', 'uniform float rotation;', 'uniform vec2 center;', 'uniform vec2 scale;', 'uniform vec2 uvOffset;', 'uniform vec2 uvScale;', 'attribute vec2 position;', 'attribute vec2 uv;', 'varying vec2 vUV;', 'varying float fogDepth;', 'void main() {', '	vUV = uvOffset + uv * uvScale;', '	vec2 alignedPosition = ( position - center ) * scale;', '	vec2 rotatedPosition;', '	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;', '	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;', '	vec4 mvPosition;', '	mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );', '	mvPosition.xy += rotatedPosition;', '	gl_Position = projectionMatrix * mvPosition;', '	fogDepth = - mvPosition.z;', '}'].join('\n'));
      gl.shaderSource(fragmentShader, ['precision ' + capabilities.precision + ' float;', '#define SHADER_NAME ' + 'SpriteMaterial', 'uniform vec3 color;', 'uniform sampler2D map;', 'uniform float opacity;', 'uniform int fogType;', 'uniform vec3 fogColor;', 'uniform float fogDensity;', 'uniform float fogNear;', 'uniform float fogFar;', 'uniform float alphaTest;', 'varying vec2 vUV;', 'varying float fogDepth;', 'void main() {', '	vec4 texture = texture2D( map, vUV );', '	gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );', '	if ( gl_FragColor.a < alphaTest ) discard;', '	if ( fogType > 0 ) {', '		float fogFactor = 0.0;', '		if ( fogType == 1 ) {', '			fogFactor = smoothstep( fogNear, fogFar, fogDepth );', '		} else {', '			const float LOG2 = 1.442695;', '			fogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );', '			fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );', '		}', '		gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );', '	}', '}'].join('\n'));
      gl.compileShader(vertexShader);
      gl.compileShader(fragmentShader);
      gl.attachShader(program, vertexShader);
      gl.attachShader(program, fragmentShader);
      gl.linkProgram(program);
      return program;
    }
    function painterSortStable(a, b) {
      if (a.renderOrder !== b.renderOrder) {
        return a.renderOrder - b.renderOrder;
      } else if (a.z !== b.z) {
        return b.z - a.z;
      } else {
        return b.id - a.id;
      }
    }
  }
  function WebGLState(gl, extensions, utils) {
    function ColorBuffer() {
      var locked = false;
      var color = new Vector4();
      var currentColorMask = null;
      var currentColorClear = new Vector4(0, 0, 0, 0);
      return {
        setMask: function(colorMask) {
          if (currentColorMask !== colorMask && !locked) {
            gl.colorMask(colorMask, colorMask, colorMask, colorMask);
            currentColorMask = colorMask;
          }
        },
        setLocked: function(lock) {
          locked = lock;
        },
        setClear: function(r, g, b, a, premultipliedAlpha) {
          if (premultipliedAlpha === true) {
            r *= a;
            g *= a;
            b *= a;
          }
          color.set(r, g, b, a);
          if (currentColorClear.equals(color) === false) {
            gl.clearColor(r, g, b, a);
            currentColorClear.copy(color);
          }
        },
        reset: function() {
          locked = false;
          currentColorMask = null;
          currentColorClear.set(-1, 0, 0, 0);
        }
      };
    }
    function DepthBuffer() {
      var locked = false;
      var currentDepthMask = null;
      var currentDepthFunc = null;
      var currentDepthClear = null;
      return {
        setTest: function(depthTest) {
          if (depthTest) {
            enable(gl.DEPTH_TEST);
          } else {
            disable(gl.DEPTH_TEST);
          }
        },
        setMask: function(depthMask) {
          if (currentDepthMask !== depthMask && !locked) {
            gl.depthMask(depthMask);
            currentDepthMask = depthMask;
          }
        },
        setFunc: function(depthFunc) {
          if (currentDepthFunc !== depthFunc) {
            if (depthFunc) {
              switch (depthFunc) {
                case NeverDepth:
                  gl.depthFunc(gl.NEVER);
                  break;
                case AlwaysDepth:
                  gl.depthFunc(gl.ALWAYS);
                  break;
                case LessDepth:
                  gl.depthFunc(gl.LESS);
                  break;
                case LessEqualDepth:
                  gl.depthFunc(gl.LEQUAL);
                  break;
                case EqualDepth:
                  gl.depthFunc(gl.EQUAL);
                  break;
                case GreaterEqualDepth:
                  gl.depthFunc(gl.GEQUAL);
                  break;
                case GreaterDepth:
                  gl.depthFunc(gl.GREATER);
                  break;
                case NotEqualDepth:
                  gl.depthFunc(gl.NOTEQUAL);
                  break;
                default:
                  gl.depthFunc(gl.LEQUAL);
              }
            } else {
              gl.depthFunc(gl.LEQUAL);
            }
            currentDepthFunc = depthFunc;
          }
        },
        setLocked: function(lock) {
          locked = lock;
        },
        setClear: function(depth) {
          if (currentDepthClear !== depth) {
            gl.clearDepth(depth);
            currentDepthClear = depth;
          }
        },
        reset: function() {
          locked = false;
          currentDepthMask = null;
          currentDepthFunc = null;
          currentDepthClear = null;
        }
      };
    }
    function StencilBuffer() {
      var locked = false;
      var currentStencilMask = null;
      var currentStencilFunc = null;
      var currentStencilRef = null;
      var currentStencilFuncMask = null;
      var currentStencilFail = null;
      var currentStencilZFail = null;
      var currentStencilZPass = null;
      var currentStencilClear = null;
      return {
        setTest: function(stencilTest) {
          if (stencilTest) {
            enable(gl.STENCIL_TEST);
          } else {
            disable(gl.STENCIL_TEST);
          }
        },
        setMask: function(stencilMask) {
          if (currentStencilMask !== stencilMask && !locked) {
            gl.stencilMask(stencilMask);
            currentStencilMask = stencilMask;
          }
        },
        setFunc: function(stencilFunc, stencilRef, stencilMask) {
          if (currentStencilFunc !== stencilFunc || currentStencilRef !== stencilRef || currentStencilFuncMask !== stencilMask) {
            gl.stencilFunc(stencilFunc, stencilRef, stencilMask);
            currentStencilFunc = stencilFunc;
            currentStencilRef = stencilRef;
            currentStencilFuncMask = stencilMask;
          }
        },
        setOp: function(stencilFail, stencilZFail, stencilZPass) {
          if (currentStencilFail !== stencilFail || currentStencilZFail !== stencilZFail || currentStencilZPass !== stencilZPass) {
            gl.stencilOp(stencilFail, stencilZFail, stencilZPass);
            currentStencilFail = stencilFail;
            currentStencilZFail = stencilZFail;
            currentStencilZPass = stencilZPass;
          }
        },
        setLocked: function(lock) {
          locked = lock;
        },
        setClear: function(stencil) {
          if (currentStencilClear !== stencil) {
            gl.clearStencil(stencil);
            currentStencilClear = stencil;
          }
        },
        reset: function() {
          locked = false;
          currentStencilMask = null;
          currentStencilFunc = null;
          currentStencilRef = null;
          currentStencilFuncMask = null;
          currentStencilFail = null;
          currentStencilZFail = null;
          currentStencilZPass = null;
          currentStencilClear = null;
        }
      };
    }
    var colorBuffer = new ColorBuffer();
    var depthBuffer = new DepthBuffer();
    var stencilBuffer = new StencilBuffer();
    var maxVertexAttributes = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);
    var newAttributes = new Uint8Array(maxVertexAttributes);
    var enabledAttributes = new Uint8Array(maxVertexAttributes);
    var attributeDivisors = new Uint8Array(maxVertexAttributes);
    var capabilities = {};
    var compressedTextureFormats = null;
    var currentProgram = null;
    var currentBlending = null;
    var currentBlendEquation = null;
    var currentBlendSrc = null;
    var currentBlendDst = null;
    var currentBlendEquationAlpha = null;
    var currentBlendSrcAlpha = null;
    var currentBlendDstAlpha = null;
    var currentPremultipledAlpha = false;
    var currentFlipSided = null;
    var currentCullFace = null;
    var currentLineWidth = null;
    var currentPolygonOffsetFactor = null;
    var currentPolygonOffsetUnits = null;
    var maxTextures = gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);
    var lineWidthAvailable = false;
    var version = 0;
    var glVersion = gl.getParameter(gl.VERSION);
    if (glVersion.indexOf('WebGL') !== -1) {
      version = parseFloat(/^WebGL\ ([0-9])/.exec(glVersion)[1]);
      lineWidthAvailable = (version >= 1.0);
    } else if (glVersion.indexOf('OpenGL ES') !== -1) {
      version = parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(glVersion)[1]);
      lineWidthAvailable = (version >= 2.0);
    }
    var currentTextureSlot = null;
    var currentBoundTextures = {};
    var currentScissor = new Vector4();
    var currentViewport = new Vector4();
    function createTexture(type, target, count) {
      var data = new Uint8Array(4);
      var texture = gl.createTexture();
      gl.bindTexture(type, texture);
      gl.texParameteri(type, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
      gl.texParameteri(type, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
      for (var i = 0; i < count; i++) {
        gl.texImage2D(target + i, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, data);
      }
      return texture;
    }
    var emptyTextures = {};
    emptyTextures[gl.TEXTURE_2D] = createTexture(gl.TEXTURE_2D, gl.TEXTURE_2D, 1);
    emptyTextures[gl.TEXTURE_CUBE_MAP] = createTexture(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_CUBE_MAP_POSITIVE_X, 6);
    colorBuffer.setClear(0, 0, 0, 1);
    depthBuffer.setClear(1);
    stencilBuffer.setClear(0);
    enable(gl.DEPTH_TEST);
    depthBuffer.setFunc(LessEqualDepth);
    setFlipSided(false);
    setCullFace(CullFaceBack);
    enable(gl.CULL_FACE);
    enable(gl.BLEND);
    setBlending(NormalBlending);
    function initAttributes() {
      for (var i = 0,
          l = newAttributes.length; i < l; i++) {
        newAttributes[i] = 0;
      }
    }
    function enableAttribute(attribute) {
      enableAttributeAndDivisor(attribute, 0);
    }
    function enableAttributeAndDivisor(attribute, meshPerAttribute) {
      newAttributes[attribute] = 1;
      if (enabledAttributes[attribute] === 0) {
        gl.enableVertexAttribArray(attribute);
        enabledAttributes[attribute] = 1;
      }
      if (attributeDivisors[attribute] !== meshPerAttribute) {
        var extension = extensions.get('ANGLE_instanced_arrays');
        extension.vertexAttribDivisorANGLE(attribute, meshPerAttribute);
        attributeDivisors[attribute] = meshPerAttribute;
      }
    }
    function disableUnusedAttributes() {
      for (var i = 0,
          l = enabledAttributes.length; i !== l; ++i) {
        if (enabledAttributes[i] !== newAttributes[i]) {
          gl.disableVertexAttribArray(i);
          enabledAttributes[i] = 0;
        }
      }
    }
    function enable(id) {
      if (capabilities[id] !== true) {
        gl.enable(id);
        capabilities[id] = true;
      }
    }
    function disable(id) {
      if (capabilities[id] !== false) {
        gl.disable(id);
        capabilities[id] = false;
      }
    }
    function getCompressedTextureFormats() {
      if (compressedTextureFormats === null) {
        compressedTextureFormats = [];
        if (extensions.get('WEBGL_compressed_texture_pvrtc') || extensions.get('WEBGL_compressed_texture_s3tc') || extensions.get('WEBGL_compressed_texture_etc1') || extensions.get('WEBGL_compressed_texture_astc')) {
          var formats = gl.getParameter(gl.COMPRESSED_TEXTURE_FORMATS);
          for (var i = 0; i < formats.length; i++) {
            compressedTextureFormats.push(formats[i]);
          }
        }
      }
      return compressedTextureFormats;
    }
    function useProgram(program) {
      if (currentProgram !== program) {
        gl.useProgram(program);
        currentProgram = program;
        return true;
      }
      return false;
    }
    function setBlending(blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha) {
      if (blending !== NoBlending) {
        enable(gl.BLEND);
      } else {
        disable(gl.BLEND);
      }
      if (blending !== CustomBlending) {
        if (blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha) {
          switch (blending) {
            case AdditiveBlending:
              if (premultipliedAlpha) {
                gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
                gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);
              } else {
                gl.blendEquation(gl.FUNC_ADD);
                gl.blendFunc(gl.SRC_ALPHA, gl.ONE);
              }
              break;
            case SubtractiveBlending:
              if (premultipliedAlpha) {
                gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
                gl.blendFuncSeparate(gl.ZERO, gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA);
              } else {
                gl.blendEquation(gl.FUNC_ADD);
                gl.blendFunc(gl.ZERO, gl.ONE_MINUS_SRC_COLOR);
              }
              break;
            case MultiplyBlending:
              if (premultipliedAlpha) {
                gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
                gl.blendFuncSeparate(gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA);
              } else {
                gl.blendEquation(gl.FUNC_ADD);
                gl.blendFunc(gl.ZERO, gl.SRC_COLOR);
              }
              break;
            default:
              if (premultipliedAlpha) {
                gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
                gl.blendFuncSeparate(gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);
              } else {
                gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
                gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);
              }
          }
        }
        currentBlendEquation = null;
        currentBlendSrc = null;
        currentBlendDst = null;
        currentBlendEquationAlpha = null;
        currentBlendSrcAlpha = null;
        currentBlendDstAlpha = null;
      } else {
        blendEquationAlpha = blendEquationAlpha || blendEquation;
        blendSrcAlpha = blendSrcAlpha || blendSrc;
        blendDstAlpha = blendDstAlpha || blendDst;
        if (blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha) {
          gl.blendEquationSeparate(utils.convert(blendEquation), utils.convert(blendEquationAlpha));
          currentBlendEquation = blendEquation;
          currentBlendEquationAlpha = blendEquationAlpha;
        }
        if (blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha) {
          gl.blendFuncSeparate(utils.convert(blendSrc), utils.convert(blendDst), utils.convert(blendSrcAlpha), utils.convert(blendDstAlpha));
          currentBlendSrc = blendSrc;
          currentBlendDst = blendDst;
          currentBlendSrcAlpha = blendSrcAlpha;
          currentBlendDstAlpha = blendDstAlpha;
        }
      }
      currentBlending = blending;
      currentPremultipledAlpha = premultipliedAlpha;
    }
    function setMaterial(material, frontFaceCW) {
      material.side === DoubleSide ? disable(gl.CULL_FACE) : enable(gl.CULL_FACE);
      var flipSided = (material.side === BackSide);
      if (frontFaceCW)
        flipSided = !flipSided;
      setFlipSided(flipSided);
      (material.blending === NormalBlending && material.transparent === false) ? setBlending(NoBlending) : setBlending(material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha);
      depthBuffer.setFunc(material.depthFunc);
      depthBuffer.setTest(material.depthTest);
      depthBuffer.setMask(material.depthWrite);
      colorBuffer.setMask(material.colorWrite);
      setPolygonOffset(material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits);
    }
    function setFlipSided(flipSided) {
      if (currentFlipSided !== flipSided) {
        if (flipSided) {
          gl.frontFace(gl.CW);
        } else {
          gl.frontFace(gl.CCW);
        }
        currentFlipSided = flipSided;
      }
    }
    function setCullFace(cullFace) {
      if (cullFace !== CullFaceNone) {
        enable(gl.CULL_FACE);
        if (cullFace !== currentCullFace) {
          if (cullFace === CullFaceBack) {
            gl.cullFace(gl.BACK);
          } else if (cullFace === CullFaceFront) {
            gl.cullFace(gl.FRONT);
          } else {
            gl.cullFace(gl.FRONT_AND_BACK);
          }
        }
      } else {
        disable(gl.CULL_FACE);
      }
      currentCullFace = cullFace;
    }
    function setLineWidth(width) {
      if (width !== currentLineWidth) {
        if (lineWidthAvailable)
          gl.lineWidth(width);
        currentLineWidth = width;
      }
    }
    function setPolygonOffset(polygonOffset, factor, units) {
      if (polygonOffset) {
        enable(gl.POLYGON_OFFSET_FILL);
        if (currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units) {
          gl.polygonOffset(factor, units);
          currentPolygonOffsetFactor = factor;
          currentPolygonOffsetUnits = units;
        }
      } else {
        disable(gl.POLYGON_OFFSET_FILL);
      }
    }
    function setScissorTest(scissorTest) {
      if (scissorTest) {
        enable(gl.SCISSOR_TEST);
      } else {
        disable(gl.SCISSOR_TEST);
      }
    }
    function activeTexture(webglSlot) {
      if (webglSlot === undefined)
        webglSlot = gl.TEXTURE0 + maxTextures - 1;
      if (currentTextureSlot !== webglSlot) {
        gl.activeTexture(webglSlot);
        currentTextureSlot = webglSlot;
      }
    }
    function bindTexture(webglType, webglTexture) {
      if (currentTextureSlot === null) {
        activeTexture();
      }
      var boundTexture = currentBoundTextures[currentTextureSlot];
      if (boundTexture === undefined) {
        boundTexture = {
          type: undefined,
          texture: undefined
        };
        currentBoundTextures[currentTextureSlot] = boundTexture;
      }
      if (boundTexture.type !== webglType || boundTexture.texture !== webglTexture) {
        gl.bindTexture(webglType, webglTexture || emptyTextures[webglType]);
        boundTexture.type = webglType;
        boundTexture.texture = webglTexture;
      }
    }
    function compressedTexImage2D() {
      try {
        gl.compressedTexImage2D.apply(gl, arguments);
      } catch (error) {
        console.error('THREE.WebGLState:', error);
      }
    }
    function texImage2D() {
      try {
        gl.texImage2D.apply(gl, arguments);
      } catch (error) {
        console.error('THREE.WebGLState:', error);
      }
    }
    function scissor(scissor) {
      if (currentScissor.equals(scissor) === false) {
        gl.scissor(scissor.x, scissor.y, scissor.z, scissor.w);
        currentScissor.copy(scissor);
      }
    }
    function viewport(viewport) {
      if (currentViewport.equals(viewport) === false) {
        gl.viewport(viewport.x, viewport.y, viewport.z, viewport.w);
        currentViewport.copy(viewport);
      }
    }
    function reset() {
      for (var i = 0; i < enabledAttributes.length; i++) {
        if (enabledAttributes[i] === 1) {
          gl.disableVertexAttribArray(i);
          enabledAttributes[i] = 0;
        }
      }
      capabilities = {};
      compressedTextureFormats = null;
      currentTextureSlot = null;
      currentBoundTextures = {};
      currentProgram = null;
      currentBlending = null;
      currentFlipSided = null;
      currentCullFace = null;
      colorBuffer.reset();
      depthBuffer.reset();
      stencilBuffer.reset();
    }
    return {
      buffers: {
        color: colorBuffer,
        depth: depthBuffer,
        stencil: stencilBuffer
      },
      initAttributes: initAttributes,
      enableAttribute: enableAttribute,
      enableAttributeAndDivisor: enableAttributeAndDivisor,
      disableUnusedAttributes: disableUnusedAttributes,
      enable: enable,
      disable: disable,
      getCompressedTextureFormats: getCompressedTextureFormats,
      useProgram: useProgram,
      setBlending: setBlending,
      setMaterial: setMaterial,
      setFlipSided: setFlipSided,
      setCullFace: setCullFace,
      setLineWidth: setLineWidth,
      setPolygonOffset: setPolygonOffset,
      setScissorTest: setScissorTest,
      activeTexture: activeTexture,
      bindTexture: bindTexture,
      compressedTexImage2D: compressedTexImage2D,
      texImage2D: texImage2D,
      scissor: scissor,
      viewport: viewport,
      reset: reset
    };
  }
  function WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info) {
    var _isWebGL2 = (typeof WebGL2RenderingContext !== 'undefined' && _gl instanceof WebGL2RenderingContext);
    var _videoTextures = {};
    var _canvas;
    function clampToMaxSize(image, maxSize) {
      if (image.width > maxSize || image.height > maxSize) {
        if ('data' in image) {
          console.warn('THREE.WebGLRenderer: image in DataTexture is too big (' + image.width + 'x' + image.height + ').');
          return;
        }
        var scale = maxSize / Math.max(image.width, image.height);
        var canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');
        canvas.width = Math.floor(image.width * scale);
        canvas.height = Math.floor(image.height * scale);
        var context = canvas.getContext('2d');
        context.drawImage(image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height);
        console.warn('THREE.WebGLRenderer: image is too big (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image);
        return canvas;
      }
      return image;
    }
    function isPowerOfTwo(image) {
      return _Math.isPowerOfTwo(image.width) && _Math.isPowerOfTwo(image.height);
    }
    function makePowerOfTwo(image) {
      if (image instanceof HTMLImageElement || image instanceof HTMLCanvasElement || image instanceof ImageBitmap) {
        if (_canvas === undefined)
          _canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');
        _canvas.width = _Math.floorPowerOfTwo(image.width);
        _canvas.height = _Math.floorPowerOfTwo(image.height);
        var context = _canvas.getContext('2d');
        context.drawImage(image, 0, 0, _canvas.width, _canvas.height);
        console.warn('THREE.WebGLRenderer: image is not power of two (' + image.width + 'x' + image.height + '). Resized to ' + _canvas.width + 'x' + _canvas.height, image);
        return _canvas;
      }
      return image;
    }
    function textureNeedsPowerOfTwo(texture) {
      return (texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping) || (texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter);
    }
    function textureNeedsGenerateMipmaps(texture, isPowerOfTwo) {
      return texture.generateMipmaps && isPowerOfTwo && texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;
    }
    function generateMipmap(target, texture, width, height) {
      _gl.generateMipmap(target);
      var textureProperties = properties.get(texture);
      textureProperties.__maxMipLevel = Math.log(Math.max(width, height)) * Math.LOG2E;
    }
    function filterFallback(f) {
      if (f === NearestFilter || f === NearestMipMapNearestFilter || f === NearestMipMapLinearFilter) {
        return _gl.NEAREST;
      }
      return _gl.LINEAR;
    }
    function onTextureDispose(event) {
      var texture = event.target;
      texture.removeEventListener('dispose', onTextureDispose);
      deallocateTexture(texture);
      if (texture.isVideoTexture) {
        delete _videoTextures[texture.id];
      }
      info.memory.textures--;
    }
    function onRenderTargetDispose(event) {
      var renderTarget = event.target;
      renderTarget.removeEventListener('dispose', onRenderTargetDispose);
      deallocateRenderTarget(renderTarget);
      info.memory.textures--;
    }
    function deallocateTexture(texture) {
      var textureProperties = properties.get(texture);
      if (texture.image && textureProperties.__image__webglTextureCube) {
        _gl.deleteTexture(textureProperties.__image__webglTextureCube);
      } else {
        if (textureProperties.__webglInit === undefined)
          return;
        _gl.deleteTexture(textureProperties.__webglTexture);
      }
      properties.remove(texture);
    }
    function deallocateRenderTarget(renderTarget) {
      var renderTargetProperties = properties.get(renderTarget);
      var textureProperties = properties.get(renderTarget.texture);
      if (!renderTarget)
        return;
      if (textureProperties.__webglTexture !== undefined) {
        _gl.deleteTexture(textureProperties.__webglTexture);
      }
      if (renderTarget.depthTexture) {
        renderTarget.depthTexture.dispose();
      }
      if (renderTarget.isWebGLRenderTargetCube) {
        for (var i = 0; i < 6; i++) {
          _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer[i]);
          if (renderTargetProperties.__webglDepthbuffer)
            _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer[i]);
        }
      } else {
        _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer);
        if (renderTargetProperties.__webglDepthbuffer)
          _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer);
      }
      properties.remove(renderTarget.texture);
      properties.remove(renderTarget);
    }
    function setTexture2D(texture, slot) {
      var textureProperties = properties.get(texture);
      if (texture.isVideoTexture)
        updateVideoTexture(texture);
      if (texture.version > 0 && textureProperties.__version !== texture.version) {
        var image = texture.image;
        if (image === undefined) {
          console.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined', texture);
        } else if (image.complete === false) {
          console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete', texture);
        } else {
          uploadTexture(textureProperties, texture, slot);
          return;
        }
      }
      state.activeTexture(_gl.TEXTURE0 + slot);
      state.bindTexture(_gl.TEXTURE_2D, textureProperties.__webglTexture);
    }
    function setTextureCube(texture, slot) {
      var textureProperties = properties.get(texture);
      if (texture.image.length === 6) {
        if (texture.version > 0 && textureProperties.__version !== texture.version) {
          if (!textureProperties.__image__webglTextureCube) {
            texture.addEventListener('dispose', onTextureDispose);
            textureProperties.__image__webglTextureCube = _gl.createTexture();
            info.memory.textures++;
          }
          state.activeTexture(_gl.TEXTURE0 + slot);
          state.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube);
          _gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL, texture.flipY);
          var isCompressed = (texture && texture.isCompressedTexture);
          var isDataTexture = (texture.image[0] && texture.image[0].isDataTexture);
          var cubeImage = [];
          for (var i = 0; i < 6; i++) {
            if (!isCompressed && !isDataTexture) {
              cubeImage[i] = clampToMaxSize(texture.image[i], capabilities.maxCubemapSize);
            } else {
              cubeImage[i] = isDataTexture ? texture.image[i].image : texture.image[i];
            }
          }
          var image = cubeImage[0],
              isPowerOfTwoImage = isPowerOfTwo(image),
              glFormat = utils.convert(texture.format),
              glType = utils.convert(texture.type);
          setTextureParameters(_gl.TEXTURE_CUBE_MAP, texture, isPowerOfTwoImage);
          for (var i = 0; i < 6; i++) {
            if (!isCompressed) {
              if (isDataTexture) {
                state.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, cubeImage[i].width, cubeImage[i].height, 0, glFormat, glType, cubeImage[i].data);
              } else {
                state.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, glFormat, glType, cubeImage[i]);
              }
            } else {
              var mipmap,
                  mipmaps = cubeImage[i].mipmaps;
              for (var j = 0,
                  jl = mipmaps.length; j < jl; j++) {
                mipmap = mipmaps[j];
                if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {
                  if (state.getCompressedTextureFormats().indexOf(glFormat) > -1) {
                    state.compressedTexImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, mipmap.data);
                  } else {
                    console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()');
                  }
                } else {
                  state.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);
                }
              }
            }
          }
          if (!isCompressed) {
            textureProperties.__maxMipLevel = 0;
          } else {
            textureProperties.__maxMipLevel = mipmaps.length - 1;
          }
          if (textureNeedsGenerateMipmaps(texture, isPowerOfTwoImage)) {
            generateMipmap(_gl.TEXTURE_CUBE_MAP, texture, image.width, image.height);
          }
          textureProperties.__version = texture.version;
          if (texture.onUpdate)
            texture.onUpdate(texture);
        } else {
          state.activeTexture(_gl.TEXTURE0 + slot);
          state.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube);
        }
      }
    }
    function setTextureCubeDynamic(texture, slot) {
      state.activeTexture(_gl.TEXTURE0 + slot);
      state.bindTexture(_gl.TEXTURE_CUBE_MAP, properties.get(texture).__webglTexture);
    }
    function setTextureParameters(textureType, texture, isPowerOfTwoImage) {
      var extension;
      if (isPowerOfTwoImage) {
        _gl.texParameteri(textureType, _gl.TEXTURE_WRAP_S, utils.convert(texture.wrapS));
        _gl.texParameteri(textureType, _gl.TEXTURE_WRAP_T, utils.convert(texture.wrapT));
        _gl.texParameteri(textureType, _gl.TEXTURE_MAG_FILTER, utils.convert(texture.magFilter));
        _gl.texParameteri(textureType, _gl.TEXTURE_MIN_FILTER, utils.convert(texture.minFilter));
      } else {
        _gl.texParameteri(textureType, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE);
        _gl.texParameteri(textureType, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE);
        if (texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping) {
          console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.', texture);
        }
        _gl.texParameteri(textureType, _gl.TEXTURE_MAG_FILTER, filterFallback(texture.magFilter));
        _gl.texParameteri(textureType, _gl.TEXTURE_MIN_FILTER, filterFallback(texture.minFilter));
        if (texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter) {
          console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.', texture);
        }
      }
      extension = extensions.get('EXT_texture_filter_anisotropic');
      if (extension) {
        if (texture.type === FloatType && extensions.get('OES_texture_float_linear') === null)
          return;
        if (texture.type === HalfFloatType && extensions.get('OES_texture_half_float_linear') === null)
          return;
        if (texture.anisotropy > 1 || properties.get(texture).__currentAnisotropy) {
          _gl.texParameterf(textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(texture.anisotropy, capabilities.getMaxAnisotropy()));
          properties.get(texture).__currentAnisotropy = texture.anisotropy;
        }
      }
    }
    function uploadTexture(textureProperties, texture, slot) {
      if (textureProperties.__webglInit === undefined) {
        textureProperties.__webglInit = true;
        texture.addEventListener('dispose', onTextureDispose);
        textureProperties.__webglTexture = _gl.createTexture();
        info.memory.textures++;
      }
      state.activeTexture(_gl.TEXTURE0 + slot);
      state.bindTexture(_gl.TEXTURE_2D, textureProperties.__webglTexture);
      _gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL, texture.flipY);
      _gl.pixelStorei(_gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha);
      _gl.pixelStorei(_gl.UNPACK_ALIGNMENT, texture.unpackAlignment);
      var image = clampToMaxSize(texture.image, capabilities.maxTextureSize);
      if (textureNeedsPowerOfTwo(texture) && isPowerOfTwo(image) === false) {
        image = makePowerOfTwo(image);
      }
      var isPowerOfTwoImage = isPowerOfTwo(image),
          glFormat = utils.convert(texture.format),
          glType = utils.convert(texture.type);
      setTextureParameters(_gl.TEXTURE_2D, texture, isPowerOfTwoImage);
      var mipmap,
          mipmaps = texture.mipmaps;
      if (texture.isDepthTexture) {
        var internalFormat = _gl.DEPTH_COMPONENT;
        if (texture.type === FloatType) {
          if (!_isWebGL2)
            throw new Error('Float Depth Texture only supported in WebGL2.0');
          internalFormat = _gl.DEPTH_COMPONENT32F;
        } else if (_isWebGL2) {
          internalFormat = _gl.DEPTH_COMPONENT16;
        }
        if (texture.format === DepthFormat && internalFormat === _gl.DEPTH_COMPONENT) {
          if (texture.type !== UnsignedShortType && texture.type !== UnsignedIntType) {
            console.warn('THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.');
            texture.type = UnsignedShortType;
            glType = utils.convert(texture.type);
          }
        }
        if (texture.format === DepthStencilFormat) {
          internalFormat = _gl.DEPTH_STENCIL;
          if (texture.type !== UnsignedInt248Type) {
            console.warn('THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.');
            texture.type = UnsignedInt248Type;
            glType = utils.convert(texture.type);
          }
        }
        state.texImage2D(_gl.TEXTURE_2D, 0, internalFormat, image.width, image.height, 0, glFormat, glType, null);
      } else if (texture.isDataTexture) {
        if (mipmaps.length > 0 && isPowerOfTwoImage) {
          for (var i = 0,
              il = mipmaps.length; i < il; i++) {
            mipmap = mipmaps[i];
            state.texImage2D(_gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);
          }
          texture.generateMipmaps = false;
          textureProperties.__maxMipLevel = mipmaps.length - 1;
        } else {
          state.texImage2D(_gl.TEXTURE_2D, 0, glFormat, image.width, image.height, 0, glFormat, glType, image.data);
          textureProperties.__maxMipLevel = 0;
        }
      } else if (texture.isCompressedTexture) {
        for (var i = 0,
            il = mipmaps.length; i < il; i++) {
          mipmap = mipmaps[i];
          if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {
            if (state.getCompressedTextureFormats().indexOf(glFormat) > -1) {
              state.compressedTexImage2D(_gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, mipmap.data);
            } else {
              console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()');
            }
          } else {
            state.texImage2D(_gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);
          }
        }
        textureProperties.__maxMipLevel = mipmaps.length - 1;
      } else {
        if (mipmaps.length > 0 && isPowerOfTwoImage) {
          for (var i = 0,
              il = mipmaps.length; i < il; i++) {
            mipmap = mipmaps[i];
            state.texImage2D(_gl.TEXTURE_2D, i, glFormat, glFormat, glType, mipmap);
          }
          texture.generateMipmaps = false;
          textureProperties.__maxMipLevel = mipmaps.length - 1;
        } else {
          state.texImage2D(_gl.TEXTURE_2D, 0, glFormat, glFormat, glType, image);
          textureProperties.__maxMipLevel = 0;
        }
      }
      if (textureNeedsGenerateMipmaps(texture, isPowerOfTwoImage)) {
        generateMipmap(_gl.TEXTURE_2D, texture, image.width, image.height);
      }
      textureProperties.__version = texture.version;
      if (texture.onUpdate)
        texture.onUpdate(texture);
    }
    function setupFrameBufferTexture(framebuffer, renderTarget, attachment, textureTarget) {
      var glFormat = utils.convert(renderTarget.texture.format);
      var glType = utils.convert(renderTarget.texture.type);
      state.texImage2D(textureTarget, 0, glFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null);
      _gl.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);
      _gl.framebufferTexture2D(_gl.FRAMEBUFFER, attachment, textureTarget, properties.get(renderTarget.texture).__webglTexture, 0);
      _gl.bindFramebuffer(_gl.FRAMEBUFFER, null);
    }
    function setupRenderBufferStorage(renderbuffer, renderTarget) {
      _gl.bindRenderbuffer(_gl.RENDERBUFFER, renderbuffer);
      if (renderTarget.depthBuffer && !renderTarget.stencilBuffer) {
        _gl.renderbufferStorage(_gl.RENDERBUFFER, _gl.DEPTH_COMPONENT16, renderTarget.width, renderTarget.height);
        _gl.framebufferRenderbuffer(_gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer);
      } else if (renderTarget.depthBuffer && renderTarget.stencilBuffer) {
        _gl.renderbufferStorage(_gl.RENDERBUFFER, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height);
        _gl.framebufferRenderbuffer(_gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer);
      } else {
        _gl.renderbufferStorage(_gl.RENDERBUFFER, _gl.RGBA4, renderTarget.width, renderTarget.height);
      }
      _gl.bindRenderbuffer(_gl.RENDERBUFFER, null);
    }
    function setupDepthTexture(framebuffer, renderTarget) {
      var isCube = (renderTarget && renderTarget.isWebGLRenderTargetCube);
      if (isCube)
        throw new Error('Depth Texture with cube render targets is not supported');
      _gl.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);
      if (!(renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture)) {
        throw new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');
      }
      if (!properties.get(renderTarget.depthTexture).__webglTexture || renderTarget.depthTexture.image.width !== renderTarget.width || renderTarget.depthTexture.image.height !== renderTarget.height) {
        renderTarget.depthTexture.image.width = renderTarget.width;
        renderTarget.depthTexture.image.height = renderTarget.height;
        renderTarget.depthTexture.needsUpdate = true;
      }
      setTexture2D(renderTarget.depthTexture, 0);
      var webglDepthTexture = properties.get(renderTarget.depthTexture).__webglTexture;
      if (renderTarget.depthTexture.format === DepthFormat) {
        _gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0);
      } else if (renderTarget.depthTexture.format === DepthStencilFormat) {
        _gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0);
      } else {
        throw new Error('Unknown depthTexture format');
      }
    }
    function setupDepthRenderbuffer(renderTarget) {
      var renderTargetProperties = properties.get(renderTarget);
      var isCube = (renderTarget.isWebGLRenderTargetCube === true);
      if (renderTarget.depthTexture) {
        if (isCube)
          throw new Error('target.depthTexture not supported in Cube render targets');
        setupDepthTexture(renderTargetProperties.__webglFramebuffer, renderTarget);
      } else {
        if (isCube) {
          renderTargetProperties.__webglDepthbuffer = [];
          for (var i = 0; i < 6; i++) {
            _gl.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer[i]);
            renderTargetProperties.__webglDepthbuffer[i] = _gl.createRenderbuffer();
            setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer[i], renderTarget);
          }
        } else {
          _gl.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer);
          renderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();
          setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer, renderTarget);
        }
      }
      _gl.bindFramebuffer(_gl.FRAMEBUFFER, null);
    }
    function setupRenderTarget(renderTarget) {
      var renderTargetProperties = properties.get(renderTarget);
      var textureProperties = properties.get(renderTarget.texture);
      renderTarget.addEventListener('dispose', onRenderTargetDispose);
      textureProperties.__webglTexture = _gl.createTexture();
      info.memory.textures++;
      var isCube = (renderTarget.isWebGLRenderTargetCube === true);
      var isTargetPowerOfTwo = isPowerOfTwo(renderTarget);
      if (isCube) {
        renderTargetProperties.__webglFramebuffer = [];
        for (var i = 0; i < 6; i++) {
          renderTargetProperties.__webglFramebuffer[i] = _gl.createFramebuffer();
        }
      } else {
        renderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();
      }
      if (isCube) {
        state.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture);
        setTextureParameters(_gl.TEXTURE_CUBE_MAP, renderTarget.texture, isTargetPowerOfTwo);
        for (var i = 0; i < 6; i++) {
          setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer[i], renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i);
        }
        if (textureNeedsGenerateMipmaps(renderTarget.texture, isTargetPowerOfTwo)) {
          generateMipmap(_gl.TEXTURE_CUBE_MAP, renderTarget.texture, renderTarget.width, renderTarget.height);
        }
        state.bindTexture(_gl.TEXTURE_CUBE_MAP, null);
      } else {
        state.bindTexture(_gl.TEXTURE_2D, textureProperties.__webglTexture);
        setTextureParameters(_gl.TEXTURE_2D, renderTarget.texture, isTargetPowerOfTwo);
        setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer, renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_2D);
        if (textureNeedsGenerateMipmaps(renderTarget.texture, isTargetPowerOfTwo)) {
          generateMipmap(_gl.TEXTURE_2D, renderTarget.texture, renderTarget.width, renderTarget.height);
        }
        state.bindTexture(_gl.TEXTURE_2D, null);
      }
      if (renderTarget.depthBuffer) {
        setupDepthRenderbuffer(renderTarget);
      }
    }
    function updateRenderTargetMipmap(renderTarget) {
      var texture = renderTarget.texture;
      var isTargetPowerOfTwo = isPowerOfTwo(renderTarget);
      if (textureNeedsGenerateMipmaps(texture, isTargetPowerOfTwo)) {
        var target = renderTarget.isWebGLRenderTargetCube ? _gl.TEXTURE_CUBE_MAP : _gl.TEXTURE_2D;
        var webglTexture = properties.get(texture).__webglTexture;
        state.bindTexture(target, webglTexture);
        generateMipmap(target, texture, renderTarget.width, renderTarget.height);
        state.bindTexture(target, null);
      }
    }
    function updateVideoTexture(texture) {
      var id = texture.id;
      var frame = info.render.frame;
      if (_videoTextures[id] !== frame) {
        _videoTextures[id] = frame;
        texture.update();
      }
    }
    this.setTexture2D = setTexture2D;
    this.setTextureCube = setTextureCube;
    this.setTextureCubeDynamic = setTextureCubeDynamic;
    this.setupRenderTarget = setupRenderTarget;
    this.updateRenderTargetMipmap = updateRenderTargetMipmap;
  }
  function WebGLUtils(gl, extensions) {
    function convert(p) {
      var extension;
      if (p === RepeatWrapping)
        return gl.REPEAT;
      if (p === ClampToEdgeWrapping)
        return gl.CLAMP_TO_EDGE;
      if (p === MirroredRepeatWrapping)
        return gl.MIRRORED_REPEAT;
      if (p === NearestFilter)
        return gl.NEAREST;
      if (p === NearestMipMapNearestFilter)
        return gl.NEAREST_MIPMAP_NEAREST;
      if (p === NearestMipMapLinearFilter)
        return gl.NEAREST_MIPMAP_LINEAR;
      if (p === LinearFilter)
        return gl.LINEAR;
      if (p === LinearMipMapNearestFilter)
        return gl.LINEAR_MIPMAP_NEAREST;
      if (p === LinearMipMapLinearFilter)
        return gl.LINEAR_MIPMAP_LINEAR;
      if (p === UnsignedByteType)
        return gl.UNSIGNED_BYTE;
      if (p === UnsignedShort4444Type)
        return gl.UNSIGNED_SHORT_4_4_4_4;
      if (p === UnsignedShort5551Type)
        return gl.UNSIGNED_SHORT_5_5_5_1;
      if (p === UnsignedShort565Type)
        return gl.UNSIGNED_SHORT_5_6_5;
      if (p === ByteType)
        return gl.BYTE;
      if (p === ShortType)
        return gl.SHORT;
      if (p === UnsignedShortType)
        return gl.UNSIGNED_SHORT;
      if (p === IntType)
        return gl.INT;
      if (p === UnsignedIntType)
        return gl.UNSIGNED_INT;
      if (p === FloatType)
        return gl.FLOAT;
      if (p === HalfFloatType) {
        extension = extensions.get('OES_texture_half_float');
        if (extension !== null)
          return extension.HALF_FLOAT_OES;
      }
      if (p === AlphaFormat)
        return gl.ALPHA;
      if (p === RGBFormat)
        return gl.RGB;
      if (p === RGBAFormat)
        return gl.RGBA;
      if (p === LuminanceFormat)
        return gl.LUMINANCE;
      if (p === LuminanceAlphaFormat)
        return gl.LUMINANCE_ALPHA;
      if (p === DepthFormat)
        return gl.DEPTH_COMPONENT;
      if (p === DepthStencilFormat)
        return gl.DEPTH_STENCIL;
      if (p === AddEquation)
        return gl.FUNC_ADD;
      if (p === SubtractEquation)
        return gl.FUNC_SUBTRACT;
      if (p === ReverseSubtractEquation)
        return gl.FUNC_REVERSE_SUBTRACT;
      if (p === ZeroFactor)
        return gl.ZERO;
      if (p === OneFactor)
        return gl.ONE;
      if (p === SrcColorFactor)
        return gl.SRC_COLOR;
      if (p === OneMinusSrcColorFactor)
        return gl.ONE_MINUS_SRC_COLOR;
      if (p === SrcAlphaFactor)
        return gl.SRC_ALPHA;
      if (p === OneMinusSrcAlphaFactor)
        return gl.ONE_MINUS_SRC_ALPHA;
      if (p === DstAlphaFactor)
        return gl.DST_ALPHA;
      if (p === OneMinusDstAlphaFactor)
        return gl.ONE_MINUS_DST_ALPHA;
      if (p === DstColorFactor)
        return gl.DST_COLOR;
      if (p === OneMinusDstColorFactor)
        return gl.ONE_MINUS_DST_COLOR;
      if (p === SrcAlphaSaturateFactor)
        return gl.SRC_ALPHA_SATURATE;
      if (p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format || p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format) {
        extension = extensions.get('WEBGL_compressed_texture_s3tc');
        if (extension !== null) {
          if (p === RGB_S3TC_DXT1_Format)
            return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;
          if (p === RGBA_S3TC_DXT1_Format)
            return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;
          if (p === RGBA_S3TC_DXT3_Format)
            return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;
          if (p === RGBA_S3TC_DXT5_Format)
            return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;
        }
      }
      if (p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format || p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format) {
        extension = extensions.get('WEBGL_compressed_texture_pvrtc');
        if (extension !== null) {
          if (p === RGB_PVRTC_4BPPV1_Format)
            return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
          if (p === RGB_PVRTC_2BPPV1_Format)
            return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
          if (p === RGBA_PVRTC_4BPPV1_Format)
            return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
          if (p === RGBA_PVRTC_2BPPV1_Format)
            return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;
        }
      }
      if (p === RGB_ETC1_Format) {
        extension = extensions.get('WEBGL_compressed_texture_etc1');
        if (extension !== null)
          return extension.COMPRESSED_RGB_ETC1_WEBGL;
      }
      if (p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format || p === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format || p === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format || p === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format || p === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format) {
        extension = extensions.get('WEBGL_compressed_texture_astc');
        if (extension !== null) {
          return p;
        }
      }
      if (p === MinEquation || p === MaxEquation) {
        extension = extensions.get('EXT_blend_minmax');
        if (extension !== null) {
          if (p === MinEquation)
            return extension.MIN_EXT;
          if (p === MaxEquation)
            return extension.MAX_EXT;
        }
      }
      if (p === UnsignedInt248Type) {
        extension = extensions.get('WEBGL_depth_texture');
        if (extension !== null)
          return extension.UNSIGNED_INT_24_8_WEBGL;
      }
      return 0;
    }
    return {convert: convert};
  }
  function Group() {
    Object3D.call(this);
    this.type = 'Group';
  }
  Group.prototype = Object.assign(Object.create(Object3D.prototype), {
    constructor: Group,
    isGroup: true
  });
  function PerspectiveCamera(fov, aspect, near, far) {
    Camera.call(this);
    this.type = 'PerspectiveCamera';
    this.fov = fov !== undefined ? fov : 50;
    this.zoom = 1;
    this.near = near !== undefined ? near : 0.1;
    this.far = far !== undefined ? far : 2000;
    this.focus = 10;
    this.aspect = aspect !== undefined ? aspect : 1;
    this.view = null;
    this.filmGauge = 35;
    this.filmOffset = 0;
    this.updateProjectionMatrix();
  }
  PerspectiveCamera.prototype = Object.assign(Object.create(Camera.prototype), {
    constructor: PerspectiveCamera,
    isPerspectiveCamera: true,
    copy: function(source, recursive) {
      Camera.prototype.copy.call(this, source, recursive);
      this.fov = source.fov;
      this.zoom = source.zoom;
      this.near = source.near;
      this.far = source.far;
      this.focus = source.focus;
      this.aspect = source.aspect;
      this.view = source.view === null ? null : Object.assign({}, source.view);
      this.filmGauge = source.filmGauge;
      this.filmOffset = source.filmOffset;
      return this;
    },
    setFocalLength: function(focalLength) {
      var vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;
      this.fov = _Math.RAD2DEG * 2 * Math.atan(vExtentSlope);
      this.updateProjectionMatrix();
    },
    getFocalLength: function() {
      var vExtentSlope = Math.tan(_Math.DEG2RAD * 0.5 * this.fov);
      return 0.5 * this.getFilmHeight() / vExtentSlope;
    },
    getEffectiveFOV: function() {
      return _Math.RAD2DEG * 2 * Math.atan(Math.tan(_Math.DEG2RAD * 0.5 * this.fov) / this.zoom);
    },
    getFilmWidth: function() {
      return this.filmGauge * Math.min(this.aspect, 1);
    },
    getFilmHeight: function() {
      return this.filmGauge / Math.max(this.aspect, 1);
    },
    setViewOffset: function(fullWidth, fullHeight, x, y, width, height) {
      this.aspect = fullWidth / fullHeight;
      if (this.view === null) {
        this.view = {
          enabled: true,
          fullWidth: 1,
          fullHeight: 1,
          offsetX: 0,
          offsetY: 0,
          width: 1,
          height: 1
        };
      }
      this.view.enabled = true;
      this.view.fullWidth = fullWidth;
      this.view.fullHeight = fullHeight;
      this.view.offsetX = x;
      this.view.offsetY = y;
      this.view.width = width;
      this.view.height = height;
      this.updateProjectionMatrix();
    },
    clearViewOffset: function() {
      if (this.view !== null) {
        this.view.enabled = false;
      }
      this.updateProjectionMatrix();
    },
    updateProjectionMatrix: function() {
      var near = this.near,
          top = near * Math.tan(_Math.DEG2RAD * 0.5 * this.fov) / this.zoom,
          height = 2 * top,
          width = this.aspect * height,
          left = -0.5 * width,
          view = this.view;
      if (this.view !== null && this.view.enabled) {
        var fullWidth = view.fullWidth,
            fullHeight = view.fullHeight;
        left += view.offsetX * width / fullWidth;
        top -= view.offsetY * height / fullHeight;
        width *= view.width / fullWidth;
        height *= view.height / fullHeight;
      }
      var skew = this.filmOffset;
      if (skew !== 0)
        left += near * skew / this.getFilmWidth();
      this.projectionMatrix.makePerspective(left, left + width, top, top - height, near, this.far);
    },
    toJSON: function(meta) {
      var data = Object3D.prototype.toJSON.call(this, meta);
      data.object.fov = this.fov;
      data.object.zoom = this.zoom;
      data.object.near = this.near;
      data.object.far = this.far;
      data.object.focus = this.focus;
      data.object.aspect = this.aspect;
      if (this.view !== null)
        data.object.view = Object.assign({}, this.view);
      data.object.filmGauge = this.filmGauge;
      data.object.filmOffset = this.filmOffset;
      return data;
    }
  });
  function ArrayCamera(array) {
    PerspectiveCamera.call(this);
    this.cameras = array || [];
  }
  ArrayCamera.prototype = Object.assign(Object.create(PerspectiveCamera.prototype), {
    constructor: ArrayCamera,
    isArrayCamera: true
  });
  function WebVRManager(renderer) {
    var scope = this;
    var device = null;
    var frameData = null;
    var poseTarget = null;
    var controllers = [];
    var standingMatrix = new Matrix4();
    var standingMatrixInverse = new Matrix4();
    if (typeof window !== 'undefined' && 'VRFrameData' in window) {
      frameData = new window.VRFrameData();
      window.addEventListener('vrdisplaypresentchange', onVRDisplayPresentChange, false);
    }
    var matrixWorldInverse = new Matrix4();
    var tempQuaternion = new Quaternion();
    var tempPosition = new Vector3();
    var cameraL = new PerspectiveCamera();
    cameraL.bounds = new Vector4(0.0, 0.0, 0.5, 1.0);
    cameraL.layers.enable(1);
    var cameraR = new PerspectiveCamera();
    cameraR.bounds = new Vector4(0.5, 0.0, 0.5, 1.0);
    cameraR.layers.enable(2);
    var cameraVR = new ArrayCamera([cameraL, cameraR]);
    cameraVR.layers.enable(1);
    cameraVR.layers.enable(2);
    function isPresenting() {
      return device !== null && device.isPresenting === true;
    }
    var currentSize,
        currentPixelRatio;
    function onVRDisplayPresentChange() {
      if (isPresenting()) {
        var eyeParameters = device.getEyeParameters('left');
        var renderWidth = eyeParameters.renderWidth;
        var renderHeight = eyeParameters.renderHeight;
        currentPixelRatio = renderer.getPixelRatio();
        currentSize = renderer.getSize();
        renderer.setDrawingBufferSize(renderWidth * 2, renderHeight, 1);
        animation.start();
      } else if (scope.enabled) {
        renderer.setDrawingBufferSize(currentSize.width, currentSize.height, currentPixelRatio);
        animation.stop();
      }
    }
    var isTriggerPressed = false;
    function findGamepad(id) {
      var gamepads = navigator.getGamepads && navigator.getGamepads();
      for (var i = 0,
          j = 0,
          l = gamepads.length; i < l; i++) {
        var gamepad = gamepads[i];
        if (gamepad && (gamepad.id === 'Daydream Controller' || gamepad.id === 'Gear VR Controller' || gamepad.id === 'Oculus Go Controller' || gamepad.id === 'OpenVR Gamepad' || gamepad.id.startsWith('Oculus Touch') || gamepad.id.startsWith('Spatial Controller'))) {
          if (j === id)
            return gamepad;
          j++;
        }
      }
    }
    function updateControllers() {
      for (var i = 0; i < controllers.length; i++) {
        var controller = controllers[i];
        var gamepad = findGamepad(i);
        if (gamepad !== undefined && gamepad.pose !== undefined) {
          if (gamepad.pose === null)
            return;
          var pose = gamepad.pose;
          if (pose.hasPosition === false)
            controller.position.set(0.2, -0.6, -0.05);
          if (pose.position !== null)
            controller.position.fromArray(pose.position);
          if (pose.orientation !== null)
            controller.quaternion.fromArray(pose.orientation);
          controller.matrix.compose(controller.position, controller.quaternion, controller.scale);
          controller.matrix.premultiply(standingMatrix);
          controller.matrix.decompose(controller.position, controller.quaternion, controller.scale);
          controller.matrixWorldNeedsUpdate = true;
          controller.visible = true;
          var buttonId = gamepad.id === 'Daydream Controller' ? 0 : 1;
          if (isTriggerPressed !== gamepad.buttons[buttonId].pressed) {
            isTriggerPressed = gamepad.buttons[buttonId].pressed;
            if (isTriggerPressed) {
              controller.dispatchEvent({type: 'selectstart'});
            } else {
              controller.dispatchEvent({type: 'selectend'});
              controller.dispatchEvent({type: 'select'});
            }
          }
        } else {
          controller.visible = false;
        }
      }
    }
    this.enabled = false;
    this.userHeight = 1.6;
    this.getController = function(id) {
      var controller = controllers[id];
      if (controller === undefined) {
        controller = new Group();
        controller.matrixAutoUpdate = false;
        controller.visible = false;
        controllers[id] = controller;
      }
      return controller;
    };
    this.getDevice = function() {
      return device;
    };
    this.setDevice = function(value) {
      if (value !== undefined)
        device = value;
      animation.setContext(value);
    };
    this.setPoseTarget = function(object) {
      if (object !== undefined)
        poseTarget = object;
    };
    this.getCamera = function(camera) {
      if (device === null) {
        camera.position.set(0, scope.userHeight, 0);
        return camera;
      }
      device.depthNear = camera.near;
      device.depthFar = camera.far;
      device.getFrameData(frameData);
      var stageParameters = device.stageParameters;
      if (stageParameters) {
        standingMatrix.fromArray(stageParameters.sittingToStandingTransform);
      } else {
        standingMatrix.makeTranslation(0, scope.userHeight, 0);
      }
      var pose = frameData.pose;
      var poseObject = poseTarget !== null ? poseTarget : camera;
      poseObject.matrix.copy(standingMatrix);
      poseObject.matrix.decompose(poseObject.position, poseObject.quaternion, poseObject.scale);
      if (pose.orientation !== null) {
        tempQuaternion.fromArray(pose.orientation);
        poseObject.quaternion.multiply(tempQuaternion);
      }
      if (pose.position !== null) {
        tempQuaternion.setFromRotationMatrix(standingMatrix);
        tempPosition.fromArray(pose.position);
        tempPosition.applyQuaternion(tempQuaternion);
        poseObject.position.add(tempPosition);
      }
      poseObject.updateMatrixWorld();
      if (device.isPresenting === false)
        return camera;
      cameraL.near = camera.near;
      cameraR.near = camera.near;
      cameraL.far = camera.far;
      cameraR.far = camera.far;
      cameraVR.matrixWorld.copy(camera.matrixWorld);
      cameraVR.matrixWorldInverse.copy(camera.matrixWorldInverse);
      cameraL.matrixWorldInverse.fromArray(frameData.leftViewMatrix);
      cameraR.matrixWorldInverse.fromArray(frameData.rightViewMatrix);
      standingMatrixInverse.getInverse(standingMatrix);
      cameraL.matrixWorldInverse.multiply(standingMatrixInverse);
      cameraR.matrixWorldInverse.multiply(standingMatrixInverse);
      var parent = poseObject.parent;
      if (parent !== null) {
        matrixWorldInverse.getInverse(parent.matrixWorld);
        cameraL.matrixWorldInverse.multiply(matrixWorldInverse);
        cameraR.matrixWorldInverse.multiply(matrixWorldInverse);
      }
      cameraL.matrixWorld.getInverse(cameraL.matrixWorldInverse);
      cameraR.matrixWorld.getInverse(cameraR.matrixWorldInverse);
      cameraL.projectionMatrix.fromArray(frameData.leftProjectionMatrix);
      cameraR.projectionMatrix.fromArray(frameData.rightProjectionMatrix);
      cameraVR.projectionMatrix.copy(cameraL.projectionMatrix);
      var layers = device.getLayers();
      if (layers.length) {
        var layer = layers[0];
        if (layer.leftBounds !== null && layer.leftBounds.length === 4) {
          cameraL.bounds.fromArray(layer.leftBounds);
        }
        if (layer.rightBounds !== null && layer.rightBounds.length === 4) {
          cameraR.bounds.fromArray(layer.rightBounds);
        }
      }
      updateControllers();
      return cameraVR;
    };
    this.getStandingMatrix = function() {
      return standingMatrix;
    };
    this.isPresenting = isPresenting;
    var animation = new WebGLAnimation();
    this.setAnimationLoop = function(callback) {
      animation.setAnimationLoop(callback);
    };
    this.submitFrame = function() {
      if (isPresenting())
        device.submitFrame();
    };
    this.dispose = function() {
      if (typeof window !== 'undefined') {
        window.removeEventListener('vrdisplaypresentchange', onVRDisplayPresentChange);
      }
    };
  }
  function WebXRManager(renderer) {
    var gl = renderer.context;
    var device = null;
    var session = null;
    var frameOfRef = null;
    var pose = null;
    var controllers = [];
    var inputSources = [];
    function isPresenting() {
      return session !== null && frameOfRef !== null;
    }
    var cameraL = new PerspectiveCamera();
    cameraL.layers.enable(1);
    cameraL.viewport = new Vector4();
    var cameraR = new PerspectiveCamera();
    cameraR.layers.enable(2);
    cameraR.viewport = new Vector4();
    var cameraVR = new ArrayCamera([cameraL, cameraR]);
    cameraVR.layers.enable(1);
    cameraVR.layers.enable(2);
    this.enabled = false;
    this.getController = function(id) {
      var controller = controllers[id];
      if (controller === undefined) {
        controller = new Group();
        controller.matrixAutoUpdate = false;
        controller.visible = false;
        controllers[id] = controller;
      }
      return controller;
    };
    this.getDevice = function() {
      return device;
    };
    this.setDevice = function(value) {
      if (value !== undefined)
        device = value;
      gl.setCompatibleXRDevice(value);
    };
    function onSessionEvent(event) {
      var controller = controllers[inputSources.indexOf(event.inputSource)];
      if (controller)
        controller.dispatchEvent({type: event.type});
    }
    function onSessionEnd() {
      renderer.setFramebuffer(null);
      animation.stop();
    }
    this.setSession = function(value, options) {
      session = value;
      if (session !== null) {
        session.addEventListener('select', onSessionEvent);
        session.addEventListener('selectstart', onSessionEvent);
        session.addEventListener('selectend', onSessionEvent);
        session.addEventListener('end', onSessionEnd);
        session.baseLayer = new XRWebGLLayer(session, gl);
        session.requestFrameOfReference(options.frameOfReferenceType).then(function(value) {
          frameOfRef = value;
          renderer.setFramebuffer(session.baseLayer.framebuffer);
          animation.setContext(session);
          animation.start();
        });
        inputSources = session.getInputSources();
        session.addEventListener('inputsourceschange', function() {
          inputSources = session.getInputSources();
          console.log(inputSources);
        });
      }
    };
    function updateCamera(camera, parent) {
      if (parent === null) {
        camera.matrixWorld.copy(camera.matrix);
      } else {
        camera.matrixWorld.multiplyMatrices(parent.matrixWorld, camera.matrix);
      }
      camera.matrixWorldInverse.getInverse(camera.matrixWorld);
    }
    this.getCamera = function(camera) {
      if (isPresenting()) {
        var parent = camera.parent;
        var cameras = cameraVR.cameras;
        updateCamera(cameraVR, parent);
        for (var i = 0; i < cameras.length; i++) {
          updateCamera(cameras[i], parent);
        }
        camera.matrixWorld.copy(cameraVR.matrixWorld);
        var children = camera.children;
        for (var i = 0,
            l = children.length; i < l; i++) {
          children[i].updateMatrixWorld(true);
        }
        return cameraVR;
      }
      return camera;
    };
    this.isPresenting = isPresenting;
    var onAnimationFrameCallback = null;
    function onAnimationFrame(time, frame) {
      pose = frame.getDevicePose(frameOfRef);
      if (pose !== null) {
        var layer = session.baseLayer;
        var views = frame.views;
        for (var i = 0; i < views.length; i++) {
          var view = views[i];
          var viewport = layer.getViewport(view);
          var viewMatrix = pose.getViewMatrix(view);
          var camera = cameraVR.cameras[i];
          camera.matrix.fromArray(viewMatrix).getInverse(camera.matrix);
          camera.projectionMatrix.fromArray(view.projectionMatrix);
          camera.viewport.set(viewport.x, viewport.y, viewport.width, viewport.height);
          if (i === 0) {
            cameraVR.matrix.copy(camera.matrix);
            cameraVR.projectionMatrix.copy(camera.projectionMatrix);
          }
        }
      }
      for (var i = 0; i < controllers.length; i++) {
        var controller = controllers[i];
        var inputSource = inputSources[i];
        if (inputSource) {
          var inputPose = frame.getInputPose(inputSource, frameOfRef);
          if (inputPose !== null) {
            controller.matrix.elements = inputPose.pointerMatrix;
            controller.matrix.decompose(controller.position, controller.rotation, controller.scale);
            controller.visible = true;
            continue;
          }
        }
        controller.visible = false;
      }
      if (onAnimationFrameCallback)
        onAnimationFrameCallback(time);
    }
    var animation = new WebGLAnimation();
    animation.setAnimationLoop(onAnimationFrame);
    this.setAnimationLoop = function(callback) {
      onAnimationFrameCallback = callback;
    };
    this.dispose = function() {};
    this.getStandingMatrix = function() {
      console.warn('THREE.WebXRManager: getStandingMatrix() is no longer needed.');
      return new THREE.Matrix4();
    };
    this.submitFrame = function() {};
  }
  function WebGLRenderer(parameters) {
    console.log('THREE.WebGLRenderer', REVISION);
    parameters = parameters || {};
    var _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas'),
        _context = parameters.context !== undefined ? parameters.context : null,
        _alpha = parameters.alpha !== undefined ? parameters.alpha : false,
        _depth = parameters.depth !== undefined ? parameters.depth : true,
        _stencil = parameters.stencil !== undefined ? parameters.stencil : true,
        _antialias = parameters.antialias !== undefined ? parameters.antialias : false,
        _premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,
        _preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,
        _powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default';
    var currentRenderList = null;
    var currentRenderState = null;
    this.domElement = _canvas;
    this.context = null;
    this.autoClear = true;
    this.autoClearColor = true;
    this.autoClearDepth = true;
    this.autoClearStencil = true;
    this.sortObjects = true;
    this.clippingPlanes = [];
    this.localClippingEnabled = false;
    this.gammaFactor = 2.0;
    this.gammaInput = false;
    this.gammaOutput = false;
    this.physicallyCorrectLights = false;
    this.toneMapping = LinearToneMapping;
    this.toneMappingExposure = 1.0;
    this.toneMappingWhitePoint = 1.0;
    this.maxMorphTargets = 8;
    this.maxMorphNormals = 4;
    var _this = this,
        _isContextLost = false,
        _framebuffer = null,
        _currentRenderTarget = null,
        _currentFramebuffer = null,
        _currentMaterialId = -1,
        _currentGeometryProgram = '',
        _currentCamera = null,
        _currentArrayCamera = null,
        _currentViewport = new Vector4(),
        _currentScissor = new Vector4(),
        _currentScissorTest = null,
        _usedTextureUnits = 0,
        _width = _canvas.width,
        _height = _canvas.height,
        _pixelRatio = 1,
        _viewport = new Vector4(0, 0, _width, _height),
        _scissor = new Vector4(0, 0, _width, _height),
        _scissorTest = false,
        _frustum = new Frustum(),
        _clipping = new WebGLClipping(),
        _clippingEnabled = false,
        _localClippingEnabled = false,
        _projScreenMatrix = new Matrix4(),
        _vector3 = new Vector3();
    function getTargetPixelRatio() {
      return _currentRenderTarget === null ? _pixelRatio : 1;
    }
    var _gl;
    try {
      var contextAttributes = {
        alpha: _alpha,
        depth: _depth,
        stencil: _stencil,
        antialias: _antialias,
        premultipliedAlpha: _premultipliedAlpha,
        preserveDrawingBuffer: _preserveDrawingBuffer,
        powerPreference: _powerPreference
      };
      _canvas.addEventListener('webglcontextlost', onContextLost, false);
      _canvas.addEventListener('webglcontextrestored', onContextRestore, false);
      _gl = _context || _canvas.getContext('webgl', contextAttributes) || _canvas.getContext('experimental-webgl', contextAttributes);
      if (_gl === null) {
        if (_canvas.getContext('webgl') !== null) {
          throw new Error('Error creating WebGL context with your selected attributes.');
        } else {
          throw new Error('Error creating WebGL context.');
        }
      }
      if (_gl.getShaderPrecisionFormat === undefined) {
        _gl.getShaderPrecisionFormat = function() {
          return {
            'rangeMin': 1,
            'rangeMax': 1,
            'precision': 1
          };
        };
      }
    } catch (error) {
      console.error('THREE.WebGLRenderer: ' + error.message);
    }
    var extensions,
        capabilities,
        state,
        info;
    var properties,
        textures,
        attributes,
        geometries,
        objects;
    var programCache,
        renderLists,
        renderStates;
    var background,
        morphtargets,
        bufferRenderer,
        indexedBufferRenderer;
    var spriteRenderer;
    var utils;
    function initGLContext() {
      extensions = new WebGLExtensions(_gl);
      extensions.get('WEBGL_depth_texture');
      extensions.get('OES_texture_float');
      extensions.get('OES_texture_float_linear');
      extensions.get('OES_texture_half_float');
      extensions.get('OES_texture_half_float_linear');
      extensions.get('OES_standard_derivatives');
      extensions.get('OES_element_index_uint');
      extensions.get('ANGLE_instanced_arrays');
      utils = new WebGLUtils(_gl, extensions);
      capabilities = new WebGLCapabilities(_gl, extensions, parameters);
      state = new WebGLState(_gl, extensions, utils);
      state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio));
      state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio));
      info = new WebGLInfo(_gl);
      properties = new WebGLProperties();
      textures = new WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info);
      attributes = new WebGLAttributes(_gl);
      geometries = new WebGLGeometries(_gl, attributes, info);
      objects = new WebGLObjects(geometries, info);
      morphtargets = new WebGLMorphtargets(_gl);
      programCache = new WebGLPrograms(_this, extensions, capabilities);
      renderLists = new WebGLRenderLists();
      renderStates = new WebGLRenderStates();
      background = new WebGLBackground(_this, state, objects, _premultipliedAlpha);
      bufferRenderer = new WebGLBufferRenderer(_gl, extensions, info);
      indexedBufferRenderer = new WebGLIndexedBufferRenderer(_gl, extensions, info);
      spriteRenderer = new WebGLSpriteRenderer(_this, _gl, state, textures, capabilities);
      info.programs = programCache.programs;
      _this.context = _gl;
      _this.capabilities = capabilities;
      _this.extensions = extensions;
      _this.properties = properties;
      _this.renderLists = renderLists;
      _this.state = state;
      _this.info = info;
    }
    initGLContext();
    var vr = ('xr' in navigator) ? new WebXRManager(_this) : new WebVRManager(_this);
    this.vr = vr;
    var shadowMap = new WebGLShadowMap(_this, objects, capabilities.maxTextureSize);
    this.shadowMap = shadowMap;
    this.getContext = function() {
      return _gl;
    };
    this.getContextAttributes = function() {
      return _gl.getContextAttributes();
    };
    this.forceContextLoss = function() {
      var extension = extensions.get('WEBGL_lose_context');
      if (extension)
        extension.loseContext();
    };
    this.forceContextRestore = function() {
      var extension = extensions.get('WEBGL_lose_context');
      if (extension)
        extension.restoreContext();
    };
    this.getPixelRatio = function() {
      return _pixelRatio;
    };
    this.setPixelRatio = function(value) {
      if (value === undefined)
        return;
      _pixelRatio = value;
      this.setSize(_width, _height, false);
    };
    this.getSize = function() {
      return {
        width: _width,
        height: _height
      };
    };
    this.setSize = function(width, height, updateStyle) {
      if (vr.isPresenting()) {
        console.warn('THREE.WebGLRenderer: Can\'t change size while VR device is presenting.');
        return;
      }
      _width = width;
      _height = height;
      _canvas.width = width * _pixelRatio;
      _canvas.height = height * _pixelRatio;
      if (updateStyle !== false) {
        _canvas.style.width = width + 'px';
        _canvas.style.height = height + 'px';
      }
      this.setViewport(0, 0, width, height);
    };
    this.getDrawingBufferSize = function() {
      return {
        width: _width * _pixelRatio,
        height: _height * _pixelRatio
      };
    };
    this.setDrawingBufferSize = function(width, height, pixelRatio) {
      _width = width;
      _height = height;
      _pixelRatio = pixelRatio;
      _canvas.width = width * pixelRatio;
      _canvas.height = height * pixelRatio;
      this.setViewport(0, 0, width, height);
    };
    this.getCurrentViewport = function() {
      return _currentViewport;
    };
    this.setViewport = function(x, y, width, height) {
      _viewport.set(x, _height - y - height, width, height);
      state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio));
    };
    this.setScissor = function(x, y, width, height) {
      _scissor.set(x, _height - y - height, width, height);
      state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio));
    };
    this.setScissorTest = function(boolean) {
      state.setScissorTest(_scissorTest = boolean);
    };
    this.getClearColor = function() {
      return background.getClearColor();
    };
    this.setClearColor = function() {
      background.setClearColor.apply(background, arguments);
    };
    this.getClearAlpha = function() {
      return background.getClearAlpha();
    };
    this.setClearAlpha = function() {
      background.setClearAlpha.apply(background, arguments);
    };
    this.clear = function(color, depth, stencil) {
      var bits = 0;
      if (color === undefined || color)
        bits |= _gl.COLOR_BUFFER_BIT;
      if (depth === undefined || depth)
        bits |= _gl.DEPTH_BUFFER_BIT;
      if (stencil === undefined || stencil)
        bits |= _gl.STENCIL_BUFFER_BIT;
      _gl.clear(bits);
    };
    this.clearColor = function() {
      this.clear(true, false, false);
    };
    this.clearDepth = function() {
      this.clear(false, true, false);
    };
    this.clearStencil = function() {
      this.clear(false, false, true);
    };
    this.clearTarget = function(renderTarget, color, depth, stencil) {
      this.setRenderTarget(renderTarget);
      this.clear(color, depth, stencil);
    };
    this.dispose = function() {
      _canvas.removeEventListener('webglcontextlost', onContextLost, false);
      _canvas.removeEventListener('webglcontextrestored', onContextRestore, false);
      renderLists.dispose();
      renderStates.dispose();
      properties.dispose();
      objects.dispose();
      vr.dispose();
      animation.stop();
    };
    function onContextLost(event) {
      event.preventDefault();
      console.log('THREE.WebGLRenderer: Context Lost.');
      _isContextLost = true;
    }
    function onContextRestore() {
      console.log('THREE.WebGLRenderer: Context Restored.');
      _isContextLost = false;
      initGLContext();
    }
    function onMaterialDispose(event) {
      var material = event.target;
      material.removeEventListener('dispose', onMaterialDispose);
      deallocateMaterial(material);
    }
    function deallocateMaterial(material) {
      releaseMaterialProgramReference(material);
      properties.remove(material);
    }
    function releaseMaterialProgramReference(material) {
      var programInfo = properties.get(material).program;
      material.program = undefined;
      if (programInfo !== undefined) {
        programCache.releaseProgram(programInfo);
      }
    }
    function renderObjectImmediate(object, program, material) {
      object.render(function(object) {
        _this.renderBufferImmediate(object, program, material);
      });
    }
    this.renderBufferImmediate = function(object, program, material) {
      state.initAttributes();
      var buffers = properties.get(object);
      if (object.hasPositions && !buffers.position)
        buffers.position = _gl.createBuffer();
      if (object.hasNormals && !buffers.normal)
        buffers.normal = _gl.createBuffer();
      if (object.hasUvs && !buffers.uv)
        buffers.uv = _gl.createBuffer();
      if (object.hasColors && !buffers.color)
        buffers.color = _gl.createBuffer();
      var programAttributes = program.getAttributes();
      if (object.hasPositions) {
        _gl.bindBuffer(_gl.ARRAY_BUFFER, buffers.position);
        _gl.bufferData(_gl.ARRAY_BUFFER, object.positionArray, _gl.DYNAMIC_DRAW);
        state.enableAttribute(programAttributes.position);
        _gl.vertexAttribPointer(programAttributes.position, 3, _gl.FLOAT, false, 0, 0);
      }
      if (object.hasNormals) {
        _gl.bindBuffer(_gl.ARRAY_BUFFER, buffers.normal);
        if (!material.isMeshPhongMaterial && !material.isMeshStandardMaterial && !material.isMeshNormalMaterial && material.flatShading === true) {
          for (var i = 0,
              l = object.count * 3; i < l; i += 9) {
            var array = object.normalArray;
            var nx = (array[i + 0] + array[i + 3] + array[i + 6]) / 3;
            var ny = (array[i + 1] + array[i + 4] + array[i + 7]) / 3;
            var nz = (array[i + 2] + array[i + 5] + array[i + 8]) / 3;
            array[i + 0] = nx;
            array[i + 1] = ny;
            array[i + 2] = nz;
            array[i + 3] = nx;
            array[i + 4] = ny;
            array[i + 5] = nz;
            array[i + 6] = nx;
            array[i + 7] = ny;
            array[i + 8] = nz;
          }
        }
        _gl.bufferData(_gl.ARRAY_BUFFER, object.normalArray, _gl.DYNAMIC_DRAW);
        state.enableAttribute(programAttributes.normal);
        _gl.vertexAttribPointer(programAttributes.normal, 3, _gl.FLOAT, false, 0, 0);
      }
      if (object.hasUvs && material.map) {
        _gl.bindBuffer(_gl.ARRAY_BUFFER, buffers.uv);
        _gl.bufferData(_gl.ARRAY_BUFFER, object.uvArray, _gl.DYNAMIC_DRAW);
        state.enableAttribute(programAttributes.uv);
        _gl.vertexAttribPointer(programAttributes.uv, 2, _gl.FLOAT, false, 0, 0);
      }
      if (object.hasColors && material.vertexColors !== NoColors) {
        _gl.bindBuffer(_gl.ARRAY_BUFFER, buffers.color);
        _gl.bufferData(_gl.ARRAY_BUFFER, object.colorArray, _gl.DYNAMIC_DRAW);
        state.enableAttribute(programAttributes.color);
        _gl.vertexAttribPointer(programAttributes.color, 3, _gl.FLOAT, false, 0, 0);
      }
      state.disableUnusedAttributes();
      _gl.drawArrays(_gl.TRIANGLES, 0, object.count);
      object.count = 0;
    };
    this.renderBufferDirect = function(camera, fog, geometry, material, object, group) {
      var frontFaceCW = (object.isMesh && object.matrixWorld.determinant() < 0);
      state.setMaterial(material, frontFaceCW);
      var program = setProgram(camera, fog, material, object);
      var geometryProgram = geometry.id + '_' + program.id + '_' + (material.wireframe === true);
      var updateBuffers = false;
      if (geometryProgram !== _currentGeometryProgram) {
        _currentGeometryProgram = geometryProgram;
        updateBuffers = true;
      }
      if (object.morphTargetInfluences) {
        morphtargets.update(object, geometry, material, program);
        updateBuffers = true;
      }
      var index = geometry.index;
      var position = geometry.attributes.position;
      var rangeFactor = 1;
      if (material.wireframe === true) {
        index = geometries.getWireframeAttribute(geometry);
        rangeFactor = 2;
      }
      var attribute;
      var renderer = bufferRenderer;
      if (index !== null) {
        attribute = attributes.get(index);
        renderer = indexedBufferRenderer;
        renderer.setIndex(attribute);
      }
      if (updateBuffers) {
        setupVertexAttributes(material, program, geometry);
        if (index !== null) {
          _gl.bindBuffer(_gl.ELEMENT_ARRAY_BUFFER, attribute.buffer);
        }
      }
      var dataCount = Infinity;
      if (index !== null) {
        dataCount = index.count;
      } else if (position !== undefined) {
        dataCount = position.count;
      }
      var rangeStart = geometry.drawRange.start * rangeFactor;
      var rangeCount = geometry.drawRange.count * rangeFactor;
      var groupStart = group !== null ? group.start * rangeFactor : 0;
      var groupCount = group !== null ? group.count * rangeFactor : Infinity;
      var drawStart = Math.max(rangeStart, groupStart);
      var drawEnd = Math.min(dataCount, rangeStart + rangeCount, groupStart + groupCount) - 1;
      var drawCount = Math.max(0, drawEnd - drawStart + 1);
      if (drawCount === 0)
        return;
      if (object.isMesh) {
        if (material.wireframe === true) {
          state.setLineWidth(material.wireframeLinewidth * getTargetPixelRatio());
          renderer.setMode(_gl.LINES);
        } else {
          switch (object.drawMode) {
            case TrianglesDrawMode:
              renderer.setMode(_gl.TRIANGLES);
              break;
            case TriangleStripDrawMode:
              renderer.setMode(_gl.TRIANGLE_STRIP);
              break;
            case TriangleFanDrawMode:
              renderer.setMode(_gl.TRIANGLE_FAN);
              break;
          }
        }
      } else if (object.isLine) {
        var lineWidth = material.linewidth;
        if (lineWidth === undefined)
          lineWidth = 1;
        state.setLineWidth(lineWidth * getTargetPixelRatio());
        if (object.isLineSegments) {
          renderer.setMode(_gl.LINES);
        } else if (object.isLineLoop) {
          renderer.setMode(_gl.LINE_LOOP);
        } else {
          renderer.setMode(_gl.LINE_STRIP);
        }
      } else if (object.isPoints) {
        renderer.setMode(_gl.POINTS);
      }
      if (geometry && geometry.isInstancedBufferGeometry) {
        if (geometry.maxInstancedCount > 0) {
          renderer.renderInstances(geometry, drawStart, drawCount);
        }
      } else {
        renderer.render(drawStart, drawCount);
      }
    };
    function setupVertexAttributes(material, program, geometry) {
      if (geometry && geometry.isInstancedBufferGeometry) {
        if (extensions.get('ANGLE_instanced_arrays') === null) {
          console.error('THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');
          return;
        }
      }
      state.initAttributes();
      var geometryAttributes = geometry.attributes;
      var programAttributes = program.getAttributes();
      var materialDefaultAttributeValues = material.defaultAttributeValues;
      for (var name in programAttributes) {
        var programAttribute = programAttributes[name];
        if (programAttribute >= 0) {
          var geometryAttribute = geometryAttributes[name];
          if (geometryAttribute !== undefined) {
            var normalized = geometryAttribute.normalized;
            var size = geometryAttribute.itemSize;
            var attribute = attributes.get(geometryAttribute);
            if (attribute === undefined)
              continue;
            var buffer = attribute.buffer;
            var type = attribute.type;
            var bytesPerElement = attribute.bytesPerElement;
            if (geometryAttribute.isInterleavedBufferAttribute) {
              var data = geometryAttribute.data;
              var stride = data.stride;
              var offset = geometryAttribute.offset;
              if (data && data.isInstancedInterleavedBuffer) {
                state.enableAttributeAndDivisor(programAttribute, data.meshPerAttribute);
                if (geometry.maxInstancedCount === undefined) {
                  geometry.maxInstancedCount = data.meshPerAttribute * data.count;
                }
              } else {
                state.enableAttribute(programAttribute);
              }
              _gl.bindBuffer(_gl.ARRAY_BUFFER, buffer);
              _gl.vertexAttribPointer(programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement);
            } else {
              if (geometryAttribute.isInstancedBufferAttribute) {
                state.enableAttributeAndDivisor(programAttribute, geometryAttribute.meshPerAttribute);
                if (geometry.maxInstancedCount === undefined) {
                  geometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;
                }
              } else {
                state.enableAttribute(programAttribute);
              }
              _gl.bindBuffer(_gl.ARRAY_BUFFER, buffer);
              _gl.vertexAttribPointer(programAttribute, size, type, normalized, 0, 0);
            }
          } else if (materialDefaultAttributeValues !== undefined) {
            var value = materialDefaultAttributeValues[name];
            if (value !== undefined) {
              switch (value.length) {
                case 2:
                  _gl.vertexAttrib2fv(programAttribute, value);
                  break;
                case 3:
                  _gl.vertexAttrib3fv(programAttribute, value);
                  break;
                case 4:
                  _gl.vertexAttrib4fv(programAttribute, value);
                  break;
                default:
                  _gl.vertexAttrib1fv(programAttribute, value);
              }
            }
          }
        }
      }
      state.disableUnusedAttributes();
    }
    this.compile = function(scene, camera) {
      currentRenderState = renderStates.get(scene, camera);
      currentRenderState.init();
      scene.traverse(function(object) {
        if (object.isLight) {
          currentRenderState.pushLight(object);
          if (object.castShadow) {
            currentRenderState.pushShadow(object);
          }
        }
      });
      currentRenderState.setupLights(camera);
      scene.traverse(function(object) {
        if (object.material) {
          if (Array.isArray(object.material)) {
            for (var i = 0; i < object.material.length; i++) {
              initMaterial(object.material[i], scene.fog, object);
            }
          } else {
            initMaterial(object.material, scene.fog, object);
          }
        }
      });
    };
    var onAnimationFrameCallback = null;
    function onAnimationFrame(time) {
      if (vr.isPresenting())
        return;
      if (onAnimationFrameCallback)
        onAnimationFrameCallback(time);
    }
    var animation = new WebGLAnimation();
    animation.setAnimationLoop(onAnimationFrame);
    if (typeof window !== 'undefined')
      animation.setContext(window);
    this.setAnimationLoop = function(callback) {
      onAnimationFrameCallback = callback;
      vr.setAnimationLoop(callback);
      animation.start();
    };
    this.render = function(scene, camera, renderTarget, forceClear) {
      if (!(camera && camera.isCamera)) {
        console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');
        return;
      }
      if (_isContextLost)
        return;
      _currentGeometryProgram = '';
      _currentMaterialId = -1;
      _currentCamera = null;
      if (scene.autoUpdate === true)
        scene.updateMatrixWorld();
      if (camera.parent === null)
        camera.updateMatrixWorld();
      if (vr.enabled) {
        camera = vr.getCamera(camera);
      }
      currentRenderState = renderStates.get(scene, camera);
      currentRenderState.init();
      scene.onBeforeRender(_this, scene, camera, renderTarget);
      _projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);
      _frustum.setFromMatrix(_projScreenMatrix);
      _localClippingEnabled = this.localClippingEnabled;
      _clippingEnabled = _clipping.init(this.clippingPlanes, _localClippingEnabled, camera);
      currentRenderList = renderLists.get(scene, camera);
      currentRenderList.init();
      projectObject(scene, camera, _this.sortObjects);
      if (_this.sortObjects === true) {
        currentRenderList.sort();
      }
      if (_clippingEnabled)
        _clipping.beginShadows();
      var shadowsArray = currentRenderState.state.shadowsArray;
      shadowMap.render(shadowsArray, scene, camera);
      currentRenderState.setupLights(camera);
      if (_clippingEnabled)
        _clipping.endShadows();
      if (this.info.autoReset)
        this.info.reset();
      if (renderTarget === undefined) {
        renderTarget = null;
      }
      this.setRenderTarget(renderTarget);
      background.render(currentRenderList, scene, camera, forceClear);
      var opaqueObjects = currentRenderList.opaque;
      var transparentObjects = currentRenderList.transparent;
      if (scene.overrideMaterial) {
        var overrideMaterial = scene.overrideMaterial;
        if (opaqueObjects.length)
          renderObjects(opaqueObjects, scene, camera, overrideMaterial);
        if (transparentObjects.length)
          renderObjects(transparentObjects, scene, camera, overrideMaterial);
      } else {
        if (opaqueObjects.length)
          renderObjects(opaqueObjects, scene, camera);
        if (transparentObjects.length)
          renderObjects(transparentObjects, scene, camera);
      }
      var spritesArray = currentRenderState.state.spritesArray;
      spriteRenderer.render(spritesArray, scene, camera);
      if (renderTarget) {
        textures.updateRenderTargetMipmap(renderTarget);
      }
      state.buffers.depth.setTest(true);
      state.buffers.depth.setMask(true);
      state.buffers.color.setMask(true);
      state.setPolygonOffset(false);
      scene.onAfterRender(_this, scene, camera);
      if (vr.enabled) {
        vr.submitFrame();
      }
      currentRenderList = null;
      currentRenderState = null;
    };
    function projectObject(object, camera, sortObjects) {
      if (object.visible === false)
        return;
      var visible = object.layers.test(camera.layers);
      if (visible) {
        if (object.isLight) {
          currentRenderState.pushLight(object);
          if (object.castShadow) {
            currentRenderState.pushShadow(object);
          }
        } else if (object.isSprite) {
          if (!object.frustumCulled || _frustum.intersectsSprite(object)) {
            currentRenderState.pushSprite(object);
          }
        } else if (object.isImmediateRenderObject) {
          if (sortObjects) {
            _vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);
          }
          currentRenderList.push(object, null, object.material, _vector3.z, null);
        } else if (object.isMesh || object.isLine || object.isPoints) {
          if (object.isSkinnedMesh) {
            object.skeleton.update();
          }
          if (!object.frustumCulled || _frustum.intersectsObject(object)) {
            if (sortObjects) {
              _vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);
            }
            var geometry = objects.update(object);
            var material = object.material;
            if (Array.isArray(material)) {
              var groups = geometry.groups;
              for (var i = 0,
                  l = groups.length; i < l; i++) {
                var group = groups[i];
                var groupMaterial = material[group.materialIndex];
                if (groupMaterial && groupMaterial.visible) {
                  currentRenderList.push(object, geometry, groupMaterial, _vector3.z, group);
                }
              }
            } else if (material.visible) {
              currentRenderList.push(object, geometry, material, _vector3.z, null);
            }
          }
        }
      }
      var children = object.children;
      for (var i = 0,
          l = children.length; i < l; i++) {
        projectObject(children[i], camera, sortObjects);
      }
    }
    function renderObjects(renderList, scene, camera, overrideMaterial) {
      for (var i = 0,
          l = renderList.length; i < l; i++) {
        var renderItem = renderList[i];
        var object = renderItem.object;
        var geometry = renderItem.geometry;
        var material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;
        var group = renderItem.group;
        if (camera.isArrayCamera) {
          _currentArrayCamera = camera;
          var cameras = camera.cameras;
          for (var j = 0,
              jl = cameras.length; j < jl; j++) {
            var camera2 = cameras[j];
            if (object.layers.test(camera2.layers)) {
              if ('viewport' in camera2) {
                state.viewport(_currentViewport.copy(camera2.viewport));
              } else {
                var bounds = camera2.bounds;
                var x = bounds.x * _width;
                var y = bounds.y * _height;
                var width = bounds.z * _width;
                var height = bounds.w * _height;
                state.viewport(_currentViewport.set(x, y, width, height).multiplyScalar(_pixelRatio));
              }
              renderObject(object, scene, camera2, geometry, material, group);
            }
          }
        } else {
          _currentArrayCamera = null;
          renderObject(object, scene, camera, geometry, material, group);
        }
      }
    }
    function renderObject(object, scene, camera, geometry, material, group) {
      object.onBeforeRender(_this, scene, camera, geometry, material, group);
      currentRenderState = renderStates.get(scene, _currentArrayCamera || camera);
      object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, object.matrixWorld);
      object.normalMatrix.getNormalMatrix(object.modelViewMatrix);
      if (object.isImmediateRenderObject) {
        var frontFaceCW = (object.isMesh && object.matrixWorld.determinant() < 0);
        state.setMaterial(material, frontFaceCW);
        var program = setProgram(camera, scene.fog, material, object);
        _currentGeometryProgram = '';
        renderObjectImmediate(object, program, material);
      } else {
        _this.renderBufferDirect(camera, scene.fog, geometry, material, object, group);
      }
      object.onAfterRender(_this, scene, camera, geometry, material, group);
      currentRenderState = renderStates.get(scene, _currentArrayCamera || camera);
    }
    function initMaterial(material, fog, object) {
      var materialProperties = properties.get(material);
      var lights = currentRenderState.state.lights;
      var shadowsArray = currentRenderState.state.shadowsArray;
      var parameters = programCache.getParameters(material, lights.state, shadowsArray, fog, _clipping.numPlanes, _clipping.numIntersection, object);
      var code = programCache.getProgramCode(material, parameters);
      var program = materialProperties.program;
      var programChange = true;
      if (program === undefined) {
        material.addEventListener('dispose', onMaterialDispose);
      } else if (program.code !== code) {
        releaseMaterialProgramReference(material);
      } else if (materialProperties.lightsHash !== lights.state.hash) {
        properties.update(material, 'lightsHash', lights.state.hash);
        programChange = false;
      } else if (parameters.shaderID !== undefined) {
        return;
      } else {
        programChange = false;
      }
      if (programChange) {
        if (parameters.shaderID) {
          var shader = ShaderLib[parameters.shaderID];
          materialProperties.shader = {
            name: material.type,
            uniforms: UniformsUtils.clone(shader.uniforms),
            vertexShader: shader.vertexShader,
            fragmentShader: shader.fragmentShader
          };
        } else {
          materialProperties.shader = {
            name: material.type,
            uniforms: material.uniforms,
            vertexShader: material.vertexShader,
            fragmentShader: material.fragmentShader
          };
        }
        material.onBeforeCompile(materialProperties.shader, _this);
        program = programCache.acquireProgram(material, materialProperties.shader, parameters, code);
        materialProperties.program = program;
        material.program = program;
      }
      var programAttributes = program.getAttributes();
      if (material.morphTargets) {
        material.numSupportedMorphTargets = 0;
        for (var i = 0; i < _this.maxMorphTargets; i++) {
          if (programAttributes['morphTarget' + i] >= 0) {
            material.numSupportedMorphTargets++;
          }
        }
      }
      if (material.morphNormals) {
        material.numSupportedMorphNormals = 0;
        for (var i = 0; i < _this.maxMorphNormals; i++) {
          if (programAttributes['morphNormal' + i] >= 0) {
            material.numSupportedMorphNormals++;
          }
        }
      }
      var uniforms = materialProperties.shader.uniforms;
      if (!material.isShaderMaterial && !material.isRawShaderMaterial || material.clipping === true) {
        materialProperties.numClippingPlanes = _clipping.numPlanes;
        materialProperties.numIntersection = _clipping.numIntersection;
        uniforms.clippingPlanes = _clipping.uniform;
      }
      materialProperties.fog = fog;
      materialProperties.lightsHash = lights.state.hash;
      if (material.lights) {
        uniforms.ambientLightColor.value = lights.state.ambient;
        uniforms.directionalLights.value = lights.state.directional;
        uniforms.spotLights.value = lights.state.spot;
        uniforms.rectAreaLights.value = lights.state.rectArea;
        uniforms.pointLights.value = lights.state.point;
        uniforms.hemisphereLights.value = lights.state.hemi;
        uniforms.directionalShadowMap.value = lights.state.directionalShadowMap;
        uniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;
        uniforms.spotShadowMap.value = lights.state.spotShadowMap;
        uniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;
        uniforms.pointShadowMap.value = lights.state.pointShadowMap;
        uniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;
      }
      var progUniforms = materialProperties.program.getUniforms(),
          uniformsList = WebGLUniforms.seqWithValue(progUniforms.seq, uniforms);
      materialProperties.uniformsList = uniformsList;
    }
    function setProgram(camera, fog, material, object) {
      _usedTextureUnits = 0;
      var materialProperties = properties.get(material);
      var lights = currentRenderState.state.lights;
      if (_clippingEnabled) {
        if (_localClippingEnabled || camera !== _currentCamera) {
          var useCache = camera === _currentCamera && material.id === _currentMaterialId;
          _clipping.setState(material.clippingPlanes, material.clipIntersection, material.clipShadows, camera, materialProperties, useCache);
        }
      }
      if (material.needsUpdate === false) {
        if (materialProperties.program === undefined) {
          material.needsUpdate = true;
        } else if (material.fog && materialProperties.fog !== fog) {
          material.needsUpdate = true;
        } else if (material.lights && materialProperties.lightsHash !== lights.state.hash) {
          material.needsUpdate = true;
        } else if (materialProperties.numClippingPlanes !== undefined && (materialProperties.numClippingPlanes !== _clipping.numPlanes || materialProperties.numIntersection !== _clipping.numIntersection)) {
          material.needsUpdate = true;
        }
      }
      if (material.needsUpdate) {
        initMaterial(material, fog, object);
        material.needsUpdate = false;
      }
      var refreshProgram = false;
      var refreshMaterial = false;
      var refreshLights = false;
      var program = materialProperties.program,
          p_uniforms = program.getUniforms(),
          m_uniforms = materialProperties.shader.uniforms;
      if (state.useProgram(program.program)) {
        refreshProgram = true;
        refreshMaterial = true;
        refreshLights = true;
      }
      if (material.id !== _currentMaterialId) {
        _currentMaterialId = material.id;
        refreshMaterial = true;
      }
      if (refreshProgram || camera !== _currentCamera) {
        p_uniforms.setValue(_gl, 'projectionMatrix', camera.projectionMatrix);
        if (capabilities.logarithmicDepthBuffer) {
          p_uniforms.setValue(_gl, 'logDepthBufFC', 2.0 / (Math.log(camera.far + 1.0) / Math.LN2));
        }
        if (_currentCamera !== (_currentArrayCamera || camera)) {
          _currentCamera = (_currentArrayCamera || camera);
          refreshMaterial = true;
          refreshLights = true;
        }
        if (material.isShaderMaterial || material.isMeshPhongMaterial || material.isMeshStandardMaterial || material.envMap) {
          var uCamPos = p_uniforms.map.cameraPosition;
          if (uCamPos !== undefined) {
            uCamPos.setValue(_gl, _vector3.setFromMatrixPosition(camera.matrixWorld));
          }
        }
        if (material.isMeshPhongMaterial || material.isMeshLambertMaterial || material.isMeshBasicMaterial || material.isMeshStandardMaterial || material.isShaderMaterial || material.skinning) {
          p_uniforms.setValue(_gl, 'viewMatrix', camera.matrixWorldInverse);
        }
      }
      if (material.skinning) {
        p_uniforms.setOptional(_gl, object, 'bindMatrix');
        p_uniforms.setOptional(_gl, object, 'bindMatrixInverse');
        var skeleton = object.skeleton;
        if (skeleton) {
          var bones = skeleton.bones;
          if (capabilities.floatVertexTextures) {
            if (skeleton.boneTexture === undefined) {
              var size = Math.sqrt(bones.length * 4);
              size = _Math.ceilPowerOfTwo(size);
              size = Math.max(size, 4);
              var boneMatrices = new Float32Array(size * size * 4);
              boneMatrices.set(skeleton.boneMatrices);
              var boneTexture = new DataTexture(boneMatrices, size, size, RGBAFormat, FloatType);
              boneTexture.needsUpdate = true;
              skeleton.boneMatrices = boneMatrices;
              skeleton.boneTexture = boneTexture;
              skeleton.boneTextureSize = size;
            }
            p_uniforms.setValue(_gl, 'boneTexture', skeleton.boneTexture);
            p_uniforms.setValue(_gl, 'boneTextureSize', skeleton.boneTextureSize);
          } else {
            p_uniforms.setOptional(_gl, skeleton, 'boneMatrices');
          }
        }
      }
      if (refreshMaterial) {
        p_uniforms.setValue(_gl, 'toneMappingExposure', _this.toneMappingExposure);
        p_uniforms.setValue(_gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint);
        if (material.lights) {
          markUniformsLightsNeedsUpdate(m_uniforms, refreshLights);
        }
        if (fog && material.fog) {
          refreshUniformsFog(m_uniforms, fog);
        }
        if (material.isMeshBasicMaterial) {
          refreshUniformsCommon(m_uniforms, material);
        } else if (material.isMeshLambertMaterial) {
          refreshUniformsCommon(m_uniforms, material);
          refreshUniformsLambert(m_uniforms, material);
        } else if (material.isMeshPhongMaterial) {
          refreshUniformsCommon(m_uniforms, material);
          if (material.isMeshToonMaterial) {
            refreshUniformsToon(m_uniforms, material);
          } else {
            refreshUniformsPhong(m_uniforms, material);
          }
        } else if (material.isMeshStandardMaterial) {
          refreshUniformsCommon(m_uniforms, material);
          if (material.isMeshPhysicalMaterial) {
            refreshUniformsPhysical(m_uniforms, material);
          } else {
            refreshUniformsStandard(m_uniforms, material);
          }
        } else if (material.isMeshDepthMaterial) {
          refreshUniformsCommon(m_uniforms, material);
          refreshUniformsDepth(m_uniforms, material);
        } else if (material.isMeshDistanceMaterial) {
          refreshUniformsCommon(m_uniforms, material);
          refreshUniformsDistance(m_uniforms, material);
        } else if (material.isMeshNormalMaterial) {
          refreshUniformsCommon(m_uniforms, material);
          refreshUniformsNormal(m_uniforms, material);
        } else if (material.isLineBasicMaterial) {
          refreshUniformsLine(m_uniforms, material);
          if (material.isLineDashedMaterial) {
            refreshUniformsDash(m_uniforms, material);
          }
        } else if (material.isPointsMaterial) {
          refreshUniformsPoints(m_uniforms, material);
        } else if (material.isShadowMaterial) {
          m_uniforms.color.value = material.color;
          m_uniforms.opacity.value = material.opacity;
        }
        if (m_uniforms.ltc_1 !== undefined)
          m_uniforms.ltc_1.value = UniformsLib.LTC_1;
        if (m_uniforms.ltc_2 !== undefined)
          m_uniforms.ltc_2.value = UniformsLib.LTC_2;
        WebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, _this);
      }
      if (material.isShaderMaterial && material.uniformsNeedUpdate === true) {
        WebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, _this);
        material.uniformsNeedUpdate = false;
      }
      p_uniforms.setValue(_gl, 'modelViewMatrix', object.modelViewMatrix);
      p_uniforms.setValue(_gl, 'normalMatrix', object.normalMatrix);
      p_uniforms.setValue(_gl, 'modelMatrix', object.matrixWorld);
      return program;
    }
    function refreshUniformsCommon(uniforms, material) {
      uniforms.opacity.value = material.opacity;
      if (material.color) {
        uniforms.diffuse.value = material.color;
      }
      if (material.emissive) {
        uniforms.emissive.value.copy(material.emissive).multiplyScalar(material.emissiveIntensity);
      }
      if (material.map) {
        uniforms.map.value = material.map;
      }
      if (material.alphaMap) {
        uniforms.alphaMap.value = material.alphaMap;
      }
      if (material.specularMap) {
        uniforms.specularMap.value = material.specularMap;
      }
      if (material.envMap) {
        uniforms.envMap.value = material.envMap;
        uniforms.flipEnvMap.value = (!(material.envMap && material.envMap.isCubeTexture)) ? 1 : -1;
        uniforms.reflectivity.value = material.reflectivity;
        uniforms.refractionRatio.value = material.refractionRatio;
        uniforms.maxMipLevel.value = properties.get(material.envMap).__maxMipLevel;
      }
      if (material.lightMap) {
        uniforms.lightMap.value = material.lightMap;
        uniforms.lightMapIntensity.value = material.lightMapIntensity;
      }
      if (material.aoMap) {
        uniforms.aoMap.value = material.aoMap;
        uniforms.aoMapIntensity.value = material.aoMapIntensity;
      }
      var uvScaleMap;
      if (material.map) {
        uvScaleMap = material.map;
      } else if (material.specularMap) {
        uvScaleMap = material.specularMap;
      } else if (material.displacementMap) {
        uvScaleMap = material.displacementMap;
      } else if (material.normalMap) {
        uvScaleMap = material.normalMap;
      } else if (material.bumpMap) {
        uvScaleMap = material.bumpMap;
      } else if (material.roughnessMap) {
        uvScaleMap = material.roughnessMap;
      } else if (material.metalnessMap) {
        uvScaleMap = material.metalnessMap;
      } else if (material.alphaMap) {
        uvScaleMap = material.alphaMap;
      } else if (material.emissiveMap) {
        uvScaleMap = material.emissiveMap;
      }
      if (uvScaleMap !== undefined) {
        if (uvScaleMap.isWebGLRenderTarget) {
          uvScaleMap = uvScaleMap.texture;
        }
        if (uvScaleMap.matrixAutoUpdate === true) {
          uvScaleMap.updateMatrix();
        }
        uniforms.uvTransform.value.copy(uvScaleMap.matrix);
      }
    }
    function refreshUniformsLine(uniforms, material) {
      uniforms.diffuse.value = material.color;
      uniforms.opacity.value = material.opacity;
    }
    function refreshUniformsDash(uniforms, material) {
      uniforms.dashSize.value = material.dashSize;
      uniforms.totalSize.value = material.dashSize + material.gapSize;
      uniforms.scale.value = material.scale;
    }
    function refreshUniformsPoints(uniforms, material) {
      uniforms.diffuse.value = material.color;
      uniforms.opacity.value = material.opacity;
      uniforms.size.value = material.size * _pixelRatio;
      uniforms.scale.value = _height * 0.5;
      uniforms.map.value = material.map;
      if (material.map !== null) {
        if (material.map.matrixAutoUpdate === true) {
          material.map.updateMatrix();
        }
        uniforms.uvTransform.value.copy(material.map.matrix);
      }
    }
    function refreshUniformsFog(uniforms, fog) {
      uniforms.fogColor.value = fog.color;
      if (fog.isFog) {
        uniforms.fogNear.value = fog.near;
        uniforms.fogFar.value = fog.far;
      } else if (fog.isFogExp2) {
        uniforms.fogDensity.value = fog.density;
      }
    }
    function refreshUniformsLambert(uniforms, material) {
      if (material.emissiveMap) {
        uniforms.emissiveMap.value = material.emissiveMap;
      }
    }
    function refreshUniformsPhong(uniforms, material) {
      uniforms.specular.value = material.specular;
      uniforms.shininess.value = Math.max(material.shininess, 1e-4);
      if (material.emissiveMap) {
        uniforms.emissiveMap.value = material.emissiveMap;
      }
      if (material.bumpMap) {
        uniforms.bumpMap.value = material.bumpMap;
        uniforms.bumpScale.value = material.bumpScale;
        if (material.side === BackSide)
          uniforms.bumpScale.value *= -1;
      }
      if (material.normalMap) {
        uniforms.normalMap.value = material.normalMap;
        uniforms.normalScale.value.copy(material.normalScale);
        if (material.side === BackSide)
          uniforms.normalScale.value.negate();
      }
      if (material.displacementMap) {
        uniforms.displacementMap.value = material.displacementMap;
        uniforms.displacementScale.value = material.displacementScale;
        uniforms.displacementBias.value = material.displacementBias;
      }
    }
    function refreshUniformsToon(uniforms, material) {
      refreshUniformsPhong(uniforms, material);
      if (material.gradientMap) {
        uniforms.gradientMap.value = material.gradientMap;
      }
    }
    function refreshUniformsStandard(uniforms, material) {
      uniforms.roughness.value = material.roughness;
      uniforms.metalness.value = material.metalness;
      if (material.roughnessMap) {
        uniforms.roughnessMap.value = material.roughnessMap;
      }
      if (material.metalnessMap) {
        uniforms.metalnessMap.value = material.metalnessMap;
      }
      if (material.emissiveMap) {
        uniforms.emissiveMap.value = material.emissiveMap;
      }
      if (material.bumpMap) {
        uniforms.bumpMap.value = material.bumpMap;
        uniforms.bumpScale.value = material.bumpScale;
        if (material.side === BackSide)
          uniforms.bumpScale.value *= -1;
      }
      if (material.normalMap) {
        uniforms.normalMap.value = material.normalMap;
        uniforms.normalScale.value.copy(material.normalScale);
        if (material.side === BackSide)
          uniforms.normalScale.value.negate();
      }
      if (material.displacementMap) {
        uniforms.displacementMap.value = material.displacementMap;
        uniforms.displacementScale.value = material.displacementScale;
        uniforms.displacementBias.value = material.displacementBias;
      }
      if (material.envMap) {
        uniforms.envMapIntensity.value = material.envMapIntensity;
      }
    }
    function refreshUniformsPhysical(uniforms, material) {
      refreshUniformsStandard(uniforms, material);
      uniforms.reflectivity.value = material.reflectivity;
      uniforms.clearCoat.value = material.clearCoat;
      uniforms.clearCoatRoughness.value = material.clearCoatRoughness;
    }
    function refreshUniformsDepth(uniforms, material) {
      if (material.displacementMap) {
        uniforms.displacementMap.value = material.displacementMap;
        uniforms.displacementScale.value = material.displacementScale;
        uniforms.displacementBias.value = material.displacementBias;
      }
    }
    function refreshUniformsDistance(uniforms, material) {
      if (material.displacementMap) {
        uniforms.displacementMap.value = material.displacementMap;
        uniforms.displacementScale.value = material.displacementScale;
        uniforms.displacementBias.value = material.displacementBias;
      }
      uniforms.referencePosition.value.copy(material.referencePosition);
      uniforms.nearDistance.value = material.nearDistance;
      uniforms.farDistance.value = material.farDistance;
    }
    function refreshUniformsNormal(uniforms, material) {
      if (material.bumpMap) {
        uniforms.bumpMap.value = material.bumpMap;
        uniforms.bumpScale.value = material.bumpScale;
        if (material.side === BackSide)
          uniforms.bumpScale.value *= -1;
      }
      if (material.normalMap) {
        uniforms.normalMap.value = material.normalMap;
        uniforms.normalScale.value.copy(material.normalScale);
        if (material.side === BackSide)
          uniforms.normalScale.value.negate();
      }
      if (material.displacementMap) {
        uniforms.displacementMap.value = material.displacementMap;
        uniforms.displacementScale.value = material.displacementScale;
        uniforms.displacementBias.value = material.displacementBias;
      }
    }
    function markUniformsLightsNeedsUpdate(uniforms, value) {
      uniforms.ambientLightColor.needsUpdate = value;
      uniforms.directionalLights.needsUpdate = value;
      uniforms.pointLights.needsUpdate = value;
      uniforms.spotLights.needsUpdate = value;
      uniforms.rectAreaLights.needsUpdate = value;
      uniforms.hemisphereLights.needsUpdate = value;
    }
    function allocTextureUnit() {
      var textureUnit = _usedTextureUnits;
      if (textureUnit >= capabilities.maxTextures) {
        console.warn('THREE.WebGLRenderer: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + capabilities.maxTextures);
      }
      _usedTextureUnits += 1;
      return textureUnit;
    }
    this.allocTextureUnit = allocTextureUnit;
    this.setTexture2D = (function() {
      var warned = false;
      return function setTexture2D(texture, slot) {
        if (texture && texture.isWebGLRenderTarget) {
          if (!warned) {
            console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.");
            warned = true;
          }
          texture = texture.texture;
        }
        textures.setTexture2D(texture, slot);
      };
    }());
    this.setTexture = (function() {
      var warned = false;
      return function setTexture(texture, slot) {
        if (!warned) {
          console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.");
          warned = true;
        }
        textures.setTexture2D(texture, slot);
      };
    }());
    this.setTextureCube = (function() {
      var warned = false;
      return function setTextureCube(texture, slot) {
        if (texture && texture.isWebGLRenderTargetCube) {
          if (!warned) {
            console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.");
            warned = true;
          }
          texture = texture.texture;
        }
        if ((texture && texture.isCubeTexture) || (Array.isArray(texture.image) && texture.image.length === 6)) {
          textures.setTextureCube(texture, slot);
        } else {
          textures.setTextureCubeDynamic(texture, slot);
        }
      };
    }());
    this.setFramebuffer = function(value) {
      _framebuffer = value;
    };
    this.getRenderTarget = function() {
      return _currentRenderTarget;
    };
    this.setRenderTarget = function(renderTarget) {
      _currentRenderTarget = renderTarget;
      if (renderTarget && properties.get(renderTarget).__webglFramebuffer === undefined) {
        textures.setupRenderTarget(renderTarget);
      }
      var framebuffer = _framebuffer;
      var isCube = false;
      if (renderTarget) {
        var __webglFramebuffer = properties.get(renderTarget).__webglFramebuffer;
        if (renderTarget.isWebGLRenderTargetCube) {
          framebuffer = __webglFramebuffer[renderTarget.activeCubeFace];
          isCube = true;
        } else {
          framebuffer = __webglFramebuffer;
        }
        _currentViewport.copy(renderTarget.viewport);
        _currentScissor.copy(renderTarget.scissor);
        _currentScissorTest = renderTarget.scissorTest;
      } else {
        _currentViewport.copy(_viewport).multiplyScalar(_pixelRatio);
        _currentScissor.copy(_scissor).multiplyScalar(_pixelRatio);
        _currentScissorTest = _scissorTest;
      }
      if (_currentFramebuffer !== framebuffer) {
        _gl.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);
        _currentFramebuffer = framebuffer;
      }
      state.viewport(_currentViewport);
      state.scissor(_currentScissor);
      state.setScissorTest(_currentScissorTest);
      if (isCube) {
        var textureProperties = properties.get(renderTarget.texture);
        _gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + renderTarget.activeCubeFace, textureProperties.__webglTexture, renderTarget.activeMipMapLevel);
      }
    };
    this.readRenderTargetPixels = function(renderTarget, x, y, width, height, buffer) {
      if (!(renderTarget && renderTarget.isWebGLRenderTarget)) {
        console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');
        return;
      }
      var framebuffer = properties.get(renderTarget).__webglFramebuffer;
      if (framebuffer) {
        var restore = false;
        if (framebuffer !== _currentFramebuffer) {
          _gl.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);
          restore = true;
        }
        try {
          var texture = renderTarget.texture;
          var textureFormat = texture.format;
          var textureType = texture.type;
          if (textureFormat !== RGBAFormat && utils.convert(textureFormat) !== _gl.getParameter(_gl.IMPLEMENTATION_COLOR_READ_FORMAT)) {
            console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');
            return;
          }
          if (textureType !== UnsignedByteType && utils.convert(textureType) !== _gl.getParameter(_gl.IMPLEMENTATION_COLOR_READ_TYPE) && !(textureType === FloatType && (extensions.get('OES_texture_float') || extensions.get('WEBGL_color_buffer_float'))) && !(textureType === HalfFloatType && extensions.get('EXT_color_buffer_half_float'))) {
            console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');
            return;
          }
          if (_gl.checkFramebufferStatus(_gl.FRAMEBUFFER) === _gl.FRAMEBUFFER_COMPLETE) {
            if ((x >= 0 && x <= (renderTarget.width - width)) && (y >= 0 && y <= (renderTarget.height - height))) {
              _gl.readPixels(x, y, width, height, utils.convert(textureFormat), utils.convert(textureType), buffer);
            }
          } else {
            console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.');
          }
        } finally {
          if (restore) {
            _gl.bindFramebuffer(_gl.FRAMEBUFFER, _currentFramebuffer);
          }
        }
      }
    };
    this.copyFramebufferToTexture = function(position, texture, level) {
      var width = texture.image.width;
      var height = texture.image.height;
      var glFormat = utils.convert(texture.format);
      this.setTexture2D(texture, 0);
      _gl.copyTexImage2D(_gl.TEXTURE_2D, level || 0, glFormat, position.x, position.y, width, height, 0);
    };
    this.copyTextureToTexture = function(position, srcTexture, dstTexture, level) {
      var width = srcTexture.image.width;
      var height = srcTexture.image.height;
      var glFormat = utils.convert(dstTexture.format);
      var glType = utils.convert(dstTexture.type);
      this.setTexture2D(dstTexture, 0);
      if (srcTexture.isDataTexture) {
        _gl.texSubImage2D(_gl.TEXTURE_2D, level || 0, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data);
      } else {
        _gl.texSubImage2D(_gl.TEXTURE_2D, level || 0, position.x, position.y, glFormat, glType, srcTexture.image);
      }
    };
  }
  function FogExp2(color, density) {
    this.name = '';
    this.color = new Color(color);
    this.density = (density !== undefined) ? density : 0.00025;
  }
  FogExp2.prototype.isFogExp2 = true;
  FogExp2.prototype.clone = function() {
    return new FogExp2(this.color, this.density);
  };
  FogExp2.prototype.toJSON = function() {
    return {
      type: 'FogExp2',
      color: this.color.getHex(),
      density: this.density
    };
  };
  function Fog(color, near, far) {
    this.name = '';
    this.color = new Color(color);
    this.near = (near !== undefined) ? near : 1;
    this.far = (far !== undefined) ? far : 1000;
  }
  Fog.prototype.isFog = true;
  Fog.prototype.clone = function() {
    return new Fog(this.color, this.near, this.far);
  };
  Fog.prototype.toJSON = function() {
    return {
      type: 'Fog',
      color: this.color.getHex(),
      near: this.near,
      far: this.far
    };
  };
  function Scene() {
    Object3D.call(this);
    this.type = 'Scene';
    this.background = null;
    this.fog = null;
    this.overrideMaterial = null;
    this.autoUpdate = true;
  }
  Scene.prototype = Object.assign(Object.create(Object3D.prototype), {
    constructor: Scene,
    copy: function(source, recursive) {
      Object3D.prototype.copy.call(this, source, recursive);
      if (source.background !== null)
        this.background = source.background.clone();
      if (source.fog !== null)
        this.fog = source.fog.clone();
      if (source.overrideMaterial !== null)
        this.overrideMaterial = source.overrideMaterial.clone();
      this.autoUpdate = source.autoUpdate;
      this.matrixAutoUpdate = source.matrixAutoUpdate;
      return this;
    },
    toJSON: function(meta) {
      var data = Object3D.prototype.toJSON.call(this, meta);
      if (this.background !== null)
        data.object.background = this.background.toJSON(meta);
      if (this.fog !== null)
        data.object.fog = this.fog.toJSON();
      return data;
    }
  });
  function SpriteMaterial(parameters) {
    Material.call(this);
    this.type = 'SpriteMaterial';
    this.color = new Color(0xffffff);
    this.map = null;
    this.rotation = 0;
    this.fog = false;
    this.lights = false;
    this.setValues(parameters);
  }
  SpriteMaterial.prototype = Object.create(Material.prototype);
  SpriteMaterial.prototype.constructor = SpriteMaterial;
  SpriteMaterial.prototype.isSpriteMaterial = true;
  SpriteMaterial.prototype.copy = function(source) {
    Material.prototype.copy.call(this, source);
    this.color.copy(source.color);
    this.map = source.map;
    this.rotation = source.rotation;
    return this;
  };
  function Sprite(material) {
    Object3D.call(this);
    this.type = 'Sprite';
    this.material = (material !== undefined) ? material : new SpriteMaterial();
    this.center = new Vector2(0.5, 0.5);
  }
  Sprite.prototype = Object.assign(Object.create(Object3D.prototype), {
    constructor: Sprite,
    isSprite: true,
    raycast: (function() {
      var intersectPoint = new Vector3();
      var worldScale = new Vector3();
      var mvPosition = new Vector3();
      var alignedPosition = new Vector2();
      var rotatedPosition = new Vector2();
      var viewWorldMatrix = new Matrix4();
      var vA = new Vector3();
      var vB = new Vector3();
      var vC = new Vector3();
      function transformVertex(vertexPosition, mvPosition, center, scale, sin, cos) {
        alignedPosition.subVectors(vertexPosition, center).addScalar(0.5).multiply(scale);
        if (sin !== undefined) {
          rotatedPosition.x = (cos * alignedPosition.x) - (sin * alignedPosition.y);
          rotatedPosition.y = (sin * alignedPosition.x) + (cos * alignedPosition.y);
        } else {
          rotatedPosition.copy(alignedPosition);
        }
        vertexPosition.copy(mvPosition);
        vertexPosition.x += rotatedPosition.x;
        vertexPosition.y += rotatedPosition.y;
        vertexPosition.applyMatrix4(viewWorldMatrix);
      }
      return function raycast(raycaster, intersects) {
        worldScale.setFromMatrixScale(this.matrixWorld);
        viewWorldMatrix.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld);
        mvPosition.setFromMatrixPosition(this.modelViewMatrix);
        var rotation = this.material.rotation;
        var sin,
            cos;
        if (rotation !== 0) {
          cos = Math.cos(rotation);
          sin = Math.sin(rotation);
        }
        var center = this.center;
        transformVertex(vA.set(-0.5, -0.5, 0), mvPosition, center, worldScale, sin, cos);
        transformVertex(vB.set(0.5, -0.5, 0), mvPosition, center, worldScale, sin, cos);
        transformVertex(vC.set(0.5, 0.5, 0), mvPosition, center, worldScale, sin, cos);
        var intersect = raycaster.ray.intersectTriangle(vA, vB, vC, false, intersectPoint);
        if (intersect === null) {
          transformVertex(vB.set(-0.5, 0.5, 0), mvPosition, center, worldScale, sin, cos);
          intersect = raycaster.ray.intersectTriangle(vA, vC, vB, false, intersectPoint);
          if (intersect === null) {
            return;
          }
        }
        var distance = raycaster.ray.origin.distanceTo(intersectPoint);
        if (distance < raycaster.near || distance > raycaster.far)
          return;
        intersects.push({
          distance: distance,
          point: intersectPoint.clone(),
          face: null,
          object: this
        });
      };
    }()),
    clone: function() {
      return new this.constructor(this.material).copy(this);
    },
    copy: function(source) {
      Object3D.prototype.copy.call(this, source);
      if (source.center !== undefined)
        this.center.copy(source.center);
      return this;
    }
  });
  function LOD() {
    Object3D.call(this);
    this.type = 'LOD';
    Object.defineProperties(this, {levels: {
        enumerable: true,
        value: []
      }});
  }
  LOD.prototype = Object.assign(Object.create(Object3D.prototype), {
    constructor: LOD,
    copy: function(source) {
      Object3D.prototype.copy.call(this, source, false);
      var levels = source.levels;
      for (var i = 0,
          l = levels.length; i < l; i++) {
        var level = levels[i];
        this.addLevel(level.object.clone(), level.distance);
      }
      return this;
    },
    addLevel: function(object, distance) {
      if (distance === undefined)
        distance = 0;
      distance = Math.abs(distance);
      var levels = this.levels;
      for (var l = 0; l < levels.length; l++) {
        if (distance < levels[l].distance) {
          break;
        }
      }
      levels.splice(l, 0, {
        distance: distance,
        object: object
      });
      this.add(object);
    },
    getObjectForDistance: function(distance) {
      var levels = this.levels;
      for (var i = 1,
          l = levels.length; i < l; i++) {
        if (distance < levels[i].distance) {
          break;
        }
      }
      return levels[i - 1].object;
    },
    raycast: (function() {
      var matrixPosition = new Vector3();
      return function raycast(raycaster, intersects) {
        matrixPosition.setFromMatrixPosition(this.matrixWorld);
        var distance = raycaster.ray.origin.distanceTo(matrixPosition);
        this.getObjectForDistance(distance).raycast(raycaster, intersects);
      };
    }()),
    update: function() {
      var v1 = new Vector3();
      var v2 = new Vector3();
      return function update(camera) {
        var levels = this.levels;
        if (levels.length > 1) {
          v1.setFromMatrixPosition(camera.matrixWorld);
          v2.setFromMatrixPosition(this.matrixWorld);
          var distance = v1.distanceTo(v2);
          levels[0].object.visible = true;
          for (var i = 1,
              l = levels.length; i < l; i++) {
            if (distance >= levels[i].distance) {
              levels[i - 1].object.visible = false;
              levels[i].object.visible = true;
            } else {
              break;
            }
          }
          for (; i < l; i++) {
            levels[i].object.visible = false;
          }
        }
      };
    }(),
    toJSON: function(meta) {
      var data = Object3D.prototype.toJSON.call(this, meta);
      data.object.levels = [];
      var levels = this.levels;
      for (var i = 0,
          l = levels.length; i < l; i++) {
        var level = levels[i];
        data.object.levels.push({
          object: level.object.uuid,
          distance: level.distance
        });
      }
      return data;
    }
  });
  function Skeleton(bones, boneInverses) {
    bones = bones || [];
    this.bones = bones.slice(0);
    this.boneMatrices = new Float32Array(this.bones.length * 16);
    if (boneInverses === undefined) {
      this.calculateInverses();
    } else {
      if (this.bones.length === boneInverses.length) {
        this.boneInverses = boneInverses.slice(0);
      } else {
        console.warn('THREE.Skeleton boneInverses is the wrong length.');
        this.boneInverses = [];
        for (var i = 0,
            il = this.bones.length; i < il; i++) {
          this.boneInverses.push(new Matrix4());
        }
      }
    }
  }
  Object.assign(Skeleton.prototype, {
    calculateInverses: function() {
      this.boneInverses = [];
      for (var i = 0,
          il = this.bones.length; i < il; i++) {
        var inverse = new Matrix4();
        if (this.bones[i]) {
          inverse.getInverse(this.bones[i].matrixWorld);
        }
        this.boneInverses.push(inverse);
      }
    },
    pose: function() {
      var bone,
          i,
          il;
      for (i = 0, il = this.bones.length; i < il; i++) {
        bone = this.bones[i];
        if (bone) {
          bone.matrixWorld.getInverse(this.boneInverses[i]);
        }
      }
      for (i = 0, il = this.bones.length; i < il; i++) {
        bone = this.bones[i];
        if (bone) {
          if (bone.parent && bone.parent.isBone) {
            bone.matrix.getInverse(bone.parent.matrixWorld);
            bone.matrix.multiply(bone.matrixWorld);
          } else {
            bone.matrix.copy(bone.matrixWorld);
          }
          bone.matrix.decompose(bone.position, bone.quaternion, bone.scale);
        }
      }
    },
    update: (function() {
      var offsetMatrix = new Matrix4();
      var identityMatrix = new Matrix4();
      return function update() {
        var bones = this.bones;
        var boneInverses = this.boneInverses;
        var boneMatrices = this.boneMatrices;
        var boneTexture = this.boneTexture;
        for (var i = 0,
            il = bones.length; i < il; i++) {
          var matrix = bones[i] ? bones[i].matrixWorld : identityMatrix;
          offsetMatrix.multiplyMatrices(matrix, boneInverses[i]);
          offsetMatrix.toArray(boneMatrices, i * 16);
        }
        if (boneTexture !== undefined) {
          boneTexture.needsUpdate = true;
        }
      };
    })(),
    clone: function() {
      return new Skeleton(this.bones, this.boneInverses);
    },
    getBoneByName: function(name) {
      for (var i = 0,
          il = this.bones.length; i < il; i++) {
        var bone = this.bones[i];
        if (bone.name === name) {
          return bone;
        }
      }
      return undefined;
    }
  });
  function Bone() {
    Object3D.call(this);
    this.type = 'Bone';
  }
  Bone.prototype = Object.assign(Object.create(Object3D.prototype), {
    constructor: Bone,
    isBone: true
  });
  function SkinnedMesh(geometry, material) {
    Mesh.call(this, geometry, material);
    this.type = 'SkinnedMesh';
    this.bindMode = 'attached';
    this.bindMatrix = new Matrix4();
    this.bindMatrixInverse = new Matrix4();
    var bones = this.initBones();
    var skeleton = new Skeleton(bones);
    this.bind(skeleton, this.matrixWorld);
    this.normalizeSkinWeights();
  }
  SkinnedMesh.prototype = Object.assign(Object.create(Mesh.prototype), {
    constructor: SkinnedMesh,
    isSkinnedMesh: true,
    initBones: function() {
      var bones = [],
          bone,
          gbone;
      var i,
          il;
      if (this.geometry && this.geometry.bones !== undefined) {
        for (i = 0, il = this.geometry.bones.length; i < il; i++) {
          gbone = this.geometry.bones[i];
          bone = new Bone();
          bones.push(bone);
          bone.name = gbone.name;
          bone.position.fromArray(gbone.pos);
          bone.quaternion.fromArray(gbone.rotq);
          if (gbone.scl !== undefined)
            bone.scale.fromArray(gbone.scl);
        }
        for (i = 0, il = this.geometry.bones.length; i < il; i++) {
          gbone = this.geometry.bones[i];
          if ((gbone.parent !== -1) && (gbone.parent !== null) && (bones[gbone.parent] !== undefined)) {
            bones[gbone.parent].add(bones[i]);
          } else {
            this.add(bones[i]);
          }
        }
      }
      this.updateMatrixWorld(true);
      return bones;
    },
    bind: function(skeleton, bindMatrix) {
      this.skeleton = skeleton;
      if (bindMatrix === undefined) {
        this.updateMatrixWorld(true);
        this.skeleton.calculateInverses();
        bindMatrix = this.matrixWorld;
      }
      this.bindMatrix.copy(bindMatrix);
      this.bindMatrixInverse.getInverse(bindMatrix);
    },
    pose: function() {
      this.skeleton.pose();
    },
    normalizeSkinWeights: function() {
      var scale,
          i;
      if (this.geometry && this.geometry.isGeometry) {
        for (i = 0; i < this.geometry.skinWeights.length; i++) {
          var sw = this.geometry.skinWeights[i];
          scale = 1.0 / sw.manhattanLength();
          if (scale !== Infinity) {
            sw.multiplyScalar(scale);
          } else {
            sw.set(1, 0, 0, 0);
          }
        }
      } else if (this.geometry && this.geometry.isBufferGeometry) {
        var vec = new Vector4();
        var skinWeight = this.geometry.attributes.skinWeight;
        for (i = 0; i < skinWeight.count; i++) {
          vec.x = skinWeight.getX(i);
          vec.y = skinWeight.getY(i);
          vec.z = skinWeight.getZ(i);
          vec.w = skinWeight.getW(i);
          scale = 1.0 / vec.manhattanLength();
          if (scale !== Infinity) {
            vec.multiplyScalar(scale);
          } else {
            vec.set(1, 0, 0, 0);
          }
          skinWeight.setXYZW(i, vec.x, vec.y, vec.z, vec.w);
        }
      }
    },
    updateMatrixWorld: function(force) {
      Mesh.prototype.updateMatrixWorld.call(this, force);
      if (this.bindMode === 'attached') {
        this.bindMatrixInverse.getInverse(this.matrixWorld);
      } else if (this.bindMode === 'detached') {
        this.bindMatrixInverse.getInverse(this.bindMatrix);
      } else {
        console.warn('THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode);
      }
    },
    clone: function() {
      return new this.constructor(this.geometry, this.material).copy(this);
    }
  });
  function LineBasicMaterial(parameters) {
    Material.call(this);
    this.type = 'LineBasicMaterial';
    this.color = new Color(0xffffff);
    this.linewidth = 1;
    this.linecap = 'round';
    this.linejoin = 'round';
    this.lights = false;
    this.setValues(parameters);
  }
  LineBasicMaterial.prototype = Object.create(Material.prototype);
  LineBasicMaterial.prototype.constructor = LineBasicMaterial;
  LineBasicMaterial.prototype.isLineBasicMaterial = true;
  LineBasicMaterial.prototype.copy = function(source) {
    Material.prototype.copy.call(this, source);
    this.color.copy(source.color);
    this.linewidth = source.linewidth;
    this.linecap = source.linecap;
    this.linejoin = source.linejoin;
    return this;
  };
  function Line(geometry, material, mode) {
    if (mode === 1) {
      console.warn('THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.');
      return new LineSegments(geometry, material);
    }
    Object3D.call(this);
    this.type = 'Line';
    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();
    this.material = material !== undefined ? material : new LineBasicMaterial({color: Math.random() * 0xffffff});
  }
  Line.prototype = Object.assign(Object.create(Object3D.prototype), {
    constructor: Line,
    isLine: true,
    computeLineDistances: (function() {
      var start = new Vector3();
      var end = new Vector3();
      return function computeLineDistances() {
        var geometry = this.geometry;
        if (geometry.isBufferGeometry) {
          if (geometry.index === null) {
            var positionAttribute = geometry.attributes.position;
            var lineDistances = [0];
            for (var i = 1,
                l = positionAttribute.count; i < l; i++) {
              start.fromBufferAttribute(positionAttribute, i - 1);
              end.fromBufferAttribute(positionAttribute, i);
              lineDistances[i] = lineDistances[i - 1];
              lineDistances[i] += start.distanceTo(end);
            }
            geometry.addAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));
          } else {
            console.warn('THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');
          }
        } else if (geometry.isGeometry) {
          var vertices = geometry.vertices;
          var lineDistances = geometry.lineDistances;
          lineDistances[0] = 0;
          for (var i = 1,
              l = vertices.length; i < l; i++) {
            lineDistances[i] = lineDistances[i - 1];
            lineDistances[i] += vertices[i - 1].distanceTo(vertices[i]);
          }
        }
        return this;
      };
    }()),
    raycast: (function() {
      var inverseMatrix = new Matrix4();
      var ray = new Ray();
      var sphere = new Sphere();
      return function raycast(raycaster, intersects) {
        var precision = raycaster.linePrecision;
        var precisionSq = precision * precision;
        var geometry = this.geometry;
        var matrixWorld = this.matrixWorld;
        if (geometry.boundingSphere === null)
          geometry.computeBoundingSphere();
        sphere.copy(geometry.boundingSphere);
        sphere.applyMatrix4(matrixWorld);
        if (raycaster.ray.intersectsSphere(sphere) === false)
          return;
        inverseMatrix.getInverse(matrixWorld);
        ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);
        var vStart = new Vector3();
        var vEnd = new Vector3();
        var interSegment = new Vector3();
        var interRay = new Vector3();
        var step = (this && this.isLineSegments) ? 2 : 1;
        if (geometry.isBufferGeometry) {
          var index = geometry.index;
          var attributes = geometry.attributes;
          var positions = attributes.position.array;
          if (index !== null) {
            var indices = index.array;
            for (var i = 0,
                l = indices.length - 1; i < l; i += step) {
              var a = indices[i];
              var b = indices[i + 1];
              vStart.fromArray(positions, a * 3);
              vEnd.fromArray(positions, b * 3);
              var distSq = ray.distanceSqToSegment(vStart, vEnd, interRay, interSegment);
              if (distSq > precisionSq)
                continue;
              interRay.applyMatrix4(this.matrixWorld);
              var distance = raycaster.ray.origin.distanceTo(interRay);
              if (distance < raycaster.near || distance > raycaster.far)
                continue;
              intersects.push({
                distance: distance,
                point: interSegment.clone().applyMatrix4(this.matrixWorld),
                index: i,
                face: null,
                faceIndex: null,
                object: this
              });
            }
          } else {
            for (var i = 0,
                l = positions.length / 3 - 1; i < l; i += step) {
              vStart.fromArray(positions, 3 * i);
              vEnd.fromArray(positions, 3 * i + 3);
              var distSq = ray.distanceSqToSegment(vStart, vEnd, interRay, interSegment);
              if (distSq > precisionSq)
                continue;
              interRay.applyMatrix4(this.matrixWorld);
              var distance = raycaster.ray.origin.distanceTo(interRay);
              if (distance < raycaster.near || distance > raycaster.far)
                continue;
              intersects.push({
                distance: distance,
                point: interSegment.clone().applyMatrix4(this.matrixWorld),
                index: i,
                face: null,
                faceIndex: null,
                object: this
              });
            }
          }
        } else if (geometry.isGeometry) {
          var vertices = geometry.vertices;
          var nbVertices = vertices.length;
          for (var i = 0; i < nbVertices - 1; i += step) {
            var distSq = ray.distanceSqToSegment(vertices[i], vertices[i + 1], interRay, interSegment);
            if (distSq > precisionSq)
              continue;
            interRay.applyMatrix4(this.matrixWorld);
            var distance = raycaster.ray.origin.distanceTo(interRay);
            if (distance < raycaster.near || distance > raycaster.far)
              continue;
            intersects.push({
              distance: distance,
              point: interSegment.clone().applyMatrix4(this.matrixWorld),
              index: i,
              face: null,
              faceIndex: null,
              object: this
            });
          }
        }
      };
    }()),
    clone: function() {
      return new this.constructor(this.geometry, this.material).copy(this);
    }
  });
  function LineSegments(geometry, material) {
    Line.call(this, geometry, material);
    this.type = 'LineSegments';
  }
  LineSegments.prototype = Object.assign(Object.create(Line.prototype), {
    constructor: LineSegments,
    isLineSegments: true,
    computeLineDistances: (function() {
      var start = new Vector3();
      var end = new Vector3();
      return function computeLineDistances() {
        var geometry = this.geometry;
        if (geometry.isBufferGeometry) {
          if (geometry.index === null) {
            var positionAttribute = geometry.attributes.position;
            var lineDistances = [];
            for (var i = 0,
                l = positionAttribute.count; i < l; i += 2) {
              start.fromBufferAttribute(positionAttribute, i);
              end.fromBufferAttribute(positionAttribute, i + 1);
              lineDistances[i] = (i === 0) ? 0 : lineDistances[i - 1];
              lineDistances[i + 1] = lineDistances[i] + start.distanceTo(end);
            }
            geometry.addAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));
          } else {
            console.warn('THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');
          }
        } else if (geometry.isGeometry) {
          var vertices = geometry.vertices;
          var lineDistances = geometry.lineDistances;
          for (var i = 0,
              l = vertices.length; i < l; i += 2) {
            start.copy(vertices[i]);
            end.copy(vertices[i + 1]);
            lineDistances[i] = (i === 0) ? 0 : lineDistances[i - 1];
            lineDistances[i + 1] = lineDistances[i] + start.distanceTo(end);
          }
        }
        return this;
      };
    }())
  });
  function LineLoop(geometry, material) {
    Line.call(this, geometry, material);
    this.type = 'LineLoop';
  }
  LineLoop.prototype = Object.assign(Object.create(Line.prototype), {
    constructor: LineLoop,
    isLineLoop: true
  });
  function PointsMaterial(parameters) {
    Material.call(this);
    this.type = 'PointsMaterial';
    this.color = new Color(0xffffff);
    this.map = null;
    this.size = 1;
    this.sizeAttenuation = true;
    this.morphTargets = false;
    this.lights = false;
    this.setValues(parameters);
  }
  PointsMaterial.prototype = Object.create(Material.prototype);
  PointsMaterial.prototype.constructor = PointsMaterial;
  PointsMaterial.prototype.isPointsMaterial = true;
  PointsMaterial.prototype.copy = function(source) {
    Material.prototype.copy.call(this, source);
    this.color.copy(source.color);
    this.map = source.map;
    this.size = source.size;
    this.sizeAttenuation = source.sizeAttenuation;
    this.morphTargets = source.morphTargets;
    return this;
  };
  function Points(geometry, material) {
    Object3D.call(this);
    this.type = 'Points';
    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();
    this.material = material !== undefined ? material : new PointsMaterial({color: Math.random() * 0xffffff});
  }
  Points.prototype = Object.assign(Object.create(Object3D.prototype), {
    constructor: Points,
    isPoints: true,
    raycast: (function() {
      var inverseMatrix = new Matrix4();
      var ray = new Ray();
      var sphere = new Sphere();
      return function raycast(raycaster, intersects) {
        var object = this;
        var geometry = this.geometry;
        var matrixWorld = this.matrixWorld;
        var threshold = raycaster.params.Points.threshold;
        if (geometry.boundingSphere === null)
          geometry.computeBoundingSphere();
        sphere.copy(geometry.boundingSphere);
        sphere.applyMatrix4(matrixWorld);
        sphere.radius += threshold;
        if (raycaster.ray.intersectsSphere(sphere) === false)
          return;
        inverseMatrix.getInverse(matrixWorld);
        ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);
        var localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);
        var localThresholdSq = localThreshold * localThreshold;
        var position = new Vector3();
        var intersectPoint = new Vector3();
        function testPoint(point, index) {
          var rayPointDistanceSq = ray.distanceSqToPoint(point);
          if (rayPointDistanceSq < localThresholdSq) {
            ray.closestPointToPoint(point, intersectPoint);
            intersectPoint.applyMatrix4(matrixWorld);
            var distance = raycaster.ray.origin.distanceTo(intersectPoint);
            if (distance < raycaster.near || distance > raycaster.far)
              return;
            intersects.push({
              distance: distance,
              distanceToRay: Math.sqrt(rayPointDistanceSq),
              point: intersectPoint.clone(),
              index: index,
              face: null,
              object: object
            });
          }
        }
        if (geometry.isBufferGeometry) {
          var index = geometry.index;
          var attributes = geometry.attributes;
          var positions = attributes.position.array;
          if (index !== null) {
            var indices = index.array;
            for (var i = 0,
                il = indices.length; i < il; i++) {
              var a = indices[i];
              position.fromArray(positions, a * 3);
              testPoint(position, a);
            }
          } else {
            for (var i = 0,
                l = positions.length / 3; i < l; i++) {
              position.fromArray(positions, i * 3);
              testPoint(position, i);
            }
          }
        } else {
          var vertices = geometry.vertices;
          for (var i = 0,
              l = vertices.length; i < l; i++) {
            testPoint(vertices[i], i);
          }
        }
      };
    }()),
    clone: function() {
      return new this.constructor(this.geometry, this.material).copy(this);
    }
  });
  function VideoTexture(video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {
    Texture.call(this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);
    this.generateMipmaps = false;
  }
  VideoTexture.prototype = Object.assign(Object.create(Texture.prototype), {
    constructor: VideoTexture,
    isVideoTexture: true,
    update: function() {
      var video = this.image;
      if (video.readyState >= video.HAVE_CURRENT_DATA) {
        this.needsUpdate = true;
      }
    }
  });
  function CompressedTexture(mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {
    Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);
    this.image = {
      width: width,
      height: height
    };
    this.mipmaps = mipmaps;
    this.flipY = false;
    this.generateMipmaps = false;
  }
  CompressedTexture.prototype = Object.create(Texture.prototype);
  CompressedTexture.prototype.constructor = CompressedTexture;
  CompressedTexture.prototype.isCompressedTexture = true;
  function DepthTexture(width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format) {
    format = format !== undefined ? format : DepthFormat;
    if (format !== DepthFormat && format !== DepthStencilFormat) {
      throw new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');
    }
    if (type === undefined && format === DepthFormat)
      type = UnsignedShortType;
    if (type === undefined && format === DepthStencilFormat)
      type = UnsignedInt248Type;
    Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);
    this.image = {
      width: width,
      height: height
    };
    this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;
    this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;
    this.flipY = false;
    this.generateMipmaps = false;
  }
  DepthTexture.prototype = Object.create(Texture.prototype);
  DepthTexture.prototype.constructor = DepthTexture;
  DepthTexture.prototype.isDepthTexture = true;
  function WireframeGeometry(geometry) {
    BufferGeometry.call(this);
    this.type = 'WireframeGeometry';
    var vertices = [];
    var i,
        j,
        l,
        o,
        ol;
    var edge = [0, 0],
        edges = {},
        e,
        edge1,
        edge2;
    var key,
        keys = ['a', 'b', 'c'];
    var vertex;
    if (geometry && geometry.isGeometry) {
      var faces = geometry.faces;
      for (i = 0, l = faces.length; i < l; i++) {
        var face = faces[i];
        for (j = 0; j < 3; j++) {
          edge1 = face[keys[j]];
          edge2 = face[keys[(j + 1) % 3]];
          edge[0] = Math.min(edge1, edge2);
          edge[1] = Math.max(edge1, edge2);
          key = edge[0] + ',' + edge[1];
          if (edges[key] === undefined) {
            edges[key] = {
              index1: edge[0],
              index2: edge[1]
            };
          }
        }
      }
      for (key in edges) {
        e = edges[key];
        vertex = geometry.vertices[e.index1];
        vertices.push(vertex.x, vertex.y, vertex.z);
        vertex = geometry.vertices[e.index2];
        vertices.push(vertex.x, vertex.y, vertex.z);
      }
    } else if (geometry && geometry.isBufferGeometry) {
      var position,
          indices,
          groups;
      var group,
          start,
          count;
      var index1,
          index2;
      vertex = new Vector3();
      if (geometry.index !== null) {
        position = geometry.attributes.position;
        indices = geometry.index;
        groups = geometry.groups;
        if (groups.length === 0) {
          groups = [{
            start: 0,
            count: indices.count,
            materialIndex: 0
          }];
        }
        for (o = 0, ol = groups.length; o < ol; ++o) {
          group = groups[o];
          start = group.start;
          count = group.count;
          for (i = start, l = (start + count); i < l; i += 3) {
            for (j = 0; j < 3; j++) {
              edge1 = indices.getX(i + j);
              edge2 = indices.getX(i + (j + 1) % 3);
              edge[0] = Math.min(edge1, edge2);
              edge[1] = Math.max(edge1, edge2);
              key = edge[0] + ',' + edge[1];
              if (edges[key] === undefined) {
                edges[key] = {
                  index1: edge[0],
                  index2: edge[1]
                };
              }
            }
          }
        }
        for (key in edges) {
          e = edges[key];
          vertex.fromBufferAttribute(position, e.index1);
          vertices.push(vertex.x, vertex.y, vertex.z);
          vertex.fromBufferAttribute(position, e.index2);
          vertices.push(vertex.x, vertex.y, vertex.z);
        }
      } else {
        position = geometry.attributes.position;
        for (i = 0, l = (position.count / 3); i < l; i++) {
          for (j = 0; j < 3; j++) {
            index1 = 3 * i + j;
            vertex.fromBufferAttribute(position, index1);
            vertices.push(vertex.x, vertex.y, vertex.z);
            index2 = 3 * i + ((j + 1) % 3);
            vertex.fromBufferAttribute(position, index2);
            vertices.push(vertex.x, vertex.y, vertex.z);
          }
        }
      }
    }
    this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  }
  WireframeGeometry.prototype = Object.create(BufferGeometry.prototype);
  WireframeGeometry.prototype.constructor = WireframeGeometry;
  function ParametricGeometry(func, slices, stacks) {
    Geometry.call(this);
    this.type = 'ParametricGeometry';
    this.parameters = {
      func: func,
      slices: slices,
      stacks: stacks
    };
    this.fromBufferGeometry(new ParametricBufferGeometry(func, slices, stacks));
    this.mergeVertices();
  }
  ParametricGeometry.prototype = Object.create(Geometry.prototype);
  ParametricGeometry.prototype.constructor = ParametricGeometry;
  function ParametricBufferGeometry(func, slices, stacks) {
    BufferGeometry.call(this);
    this.type = 'ParametricBufferGeometry';
    this.parameters = {
      func: func,
      slices: slices,
      stacks: stacks
    };
    var indices = [];
    var vertices = [];
    var normals = [];
    var uvs = [];
    var EPS = 0.00001;
    var normal = new Vector3();
    var p0 = new Vector3(),
        p1 = new Vector3();
    var pu = new Vector3(),
        pv = new Vector3();
    var i,
        j;
    if (func.length < 3) {
      console.error('THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.');
    }
    var sliceCount = slices + 1;
    for (i = 0; i <= stacks; i++) {
      var v = i / stacks;
      for (j = 0; j <= slices; j++) {
        var u = j / slices;
        func(u, v, p0);
        vertices.push(p0.x, p0.y, p0.z);
        if (u - EPS >= 0) {
          func(u - EPS, v, p1);
          pu.subVectors(p0, p1);
        } else {
          func(u + EPS, v, p1);
          pu.subVectors(p1, p0);
        }
        if (v - EPS >= 0) {
          func(u, v - EPS, p1);
          pv.subVectors(p0, p1);
        } else {
          func(u, v + EPS, p1);
          pv.subVectors(p1, p0);
        }
        normal.crossVectors(pu, pv).normalize();
        normals.push(normal.x, normal.y, normal.z);
        uvs.push(u, v);
      }
    }
    for (i = 0; i < stacks; i++) {
      for (j = 0; j < slices; j++) {
        var a = i * sliceCount + j;
        var b = i * sliceCount + j + 1;
        var c = (i + 1) * sliceCount + j + 1;
        var d = (i + 1) * sliceCount + j;
        indices.push(a, b, d);
        indices.push(b, c, d);
      }
    }
    this.setIndex(indices);
    this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
    this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
  }
  ParametricBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
  ParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;
  function PolyhedronGeometry(vertices, indices, radius, detail) {
    Geometry.call(this);
    this.type = 'PolyhedronGeometry';
    this.parameters = {
      vertices: vertices,
      indices: indices,
      radius: radius,
      detail: detail
    };
    this.fromBufferGeometry(new PolyhedronBufferGeometry(vertices, indices, radius, detail));
    this.mergeVertices();
  }
  PolyhedronGeometry.prototype = Object.create(Geometry.prototype);
  PolyhedronGeometry.prototype.constructor = PolyhedronGeometry;
  function PolyhedronBufferGeometry(vertices, indices, radius, detail) {
    BufferGeometry.call(this);
    this.type = 'PolyhedronBufferGeometry';
    this.parameters = {
      vertices: vertices,
      indices: indices,
      radius: radius,
      detail: detail
    };
    radius = radius || 1;
    detail = detail || 0;
    var vertexBuffer = [];
    var uvBuffer = [];
    subdivide(detail);
    appplyRadius(radius);
    generateUVs();
    this.addAttribute('position', new Float32BufferAttribute(vertexBuffer, 3));
    this.addAttribute('normal', new Float32BufferAttribute(vertexBuffer.slice(), 3));
    this.addAttribute('uv', new Float32BufferAttribute(uvBuffer, 2));
    if (detail === 0) {
      this.computeVertexNormals();
    } else {
      this.normalizeNormals();
    }
    function subdivide(detail) {
      var a = new Vector3();
      var b = new Vector3();
      var c = new Vector3();
      for (var i = 0; i < indices.length; i += 3) {
        getVertexByIndex(indices[i + 0], a);
        getVertexByIndex(indices[i + 1], b);
        getVertexByIndex(indices[i + 2], c);
        subdivideFace(a, b, c, detail);
      }
    }
    function subdivideFace(a, b, c, detail) {
      var cols = Math.pow(2, detail);
      var v = [];
      var i,
          j;
      for (i = 0; i <= cols; i++) {
        v[i] = [];
        var aj = a.clone().lerp(c, i / cols);
        var bj = b.clone().lerp(c, i / cols);
        var rows = cols - i;
        for (j = 0; j <= rows; j++) {
          if (j === 0 && i === cols) {
            v[i][j] = aj;
          } else {
            v[i][j] = aj.clone().lerp(bj, j / rows);
          }
        }
      }
      for (i = 0; i < cols; i++) {
        for (j = 0; j < 2 * (cols - i) - 1; j++) {
          var k = Math.floor(j / 2);
          if (j % 2 === 0) {
            pushVertex(v[i][k + 1]);
            pushVertex(v[i + 1][k]);
            pushVertex(v[i][k]);
          } else {
            pushVertex(v[i][k + 1]);
            pushVertex(v[i + 1][k + 1]);
            pushVertex(v[i + 1][k]);
          }
        }
      }
    }
    function appplyRadius(radius) {
      var vertex = new Vector3();
      for (var i = 0; i < vertexBuffer.length; i += 3) {
        vertex.x = vertexBuffer[i + 0];
        vertex.y = vertexBuffer[i + 1];
        vertex.z = vertexBuffer[i + 2];
        vertex.normalize().multiplyScalar(radius);
        vertexBuffer[i + 0] = vertex.x;
        vertexBuffer[i + 1] = vertex.y;
        vertexBuffer[i + 2] = vertex.z;
      }
    }
    function generateUVs() {
      var vertex = new Vector3();
      for (var i = 0; i < vertexBuffer.length; i += 3) {
        vertex.x = vertexBuffer[i + 0];
        vertex.y = vertexBuffer[i + 1];
        vertex.z = vertexBuffer[i + 2];
        var u = azimuth(vertex) / 2 / Math.PI + 0.5;
        var v = inclination(vertex) / Math.PI + 0.5;
        uvBuffer.push(u, 1 - v);
      }
      correctUVs();
      correctSeam();
    }
    function correctSeam() {
      for (var i = 0; i < uvBuffer.length; i += 6) {
        var x0 = uvBuffer[i + 0];
        var x1 = uvBuffer[i + 2];
        var x2 = uvBuffer[i + 4];
        var max = Math.max(x0, x1, x2);
        var min = Math.min(x0, x1, x2);
        if (max > 0.9 && min < 0.1) {
          if (x0 < 0.2)
            uvBuffer[i + 0] += 1;
          if (x1 < 0.2)
            uvBuffer[i + 2] += 1;
          if (x2 < 0.2)
            uvBuffer[i + 4] += 1;
        }
      }
    }
    function pushVertex(vertex) {
      vertexBuffer.push(vertex.x, vertex.y, vertex.z);
    }
    function getVertexByIndex(index, vertex) {
      var stride = index * 3;
      vertex.x = vertices[stride + 0];
      vertex.y = vertices[stride + 1];
      vertex.z = vertices[stride + 2];
    }
    function correctUVs() {
      var a = new Vector3();
      var b = new Vector3();
      var c = new Vector3();
      var centroid = new Vector3();
      var uvA = new Vector2();
      var uvB = new Vector2();
      var uvC = new Vector2();
      for (var i = 0,
          j = 0; i < vertexBuffer.length; i += 9, j += 6) {
        a.set(vertexBuffer[i + 0], vertexBuffer[i + 1], vertexBuffer[i + 2]);
        b.set(vertexBuffer[i + 3], vertexBuffer[i + 4], vertexBuffer[i + 5]);
        c.set(vertexBuffer[i + 6], vertexBuffer[i + 7], vertexBuffer[i + 8]);
        uvA.set(uvBuffer[j + 0], uvBuffer[j + 1]);
        uvB.set(uvBuffer[j + 2], uvBuffer[j + 3]);
        uvC.set(uvBuffer[j + 4], uvBuffer[j + 5]);
        centroid.copy(a).add(b).add(c).divideScalar(3);
        var azi = azimuth(centroid);
        correctUV(uvA, j + 0, a, azi);
        correctUV(uvB, j + 2, b, azi);
        correctUV(uvC, j + 4, c, azi);
      }
    }
    function correctUV(uv, stride, vector, azimuth) {
      if ((azimuth < 0) && (uv.x === 1)) {
        uvBuffer[stride] = uv.x - 1;
      }
      if ((vector.x === 0) && (vector.z === 0)) {
        uvBuffer[stride] = azimuth / 2 / Math.PI + 0.5;
      }
    }
    function azimuth(vector) {
      return Math.atan2(vector.z, -vector.x);
    }
    function inclination(vector) {
      return Math.atan2(-vector.y, Math.sqrt((vector.x * vector.x) + (vector.z * vector.z)));
    }
  }
  PolyhedronBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
  PolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;
  function TetrahedronGeometry(radius, detail) {
    Geometry.call(this);
    this.type = 'TetrahedronGeometry';
    this.parameters = {
      radius: radius,
      detail: detail
    };
    this.fromBufferGeometry(new TetrahedronBufferGeometry(radius, detail));
    this.mergeVertices();
  }
  TetrahedronGeometry.prototype = Object.create(Geometry.prototype);
  TetrahedronGeometry.prototype.constructor = TetrahedronGeometry;
  function TetrahedronBufferGeometry(radius, detail) {
    var vertices = [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1];
    var indices = [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1];
    PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);
    this.type = 'TetrahedronBufferGeometry';
    this.parameters = {
      radius: radius,
      detail: detail
    };
  }
  TetrahedronBufferGeometry.prototype = Object.create(PolyhedronBufferGeometry.prototype);
  TetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;
  function OctahedronGeometry(radius, detail) {
    Geometry.call(this);
    this.type = 'OctahedronGeometry';
    this.parameters = {
      radius: radius,
      detail: detail
    };
    this.fromBufferGeometry(new OctahedronBufferGeometry(radius, detail));
    this.mergeVertices();
  }
  OctahedronGeometry.prototype = Object.create(Geometry.prototype);
  OctahedronGeometry.prototype.constructor = OctahedronGeometry;
  function OctahedronBufferGeometry(radius, detail) {
    var vertices = [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1];
    var indices = [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2];
    PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);
    this.type = 'OctahedronBufferGeometry';
    this.parameters = {
      radius: radius,
      detail: detail
    };
  }
  OctahedronBufferGeometry.prototype = Object.create(PolyhedronBufferGeometry.prototype);
  OctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;
  function IcosahedronGeometry(radius, detail) {
    Geometry.call(this);
    this.type = 'IcosahedronGeometry';
    this.parameters = {
      radius: radius,
      detail: detail
    };
    this.fromBufferGeometry(new IcosahedronBufferGeometry(radius, detail));
    this.mergeVertices();
  }
  IcosahedronGeometry.prototype = Object.create(Geometry.prototype);
  IcosahedronGeometry.prototype.constructor = IcosahedronGeometry;
  function IcosahedronBufferGeometry(radius, detail) {
    var t = (1 + Math.sqrt(5)) / 2;
    var vertices = [-1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, 0, 0, -1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, t, 0, -1, t, 0, 1, -t, 0, -1, -t, 0, 1];
    var indices = [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1];
    PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);
    this.type = 'IcosahedronBufferGeometry';
    this.parameters = {
      radius: radius,
      detail: detail
    };
  }
  IcosahedronBufferGeometry.prototype = Object.create(PolyhedronBufferGeometry.prototype);
  IcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;
  function DodecahedronGeometry(radius, detail) {
    Geometry.call(this);
    this.type = 'DodecahedronGeometry';
    this.parameters = {
      radius: radius,
      detail: detail
    };
    this.fromBufferGeometry(new DodecahedronBufferGeometry(radius, detail));
    this.mergeVertices();
  }
  DodecahedronGeometry.prototype = Object.create(Geometry.prototype);
  DodecahedronGeometry.prototype.constructor = DodecahedronGeometry;
  function DodecahedronBufferGeometry(radius, detail) {
    var t = (1 + Math.sqrt(5)) / 2;
    var r = 1 / t;
    var vertices = [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -r, -t, 0, -r, t, 0, r, -t, 0, r, t, -r, -t, 0, -r, t, 0, r, -t, 0, r, t, 0, -t, 0, -r, t, 0, -r, -t, 0, r, t, 0, r];
    var indices = [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9];
    PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);
    this.type = 'DodecahedronBufferGeometry';
    this.parameters = {
      radius: radius,
      detail: detail
    };
  }
  DodecahedronBufferGeometry.prototype = Object.create(PolyhedronBufferGeometry.prototype);
  DodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;
  function TubeGeometry(path, tubularSegments, radius, radialSegments, closed, taper) {
    Geometry.call(this);
    this.type = 'TubeGeometry';
    this.parameters = {
      path: path,
      tubularSegments: tubularSegments,
      radius: radius,
      radialSegments: radialSegments,
      closed: closed
    };
    if (taper !== undefined)
      console.warn('THREE.TubeGeometry: taper has been removed.');
    var bufferGeometry = new TubeBufferGeometry(path, tubularSegments, radius, radialSegments, closed);
    this.tangents = bufferGeometry.tangents;
    this.normals = bufferGeometry.normals;
    this.binormals = bufferGeometry.binormals;
    this.fromBufferGeometry(bufferGeometry);
    this.mergeVertices();
  }
  TubeGeometry.prototype = Object.create(Geometry.prototype);
  TubeGeometry.prototype.constructor = TubeGeometry;
  function TubeBufferGeometry(path, tubularSegments, radius, radialSegments, closed) {
    BufferGeometry.call(this);
    this.type = 'TubeBufferGeometry';
    this.parameters = {
      path: path,
      tubularSegments: tubularSegments,
      radius: radius,
      radialSegments: radialSegments,
      closed: closed
    };
    tubularSegments = tubularSegments || 64;
    radius = radius || 1;
    radialSegments = radialSegments || 8;
    closed = closed || false;
    var frames = path.computeFrenetFrames(tubularSegments, closed);
    this.tangents = frames.tangents;
    this.normals = frames.normals;
    this.binormals = frames.binormals;
    var vertex = new Vector3();
    var normal = new Vector3();
    var uv = new Vector2();
    var P = new Vector3();
    var i,
        j;
    var vertices = [];
    var normals = [];
    var uvs = [];
    var indices = [];
    generateBufferData();
    this.setIndex(indices);
    this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
    this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
    function generateBufferData() {
      for (i = 0; i < tubularSegments; i++) {
        generateSegment(i);
      }
      generateSegment((closed === false) ? tubularSegments : 0);
      generateUVs();
      generateIndices();
    }
    function generateSegment(i) {
      P = path.getPointAt(i / tubularSegments, P);
      var N = frames.normals[i];
      var B = frames.binormals[i];
      for (j = 0; j <= radialSegments; j++) {
        var v = j / radialSegments * Math.PI * 2;
        var sin = Math.sin(v);
        var cos = -Math.cos(v);
        normal.x = (cos * N.x + sin * B.x);
        normal.y = (cos * N.y + sin * B.y);
        normal.z = (cos * N.z + sin * B.z);
        normal.normalize();
        normals.push(normal.x, normal.y, normal.z);
        vertex.x = P.x + radius * normal.x;
        vertex.y = P.y + radius * normal.y;
        vertex.z = P.z + radius * normal.z;
        vertices.push(vertex.x, vertex.y, vertex.z);
      }
    }
    function generateIndices() {
      for (j = 1; j <= tubularSegments; j++) {
        for (i = 1; i <= radialSegments; i++) {
          var a = (radialSegments + 1) * (j - 1) + (i - 1);
          var b = (radialSegments + 1) * j + (i - 1);
          var c = (radialSegments + 1) * j + i;
          var d = (radialSegments + 1) * (j - 1) + i;
          indices.push(a, b, d);
          indices.push(b, c, d);
        }
      }
    }
    function generateUVs() {
      for (i = 0; i <= tubularSegments; i++) {
        for (j = 0; j <= radialSegments; j++) {
          uv.x = i / tubularSegments;
          uv.y = j / radialSegments;
          uvs.push(uv.x, uv.y);
        }
      }
    }
  }
  TubeBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
  TubeBufferGeometry.prototype.constructor = TubeBufferGeometry;
  function TorusKnotGeometry(radius, tube, tubularSegments, radialSegments, p, q, heightScale) {
    Geometry.call(this);
    this.type = 'TorusKnotGeometry';
    this.parameters = {
      radius: radius,
      tube: tube,
      tubularSegments: tubularSegments,
      radialSegments: radialSegments,
      p: p,
      q: q
    };
    if (heightScale !== undefined)
      console.warn('THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.');
    this.fromBufferGeometry(new TorusKnotBufferGeometry(radius, tube, tubularSegments, radialSegments, p, q));
    this.mergeVertices();
  }
  TorusKnotGeometry.prototype = Object.create(Geometry.prototype);
  TorusKnotGeometry.prototype.constructor = TorusKnotGeometry;
  function TorusKnotBufferGeometry(radius, tube, tubularSegments, radialSegments, p, q) {
    BufferGeometry.call(this);
    this.type = 'TorusKnotBufferGeometry';
    this.parameters = {
      radius: radius,
      tube: tube,
      tubularSegments: tubularSegments,
      radialSegments: radialSegments,
      p: p,
      q: q
    };
    radius = radius || 1;
    tube = tube || 0.4;
    tubularSegments = Math.floor(tubularSegments) || 64;
    radialSegments = Math.floor(radialSegments) || 8;
    p = p || 2;
    q = q || 3;
    var indices = [];
    var vertices = [];
    var normals = [];
    var uvs = [];
    var i,
        j;
    var vertex = new Vector3();
    var normal = new Vector3();
    var P1 = new Vector3();
    var P2 = new Vector3();
    var B = new Vector3();
    var T = new Vector3();
    var N = new Vector3();
    for (i = 0; i <= tubularSegments; ++i) {
      var u = i / tubularSegments * p * Math.PI * 2;
      calculatePositionOnCurve(u, p, q, radius, P1);
      calculatePositionOnCurve(u + 0.01, p, q, radius, P2);
      T.subVectors(P2, P1);
      N.addVectors(P2, P1);
      B.crossVectors(T, N);
      N.crossVectors(B, T);
      B.normalize();
      N.normalize();
      for (j = 0; j <= radialSegments; ++j) {
        var v = j / radialSegments * Math.PI * 2;
        var cx = -tube * Math.cos(v);
        var cy = tube * Math.sin(v);
        vertex.x = P1.x + (cx * N.x + cy * B.x);
        vertex.y = P1.y + (cx * N.y + cy * B.y);
        vertex.z = P1.z + (cx * N.z + cy * B.z);
        vertices.push(vertex.x, vertex.y, vertex.z);
        normal.subVectors(vertex, P1).normalize();
        normals.push(normal.x, normal.y, normal.z);
        uvs.push(i / tubularSegments);
        uvs.push(j / radialSegments);
      }
    }
    for (j = 1; j <= tubularSegments; j++) {
      for (i = 1; i <= radialSegments; i++) {
        var a = (radialSegments + 1) * (j - 1) + (i - 1);
        var b = (radialSegments + 1) * j + (i - 1);
        var c = (radialSegments + 1) * j + i;
        var d = (radialSegments + 1) * (j - 1) + i;
        indices.push(a, b, d);
        indices.push(b, c, d);
      }
    }
    this.setIndex(indices);
    this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
    this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
    function calculatePositionOnCurve(u, p, q, radius, position) {
      var cu = Math.cos(u);
      var su = Math.sin(u);
      var quOverP = q / p * u;
      var cs = Math.cos(quOverP);
      position.x = radius * (2 + cs) * 0.5 * cu;
      position.y = radius * (2 + cs) * su * 0.5;
      position.z = radius * Math.sin(quOverP) * 0.5;
    }
  }
  TorusKnotBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
  TorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;
  function TorusGeometry(radius, tube, radialSegments, tubularSegments, arc) {
    Geometry.call(this);
    this.type = 'TorusGeometry';
    this.parameters = {
      radius: radius,
      tube: tube,
      radialSegments: radialSegments,
      tubularSegments: tubularSegments,
      arc: arc
    };
    this.fromBufferGeometry(new TorusBufferGeometry(radius, tube, radialSegments, tubularSegments, arc));
    this.mergeVertices();
  }
  TorusGeometry.prototype = Object.create(Geometry.prototype);
  TorusGeometry.prototype.constructor = TorusGeometry;
  function TorusBufferGeometry(radius, tube, radialSegments, tubularSegments, arc) {
    BufferGeometry.call(this);
    this.type = 'TorusBufferGeometry';
    this.parameters = {
      radius: radius,
      tube: tube,
      radialSegments: radialSegments,
      tubularSegments: tubularSegments,
      arc: arc
    };
    radius = radius || 1;
    tube = tube || 0.4;
    radialSegments = Math.floor(radialSegments) || 8;
    tubularSegments = Math.floor(tubularSegments) || 6;
    arc = arc || Math.PI * 2;
    var indices = [];
    var vertices = [];
    var normals = [];
    var uvs = [];
    var center = new Vector3();
    var vertex = new Vector3();
    var normal = new Vector3();
    var j,
        i;
    for (j = 0; j <= radialSegments; j++) {
      for (i = 0; i <= tubularSegments; i++) {
        var u = i / tubularSegments * arc;
        var v = j / radialSegments * Math.PI * 2;
        vertex.x = (radius + tube * Math.cos(v)) * Math.cos(u);
        vertex.y = (radius + tube * Math.cos(v)) * Math.sin(u);
        vertex.z = tube * Math.sin(v);
        vertices.push(vertex.x, vertex.y, vertex.z);
        center.x = radius * Math.cos(u);
        center.y = radius * Math.sin(u);
        normal.subVectors(vertex, center).normalize();
        normals.push(normal.x, normal.y, normal.z);
        uvs.push(i / tubularSegments);
        uvs.push(j / radialSegments);
      }
    }
    for (j = 1; j <= radialSegments; j++) {
      for (i = 1; i <= tubularSegments; i++) {
        var a = (tubularSegments + 1) * j + i - 1;
        var b = (tubularSegments + 1) * (j - 1) + i - 1;
        var c = (tubularSegments + 1) * (j - 1) + i;
        var d = (tubularSegments + 1) * j + i;
        indices.push(a, b, d);
        indices.push(b, c, d);
      }
    }
    this.setIndex(indices);
    this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
    this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
  }
  TorusBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
  TorusBufferGeometry.prototype.constructor = TorusBufferGeometry;
  var Earcut = {triangulate: function(data, holeIndices, dim) {
      dim = dim || 2;
      var hasHoles = holeIndices && holeIndices.length,
          outerLen = hasHoles ? holeIndices[0] * dim : data.length,
          outerNode = linkedList(data, 0, outerLen, dim, true),
          triangles = [];
      if (!outerNode)
        return triangles;
      var minX,
          minY,
          maxX,
          maxY,
          x,
          y,
          invSize;
      if (hasHoles)
        outerNode = eliminateHoles(data, holeIndices, outerNode, dim);
      if (data.length > 80 * dim) {
        minX = maxX = data[0];
        minY = maxY = data[1];
        for (var i = dim; i < outerLen; i += dim) {
          x = data[i];
          y = data[i + 1];
          if (x < minX)
            minX = x;
          if (y < minY)
            minY = y;
          if (x > maxX)
            maxX = x;
          if (y > maxY)
            maxY = y;
        }
        invSize = Math.max(maxX - minX, maxY - minY);
        invSize = invSize !== 0 ? 1 / invSize : 0;
      }
      earcutLinked(outerNode, triangles, dim, minX, minY, invSize);
      return triangles;
    }};
  function linkedList(data, start, end, dim, clockwise) {
    var i,
        last;
    if (clockwise === (signedArea(data, start, end, dim) > 0)) {
      for (i = start; i < end; i += dim)
        last = insertNode(i, data[i], data[i + 1], last);
    } else {
      for (i = end - dim; i >= start; i -= dim)
        last = insertNode(i, data[i], data[i + 1], last);
    }
    if (last && equals(last, last.next)) {
      removeNode(last);
      last = last.next;
    }
    return last;
  }
  function filterPoints(start, end) {
    if (!start)
      return start;
    if (!end)
      end = start;
    var p = start,
        again;
    do {
      again = false;
      if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {
        removeNode(p);
        p = end = p.prev;
        if (p === p.next)
          break;
        again = true;
      } else {
        p = p.next;
      }
    } while (again || p !== end);
    return end;
  }
  function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {
    if (!ear)
      return;
    if (!pass && invSize)
      indexCurve(ear, minX, minY, invSize);
    var stop = ear,
        prev,
        next;
    while (ear.prev !== ear.next) {
      prev = ear.prev;
      next = ear.next;
      if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {
        triangles.push(prev.i / dim);
        triangles.push(ear.i / dim);
        triangles.push(next.i / dim);
        removeNode(ear);
        ear = next.next;
        stop = next.next;
        continue;
      }
      ear = next;
      if (ear === stop) {
        if (!pass) {
          earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);
        } else if (pass === 1) {
          ear = cureLocalIntersections(ear, triangles, dim);
          earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);
        } else if (pass === 2) {
          splitEarcut(ear, triangles, dim, minX, minY, invSize);
        }
        break;
      }
    }
  }
  function isEar(ear) {
    var a = ear.prev,
        b = ear,
        c = ear.next;
    if (area(a, b, c) >= 0)
      return false;
    var p = ear.next.next;
    while (p !== ear.prev) {
      if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) {
        return false;
      }
      p = p.next;
    }
    return true;
  }
  function isEarHashed(ear, minX, minY, invSize) {
    var a = ear.prev,
        b = ear,
        c = ear.next;
    if (area(a, b, c) >= 0)
      return false;
    var minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x),
        minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y),
        maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x),
        maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);
    var minZ = zOrder(minTX, minTY, minX, minY, invSize),
        maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);
    var p = ear.nextZ;
    while (p && p.z <= maxZ) {
      if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0)
        return false;
      p = p.nextZ;
    }
    p = ear.prevZ;
    while (p && p.z >= minZ) {
      if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0)
        return false;
      p = p.prevZ;
    }
    return true;
  }
  function cureLocalIntersections(start, triangles, dim) {
    var p = start;
    do {
      var a = p.prev,
          b = p.next.next;
      if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {
        triangles.push(a.i / dim);
        triangles.push(p.i / dim);
        triangles.push(b.i / dim);
        removeNode(p);
        removeNode(p.next);
        p = start = b;
      }
      p = p.next;
    } while (p !== start);
    return p;
  }
  function splitEarcut(start, triangles, dim, minX, minY, invSize) {
    var a = start;
    do {
      var b = a.next.next;
      while (b !== a.prev) {
        if (a.i !== b.i && isValidDiagonal(a, b)) {
          var c = splitPolygon(a, b);
          a = filterPoints(a, a.next);
          c = filterPoints(c, c.next);
          earcutLinked(a, triangles, dim, minX, minY, invSize);
          earcutLinked(c, triangles, dim, minX, minY, invSize);
          return;
        }
        b = b.next;
      }
      a = a.next;
    } while (a !== start);
  }
  function eliminateHoles(data, holeIndices, outerNode, dim) {
    var queue = [],
        i,
        len,
        start,
        end,
        list;
    for (i = 0, len = holeIndices.length; i < len; i++) {
      start = holeIndices[i] * dim;
      end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;
      list = linkedList(data, start, end, dim, false);
      if (list === list.next)
        list.steiner = true;
      queue.push(getLeftmost(list));
    }
    queue.sort(compareX);
    for (i = 0; i < queue.length; i++) {
      eliminateHole(queue[i], outerNode);
      outerNode = filterPoints(outerNode, outerNode.next);
    }
    return outerNode;
  }
  function compareX(a, b) {
    return a.x - b.x;
  }
  function eliminateHole(hole, outerNode) {
    outerNode = findHoleBridge(hole, outerNode);
    if (outerNode) {
      var b = splitPolygon(outerNode, hole);
      filterPoints(b, b.next);
    }
  }
  function findHoleBridge(hole, outerNode) {
    var p = outerNode,
        hx = hole.x,
        hy = hole.y,
        qx = -Infinity,
        m;
    do {
      if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {
        var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);
        if (x <= hx && x > qx) {
          qx = x;
          if (x === hx) {
            if (hy === p.y)
              return p;
            if (hy === p.next.y)
              return p.next;
          }
          m = p.x < p.next.x ? p : p.next;
        }
      }
      p = p.next;
    } while (p !== outerNode);
    if (!m)
      return null;
    if (hx === qx)
      return m.prev;
    var stop = m,
        mx = m.x,
        my = m.y,
        tanMin = Infinity,
        tan;
    p = m.next;
    while (p !== stop) {
      if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {
        tan = Math.abs(hy - p.y) / (hx - p.x);
        if ((tan < tanMin || (tan === tanMin && p.x > m.x)) && locallyInside(p, hole)) {
          m = p;
          tanMin = tan;
        }
      }
      p = p.next;
    }
    return m;
  }
  function indexCurve(start, minX, minY, invSize) {
    var p = start;
    do {
      if (p.z === null)
        p.z = zOrder(p.x, p.y, minX, minY, invSize);
      p.prevZ = p.prev;
      p.nextZ = p.next;
      p = p.next;
    } while (p !== start);
    p.prevZ.nextZ = null;
    p.prevZ = null;
    sortLinked(p);
  }
  function sortLinked(list) {
    var i,
        p,
        q,
        e,
        tail,
        numMerges,
        pSize,
        qSize,
        inSize = 1;
    do {
      p = list;
      list = null;
      tail = null;
      numMerges = 0;
      while (p) {
        numMerges++;
        q = p;
        pSize = 0;
        for (i = 0; i < inSize; i++) {
          pSize++;
          q = q.nextZ;
          if (!q)
            break;
        }
        qSize = inSize;
        while (pSize > 0 || (qSize > 0 && q)) {
          if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {
            e = p;
            p = p.nextZ;
            pSize--;
          } else {
            e = q;
            q = q.nextZ;
            qSize--;
          }
          if (tail)
            tail.nextZ = e;
          else
            list = e;
          e.prevZ = tail;
          tail = e;
        }
        p = q;
      }
      tail.nextZ = null;
      inSize *= 2;
    } while (numMerges > 1);
    return list;
  }
  function zOrder(x, y, minX, minY, invSize) {
    x = 32767 * (x - minX) * invSize;
    y = 32767 * (y - minY) * invSize;
    x = (x | (x << 8)) & 0x00FF00FF;
    x = (x | (x << 4)) & 0x0F0F0F0F;
    x = (x | (x << 2)) & 0x33333333;
    x = (x | (x << 1)) & 0x55555555;
    y = (y | (y << 8)) & 0x00FF00FF;
    y = (y | (y << 4)) & 0x0F0F0F0F;
    y = (y | (y << 2)) & 0x33333333;
    y = (y | (y << 1)) & 0x55555555;
    return x | (y << 1);
  }
  function getLeftmost(start) {
    var p = start,
        leftmost = start;
    do {
      if (p.x < leftmost.x)
        leftmost = p;
      p = p.next;
    } while (p !== start);
    return leftmost;
  }
  function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {
    return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 && (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 && (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;
  }
  function isValidDiagonal(a, b) {
    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b);
  }
  function area(p, q, r) {
    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);
  }
  function equals(p1, p2) {
    return p1.x === p2.x && p1.y === p2.y;
  }
  function intersects(p1, q1, p2, q2) {
    if ((equals(p1, q1) && equals(p2, q2)) || (equals(p1, q2) && equals(p2, q1)))
      return true;
    return area(p1, q1, p2) > 0 !== area(p1, q1, q2) > 0 && area(p2, q2, p1) > 0 !== area(p2, q2, q1) > 0;
  }
  function intersectsPolygon(a, b) {
    var p = a;
    do {
      if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b)) {
        return true;
      }
      p = p.next;
    } while (p !== a);
    return false;
  }
  function locallyInside(a, b) {
    return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;
  }
  function middleInside(a, b) {
    var p = a,
        inside = false,
        px = (a.x + b.x) / 2,
        py = (a.y + b.y) / 2;
    do {
      if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y && (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x)) {
        inside = !inside;
      }
      p = p.next;
    } while (p !== a);
    return inside;
  }
  function splitPolygon(a, b) {
    var a2 = new Node(a.i, a.x, a.y),
        b2 = new Node(b.i, b.x, b.y),
        an = a.next,
        bp = b.prev;
    a.next = b;
    b.prev = a;
    a2.next = an;
    an.prev = a2;
    b2.next = a2;
    a2.prev = b2;
    bp.next = b2;
    b2.prev = bp;
    return b2;
  }
  function insertNode(i, x, y, last) {
    var p = new Node(i, x, y);
    if (!last) {
      p.prev = p;
      p.next = p;
    } else {
      p.next = last.next;
      p.prev = last;
      last.next.prev = p;
      last.next = p;
    }
    return p;
  }
  function removeNode(p) {
    p.next.prev = p.prev;
    p.prev.next = p.next;
    if (p.prevZ)
      p.prevZ.nextZ = p.nextZ;
    if (p.nextZ)
      p.nextZ.prevZ = p.prevZ;
  }
  function Node(i, x, y) {
    this.i = i;
    this.x = x;
    this.y = y;
    this.prev = null;
    this.next = null;
    this.z = null;
    this.prevZ = null;
    this.nextZ = null;
    this.steiner = false;
  }
  function signedArea(data, start, end, dim) {
    var sum = 0;
    for (var i = start,
        j = end - dim; i < end; i += dim) {
      sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);
      j = i;
    }
    return sum;
  }
  var ShapeUtils = {
    area: function(contour) {
      var n = contour.length;
      var a = 0.0;
      for (var p = n - 1,
          q = 0; q < n; p = q++) {
        a += contour[p].x * contour[q].y - contour[q].x * contour[p].y;
      }
      return a * 0.5;
    },
    isClockWise: function(pts) {
      return ShapeUtils.area(pts) < 0;
    },
    triangulateShape: function(contour, holes) {
      var vertices = [];
      var holeIndices = [];
      var faces = [];
      removeDupEndPts(contour);
      addContour(vertices, contour);
      var holeIndex = contour.length;
      holes.forEach(removeDupEndPts);
      for (var i = 0; i < holes.length; i++) {
        holeIndices.push(holeIndex);
        holeIndex += holes[i].length;
        addContour(vertices, holes[i]);
      }
      var triangles = Earcut.triangulate(vertices, holeIndices);
      for (var i = 0; i < triangles.length; i += 3) {
        faces.push(triangles.slice(i, i + 3));
      }
      return faces;
    }
  };
  function removeDupEndPts(points) {
    var l = points.length;
    if (l > 2 && points[l - 1].equals(points[0])) {
      points.pop();
    }
  }
  function addContour(vertices, contour) {
    for (var i = 0; i < contour.length; i++) {
      vertices.push(contour[i].x);
      vertices.push(contour[i].y);
    }
  }
  function ExtrudeGeometry(shapes, options) {
    Geometry.call(this);
    this.type = 'ExtrudeGeometry';
    this.parameters = {
      shapes: shapes,
      options: options
    };
    this.fromBufferGeometry(new ExtrudeBufferGeometry(shapes, options));
    this.mergeVertices();
  }
  ExtrudeGeometry.prototype = Object.create(Geometry.prototype);
  ExtrudeGeometry.prototype.constructor = ExtrudeGeometry;
  ExtrudeGeometry.prototype.toJSON = function() {
    var data = Geometry.prototype.toJSON.call(this);
    var shapes = this.parameters.shapes;
    var options = this.parameters.options;
    return toJSON(shapes, options, data);
  };
  function ExtrudeBufferGeometry(shapes, options) {
    BufferGeometry.call(this);
    this.type = 'ExtrudeBufferGeometry';
    this.parameters = {
      shapes: shapes,
      options: options
    };
    shapes = Array.isArray(shapes) ? shapes : [shapes];
    var scope = this;
    var verticesArray = [];
    var uvArray = [];
    for (var i = 0,
        l = shapes.length; i < l; i++) {
      var shape = shapes[i];
      addShape(shape);
    }
    this.addAttribute('position', new Float32BufferAttribute(verticesArray, 3));
    this.addAttribute('uv', new Float32BufferAttribute(uvArray, 2));
    this.computeVertexNormals();
    function addShape(shape) {
      var placeholder = [];
      var curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;
      var steps = options.steps !== undefined ? options.steps : 1;
      var depth = options.depth !== undefined ? options.depth : 100;
      var bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;
      var bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;
      var bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;
      var bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;
      var extrudePath = options.extrudePath;
      var uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;
      if (options.amount !== undefined) {
        console.warn('THREE.ExtrudeBufferGeometry: amount has been renamed to depth.');
        depth = options.amount;
      }
      var extrudePts,
          extrudeByPath = false;
      var splineTube,
          binormal,
          normal,
          position2;
      if (extrudePath) {
        extrudePts = extrudePath.getSpacedPoints(steps);
        extrudeByPath = true;
        bevelEnabled = false;
        splineTube = extrudePath.computeFrenetFrames(steps, false);
        binormal = new Vector3();
        normal = new Vector3();
        position2 = new Vector3();
      }
      if (!bevelEnabled) {
        bevelSegments = 0;
        bevelThickness = 0;
        bevelSize = 0;
      }
      var ahole,
          h,
          hl;
      var shapePoints = shape.extractPoints(curveSegments);
      var vertices = shapePoints.shape;
      var holes = shapePoints.holes;
      var reverse = !ShapeUtils.isClockWise(vertices);
      if (reverse) {
        vertices = vertices.reverse();
        for (h = 0, hl = holes.length; h < hl; h++) {
          ahole = holes[h];
          if (ShapeUtils.isClockWise(ahole)) {
            holes[h] = ahole.reverse();
          }
        }
      }
      var faces = ShapeUtils.triangulateShape(vertices, holes);
      var contour = vertices;
      for (h = 0, hl = holes.length; h < hl; h++) {
        ahole = holes[h];
        vertices = vertices.concat(ahole);
      }
      function scalePt2(pt, vec, size) {
        if (!vec)
          console.error("THREE.ExtrudeGeometry: vec does not exist");
        return vec.clone().multiplyScalar(size).add(pt);
      }
      var b,
          bs,
          t,
          z,
          vert,
          vlen = vertices.length,
          face,
          flen = faces.length;
      function getBevelVec(inPt, inPrev, inNext) {
        var v_trans_x,
            v_trans_y,
            shrink_by;
        var v_prev_x = inPt.x - inPrev.x,
            v_prev_y = inPt.y - inPrev.y;
        var v_next_x = inNext.x - inPt.x,
            v_next_y = inNext.y - inPt.y;
        var v_prev_lensq = (v_prev_x * v_prev_x + v_prev_y * v_prev_y);
        var collinear0 = (v_prev_x * v_next_y - v_prev_y * v_next_x);
        if (Math.abs(collinear0) > Number.EPSILON) {
          var v_prev_len = Math.sqrt(v_prev_lensq);
          var v_next_len = Math.sqrt(v_next_x * v_next_x + v_next_y * v_next_y);
          var ptPrevShift_x = (inPrev.x - v_prev_y / v_prev_len);
          var ptPrevShift_y = (inPrev.y + v_prev_x / v_prev_len);
          var ptNextShift_x = (inNext.x - v_next_y / v_next_len);
          var ptNextShift_y = (inNext.y + v_next_x / v_next_len);
          var sf = ((ptNextShift_x - ptPrevShift_x) * v_next_y - (ptNextShift_y - ptPrevShift_y) * v_next_x) / (v_prev_x * v_next_y - v_prev_y * v_next_x);
          v_trans_x = (ptPrevShift_x + v_prev_x * sf - inPt.x);
          v_trans_y = (ptPrevShift_y + v_prev_y * sf - inPt.y);
          var v_trans_lensq = (v_trans_x * v_trans_x + v_trans_y * v_trans_y);
          if (v_trans_lensq <= 2) {
            return new Vector2(v_trans_x, v_trans_y);
          } else {
            shrink_by = Math.sqrt(v_trans_lensq / 2);
          }
        } else {
          var direction_eq = false;
          if (v_prev_x > Number.EPSILON) {
            if (v_next_x > Number.EPSILON) {
              direction_eq = true;
            }
          } else {
            if (v_prev_x < -Number.EPSILON) {
              if (v_next_x < -Number.EPSILON) {
                direction_eq = true;
              }
            } else {
              if (Math.sign(v_prev_y) === Math.sign(v_next_y)) {
                direction_eq = true;
              }
            }
          }
          if (direction_eq) {
            v_trans_x = -v_prev_y;
            v_trans_y = v_prev_x;
            shrink_by = Math.sqrt(v_prev_lensq);
          } else {
            v_trans_x = v_prev_x;
            v_trans_y = v_prev_y;
            shrink_by = Math.sqrt(v_prev_lensq / 2);
          }
        }
        return new Vector2(v_trans_x / shrink_by, v_trans_y / shrink_by);
      }
      var contourMovements = [];
      for (var i = 0,
          il = contour.length,
          j = il - 1,
          k = i + 1; i < il; i++, j++, k++) {
        if (j === il)
          j = 0;
        if (k === il)
          k = 0;
        contourMovements[i] = getBevelVec(contour[i], contour[j], contour[k]);
      }
      var holesMovements = [],
          oneHoleMovements,
          verticesMovements = contourMovements.concat();
      for (h = 0, hl = holes.length; h < hl; h++) {
        ahole = holes[h];
        oneHoleMovements = [];
        for (i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i++, j++, k++) {
          if (j === il)
            j = 0;
          if (k === il)
            k = 0;
          oneHoleMovements[i] = getBevelVec(ahole[i], ahole[j], ahole[k]);
        }
        holesMovements.push(oneHoleMovements);
        verticesMovements = verticesMovements.concat(oneHoleMovements);
      }
      for (b = 0; b < bevelSegments; b++) {
        t = b / bevelSegments;
        z = bevelThickness * Math.cos(t * Math.PI / 2);
        bs = bevelSize * Math.sin(t * Math.PI / 2);
        for (i = 0, il = contour.length; i < il; i++) {
          vert = scalePt2(contour[i], contourMovements[i], bs);
          v(vert.x, vert.y, -z);
        }
        for (h = 0, hl = holes.length; h < hl; h++) {
          ahole = holes[h];
          oneHoleMovements = holesMovements[h];
          for (i = 0, il = ahole.length; i < il; i++) {
            vert = scalePt2(ahole[i], oneHoleMovements[i], bs);
            v(vert.x, vert.y, -z);
          }
        }
      }
      bs = bevelSize;
      for (i = 0; i < vlen; i++) {
        vert = bevelEnabled ? scalePt2(vertices[i], verticesMovements[i], bs) : vertices[i];
        if (!extrudeByPath) {
          v(vert.x, vert.y, 0);
        } else {
          normal.copy(splineTube.normals[0]).multiplyScalar(vert.x);
          binormal.copy(splineTube.binormals[0]).multiplyScalar(vert.y);
          position2.copy(extrudePts[0]).add(normal).add(binormal);
          v(position2.x, position2.y, position2.z);
        }
      }
      var s;
      for (s = 1; s <= steps; s++) {
        for (i = 0; i < vlen; i++) {
          vert = bevelEnabled ? scalePt2(vertices[i], verticesMovements[i], bs) : vertices[i];
          if (!extrudeByPath) {
            v(vert.x, vert.y, depth / steps * s);
          } else {
            normal.copy(splineTube.normals[s]).multiplyScalar(vert.x);
            binormal.copy(splineTube.binormals[s]).multiplyScalar(vert.y);
            position2.copy(extrudePts[s]).add(normal).add(binormal);
            v(position2.x, position2.y, position2.z);
          }
        }
      }
      for (b = bevelSegments - 1; b >= 0; b--) {
        t = b / bevelSegments;
        z = bevelThickness * Math.cos(t * Math.PI / 2);
        bs = bevelSize * Math.sin(t * Math.PI / 2);
        for (i = 0, il = contour.length; i < il; i++) {
          vert = scalePt2(contour[i], contourMovements[i], bs);
          v(vert.x, vert.y, depth + z);
        }
        for (h = 0, hl = holes.length; h < hl; h++) {
          ahole = holes[h];
          oneHoleMovements = holesMovements[h];
          for (i = 0, il = ahole.length; i < il; i++) {
            vert = scalePt2(ahole[i], oneHoleMovements[i], bs);
            if (!extrudeByPath) {
              v(vert.x, vert.y, depth + z);
            } else {
              v(vert.x, vert.y + extrudePts[steps - 1].y, extrudePts[steps - 1].x + z);
            }
          }
        }
      }
      buildLidFaces();
      buildSideFaces();
      function buildLidFaces() {
        var start = verticesArray.length / 3;
        if (bevelEnabled) {
          var layer = 0;
          var offset = vlen * layer;
          for (i = 0; i < flen; i++) {
            face = faces[i];
            f3(face[2] + offset, face[1] + offset, face[0] + offset);
          }
          layer = steps + bevelSegments * 2;
          offset = vlen * layer;
          for (i = 0; i < flen; i++) {
            face = faces[i];
            f3(face[0] + offset, face[1] + offset, face[2] + offset);
          }
        } else {
          for (i = 0; i < flen; i++) {
            face = faces[i];
            f3(face[2], face[1], face[0]);
          }
          for (i = 0; i < flen; i++) {
            face = faces[i];
            f3(face[0] + vlen * steps, face[1] + vlen * steps, face[2] + vlen * steps);
          }
        }
        scope.addGroup(start, verticesArray.length / 3 - start, 0);
      }
      function buildSideFaces() {
        var start = verticesArray.length / 3;
        var layeroffset = 0;
        sidewalls(contour, layeroffset);
        layeroffset += contour.length;
        for (h = 0, hl = holes.length; h < hl; h++) {
          ahole = holes[h];
          sidewalls(ahole, layeroffset);
          layeroffset += ahole.length;
        }
        scope.addGroup(start, verticesArray.length / 3 - start, 1);
      }
      function sidewalls(contour, layeroffset) {
        var j,
            k;
        i = contour.length;
        while (--i >= 0) {
          j = i;
          k = i - 1;
          if (k < 0)
            k = contour.length - 1;
          var s = 0,
              sl = steps + bevelSegments * 2;
          for (s = 0; s < sl; s++) {
            var slen1 = vlen * s;
            var slen2 = vlen * (s + 1);
            var a = layeroffset + j + slen1,
                b = layeroffset + k + slen1,
                c = layeroffset + k + slen2,
                d = layeroffset + j + slen2;
            f4(a, b, c, d);
          }
        }
      }
      function v(x, y, z) {
        placeholder.push(x);
        placeholder.push(y);
        placeholder.push(z);
      }
      function f3(a, b, c) {
        addVertex(a);
        addVertex(b);
        addVertex(c);
        var nextIndex = verticesArray.length / 3;
        var uvs = uvgen.generateTopUV(scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1);
        addUV(uvs[0]);
        addUV(uvs[1]);
        addUV(uvs[2]);
      }
      function f4(a, b, c, d) {
        addVertex(a);
        addVertex(b);
        addVertex(d);
        addVertex(b);
        addVertex(c);
        addVertex(d);
        var nextIndex = verticesArray.length / 3;
        var uvs = uvgen.generateSideWallUV(scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1);
        addUV(uvs[0]);
        addUV(uvs[1]);
        addUV(uvs[3]);
        addUV(uvs[1]);
        addUV(uvs[2]);
        addUV(uvs[3]);
      }
      function addVertex(index) {
        verticesArray.push(placeholder[index * 3 + 0]);
        verticesArray.push(placeholder[index * 3 + 1]);
        verticesArray.push(placeholder[index * 3 + 2]);
      }
      function addUV(vector2) {
        uvArray.push(vector2.x);
        uvArray.push(vector2.y);
      }
    }
  }
  ExtrudeBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
  ExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;
  ExtrudeBufferGeometry.prototype.toJSON = function() {
    var data = BufferGeometry.prototype.toJSON.call(this);
    var shapes = this.parameters.shapes;
    var options = this.parameters.options;
    return toJSON(shapes, options, data);
  };
  var WorldUVGenerator = {
    generateTopUV: function(geometry, vertices, indexA, indexB, indexC) {
      var a_x = vertices[indexA * 3];
      var a_y = vertices[indexA * 3 + 1];
      var b_x = vertices[indexB * 3];
      var b_y = vertices[indexB * 3 + 1];
      var c_x = vertices[indexC * 3];
      var c_y = vertices[indexC * 3 + 1];
      return [new Vector2(a_x, a_y), new Vector2(b_x, b_y), new Vector2(c_x, c_y)];
    },
    generateSideWallUV: function(geometry, vertices, indexA, indexB, indexC, indexD) {
      var a_x = vertices[indexA * 3];
      var a_y = vertices[indexA * 3 + 1];
      var a_z = vertices[indexA * 3 + 2];
      var b_x = vertices[indexB * 3];
      var b_y = vertices[indexB * 3 + 1];
      var b_z = vertices[indexB * 3 + 2];
      var c_x = vertices[indexC * 3];
      var c_y = vertices[indexC * 3 + 1];
      var c_z = vertices[indexC * 3 + 2];
      var d_x = vertices[indexD * 3];
      var d_y = vertices[indexD * 3 + 1];
      var d_z = vertices[indexD * 3 + 2];
      if (Math.abs(a_y - b_y) < 0.01) {
        return [new Vector2(a_x, 1 - a_z), new Vector2(b_x, 1 - b_z), new Vector2(c_x, 1 - c_z), new Vector2(d_x, 1 - d_z)];
      } else {
        return [new Vector2(a_y, 1 - a_z), new Vector2(b_y, 1 - b_z), new Vector2(c_y, 1 - c_z), new Vector2(d_y, 1 - d_z)];
      }
    }
  };
  function toJSON(shapes, options, data) {
    data.shapes = [];
    if (Array.isArray(shapes)) {
      for (var i = 0,
          l = shapes.length; i < l; i++) {
        var shape = shapes[i];
        data.shapes.push(shape.uuid);
      }
    } else {
      data.shapes.push(shapes.uuid);
    }
    if (options.extrudePath !== undefined)
      data.options.extrudePath = options.extrudePath.toJSON();
    return data;
  }
  function TextGeometry(text, parameters) {
    Geometry.call(this);
    this.type = 'TextGeometry';
    this.parameters = {
      text: text,
      parameters: parameters
    };
    this.fromBufferGeometry(new TextBufferGeometry(text, parameters));
    this.mergeVertices();
  }
  TextGeometry.prototype = Object.create(Geometry.prototype);
  TextGeometry.prototype.constructor = TextGeometry;
  function TextBufferGeometry(text, parameters) {
    parameters = parameters || {};
    var font = parameters.font;
    if (!(font && font.isFont)) {
      console.error('THREE.TextGeometry: font parameter is not an instance of THREE.Font.');
      return new Geometry();
    }
    var shapes = font.generateShapes(text, parameters.size);
    parameters.depth = parameters.height !== undefined ? parameters.height : 50;
    if (parameters.bevelThickness === undefined)
      parameters.bevelThickness = 10;
    if (parameters.bevelSize === undefined)
      parameters.bevelSize = 8;
    if (parameters.bevelEnabled === undefined)
      parameters.bevelEnabled = false;
    ExtrudeBufferGeometry.call(this, shapes, parameters);
    this.type = 'TextBufferGeometry';
  }
  TextBufferGeometry.prototype = Object.create(ExtrudeBufferGeometry.prototype);
  TextBufferGeometry.prototype.constructor = TextBufferGeometry;
  function SphereGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength) {
    Geometry.call(this);
    this.type = 'SphereGeometry';
    this.parameters = {
      radius: radius,
      widthSegments: widthSegments,
      heightSegments: heightSegments,
      phiStart: phiStart,
      phiLength: phiLength,
      thetaStart: thetaStart,
      thetaLength: thetaLength
    };
    this.fromBufferGeometry(new SphereBufferGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength));
    this.mergeVertices();
  }
  SphereGeometry.prototype = Object.create(Geometry.prototype);
  SphereGeometry.prototype.constructor = SphereGeometry;
  function SphereBufferGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength) {
    BufferGeometry.call(this);
    this.type = 'SphereBufferGeometry';
    this.parameters = {
      radius: radius,
      widthSegments: widthSegments,
      heightSegments: heightSegments,
      phiStart: phiStart,
      phiLength: phiLength,
      thetaStart: thetaStart,
      thetaLength: thetaLength
    };
    radius = radius || 1;
    widthSegments = Math.max(3, Math.floor(widthSegments) || 8);
    heightSegments = Math.max(2, Math.floor(heightSegments) || 6);
    phiStart = phiStart !== undefined ? phiStart : 0;
    phiLength = phiLength !== undefined ? phiLength : Math.PI * 2;
    thetaStart = thetaStart !== undefined ? thetaStart : 0;
    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI;
    var thetaEnd = thetaStart + thetaLength;
    var ix,
        iy;
    var index = 0;
    var grid = [];
    var vertex = new Vector3();
    var normal = new Vector3();
    var indices = [];
    var vertices = [];
    var normals = [];
    var uvs = [];
    for (iy = 0; iy <= heightSegments; iy++) {
      var verticesRow = [];
      var v = iy / heightSegments;
      for (ix = 0; ix <= widthSegments; ix++) {
        var u = ix / widthSegments;
        vertex.x = -radius * Math.cos(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);
        vertex.y = radius * Math.cos(thetaStart + v * thetaLength);
        vertex.z = radius * Math.sin(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);
        vertices.push(vertex.x, vertex.y, vertex.z);
        normal.set(vertex.x, vertex.y, vertex.z).normalize();
        normals.push(normal.x, normal.y, normal.z);
        uvs.push(u, 1 - v);
        verticesRow.push(index++);
      }
      grid.push(verticesRow);
    }
    for (iy = 0; iy < heightSegments; iy++) {
      for (ix = 0; ix < widthSegments; ix++) {
        var a = grid[iy][ix + 1];
        var b = grid[iy][ix];
        var c = grid[iy + 1][ix];
        var d = grid[iy + 1][ix + 1];
        if (iy !== 0 || thetaStart > 0)
          indices.push(a, b, d);
        if (iy !== heightSegments - 1 || thetaEnd < Math.PI)
          indices.push(b, c, d);
      }
    }
    this.setIndex(indices);
    this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
    this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
  }
  SphereBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
  SphereBufferGeometry.prototype.constructor = SphereBufferGeometry;
  function RingGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength) {
    Geometry.call(this);
    this.type = 'RingGeometry';
    this.parameters = {
      innerRadius: innerRadius,
      outerRadius: outerRadius,
      thetaSegments: thetaSegments,
      phiSegments: phiSegments,
      thetaStart: thetaStart,
      thetaLength: thetaLength
    };
    this.fromBufferGeometry(new RingBufferGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength));
    this.mergeVertices();
  }
  RingGeometry.prototype = Object.create(Geometry.prototype);
  RingGeometry.prototype.constructor = RingGeometry;
  function RingBufferGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength) {
    BufferGeometry.call(this);
    this.type = 'RingBufferGeometry';
    this.parameters = {
      innerRadius: innerRadius,
      outerRadius: outerRadius,
      thetaSegments: thetaSegments,
      phiSegments: phiSegments,
      thetaStart: thetaStart,
      thetaLength: thetaLength
    };
    innerRadius = innerRadius || 0.5;
    outerRadius = outerRadius || 1;
    thetaStart = thetaStart !== undefined ? thetaStart : 0;
    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;
    thetaSegments = thetaSegments !== undefined ? Math.max(3, thetaSegments) : 8;
    phiSegments = phiSegments !== undefined ? Math.max(1, phiSegments) : 1;
    var indices = [];
    var vertices = [];
    var normals = [];
    var uvs = [];
    var segment;
    var radius = innerRadius;
    var radiusStep = ((outerRadius - innerRadius) / phiSegments);
    var vertex = new Vector3();
    var uv = new Vector2();
    var j,
        i;
    for (j = 0; j <= phiSegments; j++) {
      for (i = 0; i <= thetaSegments; i++) {
        segment = thetaStart + i / thetaSegments * thetaLength;
        vertex.x = radius * Math.cos(segment);
        vertex.y = radius * Math.sin(segment);
        vertices.push(vertex.x, vertex.y, vertex.z);
        normals.push(0, 0, 1);
        uv.x = (vertex.x / outerRadius + 1) / 2;
        uv.y = (vertex.y / outerRadius + 1) / 2;
        uvs.push(uv.x, uv.y);
      }
      radius += radiusStep;
    }
    for (j = 0; j < phiSegments; j++) {
      var thetaSegmentLevel = j * (thetaSegments + 1);
      for (i = 0; i < thetaSegments; i++) {
        segment = i + thetaSegmentLevel;
        var a = segment;
        var b = segment + thetaSegments + 1;
        var c = segment + thetaSegments + 2;
        var d = segment + 1;
        indices.push(a, b, d);
        indices.push(b, c, d);
      }
    }
    this.setIndex(indices);
    this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
    this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
  }
  RingBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
  RingBufferGeometry.prototype.constructor = RingBufferGeometry;
  function LatheGeometry(points, segments, phiStart, phiLength) {
    Geometry.call(this);
    this.type = 'LatheGeometry';
    this.parameters = {
      points: points,
      segments: segments,
      phiStart: phiStart,
      phiLength: phiLength
    };
    this.fromBufferGeometry(new LatheBufferGeometry(points, segments, phiStart, phiLength));
    this.mergeVertices();
  }
  LatheGeometry.prototype = Object.create(Geometry.prototype);
  LatheGeometry.prototype.constructor = LatheGeometry;
  function LatheBufferGeometry(points, segments, phiStart, phiLength) {
    BufferGeometry.call(this);
    this.type = 'LatheBufferGeometry';
    this.parameters = {
      points: points,
      segments: segments,
      phiStart: phiStart,
      phiLength: phiLength
    };
    segments = Math.floor(segments) || 12;
    phiStart = phiStart || 0;
    phiLength = phiLength || Math.PI * 2;
    phiLength = _Math.clamp(phiLength, 0, Math.PI * 2);
    var indices = [];
    var vertices = [];
    var uvs = [];
    var base;
    var inverseSegments = 1.0 / segments;
    var vertex = new Vector3();
    var uv = new Vector2();
    var i,
        j;
    for (i = 0; i <= segments; i++) {
      var phi = phiStart + i * inverseSegments * phiLength;
      var sin = Math.sin(phi);
      var cos = Math.cos(phi);
      for (j = 0; j <= (points.length - 1); j++) {
        vertex.x = points[j].x * sin;
        vertex.y = points[j].y;
        vertex.z = points[j].x * cos;
        vertices.push(vertex.x, vertex.y, vertex.z);
        uv.x = i / segments;
        uv.y = j / (points.length - 1);
        uvs.push(uv.x, uv.y);
      }
    }
    for (i = 0; i < segments; i++) {
      for (j = 0; j < (points.length - 1); j++) {
        base = j + i * points.length;
        var a = base;
        var b = base + points.length;
        var c = base + points.length + 1;
        var d = base + 1;
        indices.push(a, b, d);
        indices.push(b, c, d);
      }
    }
    this.setIndex(indices);
    this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
    this.computeVertexNormals();
    if (phiLength === Math.PI * 2) {
      var normals = this.attributes.normal.array;
      var n1 = new Vector3();
      var n2 = new Vector3();
      var n = new Vector3();
      base = segments * points.length * 3;
      for (i = 0, j = 0; i < points.length; i++, j += 3) {
        n1.x = normals[j + 0];
        n1.y = normals[j + 1];
        n1.z = normals[j + 2];
        n2.x = normals[base + j + 0];
        n2.y = normals[base + j + 1];
        n2.z = normals[base + j + 2];
        n.addVectors(n1, n2).normalize();
        normals[j + 0] = normals[base + j + 0] = n.x;
        normals[j + 1] = normals[base + j + 1] = n.y;
        normals[j + 2] = normals[base + j + 2] = n.z;
      }
    }
  }
  LatheBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
  LatheBufferGeometry.prototype.constructor = LatheBufferGeometry;
  function ShapeGeometry(shapes, curveSegments) {
    Geometry.call(this);
    this.type = 'ShapeGeometry';
    if (typeof curveSegments === 'object') {
      console.warn('THREE.ShapeGeometry: Options parameter has been removed.');
      curveSegments = curveSegments.curveSegments;
    }
    this.parameters = {
      shapes: shapes,
      curveSegments: curveSegments
    };
    this.fromBufferGeometry(new ShapeBufferGeometry(shapes, curveSegments));
    this.mergeVertices();
  }
  ShapeGeometry.prototype = Object.create(Geometry.prototype);
  ShapeGeometry.prototype.constructor = ShapeGeometry;
  ShapeGeometry.prototype.toJSON = function() {
    var data = Geometry.prototype.toJSON.call(this);
    var shapes = this.parameters.shapes;
    return toJSON$1(shapes, data);
  };
  function ShapeBufferGeometry(shapes, curveSegments) {
    BufferGeometry.call(this);
    this.type = 'ShapeBufferGeometry';
    this.parameters = {
      shapes: shapes,
      curveSegments: curveSegments
    };
    curveSegments = curveSegments || 12;
    var indices = [];
    var vertices = [];
    var normals = [];
    var uvs = [];
    var groupStart = 0;
    var groupCount = 0;
    if (Array.isArray(shapes) === false) {
      addShape(shapes);
    } else {
      for (var i = 0; i < shapes.length; i++) {
        addShape(shapes[i]);
        this.addGroup(groupStart, groupCount, i);
        groupStart += groupCount;
        groupCount = 0;
      }
    }
    this.setIndex(indices);
    this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
    this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
    function addShape(shape) {
      var i,
          l,
          shapeHole;
      var indexOffset = vertices.length / 3;
      var points = shape.extractPoints(curveSegments);
      var shapeVertices = points.shape;
      var shapeHoles = points.holes;
      if (ShapeUtils.isClockWise(shapeVertices) === false) {
        shapeVertices = shapeVertices.reverse();
        for (i = 0, l = shapeHoles.length; i < l; i++) {
          shapeHole = shapeHoles[i];
          if (ShapeUtils.isClockWise(shapeHole) === true) {
            shapeHoles[i] = shapeHole.reverse();
          }
        }
      }
      var faces = ShapeUtils.triangulateShape(shapeVertices, shapeHoles);
      for (i = 0, l = shapeHoles.length; i < l; i++) {
        shapeHole = shapeHoles[i];
        shapeVertices = shapeVertices.concat(shapeHole);
      }
      for (i = 0, l = shapeVertices.length; i < l; i++) {
        var vertex = shapeVertices[i];
        vertices.push(vertex.x, vertex.y, 0);
        normals.push(0, 0, 1);
        uvs.push(vertex.x, vertex.y);
      }
      for (i = 0, l = faces.length; i < l; i++) {
        var face = faces[i];
        var a = face[0] + indexOffset;
        var b = face[1] + indexOffset;
        var c = face[2] + indexOffset;
        indices.push(a, b, c);
        groupCount += 3;
      }
    }
  }
  ShapeBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
  ShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;
  ShapeBufferGeometry.prototype.toJSON = function() {
    var data = BufferGeometry.prototype.toJSON.call(this);
    var shapes = this.parameters.shapes;
    return toJSON$1(shapes, data);
  };
  function toJSON$1(shapes, data) {
    data.shapes = [];
    if (Array.isArray(shapes)) {
      for (var i = 0,
          l = shapes.length; i < l; i++) {
        var shape = shapes[i];
        data.shapes.push(shape.uuid);
      }
    } else {
      data.shapes.push(shapes.uuid);
    }
    return data;
  }
  function EdgesGeometry(geometry, thresholdAngle) {
    BufferGeometry.call(this);
    this.type = 'EdgesGeometry';
    this.parameters = {thresholdAngle: thresholdAngle};
    thresholdAngle = (thresholdAngle !== undefined) ? thresholdAngle : 1;
    var vertices = [];
    var thresholdDot = Math.cos(_Math.DEG2RAD * thresholdAngle);
    var edge = [0, 0],
        edges = {},
        edge1,
        edge2;
    var key,
        keys = ['a', 'b', 'c'];
    var geometry2;
    if (geometry.isBufferGeometry) {
      geometry2 = new Geometry();
      geometry2.fromBufferGeometry(geometry);
    } else {
      geometry2 = geometry.clone();
    }
    geometry2.mergeVertices();
    geometry2.computeFaceNormals();
    var sourceVertices = geometry2.vertices;
    var faces = geometry2.faces;
    for (var i = 0,
        l = faces.length; i < l; i++) {
      var face = faces[i];
      for (var j = 0; j < 3; j++) {
        edge1 = face[keys[j]];
        edge2 = face[keys[(j + 1) % 3]];
        edge[0] = Math.min(edge1, edge2);
        edge[1] = Math.max(edge1, edge2);
        key = edge[0] + ',' + edge[1];
        if (edges[key] === undefined) {
          edges[key] = {
            index1: edge[0],
            index2: edge[1],
            face1: i,
            face2: undefined
          };
        } else {
          edges[key].face2 = i;
        }
      }
    }
    for (key in edges) {
      var e = edges[key];
      if (e.face2 === undefined || faces[e.face1].normal.dot(faces[e.face2].normal) <= thresholdDot) {
        var vertex = sourceVertices[e.index1];
        vertices.push(vertex.x, vertex.y, vertex.z);
        vertex = sourceVertices[e.index2];
        vertices.push(vertex.x, vertex.y, vertex.z);
      }
    }
    this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  }
  EdgesGeometry.prototype = Object.create(BufferGeometry.prototype);
  EdgesGeometry.prototype.constructor = EdgesGeometry;
  function CylinderGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {
    Geometry.call(this);
    this.type = 'CylinderGeometry';
    this.parameters = {
      radiusTop: radiusTop,
      radiusBottom: radiusBottom,
      height: height,
      radialSegments: radialSegments,
      heightSegments: heightSegments,
      openEnded: openEnded,
      thetaStart: thetaStart,
      thetaLength: thetaLength
    };
    this.fromBufferGeometry(new CylinderBufferGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength));
    this.mergeVertices();
  }
  CylinderGeometry.prototype = Object.create(Geometry.prototype);
  CylinderGeometry.prototype.constructor = CylinderGeometry;
  function CylinderBufferGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {
    BufferGeometry.call(this);
    this.type = 'CylinderBufferGeometry';
    this.parameters = {
      radiusTop: radiusTop,
      radiusBottom: radiusBottom,
      height: height,
      radialSegments: radialSegments,
      heightSegments: heightSegments,
      openEnded: openEnded,
      thetaStart: thetaStart,
      thetaLength: thetaLength
    };
    var scope = this;
    radiusTop = radiusTop !== undefined ? radiusTop : 1;
    radiusBottom = radiusBottom !== undefined ? radiusBottom : 1;
    height = height || 1;
    radialSegments = Math.floor(radialSegments) || 8;
    heightSegments = Math.floor(heightSegments) || 1;
    openEnded = openEnded !== undefined ? openEnded : false;
    thetaStart = thetaStart !== undefined ? thetaStart : 0.0;
    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;
    var indices = [];
    var vertices = [];
    var normals = [];
    var uvs = [];
    var index = 0;
    var indexArray = [];
    var halfHeight = height / 2;
    var groupStart = 0;
    generateTorso();
    if (openEnded === false) {
      if (radiusTop > 0)
        generateCap(true);
      if (radiusBottom > 0)
        generateCap(false);
    }
    this.setIndex(indices);
    this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
    this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
    function generateTorso() {
      var x,
          y;
      var normal = new Vector3();
      var vertex = new Vector3();
      var groupCount = 0;
      var slope = (radiusBottom - radiusTop) / height;
      for (y = 0; y <= heightSegments; y++) {
        var indexRow = [];
        var v = y / heightSegments;
        var radius = v * (radiusBottom - radiusTop) + radiusTop;
        for (x = 0; x <= radialSegments; x++) {
          var u = x / radialSegments;
          var theta = u * thetaLength + thetaStart;
          var sinTheta = Math.sin(theta);
          var cosTheta = Math.cos(theta);
          vertex.x = radius * sinTheta;
          vertex.y = -v * height + halfHeight;
          vertex.z = radius * cosTheta;
          vertices.push(vertex.x, vertex.y, vertex.z);
          normal.set(sinTheta, slope, cosTheta).normalize();
          normals.push(normal.x, normal.y, normal.z);
          uvs.push(u, 1 - v);
          indexRow.push(index++);
        }
        indexArray.push(indexRow);
      }
      for (x = 0; x < radialSegments; x++) {
        for (y = 0; y < heightSegments; y++) {
          var a = indexArray[y][x];
          var b = indexArray[y + 1][x];
          var c = indexArray[y + 1][x + 1];
          var d = indexArray[y][x + 1];
          indices.push(a, b, d);
          indices.push(b, c, d);
          groupCount += 6;
        }
      }
      scope.addGroup(groupStart, groupCount, 0);
      groupStart += groupCount;
    }
    function generateCap(top) {
      var x,
          centerIndexStart,
          centerIndexEnd;
      var uv = new Vector2();
      var vertex = new Vector3();
      var groupCount = 0;
      var radius = (top === true) ? radiusTop : radiusBottom;
      var sign = (top === true) ? 1 : -1;
      centerIndexStart = index;
      for (x = 1; x <= radialSegments; x++) {
        vertices.push(0, halfHeight * sign, 0);
        normals.push(0, sign, 0);
        uvs.push(0.5, 0.5);
        index++;
      }
      centerIndexEnd = index;
      for (x = 0; x <= radialSegments; x++) {
        var u = x / radialSegments;
        var theta = u * thetaLength + thetaStart;
        var cosTheta = Math.cos(theta);
        var sinTheta = Math.sin(theta);
        vertex.x = radius * sinTheta;
        vertex.y = halfHeight * sign;
        vertex.z = radius * cosTheta;
        vertices.push(vertex.x, vertex.y, vertex.z);
        normals.push(0, sign, 0);
        uv.x = (cosTheta * 0.5) + 0.5;
        uv.y = (sinTheta * 0.5 * sign) + 0.5;
        uvs.push(uv.x, uv.y);
        index++;
      }
      for (x = 0; x < radialSegments; x++) {
        var c = centerIndexStart + x;
        var i = centerIndexEnd + x;
        if (top === true) {
          indices.push(i, i + 1, c);
        } else {
          indices.push(i + 1, i, c);
        }
        groupCount += 3;
      }
      scope.addGroup(groupStart, groupCount, top === true ? 1 : 2);
      groupStart += groupCount;
    }
  }
  CylinderBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
  CylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;
  function ConeGeometry(radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {
    CylinderGeometry.call(this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);
    this.type = 'ConeGeometry';
    this.parameters = {
      radius: radius,
      height: height,
      radialSegments: radialSegments,
      heightSegments: heightSegments,
      openEnded: openEnded,
      thetaStart: thetaStart,
      thetaLength: thetaLength
    };
  }
  ConeGeometry.prototype = Object.create(CylinderGeometry.prototype);
  ConeGeometry.prototype.constructor = ConeGeometry;
  function ConeBufferGeometry(radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {
    CylinderBufferGeometry.call(this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);
    this.type = 'ConeBufferGeometry';
    this.parameters = {
      radius: radius,
      height: height,
      radialSegments: radialSegments,
      heightSegments: heightSegments,
      openEnded: openEnded,
      thetaStart: thetaStart,
      thetaLength: thetaLength
    };
  }
  ConeBufferGeometry.prototype = Object.create(CylinderBufferGeometry.prototype);
  ConeBufferGeometry.prototype.constructor = ConeBufferGeometry;
  function CircleGeometry(radius, segments, thetaStart, thetaLength) {
    Geometry.call(this);
    this.type = 'CircleGeometry';
    this.parameters = {
      radius: radius,
      segments: segments,
      thetaStart: thetaStart,
      thetaLength: thetaLength
    };
    this.fromBufferGeometry(new CircleBufferGeometry(radius, segments, thetaStart, thetaLength));
    this.mergeVertices();
  }
  CircleGeometry.prototype = Object.create(Geometry.prototype);
  CircleGeometry.prototype.constructor = CircleGeometry;
  function CircleBufferGeometry(radius, segments, thetaStart, thetaLength) {
    BufferGeometry.call(this);
    this.type = 'CircleBufferGeometry';
    this.parameters = {
      radius: radius,
      segments: segments,
      thetaStart: thetaStart,
      thetaLength: thetaLength
    };
    radius = radius || 1;
    segments = segments !== undefined ? Math.max(3, segments) : 8;
    thetaStart = thetaStart !== undefined ? thetaStart : 0;
    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;
    var indices = [];
    var vertices = [];
    var normals = [];
    var uvs = [];
    var i,
        s;
    var vertex = new Vector3();
    var uv = new Vector2();
    vertices.push(0, 0, 0);
    normals.push(0, 0, 1);
    uvs.push(0.5, 0.5);
    for (s = 0, i = 3; s <= segments; s++, i += 3) {
      var segment = thetaStart + s / segments * thetaLength;
      vertex.x = radius * Math.cos(segment);
      vertex.y = radius * Math.sin(segment);
      vertices.push(vertex.x, vertex.y, vertex.z);
      normals.push(0, 0, 1);
      uv.x = (vertices[i] / radius + 1) / 2;
      uv.y = (vertices[i + 1] / radius + 1) / 2;
      uvs.push(uv.x, uv.y);
    }
    for (i = 1; i <= segments; i++) {
      indices.push(i, i + 1, 0);
    }
    this.setIndex(indices);
    this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
    this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
  }
  CircleBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
  CircleBufferGeometry.prototype.constructor = CircleBufferGeometry;
  var Geometries = Object.freeze({
    WireframeGeometry: WireframeGeometry,
    ParametricGeometry: ParametricGeometry,
    ParametricBufferGeometry: ParametricBufferGeometry,
    TetrahedronGeometry: TetrahedronGeometry,
    TetrahedronBufferGeometry: TetrahedronBufferGeometry,
    OctahedronGeometry: OctahedronGeometry,
    OctahedronBufferGeometry: OctahedronBufferGeometry,
    IcosahedronGeometry: IcosahedronGeometry,
    IcosahedronBufferGeometry: IcosahedronBufferGeometry,
    DodecahedronGeometry: DodecahedronGeometry,
    DodecahedronBufferGeometry: DodecahedronBufferGeometry,
    PolyhedronGeometry: PolyhedronGeometry,
    PolyhedronBufferGeometry: PolyhedronBufferGeometry,
    TubeGeometry: TubeGeometry,
    TubeBufferGeometry: TubeBufferGeometry,
    TorusKnotGeometry: TorusKnotGeometry,
    TorusKnotBufferGeometry: TorusKnotBufferGeometry,
    TorusGeometry: TorusGeometry,
    TorusBufferGeometry: TorusBufferGeometry,
    TextGeometry: TextGeometry,
    TextBufferGeometry: TextBufferGeometry,
    SphereGeometry: SphereGeometry,
    SphereBufferGeometry: SphereBufferGeometry,
    RingGeometry: RingGeometry,
    RingBufferGeometry: RingBufferGeometry,
    PlaneGeometry: PlaneGeometry,
    PlaneBufferGeometry: PlaneBufferGeometry,
    LatheGeometry: LatheGeometry,
    LatheBufferGeometry: LatheBufferGeometry,
    ShapeGeometry: ShapeGeometry,
    ShapeBufferGeometry: ShapeBufferGeometry,
    ExtrudeGeometry: ExtrudeGeometry,
    ExtrudeBufferGeometry: ExtrudeBufferGeometry,
    EdgesGeometry: EdgesGeometry,
    ConeGeometry: ConeGeometry,
    ConeBufferGeometry: ConeBufferGeometry,
    CylinderGeometry: CylinderGeometry,
    CylinderBufferGeometry: CylinderBufferGeometry,
    CircleGeometry: CircleGeometry,
    CircleBufferGeometry: CircleBufferGeometry,
    BoxGeometry: BoxGeometry,
    BoxBufferGeometry: BoxBufferGeometry
  });
  function ShadowMaterial(parameters) {
    Material.call(this);
    this.type = 'ShadowMaterial';
    this.color = new Color(0x000000);
    this.transparent = true;
    this.setValues(parameters);
  }
  ShadowMaterial.prototype = Object.create(Material.prototype);
  ShadowMaterial.prototype.constructor = ShadowMaterial;
  ShadowMaterial.prototype.isShadowMaterial = true;
  ShadowMaterial.prototype.copy = function(source) {
    Material.prototype.copy.call(this, source);
    this.color.copy(source.color);
    return this;
  };
  function RawShaderMaterial(parameters) {
    ShaderMaterial.call(this, parameters);
    this.type = 'RawShaderMaterial';
  }
  RawShaderMaterial.prototype = Object.create(ShaderMaterial.prototype);
  RawShaderMaterial.prototype.constructor = RawShaderMaterial;
  RawShaderMaterial.prototype.isRawShaderMaterial = true;
  function MeshStandardMaterial(parameters) {
    Material.call(this);
    this.defines = {'STANDARD': ''};
    this.type = 'MeshStandardMaterial';
    this.color = new Color(0xffffff);
    this.roughness = 0.5;
    this.metalness = 0.5;
    this.map = null;
    this.lightMap = null;
    this.lightMapIntensity = 1.0;
    this.aoMap = null;
    this.aoMapIntensity = 1.0;
    this.emissive = new Color(0x000000);
    this.emissiveIntensity = 1.0;
    this.emissiveMap = null;
    this.bumpMap = null;
    this.bumpScale = 1;
    this.normalMap = null;
    this.normalMapType = TangentSpaceNormalMap;
    this.normalScale = new Vector2(1, 1);
    this.displacementMap = null;
    this.displacementScale = 1;
    this.displacementBias = 0;
    this.roughnessMap = null;
    this.metalnessMap = null;
    this.alphaMap = null;
    this.envMap = null;
    this.envMapIntensity = 1.0;
    this.refractionRatio = 0.98;
    this.wireframe = false;
    this.wireframeLinewidth = 1;
    this.wireframeLinecap = 'round';
    this.wireframeLinejoin = 'round';
    this.skinning = false;
    this.morphTargets = false;
    this.morphNormals = false;
    this.setValues(parameters);
  }
  MeshStandardMaterial.prototype = Object.create(Material.prototype);
  MeshStandardMaterial.prototype.constructor = MeshStandardMaterial;
  MeshStandardMaterial.prototype.isMeshStandardMaterial = true;
  MeshStandardMaterial.prototype.copy = function(source) {
    Material.prototype.copy.call(this, source);
    this.defines = {'STANDARD': ''};
    this.color.copy(source.color);
    this.roughness = source.roughness;
    this.metalness = source.metalness;
    this.map = source.map;
    this.lightMap = source.lightMap;
    this.lightMapIntensity = source.lightMapIntensity;
    this.aoMap = source.aoMap;
    this.aoMapIntensity = source.aoMapIntensity;
    this.emissive.copy(source.emissive);
    this.emissiveMap = source.emissiveMap;
    this.emissiveIntensity = source.emissiveIntensity;
    this.bumpMap = source.bumpMap;
    this.bumpScale = source.bumpScale;
    this.normalMap = source.normalMap;
    this.normalMapType = source.normalMapType;
    this.normalScale.copy(source.normalScale);
    this.displacementMap = source.displacementMap;
    this.displacementScale = source.displacementScale;
    this.displacementBias = source.displacementBias;
    this.roughnessMap = source.roughnessMap;
    this.metalnessMap = source.metalnessMap;
    this.alphaMap = source.alphaMap;
    this.envMap = source.envMap;
    this.envMapIntensity = source.envMapIntensity;
    this.refractionRatio = source.refractionRatio;
    this.wireframe = source.wireframe;
    this.wireframeLinewidth = source.wireframeLinewidth;
    this.wireframeLinecap = source.wireframeLinecap;
    this.wireframeLinejoin = source.wireframeLinejoin;
    this.skinning = source.skinning;
    this.morphTargets = source.morphTargets;
    this.morphNormals = source.morphNormals;
    return this;
  };
  function MeshPhysicalMaterial(parameters) {
    MeshStandardMaterial.call(this);
    this.defines = {'PHYSICAL': ''};
    this.type = 'MeshPhysicalMaterial';
    this.reflectivity = 0.5;
    this.clearCoat = 0.0;
    this.clearCoatRoughness = 0.0;
    this.setValues(parameters);
  }
  MeshPhysicalMaterial.prototype = Object.create(MeshStandardMaterial.prototype);
  MeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;
  MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;
  MeshPhysicalMaterial.prototype.copy = function(source) {
    MeshStandardMaterial.prototype.copy.call(this, source);
    this.defines = {'PHYSICAL': ''};
    this.reflectivity = source.reflectivity;
    this.clearCoat = source.clearCoat;
    this.clearCoatRoughness = source.clearCoatRoughness;
    return this;
  };
  function MeshPhongMaterial(parameters) {
    Material.call(this);
    this.type = 'MeshPhongMaterial';
    this.color = new Color(0xffffff);
    this.specular = new Color(0x111111);
    this.shininess = 30;
    this.map = null;
    this.lightMap = null;
    this.lightMapIntensity = 1.0;
    this.aoMap = null;
    this.aoMapIntensity = 1.0;
    this.emissive = new Color(0x000000);
    this.emissiveIntensity = 1.0;
    this.emissiveMap = null;
    this.bumpMap = null;
    this.bumpScale = 1;
    this.normalMap = null;
    this.normalMapType = TangentSpaceNormalMap;
    this.normalScale = new Vector2(1, 1);
    this.displacementMap = null;
    this.displacementScale = 1;
    this.displacementBias = 0;
    this.specularMap = null;
    this.alphaMap = null;
    this.envMap = null;
    this.combine = MultiplyOperation;
    this.reflectivity = 1;
    this.refractionRatio = 0.98;
    this.wireframe = false;
    this.wireframeLinewidth = 1;
    this.wireframeLinecap = 'round';
    this.wireframeLinejoin = 'round';
    this.skinning = false;
    this.morphTargets = false;
    this.morphNormals = false;
    this.setValues(parameters);
  }
  MeshPhongMaterial.prototype = Object.create(Material.prototype);
  MeshPhongMaterial.prototype.constructor = MeshPhongMaterial;
  MeshPhongMaterial.prototype.isMeshPhongMaterial = true;
  MeshPhongMaterial.prototype.copy = function(source) {
    Material.prototype.copy.call(this, source);
    this.color.copy(source.color);
    this.specular.copy(source.specular);
    this.shininess = source.shininess;
    this.map = source.map;
    this.lightMap = source.lightMap;
    this.lightMapIntensity = source.lightMapIntensity;
    this.aoMap = source.aoMap;
    this.aoMapIntensity = source.aoMapIntensity;
    this.emissive.copy(source.emissive);
    this.emissiveMap = source.emissiveMap;
    this.emissiveIntensity = source.emissiveIntensity;
    this.bumpMap = source.bumpMap;
    this.bumpScale = source.bumpScale;
    this.normalMap = source.normalMap;
    this.normalMapType = source.normalMapType;
    this.normalScale.copy(source.normalScale);
    this.displacementMap = source.displacementMap;
    this.displacementScale = source.displacementScale;
    this.displacementBias = source.displacementBias;
    this.specularMap = source.specularMap;
    this.alphaMap = source.alphaMap;
    this.envMap = source.envMap;
    this.combine = source.combine;
    this.reflectivity = source.reflectivity;
    this.refractionRatio = source.refractionRatio;
    this.wireframe = source.wireframe;
    this.wireframeLinewidth = source.wireframeLinewidth;
    this.wireframeLinecap = source.wireframeLinecap;
    this.wireframeLinejoin = source.wireframeLinejoin;
    this.skinning = source.skinning;
    this.morphTargets = source.morphTargets;
    this.morphNormals = source.morphNormals;
    return this;
  };
  function MeshToonMaterial(parameters) {
    MeshPhongMaterial.call(this);
    this.defines = {'TOON': ''};
    this.type = 'MeshToonMaterial';
    this.gradientMap = null;
    this.setValues(parameters);
  }
  MeshToonMaterial.prototype = Object.create(MeshPhongMaterial.prototype);
  MeshToonMaterial.prototype.constructor = MeshToonMaterial;
  MeshToonMaterial.prototype.isMeshToonMaterial = true;
  MeshToonMaterial.prototype.copy = function(source) {
    MeshPhongMaterial.prototype.copy.call(this, source);
    this.gradientMap = source.gradientMap;
    return this;
  };
  function MeshNormalMaterial(parameters) {
    Material.call(this);
    this.type = 'MeshNormalMaterial';
    this.bumpMap = null;
    this.bumpScale = 1;
    this.normalMap = null;
    this.normalMapType = TangentSpaceNormalMap;
    this.normalScale = new Vector2(1, 1);
    this.displacementMap = null;
    this.displacementScale = 1;
    this.displacementBias = 0;
    this.wireframe = false;
    this.wireframeLinewidth = 1;
    this.fog = false;
    this.lights = false;
    this.skinning = false;
    this.morphTargets = false;
    this.morphNormals = false;
    this.setValues(parameters);
  }
  MeshNormalMaterial.prototype = Object.create(Material.prototype);
  MeshNormalMaterial.prototype.constructor = MeshNormalMaterial;
  MeshNormalMaterial.prototype.isMeshNormalMaterial = true;
  MeshNormalMaterial.prototype.copy = function(source) {
    Material.prototype.copy.call(this, source);
    this.bumpMap = source.bumpMap;
    this.bumpScale = source.bumpScale;
    this.normalMap = source.normalMap;
    this.normalMapType = source.normalMapType;
    this.normalScale.copy(source.normalScale);
    this.displacementMap = source.displacementMap;
    this.displacementScale = source.displacementScale;
    this.displacementBias = source.displacementBias;
    this.wireframe = source.wireframe;
    this.wireframeLinewidth = source.wireframeLinewidth;
    this.skinning = source.skinning;
    this.morphTargets = source.morphTargets;
    this.morphNormals = source.morphNormals;
    return this;
  };
  function MeshLambertMaterial(parameters) {
    Material.call(this);
    this.type = 'MeshLambertMaterial';
    this.color = new Color(0xffffff);
    this.map = null;
    this.lightMap = null;
    this.lightMapIntensity = 1.0;
    this.aoMap = null;
    this.aoMapIntensity = 1.0;
    this.emissive = new Color(0x000000);
    this.emissiveIntensity = 1.0;
    this.emissiveMap = null;
    this.specularMap = null;
    this.alphaMap = null;
    this.envMap = null;
    this.combine = MultiplyOperation;
    this.reflectivity = 1;
    this.refractionRatio = 0.98;
    this.wireframe = false;
    this.wireframeLinewidth = 1;
    this.wireframeLinecap = 'round';
    this.wireframeLinejoin = 'round';
    this.skinning = false;
    this.morphTargets = false;
    this.morphNormals = false;
    this.setValues(parameters);
  }
  MeshLambertMaterial.prototype = Object.create(Material.prototype);
  MeshLambertMaterial.prototype.constructor = MeshLambertMaterial;
  MeshLambertMaterial.prototype.isMeshLambertMaterial = true;
  MeshLambertMaterial.prototype.copy = function(source) {
    Material.prototype.copy.call(this, source);
    this.color.copy(source.color);
    this.map = source.map;
    this.lightMap = source.lightMap;
    this.lightMapIntensity = source.lightMapIntensity;
    this.aoMap = source.aoMap;
    this.aoMapIntensity = source.aoMapIntensity;
    this.emissive.copy(source.emissive);
    this.emissiveMap = source.emissiveMap;
    this.emissiveIntensity = source.emissiveIntensity;
    this.specularMap = source.specularMap;
    this.alphaMap = source.alphaMap;
    this.envMap = source.envMap;
    this.combine = source.combine;
    this.reflectivity = source.reflectivity;
    this.refractionRatio = source.refractionRatio;
    this.wireframe = source.wireframe;
    this.wireframeLinewidth = source.wireframeLinewidth;
    this.wireframeLinecap = source.wireframeLinecap;
    this.wireframeLinejoin = source.wireframeLinejoin;
    this.skinning = source.skinning;
    this.morphTargets = source.morphTargets;
    this.morphNormals = source.morphNormals;
    return this;
  };
  function LineDashedMaterial(parameters) {
    LineBasicMaterial.call(this);
    this.type = 'LineDashedMaterial';
    this.scale = 1;
    this.dashSize = 3;
    this.gapSize = 1;
    this.setValues(parameters);
  }
  LineDashedMaterial.prototype = Object.create(LineBasicMaterial.prototype);
  LineDashedMaterial.prototype.constructor = LineDashedMaterial;
  LineDashedMaterial.prototype.isLineDashedMaterial = true;
  LineDashedMaterial.prototype.copy = function(source) {
    LineBasicMaterial.prototype.copy.call(this, source);
    this.scale = source.scale;
    this.dashSize = source.dashSize;
    this.gapSize = source.gapSize;
    return this;
  };
  var Materials = Object.freeze({
    ShadowMaterial: ShadowMaterial,
    SpriteMaterial: SpriteMaterial,
    RawShaderMaterial: RawShaderMaterial,
    ShaderMaterial: ShaderMaterial,
    PointsMaterial: PointsMaterial,
    MeshPhysicalMaterial: MeshPhysicalMaterial,
    MeshStandardMaterial: MeshStandardMaterial,
    MeshPhongMaterial: MeshPhongMaterial,
    MeshToonMaterial: MeshToonMaterial,
    MeshNormalMaterial: MeshNormalMaterial,
    MeshLambertMaterial: MeshLambertMaterial,
    MeshDepthMaterial: MeshDepthMaterial,
    MeshDistanceMaterial: MeshDistanceMaterial,
    MeshBasicMaterial: MeshBasicMaterial,
    LineDashedMaterial: LineDashedMaterial,
    LineBasicMaterial: LineBasicMaterial,
    Material: Material
  });
  var Cache = {
    enabled: false,
    files: {},
    add: function(key, file) {
      if (this.enabled === false)
        return;
      this.files[key] = file;
    },
    get: function(key) {
      if (this.enabled === false)
        return;
      return this.files[key];
    },
    remove: function(key) {
      delete this.files[key];
    },
    clear: function() {
      this.files = {};
    }
  };
  function LoadingManager(onLoad, onProgress, onError) {
    var scope = this;
    var isLoading = false;
    var itemsLoaded = 0;
    var itemsTotal = 0;
    var urlModifier = undefined;
    this.onStart = undefined;
    this.onLoad = onLoad;
    this.onProgress = onProgress;
    this.onError = onError;
    this.itemStart = function(url) {
      itemsTotal++;
      if (isLoading === false) {
        if (scope.onStart !== undefined) {
          scope.onStart(url, itemsLoaded, itemsTotal);
        }
      }
      isLoading = true;
    };
    this.itemEnd = function(url) {
      itemsLoaded++;
      if (scope.onProgress !== undefined) {
        scope.onProgress(url, itemsLoaded, itemsTotal);
      }
      if (itemsLoaded === itemsTotal) {
        isLoading = false;
        if (scope.onLoad !== undefined) {
          scope.onLoad();
        }
      }
    };
    this.itemError = function(url) {
      if (scope.onError !== undefined) {
        scope.onError(url);
      }
    };
    this.resolveURL = function(url) {
      if (urlModifier) {
        return urlModifier(url);
      }
      return url;
    };
    this.setURLModifier = function(transform) {
      urlModifier = transform;
      return this;
    };
  }
  var DefaultLoadingManager = new LoadingManager();
  var loading = {};
  function FileLoader(manager) {
    this.manager = (manager !== undefined) ? manager : DefaultLoadingManager;
  }
  Object.assign(FileLoader.prototype, {
    load: function(url, onLoad, onProgress, onError) {
      if (url === undefined)
        url = '';
      if (this.path !== undefined)
        url = this.path + url;
      url = this.manager.resolveURL(url);
      var scope = this;
      var cached = Cache.get(url);
      if (cached !== undefined) {
        scope.manager.itemStart(url);
        setTimeout(function() {
          if (onLoad)
            onLoad(cached);
          scope.manager.itemEnd(url);
        }, 0);
        return cached;
      }
      if (loading[url] !== undefined) {
        loading[url].push({
          onLoad: onLoad,
          onProgress: onProgress,
          onError: onError
        });
        return;
      }
      var dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;
      var dataUriRegexResult = url.match(dataUriRegex);
      if (dataUriRegexResult) {
        var mimeType = dataUriRegexResult[1];
        var isBase64 = !!dataUriRegexResult[2];
        var data = dataUriRegexResult[3];
        data = window.decodeURIComponent(data);
        if (isBase64)
          data = window.atob(data);
        try {
          var response;
          var responseType = (this.responseType || '').toLowerCase();
          switch (responseType) {
            case 'arraybuffer':
            case 'blob':
              var view = new Uint8Array(data.length);
              for (var i = 0; i < data.length; i++) {
                view[i] = data.charCodeAt(i);
              }
              if (responseType === 'blob') {
                response = new Blob([view.buffer], {type: mimeType});
              } else {
                response = view.buffer;
              }
              break;
            case 'document':
              var parser = new DOMParser();
              response = parser.parseFromString(data, mimeType);
              break;
            case 'json':
              response = JSON.parse(data);
              break;
            default:
              response = data;
              break;
          }
          window.setTimeout(function() {
            if (onLoad)
              onLoad(response);
            scope.manager.itemEnd(url);
          }, 0);
        } catch (error) {
          window.setTimeout(function() {
            if (onError)
              onError(error);
            scope.manager.itemEnd(url);
            scope.manager.itemError(url);
          }, 0);
        }
      } else {
        loading[url] = [];
        loading[url].push({
          onLoad: onLoad,
          onProgress: onProgress,
          onError: onError
        });
        var request = new XMLHttpRequest();
        request.open('GET', url, true);
        request.addEventListener('load', function(event) {
          var response = this.response;
          Cache.add(url, response);
          var callbacks = loading[url];
          delete loading[url];
          if (this.status === 200 || this.status === 0) {
            if (this.status === 0)
              console.warn('THREE.FileLoader: HTTP Status 0 received.');
            for (var i = 0,
                il = callbacks.length; i < il; i++) {
              var callback = callbacks[i];
              if (callback.onLoad)
                callback.onLoad(response);
            }
            scope.manager.itemEnd(url);
          } else {
            for (var i = 0,
                il = callbacks.length; i < il; i++) {
              var callback = callbacks[i];
              if (callback.onError)
                callback.onError(event);
            }
            scope.manager.itemEnd(url);
            scope.manager.itemError(url);
          }
        }, false);
        request.addEventListener('progress', function(event) {
          var callbacks = loading[url];
          for (var i = 0,
              il = callbacks.length; i < il; i++) {
            var callback = callbacks[i];
            if (callback.onProgress)
              callback.onProgress(event);
          }
        }, false);
        request.addEventListener('error', function(event) {
          var callbacks = loading[url];
          delete loading[url];
          for (var i = 0,
              il = callbacks.length; i < il; i++) {
            var callback = callbacks[i];
            if (callback.onError)
              callback.onError(event);
          }
          scope.manager.itemEnd(url);
          scope.manager.itemError(url);
        }, false);
        if (this.responseType !== undefined)
          request.responseType = this.responseType;
        if (this.withCredentials !== undefined)
          request.withCredentials = this.withCredentials;
        if (request.overrideMimeType)
          request.overrideMimeType(this.mimeType !== undefined ? this.mimeType : 'text/plain');
        for (var header in this.requestHeader) {
          request.setRequestHeader(header, this.requestHeader[header]);
        }
        request.send(null);
      }
      scope.manager.itemStart(url);
      return request;
    },
    setPath: function(value) {
      this.path = value;
      return this;
    },
    setResponseType: function(value) {
      this.responseType = value;
      return this;
    },
    setWithCredentials: function(value) {
      this.withCredentials = value;
      return this;
    },
    setMimeType: function(value) {
      this.mimeType = value;
      return this;
    },
    setRequestHeader: function(value) {
      this.requestHeader = value;
      return this;
    }
  });
  function CompressedTextureLoader(manager) {
    this.manager = (manager !== undefined) ? manager : DefaultLoadingManager;
    this._parser = null;
  }
  Object.assign(CompressedTextureLoader.prototype, {
    load: function(url, onLoad, onProgress, onError) {
      var scope = this;
      var images = [];
      var texture = new CompressedTexture();
      texture.image = images;
      var loader = new FileLoader(this.manager);
      loader.setPath(this.path);
      loader.setResponseType('arraybuffer');
      function loadTexture(i) {
        loader.load(url[i], function(buffer) {
          var texDatas = scope._parser(buffer, true);
          images[i] = {
            width: texDatas.width,
            height: texDatas.height,
            format: texDatas.format,
            mipmaps: texDatas.mipmaps
          };
          loaded += 1;
          if (loaded === 6) {
            if (texDatas.mipmapCount === 1)
              texture.minFilter = LinearFilter;
            texture.format = texDatas.format;
            texture.needsUpdate = true;
            if (onLoad)
              onLoad(texture);
          }
        }, onProgress, onError);
      }
      if (Array.isArray(url)) {
        var loaded = 0;
        for (var i = 0,
            il = url.length; i < il; ++i) {
          loadTexture(i);
        }
      } else {
        loader.load(url, function(buffer) {
          var texDatas = scope._parser(buffer, true);
          if (texDatas.isCubemap) {
            var faces = texDatas.mipmaps.length / texDatas.mipmapCount;
            for (var f = 0; f < faces; f++) {
              images[f] = {mipmaps: []};
              for (var i = 0; i < texDatas.mipmapCount; i++) {
                images[f].mipmaps.push(texDatas.mipmaps[f * texDatas.mipmapCount + i]);
                images[f].format = texDatas.format;
                images[f].width = texDatas.width;
                images[f].height = texDatas.height;
              }
            }
          } else {
            texture.image.width = texDatas.width;
            texture.image.height = texDatas.height;
            texture.mipmaps = texDatas.mipmaps;
          }
          if (texDatas.mipmapCount === 1) {
            texture.minFilter = LinearFilter;
          }
          texture.format = texDatas.format;
          texture.needsUpdate = true;
          if (onLoad)
            onLoad(texture);
        }, onProgress, onError);
      }
      return texture;
    },
    setPath: function(value) {
      this.path = value;
      return this;
    }
  });
  function DataTextureLoader(manager) {
    this.manager = (manager !== undefined) ? manager : DefaultLoadingManager;
    this._parser = null;
  }
  Object.assign(DataTextureLoader.prototype, {load: function(url, onLoad, onProgress, onError) {
      var scope = this;
      var texture = new DataTexture();
      var loader = new FileLoader(this.manager);
      loader.setResponseType('arraybuffer');
      loader.load(url, function(buffer) {
        var texData = scope._parser(buffer);
        if (!texData)
          return;
        if (undefined !== texData.image) {
          texture.image = texData.image;
        } else if (undefined !== texData.data) {
          texture.image.width = texData.width;
          texture.image.height = texData.height;
          texture.image.data = texData.data;
        }
        texture.wrapS = undefined !== texData.wrapS ? texData.wrapS : ClampToEdgeWrapping;
        texture.wrapT = undefined !== texData.wrapT ? texData.wrapT : ClampToEdgeWrapping;
        texture.magFilter = undefined !== texData.magFilter ? texData.magFilter : LinearFilter;
        texture.minFilter = undefined !== texData.minFilter ? texData.minFilter : LinearMipMapLinearFilter;
        texture.anisotropy = undefined !== texData.anisotropy ? texData.anisotropy : 1;
        if (undefined !== texData.format) {
          texture.format = texData.format;
        }
        if (undefined !== texData.type) {
          texture.type = texData.type;
        }
        if (undefined !== texData.mipmaps) {
          texture.mipmaps = texData.mipmaps;
        }
        if (1 === texData.mipmapCount) {
          texture.minFilter = LinearFilter;
        }
        texture.needsUpdate = true;
        if (onLoad)
          onLoad(texture, texData);
      }, onProgress, onError);
      return texture;
    }});
  function ImageLoader(manager) {
    this.manager = (manager !== undefined) ? manager : DefaultLoadingManager;
  }
  Object.assign(ImageLoader.prototype, {
    crossOrigin: 'anonymous',
    load: function(url, onLoad, onProgress, onError) {
      if (url === undefined)
        url = '';
      if (this.path !== undefined)
        url = this.path + url;
      url = this.manager.resolveURL(url);
      var scope = this;
      var cached = Cache.get(url);
      if (cached !== undefined) {
        scope.manager.itemStart(url);
        setTimeout(function() {
          if (onLoad)
            onLoad(cached);
          scope.manager.itemEnd(url);
        }, 0);
        return cached;
      }
      var image = document.createElementNS('http://www.w3.org/1999/xhtml', 'img');
      function onImageLoad() {
        image.removeEventListener('load', onImageLoad, false);
        image.removeEventListener('error', onImageError, false);
        Cache.add(url, this);
        if (onLoad)
          onLoad(this);
        scope.manager.itemEnd(url);
      }
      function onImageError(event) {
        image.removeEventListener('load', onImageLoad, false);
        image.removeEventListener('error', onImageError, false);
        if (onError)
          onError(event);
        scope.manager.itemEnd(url);
        scope.manager.itemError(url);
      }
      image.addEventListener('load', onImageLoad, false);
      image.addEventListener('error', onImageError, false);
      if (url.substr(0, 5) !== 'data:') {
        if (this.crossOrigin !== undefined)
          image.crossOrigin = this.crossOrigin;
      }
      scope.manager.itemStart(url);
      image.src = url;
      return image;
    },
    setCrossOrigin: function(value) {
      this.crossOrigin = value;
      return this;
    },
    setPath: function(value) {
      this.path = value;
      return this;
    }
  });
  function CubeTextureLoader(manager) {
    this.manager = (manager !== undefined) ? manager : DefaultLoadingManager;
  }
  Object.assign(CubeTextureLoader.prototype, {
    crossOrigin: 'anonymous',
    load: function(urls, onLoad, onProgress, onError) {
      var texture = new CubeTexture();
      var loader = new ImageLoader(this.manager);
      loader.setCrossOrigin(this.crossOrigin);
      loader.setPath(this.path);
      var loaded = 0;
      function loadTexture(i) {
        loader.load(urls[i], function(image) {
          texture.images[i] = image;
          loaded++;
          if (loaded === 6) {
            texture.needsUpdate = true;
            if (onLoad)
              onLoad(texture);
          }
        }, undefined, onError);
      }
      for (var i = 0; i < urls.length; ++i) {
        loadTexture(i);
      }
      return texture;
    },
    setCrossOrigin: function(value) {
      this.crossOrigin = value;
      return this;
    },
    setPath: function(value) {
      this.path = value;
      return this;
    }
  });
  function TextureLoader(manager) {
    this.manager = (manager !== undefined) ? manager : DefaultLoadingManager;
  }
  Object.assign(TextureLoader.prototype, {
    crossOrigin: 'anonymous',
    load: function(url, onLoad, onProgress, onError) {
      var texture = new Texture();
      var loader = new ImageLoader(this.manager);
      loader.setCrossOrigin(this.crossOrigin);
      loader.setPath(this.path);
      loader.load(url, function(image) {
        texture.image = image;
        var isJPEG = url.search(/\.(jpg|jpeg)$/) > 0 || url.search(/^data\:image\/jpeg/) === 0;
        texture.format = isJPEG ? RGBFormat : RGBAFormat;
        texture.needsUpdate = true;
        if (onLoad !== undefined) {
          onLoad(texture);
        }
      }, onProgress, onError);
      return texture;
    },
    setCrossOrigin: function(value) {
      this.crossOrigin = value;
      return this;
    },
    setPath: function(value) {
      this.path = value;
      return this;
    }
  });
  function Curve() {
    this.type = 'Curve';
    this.arcLengthDivisions = 200;
  }
  Object.assign(Curve.prototype, {
    getPoint: function() {
      console.warn('THREE.Curve: .getPoint() not implemented.');
      return null;
    },
    getPointAt: function(u, optionalTarget) {
      var t = this.getUtoTmapping(u);
      return this.getPoint(t, optionalTarget);
    },
    getPoints: function(divisions) {
      if (divisions === undefined)
        divisions = 5;
      var points = [];
      for (var d = 0; d <= divisions; d++) {
        points.push(this.getPoint(d / divisions));
      }
      return points;
    },
    getSpacedPoints: function(divisions) {
      if (divisions === undefined)
        divisions = 5;
      var points = [];
      for (var d = 0; d <= divisions; d++) {
        points.push(this.getPointAt(d / divisions));
      }
      return points;
    },
    getLength: function() {
      var lengths = this.getLengths();
      return lengths[lengths.length - 1];
    },
    getLengths: function(divisions) {
      if (divisions === undefined)
        divisions = this.arcLengthDivisions;
      if (this.cacheArcLengths && (this.cacheArcLengths.length === divisions + 1) && !this.needsUpdate) {
        return this.cacheArcLengths;
      }
      this.needsUpdate = false;
      var cache = [];
      var current,
          last = this.getPoint(0);
      var p,
          sum = 0;
      cache.push(0);
      for (p = 1; p <= divisions; p++) {
        current = this.getPoint(p / divisions);
        sum += current.distanceTo(last);
        cache.push(sum);
        last = current;
      }
      this.cacheArcLengths = cache;
      return cache;
    },
    updateArcLengths: function() {
      this.needsUpdate = true;
      this.getLengths();
    },
    getUtoTmapping: function(u, distance) {
      var arcLengths = this.getLengths();
      var i = 0,
          il = arcLengths.length;
      var targetArcLength;
      if (distance) {
        targetArcLength = distance;
      } else {
        targetArcLength = u * arcLengths[il - 1];
      }
      var low = 0,
          high = il - 1,
          comparison;
      while (low <= high) {
        i = Math.floor(low + (high - low) / 2);
        comparison = arcLengths[i] - targetArcLength;
        if (comparison < 0) {
          low = i + 1;
        } else if (comparison > 0) {
          high = i - 1;
        } else {
          high = i;
          break;
        }
      }
      i = high;
      if (arcLengths[i] === targetArcLength) {
        return i / (il - 1);
      }
      var lengthBefore = arcLengths[i];
      var lengthAfter = arcLengths[i + 1];
      var segmentLength = lengthAfter - lengthBefore;
      var segmentFraction = (targetArcLength - lengthBefore) / segmentLength;
      var t = (i + segmentFraction) / (il - 1);
      return t;
    },
    getTangent: function(t) {
      var delta = 0.0001;
      var t1 = t - delta;
      var t2 = t + delta;
      if (t1 < 0)
        t1 = 0;
      if (t2 > 1)
        t2 = 1;
      var pt1 = this.getPoint(t1);
      var pt2 = this.getPoint(t2);
      var vec = pt2.clone().sub(pt1);
      return vec.normalize();
    },
    getTangentAt: function(u) {
      var t = this.getUtoTmapping(u);
      return this.getTangent(t);
    },
    computeFrenetFrames: function(segments, closed) {
      var normal = new Vector3();
      var tangents = [];
      var normals = [];
      var binormals = [];
      var vec = new Vector3();
      var mat = new Matrix4();
      var i,
          u,
          theta;
      for (i = 0; i <= segments; i++) {
        u = i / segments;
        tangents[i] = this.getTangentAt(u);
        tangents[i].normalize();
      }
      normals[0] = new Vector3();
      binormals[0] = new Vector3();
      var min = Number.MAX_VALUE;
      var tx = Math.abs(tangents[0].x);
      var ty = Math.abs(tangents[0].y);
      var tz = Math.abs(tangents[0].z);
      if (tx <= min) {
        min = tx;
        normal.set(1, 0, 0);
      }
      if (ty <= min) {
        min = ty;
        normal.set(0, 1, 0);
      }
      if (tz <= min) {
        normal.set(0, 0, 1);
      }
      vec.crossVectors(tangents[0], normal).normalize();
      normals[0].crossVectors(tangents[0], vec);
      binormals[0].crossVectors(tangents[0], normals[0]);
      for (i = 1; i <= segments; i++) {
        normals[i] = normals[i - 1].clone();
        binormals[i] = binormals[i - 1].clone();
        vec.crossVectors(tangents[i - 1], tangents[i]);
        if (vec.length() > Number.EPSILON) {
          vec.normalize();
          theta = Math.acos(_Math.clamp(tangents[i - 1].dot(tangents[i]), -1, 1));
          normals[i].applyMatrix4(mat.makeRotationAxis(vec, theta));
        }
        binormals[i].crossVectors(tangents[i], normals[i]);
      }
      if (closed === true) {
        theta = Math.acos(_Math.clamp(normals[0].dot(normals[segments]), -1, 1));
        theta /= segments;
        if (tangents[0].dot(vec.crossVectors(normals[0], normals[segments])) > 0) {
          theta = -theta;
        }
        for (i = 1; i <= segments; i++) {
          normals[i].applyMatrix4(mat.makeRotationAxis(tangents[i], theta * i));
          binormals[i].crossVectors(tangents[i], normals[i]);
        }
      }
      return {
        tangents: tangents,
        normals: normals,
        binormals: binormals
      };
    },
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(source) {
      this.arcLengthDivisions = source.arcLengthDivisions;
      return this;
    },
    toJSON: function() {
      var data = {metadata: {
          version: 4.5,
          type: 'Curve',
          generator: 'Curve.toJSON'
        }};
      data.arcLengthDivisions = this.arcLengthDivisions;
      data.type = this.type;
      return data;
    },
    fromJSON: function(json) {
      this.arcLengthDivisions = json.arcLengthDivisions;
      return this;
    }
  });
  function EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {
    Curve.call(this);
    this.type = 'EllipseCurve';
    this.aX = aX || 0;
    this.aY = aY || 0;
    this.xRadius = xRadius || 1;
    this.yRadius = yRadius || 1;
    this.aStartAngle = aStartAngle || 0;
    this.aEndAngle = aEndAngle || 2 * Math.PI;
    this.aClockwise = aClockwise || false;
    this.aRotation = aRotation || 0;
  }
  EllipseCurve.prototype = Object.create(Curve.prototype);
  EllipseCurve.prototype.constructor = EllipseCurve;
  EllipseCurve.prototype.isEllipseCurve = true;
  EllipseCurve.prototype.getPoint = function(t, optionalTarget) {
    var point = optionalTarget || new Vector2();
    var twoPi = Math.PI * 2;
    var deltaAngle = this.aEndAngle - this.aStartAngle;
    var samePoints = Math.abs(deltaAngle) < Number.EPSILON;
    while (deltaAngle < 0)
      deltaAngle += twoPi;
    while (deltaAngle > twoPi)
      deltaAngle -= twoPi;
    if (deltaAngle < Number.EPSILON) {
      if (samePoints) {
        deltaAngle = 0;
      } else {
        deltaAngle = twoPi;
      }
    }
    if (this.aClockwise === true && !samePoints) {
      if (deltaAngle === twoPi) {
        deltaAngle = -twoPi;
      } else {
        deltaAngle = deltaAngle - twoPi;
      }
    }
    var angle = this.aStartAngle + t * deltaAngle;
    var x = this.aX + this.xRadius * Math.cos(angle);
    var y = this.aY + this.yRadius * Math.sin(angle);
    if (this.aRotation !== 0) {
      var cos = Math.cos(this.aRotation);
      var sin = Math.sin(this.aRotation);
      var tx = x - this.aX;
      var ty = y - this.aY;
      x = tx * cos - ty * sin + this.aX;
      y = tx * sin + ty * cos + this.aY;
    }
    return point.set(x, y);
  };
  EllipseCurve.prototype.copy = function(source) {
    Curve.prototype.copy.call(this, source);
    this.aX = source.aX;
    this.aY = source.aY;
    this.xRadius = source.xRadius;
    this.yRadius = source.yRadius;
    this.aStartAngle = source.aStartAngle;
    this.aEndAngle = source.aEndAngle;
    this.aClockwise = source.aClockwise;
    this.aRotation = source.aRotation;
    return this;
  };
  EllipseCurve.prototype.toJSON = function() {
    var data = Curve.prototype.toJSON.call(this);
    data.aX = this.aX;
    data.aY = this.aY;
    data.xRadius = this.xRadius;
    data.yRadius = this.yRadius;
    data.aStartAngle = this.aStartAngle;
    data.aEndAngle = this.aEndAngle;
    data.aClockwise = this.aClockwise;
    data.aRotation = this.aRotation;
    return data;
  };
  EllipseCurve.prototype.fromJSON = function(json) {
    Curve.prototype.fromJSON.call(this, json);
    this.aX = json.aX;
    this.aY = json.aY;
    this.xRadius = json.xRadius;
    this.yRadius = json.yRadius;
    this.aStartAngle = json.aStartAngle;
    this.aEndAngle = json.aEndAngle;
    this.aClockwise = json.aClockwise;
    this.aRotation = json.aRotation;
    return this;
  };
  function ArcCurve(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {
    EllipseCurve.call(this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);
    this.type = 'ArcCurve';
  }
  ArcCurve.prototype = Object.create(EllipseCurve.prototype);
  ArcCurve.prototype.constructor = ArcCurve;
  ArcCurve.prototype.isArcCurve = true;
  function CubicPoly() {
    var c0 = 0,
        c1 = 0,
        c2 = 0,
        c3 = 0;
    function init(x0, x1, t0, t1) {
      c0 = x0;
      c1 = t0;
      c2 = -3 * x0 + 3 * x1 - 2 * t0 - t1;
      c3 = 2 * x0 - 2 * x1 + t0 + t1;
    }
    return {
      initCatmullRom: function(x0, x1, x2, x3, tension) {
        init(x1, x2, tension * (x2 - x0), tension * (x3 - x1));
      },
      initNonuniformCatmullRom: function(x0, x1, x2, x3, dt0, dt1, dt2) {
        var t1 = (x1 - x0) / dt0 - (x2 - x0) / (dt0 + dt1) + (x2 - x1) / dt1;
        var t2 = (x2 - x1) / dt1 - (x3 - x1) / (dt1 + dt2) + (x3 - x2) / dt2;
        t1 *= dt1;
        t2 *= dt1;
        init(x1, x2, t1, t2);
      },
      calc: function(t) {
        var t2 = t * t;
        var t3 = t2 * t;
        return c0 + c1 * t + c2 * t2 + c3 * t3;
      }
    };
  }
  var tmp = new Vector3();
  var px = new CubicPoly(),
      py = new CubicPoly(),
      pz = new CubicPoly();
  function CatmullRomCurve3(points, closed, curveType, tension) {
    Curve.call(this);
    this.type = 'CatmullRomCurve3';
    this.points = points || [];
    this.closed = closed || false;
    this.curveType = curveType || 'centripetal';
    this.tension = tension || 0.5;
  }
  CatmullRomCurve3.prototype = Object.create(Curve.prototype);
  CatmullRomCurve3.prototype.constructor = CatmullRomCurve3;
  CatmullRomCurve3.prototype.isCatmullRomCurve3 = true;
  CatmullRomCurve3.prototype.getPoint = function(t, optionalTarget) {
    var point = optionalTarget || new Vector3();
    var points = this.points;
    var l = points.length;
    var p = (l - (this.closed ? 0 : 1)) * t;
    var intPoint = Math.floor(p);
    var weight = p - intPoint;
    if (this.closed) {
      intPoint += intPoint > 0 ? 0 : (Math.floor(Math.abs(intPoint) / l) + 1) * l;
    } else if (weight === 0 && intPoint === l - 1) {
      intPoint = l - 2;
      weight = 1;
    }
    var p0,
        p1,
        p2,
        p3;
    if (this.closed || intPoint > 0) {
      p0 = points[(intPoint - 1) % l];
    } else {
      tmp.subVectors(points[0], points[1]).add(points[0]);
      p0 = tmp;
    }
    p1 = points[intPoint % l];
    p2 = points[(intPoint + 1) % l];
    if (this.closed || intPoint + 2 < l) {
      p3 = points[(intPoint + 2) % l];
    } else {
      tmp.subVectors(points[l - 1], points[l - 2]).add(points[l - 1]);
      p3 = tmp;
    }
    if (this.curveType === 'centripetal' || this.curveType === 'chordal') {
      var pow = this.curveType === 'chordal' ? 0.5 : 0.25;
      var dt0 = Math.pow(p0.distanceToSquared(p1), pow);
      var dt1 = Math.pow(p1.distanceToSquared(p2), pow);
      var dt2 = Math.pow(p2.distanceToSquared(p3), pow);
      if (dt1 < 1e-4)
        dt1 = 1.0;
      if (dt0 < 1e-4)
        dt0 = dt1;
      if (dt2 < 1e-4)
        dt2 = dt1;
      px.initNonuniformCatmullRom(p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2);
      py.initNonuniformCatmullRom(p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2);
      pz.initNonuniformCatmullRom(p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2);
    } else if (this.curveType === 'catmullrom') {
      px.initCatmullRom(p0.x, p1.x, p2.x, p3.x, this.tension);
      py.initCatmullRom(p0.y, p1.y, p2.y, p3.y, this.tension);
      pz.initCatmullRom(p0.z, p1.z, p2.z, p3.z, this.tension);
    }
    point.set(px.calc(weight), py.calc(weight), pz.calc(weight));
    return point;
  };
  CatmullRomCurve3.prototype.copy = function(source) {
    Curve.prototype.copy.call(this, source);
    this.points = [];
    for (var i = 0,
        l = source.points.length; i < l; i++) {
      var point = source.points[i];
      this.points.push(point.clone());
    }
    this.closed = source.closed;
    this.curveType = source.curveType;
    this.tension = source.tension;
    return this;
  };
  CatmullRomCurve3.prototype.toJSON = function() {
    var data = Curve.prototype.toJSON.call(this);
    data.points = [];
    for (var i = 0,
        l = this.points.length; i < l; i++) {
      var point = this.points[i];
      data.points.push(point.toArray());
    }
    data.closed = this.closed;
    data.curveType = this.curveType;
    data.tension = this.tension;
    return data;
  };
  CatmullRomCurve3.prototype.fromJSON = function(json) {
    Curve.prototype.fromJSON.call(this, json);
    this.points = [];
    for (var i = 0,
        l = json.points.length; i < l; i++) {
      var point = json.points[i];
      this.points.push(new Vector3().fromArray(point));
    }
    this.closed = json.closed;
    this.curveType = json.curveType;
    this.tension = json.tension;
    return this;
  };
  function CatmullRom(t, p0, p1, p2, p3) {
    var v0 = (p2 - p0) * 0.5;
    var v1 = (p3 - p1) * 0.5;
    var t2 = t * t;
    var t3 = t * t2;
    return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;
  }
  function QuadraticBezierP0(t, p) {
    var k = 1 - t;
    return k * k * p;
  }
  function QuadraticBezierP1(t, p) {
    return 2 * (1 - t) * t * p;
  }
  function QuadraticBezierP2(t, p) {
    return t * t * p;
  }
  function QuadraticBezier(t, p0, p1, p2) {
    return QuadraticBezierP0(t, p0) + QuadraticBezierP1(t, p1) + QuadraticBezierP2(t, p2);
  }
  function CubicBezierP0(t, p) {
    var k = 1 - t;
    return k * k * k * p;
  }
  function CubicBezierP1(t, p) {
    var k = 1 - t;
    return 3 * k * k * t * p;
  }
  function CubicBezierP2(t, p) {
    return 3 * (1 - t) * t * t * p;
  }
  function CubicBezierP3(t, p) {
    return t * t * t * p;
  }
  function CubicBezier(t, p0, p1, p2, p3) {
    return CubicBezierP0(t, p0) + CubicBezierP1(t, p1) + CubicBezierP2(t, p2) + CubicBezierP3(t, p3);
  }
  function CubicBezierCurve(v0, v1, v2, v3) {
    Curve.call(this);
    this.type = 'CubicBezierCurve';
    this.v0 = v0 || new Vector2();
    this.v1 = v1 || new Vector2();
    this.v2 = v2 || new Vector2();
    this.v3 = v3 || new Vector2();
  }
  CubicBezierCurve.prototype = Object.create(Curve.prototype);
  CubicBezierCurve.prototype.constructor = CubicBezierCurve;
  CubicBezierCurve.prototype.isCubicBezierCurve = true;
  CubicBezierCurve.prototype.getPoint = function(t, optionalTarget) {
    var point = optionalTarget || new Vector2();
    var v0 = this.v0,
        v1 = this.v1,
        v2 = this.v2,
        v3 = this.v3;
    point.set(CubicBezier(t, v0.x, v1.x, v2.x, v3.x), CubicBezier(t, v0.y, v1.y, v2.y, v3.y));
    return point;
  };
  CubicBezierCurve.prototype.copy = function(source) {
    Curve.prototype.copy.call(this, source);
    this.v0.copy(source.v0);
    this.v1.copy(source.v1);
    this.v2.copy(source.v2);
    this.v3.copy(source.v3);
    return this;
  };
  CubicBezierCurve.prototype.toJSON = function() {
    var data = Curve.prototype.toJSON.call(this);
    data.v0 = this.v0.toArray();
    data.v1 = this.v1.toArray();
    data.v2 = this.v2.toArray();
    data.v3 = this.v3.toArray();
    return data;
  };
  CubicBezierCurve.prototype.fromJSON = function(json) {
    Curve.prototype.fromJSON.call(this, json);
    this.v0.fromArray(json.v0);
    this.v1.fromArray(json.v1);
    this.v2.fromArray(json.v2);
    this.v3.fromArray(json.v3);
    return this;
  };
  function CubicBezierCurve3(v0, v1, v2, v3) {
    Curve.call(this);
    this.type = 'CubicBezierCurve3';
    this.v0 = v0 || new Vector3();
    this.v1 = v1 || new Vector3();
    this.v2 = v2 || new Vector3();
    this.v3 = v3 || new Vector3();
  }
  CubicBezierCurve3.prototype = Object.create(Curve.prototype);
  CubicBezierCurve3.prototype.constructor = CubicBezierCurve3;
  CubicBezierCurve3.prototype.isCubicBezierCurve3 = true;
  CubicBezierCurve3.prototype.getPoint = function(t, optionalTarget) {
    var point = optionalTarget || new Vector3();
    var v0 = this.v0,
        v1 = this.v1,
        v2 = this.v2,
        v3 = this.v3;
    point.set(CubicBezier(t, v0.x, v1.x, v2.x, v3.x), CubicBezier(t, v0.y, v1.y, v2.y, v3.y), CubicBezier(t, v0.z, v1.z, v2.z, v3.z));
    return point;
  };
  CubicBezierCurve3.prototype.copy = function(source) {
    Curve.prototype.copy.call(this, source);
    this.v0.copy(source.v0);
    this.v1.copy(source.v1);
    this.v2.copy(source.v2);
    this.v3.copy(source.v3);
    return this;
  };
  CubicBezierCurve3.prototype.toJSON = function() {
    var data = Curve.prototype.toJSON.call(this);
    data.v0 = this.v0.toArray();
    data.v1 = this.v1.toArray();
    data.v2 = this.v2.toArray();
    data.v3 = this.v3.toArray();
    return data;
  };
  CubicBezierCurve3.prototype.fromJSON = function(json) {
    Curve.prototype.fromJSON.call(this, json);
    this.v0.fromArray(json.v0);
    this.v1.fromArray(json.v1);
    this.v2.fromArray(json.v2);
    this.v3.fromArray(json.v3);
    return this;
  };
  function LineCurve(v1, v2) {
    Curve.call(this);
    this.type = 'LineCurve';
    this.v1 = v1 || new Vector2();
    this.v2 = v2 || new Vector2();
  }
  LineCurve.prototype = Object.create(Curve.prototype);
  LineCurve.prototype.constructor = LineCurve;
  LineCurve.prototype.isLineCurve = true;
  LineCurve.prototype.getPoint = function(t, optionalTarget) {
    var point = optionalTarget || new Vector2();
    if (t === 1) {
      point.copy(this.v2);
    } else {
      point.copy(this.v2).sub(this.v1);
      point.multiplyScalar(t).add(this.v1);
    }
    return point;
  };
  LineCurve.prototype.getPointAt = function(u, optionalTarget) {
    return this.getPoint(u, optionalTarget);
  };
  LineCurve.prototype.getTangent = function() {
    var tangent = this.v2.clone().sub(this.v1);
    return tangent.normalize();
  };
  LineCurve.prototype.copy = function(source) {
    Curve.prototype.copy.call(this, source);
    this.v1.copy(source.v1);
    this.v2.copy(source.v2);
    return this;
  };
  LineCurve.prototype.toJSON = function() {
    var data = Curve.prototype.toJSON.call(this);
    data.v1 = this.v1.toArray();
    data.v2 = this.v2.toArray();
    return data;
  };
  LineCurve.prototype.fromJSON = function(json) {
    Curve.prototype.fromJSON.call(this, json);
    this.v1.fromArray(json.v1);
    this.v2.fromArray(json.v2);
    return this;
  };
  function LineCurve3(v1, v2) {
    Curve.call(this);
    this.type = 'LineCurve3';
    this.v1 = v1 || new Vector3();
    this.v2 = v2 || new Vector3();
  }
  LineCurve3.prototype = Object.create(Curve.prototype);
  LineCurve3.prototype.constructor = LineCurve3;
  LineCurve3.prototype.isLineCurve3 = true;
  LineCurve3.prototype.getPoint = function(t, optionalTarget) {
    var point = optionalTarget || new Vector3();
    if (t === 1) {
      point.copy(this.v2);
    } else {
      point.copy(this.v2).sub(this.v1);
      point.multiplyScalar(t).add(this.v1);
    }
    return point;
  };
  LineCurve3.prototype.getPointAt = function(u, optionalTarget) {
    return this.getPoint(u, optionalTarget);
  };
  LineCurve3.prototype.copy = function(source) {
    Curve.prototype.copy.call(this, source);
    this.v1.copy(source.v1);
    this.v2.copy(source.v2);
    return this;
  };
  LineCurve3.prototype.toJSON = function() {
    var data = Curve.prototype.toJSON.call(this);
    data.v1 = this.v1.toArray();
    data.v2 = this.v2.toArray();
    return data;
  };
  LineCurve3.prototype.fromJSON = function(json) {
    Curve.prototype.fromJSON.call(this, json);
    this.v1.fromArray(json.v1);
    this.v2.fromArray(json.v2);
    return this;
  };
  function QuadraticBezierCurve(v0, v1, v2) {
    Curve.call(this);
    this.type = 'QuadraticBezierCurve';
    this.v0 = v0 || new Vector2();
    this.v1 = v1 || new Vector2();
    this.v2 = v2 || new Vector2();
  }
  QuadraticBezierCurve.prototype = Object.create(Curve.prototype);
  QuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;
  QuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;
  QuadraticBezierCurve.prototype.getPoint = function(t, optionalTarget) {
    var point = optionalTarget || new Vector2();
    var v0 = this.v0,
        v1 = this.v1,
        v2 = this.v2;
    point.set(QuadraticBezier(t, v0.x, v1.x, v2.x), QuadraticBezier(t, v0.y, v1.y, v2.y));
    return point;
  };
  QuadraticBezierCurve.prototype.copy = function(source) {
    Curve.prototype.copy.call(this, source);
    this.v0.copy(source.v0);
    this.v1.copy(source.v1);
    this.v2.copy(source.v2);
    return this;
  };
  QuadraticBezierCurve.prototype.toJSON = function() {
    var data = Curve.prototype.toJSON.call(this);
    data.v0 = this.v0.toArray();
    data.v1 = this.v1.toArray();
    data.v2 = this.v2.toArray();
    return data;
  };
  QuadraticBezierCurve.prototype.fromJSON = function(json) {
    Curve.prototype.fromJSON.call(this, json);
    this.v0.fromArray(json.v0);
    this.v1.fromArray(json.v1);
    this.v2.fromArray(json.v2);
    return this;
  };
  function QuadraticBezierCurve3(v0, v1, v2) {
    Curve.call(this);
    this.type = 'QuadraticBezierCurve3';
    this.v0 = v0 || new Vector3();
    this.v1 = v1 || new Vector3();
    this.v2 = v2 || new Vector3();
  }
  QuadraticBezierCurve3.prototype = Object.create(Curve.prototype);
  QuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;
  QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;
  QuadraticBezierCurve3.prototype.getPoint = function(t, optionalTarget) {
    var point = optionalTarget || new Vector3();
    var v0 = this.v0,
        v1 = this.v1,
        v2 = this.v2;
    point.set(QuadraticBezier(t, v0.x, v1.x, v2.x), QuadraticBezier(t, v0.y, v1.y, v2.y), QuadraticBezier(t, v0.z, v1.z, v2.z));
    return point;
  };
  QuadraticBezierCurve3.prototype.copy = function(source) {
    Curve.prototype.copy.call(this, source);
    this.v0.copy(source.v0);
    this.v1.copy(source.v1);
    this.v2.copy(source.v2);
    return this;
  };
  QuadraticBezierCurve3.prototype.toJSON = function() {
    var data = Curve.prototype.toJSON.call(this);
    data.v0 = this.v0.toArray();
    data.v1 = this.v1.toArray();
    data.v2 = this.v2.toArray();
    return data;
  };
  QuadraticBezierCurve3.prototype.fromJSON = function(json) {
    Curve.prototype.fromJSON.call(this, json);
    this.v0.fromArray(json.v0);
    this.v1.fromArray(json.v1);
    this.v2.fromArray(json.v2);
    return this;
  };
  function SplineCurve(points) {
    Curve.call(this);
    this.type = 'SplineCurve';
    this.points = points || [];
  }
  SplineCurve.prototype = Object.create(Curve.prototype);
  SplineCurve.prototype.constructor = SplineCurve;
  SplineCurve.prototype.isSplineCurve = true;
  SplineCurve.prototype.getPoint = function(t, optionalTarget) {
    var point = optionalTarget || new Vector2();
    var points = this.points;
    var p = (points.length - 1) * t;
    var intPoint = Math.floor(p);
    var weight = p - intPoint;
    var p0 = points[intPoint === 0 ? intPoint : intPoint - 1];
    var p1 = points[intPoint];
    var p2 = points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];
    var p3 = points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];
    point.set(CatmullRom(weight, p0.x, p1.x, p2.x, p3.x), CatmullRom(weight, p0.y, p1.y, p2.y, p3.y));
    return point;
  };
  SplineCurve.prototype.copy = function(source) {
    Curve.prototype.copy.call(this, source);
    this.points = [];
    for (var i = 0,
        l = source.points.length; i < l; i++) {
      var point = source.points[i];
      this.points.push(point.clone());
    }
    return this;
  };
  SplineCurve.prototype.toJSON = function() {
    var data = Curve.prototype.toJSON.call(this);
    data.points = [];
    for (var i = 0,
        l = this.points.length; i < l; i++) {
      var point = this.points[i];
      data.points.push(point.toArray());
    }
    return data;
  };
  SplineCurve.prototype.fromJSON = function(json) {
    Curve.prototype.fromJSON.call(this, json);
    this.points = [];
    for (var i = 0,
        l = json.points.length; i < l; i++) {
      var point = json.points[i];
      this.points.push(new Vector2().fromArray(point));
    }
    return this;
  };
  var Curves = Object.freeze({
    ArcCurve: ArcCurve,
    CatmullRomCurve3: CatmullRomCurve3,
    CubicBezierCurve: CubicBezierCurve,
    CubicBezierCurve3: CubicBezierCurve3,
    EllipseCurve: EllipseCurve,
    LineCurve: LineCurve,
    LineCurve3: LineCurve3,
    QuadraticBezierCurve: QuadraticBezierCurve,
    QuadraticBezierCurve3: QuadraticBezierCurve3,
    SplineCurve: SplineCurve
  });
  function CurvePath() {
    Curve.call(this);
    this.type = 'CurvePath';
    this.curves = [];
    this.autoClose = false;
  }
  CurvePath.prototype = Object.assign(Object.create(Curve.prototype), {
    constructor: CurvePath,
    add: function(curve) {
      this.curves.push(curve);
    },
    closePath: function() {
      var startPoint = this.curves[0].getPoint(0);
      var endPoint = this.curves[this.curves.length - 1].getPoint(1);
      if (!startPoint.equals(endPoint)) {
        this.curves.push(new LineCurve(endPoint, startPoint));
      }
    },
    getPoint: function(t) {
      var d = t * this.getLength();
      var curveLengths = this.getCurveLengths();
      var i = 0;
      while (i < curveLengths.length) {
        if (curveLengths[i] >= d) {
          var diff = curveLengths[i] - d;
          var curve = this.curves[i];
          var segmentLength = curve.getLength();
          var u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;
          return curve.getPointAt(u);
        }
        i++;
      }
      return null;
    },
    getLength: function() {
      var lens = this.getCurveLengths();
      return lens[lens.length - 1];
    },
    updateArcLengths: function() {
      this.needsUpdate = true;
      this.cacheLengths = null;
      this.getCurveLengths();
    },
    getCurveLengths: function() {
      if (this.cacheLengths && this.cacheLengths.length === this.curves.length) {
        return this.cacheLengths;
      }
      var lengths = [],
          sums = 0;
      for (var i = 0,
          l = this.curves.length; i < l; i++) {
        sums += this.curves[i].getLength();
        lengths.push(sums);
      }
      this.cacheLengths = lengths;
      return lengths;
    },
    getSpacedPoints: function(divisions) {
      if (divisions === undefined)
        divisions = 40;
      var points = [];
      for (var i = 0; i <= divisions; i++) {
        points.push(this.getPoint(i / divisions));
      }
      if (this.autoClose) {
        points.push(points[0]);
      }
      return points;
    },
    getPoints: function(divisions) {
      divisions = divisions || 12;
      var points = [],
          last;
      for (var i = 0,
          curves = this.curves; i < curves.length; i++) {
        var curve = curves[i];
        var resolution = (curve && curve.isEllipseCurve) ? divisions * 2 : (curve && (curve.isLineCurve || curve.isLineCurve3)) ? 1 : (curve && curve.isSplineCurve) ? divisions * curve.points.length : divisions;
        var pts = curve.getPoints(resolution);
        for (var j = 0; j < pts.length; j++) {
          var point = pts[j];
          if (last && last.equals(point))
            continue;
          points.push(point);
          last = point;
        }
      }
      if (this.autoClose && points.length > 1 && !points[points.length - 1].equals(points[0])) {
        points.push(points[0]);
      }
      return points;
    },
    copy: function(source) {
      Curve.prototype.copy.call(this, source);
      this.curves = [];
      for (var i = 0,
          l = source.curves.length; i < l; i++) {
        var curve = source.curves[i];
        this.curves.push(curve.clone());
      }
      this.autoClose = source.autoClose;
      return this;
    },
    toJSON: function() {
      var data = Curve.prototype.toJSON.call(this);
      data.autoClose = this.autoClose;
      data.curves = [];
      for (var i = 0,
          l = this.curves.length; i < l; i++) {
        var curve = this.curves[i];
        data.curves.push(curve.toJSON());
      }
      return data;
    },
    fromJSON: function(json) {
      Curve.prototype.fromJSON.call(this, json);
      this.autoClose = json.autoClose;
      this.curves = [];
      for (var i = 0,
          l = json.curves.length; i < l; i++) {
        var curve = json.curves[i];
        this.curves.push(new Curves[curve.type]().fromJSON(curve));
      }
      return this;
    }
  });
  function Path(points) {
    CurvePath.call(this);
    this.type = 'Path';
    this.currentPoint = new Vector2();
    if (points) {
      this.setFromPoints(points);
    }
  }
  Path.prototype = Object.assign(Object.create(CurvePath.prototype), {
    constructor: Path,
    setFromPoints: function(points) {
      this.moveTo(points[0].x, points[0].y);
      for (var i = 1,
          l = points.length; i < l; i++) {
        this.lineTo(points[i].x, points[i].y);
      }
    },
    moveTo: function(x, y) {
      this.currentPoint.set(x, y);
    },
    lineTo: function(x, y) {
      var curve = new LineCurve(this.currentPoint.clone(), new Vector2(x, y));
      this.curves.push(curve);
      this.currentPoint.set(x, y);
    },
    quadraticCurveTo: function(aCPx, aCPy, aX, aY) {
      var curve = new QuadraticBezierCurve(this.currentPoint.clone(), new Vector2(aCPx, aCPy), new Vector2(aX, aY));
      this.curves.push(curve);
      this.currentPoint.set(aX, aY);
    },
    bezierCurveTo: function(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {
      var curve = new CubicBezierCurve(this.currentPoint.clone(), new Vector2(aCP1x, aCP1y), new Vector2(aCP2x, aCP2y), new Vector2(aX, aY));
      this.curves.push(curve);
      this.currentPoint.set(aX, aY);
    },
    splineThru: function(pts) {
      var npts = [this.currentPoint.clone()].concat(pts);
      var curve = new SplineCurve(npts);
      this.curves.push(curve);
      this.currentPoint.copy(pts[pts.length - 1]);
    },
    arc: function(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {
      var x0 = this.currentPoint.x;
      var y0 = this.currentPoint.y;
      this.absarc(aX + x0, aY + y0, aRadius, aStartAngle, aEndAngle, aClockwise);
    },
    absarc: function(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {
      this.absellipse(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);
    },
    ellipse: function(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {
      var x0 = this.currentPoint.x;
      var y0 = this.currentPoint.y;
      this.absellipse(aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);
    },
    absellipse: function(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {
      var curve = new EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);
      if (this.curves.length > 0) {
        var firstPoint = curve.getPoint(0);
        if (!firstPoint.equals(this.currentPoint)) {
          this.lineTo(firstPoint.x, firstPoint.y);
        }
      }
      this.curves.push(curve);
      var lastPoint = curve.getPoint(1);
      this.currentPoint.copy(lastPoint);
    },
    copy: function(source) {
      CurvePath.prototype.copy.call(this, source);
      this.currentPoint.copy(source.currentPoint);
      return this;
    },
    toJSON: function() {
      var data = CurvePath.prototype.toJSON.call(this);
      data.currentPoint = this.currentPoint.toArray();
      return data;
    },
    fromJSON: function(json) {
      CurvePath.prototype.fromJSON.call(this, json);
      this.currentPoint.fromArray(json.currentPoint);
      return this;
    }
  });
  function Shape(points) {
    Path.call(this, points);
    this.uuid = _Math.generateUUID();
    this.type = 'Shape';
    this.holes = [];
  }
  Shape.prototype = Object.assign(Object.create(Path.prototype), {
    constructor: Shape,
    getPointsHoles: function(divisions) {
      var holesPts = [];
      for (var i = 0,
          l = this.holes.length; i < l; i++) {
        holesPts[i] = this.holes[i].getPoints(divisions);
      }
      return holesPts;
    },
    extractPoints: function(divisions) {
      return {
        shape: this.getPoints(divisions),
        holes: this.getPointsHoles(divisions)
      };
    },
    copy: function(source) {
      Path.prototype.copy.call(this, source);
      this.holes = [];
      for (var i = 0,
          l = source.holes.length; i < l; i++) {
        var hole = source.holes[i];
        this.holes.push(hole.clone());
      }
      return this;
    },
    toJSON: function() {
      var data = Path.prototype.toJSON.call(this);
      data.uuid = this.uuid;
      data.holes = [];
      for (var i = 0,
          l = this.holes.length; i < l; i++) {
        var hole = this.holes[i];
        data.holes.push(hole.toJSON());
      }
      return data;
    },
    fromJSON: function(json) {
      Path.prototype.fromJSON.call(this, json);
      this.uuid = json.uuid;
      this.holes = [];
      for (var i = 0,
          l = json.holes.length; i < l; i++) {
        var hole = json.holes[i];
        this.holes.push(new Path().fromJSON(hole));
      }
      return this;
    }
  });
  function Light(color, intensity) {
    Object3D.call(this);
    this.type = 'Light';
    this.color = new Color(color);
    this.intensity = intensity !== undefined ? intensity : 1;
    this.receiveShadow = undefined;
  }
  Light.prototype = Object.assign(Object.create(Object3D.prototype), {
    constructor: Light,
    isLight: true,
    copy: function(source) {
      Object3D.prototype.copy.call(this, source);
      this.color.copy(source.color);
      this.intensity = source.intensity;
      return this;
    },
    toJSON: function(meta) {
      var data = Object3D.prototype.toJSON.call(this, meta);
      data.object.color = this.color.getHex();
      data.object.intensity = this.intensity;
      if (this.groundColor !== undefined)
        data.object.groundColor = this.groundColor.getHex();
      if (this.distance !== undefined)
        data.object.distance = this.distance;
      if (this.angle !== undefined)
        data.object.angle = this.angle;
      if (this.decay !== undefined)
        data.object.decay = this.decay;
      if (this.penumbra !== undefined)
        data.object.penumbra = this.penumbra;
      if (this.shadow !== undefined)
        data.object.shadow = this.shadow.toJSON();
      return data;
    }
  });
  function HemisphereLight(skyColor, groundColor, intensity) {
    Light.call(this, skyColor, intensity);
    this.type = 'HemisphereLight';
    this.castShadow = undefined;
    this.position.copy(Object3D.DefaultUp);
    this.updateMatrix();
    this.groundColor = new Color(groundColor);
  }
  HemisphereLight.prototype = Object.assign(Object.create(Light.prototype), {
    constructor: HemisphereLight,
    isHemisphereLight: true,
    copy: function(source) {
      Light.prototype.copy.call(this, source);
      this.groundColor.copy(source.groundColor);
      return this;
    }
  });
  function LightShadow(camera) {
    this.camera = camera;
    this.bias = 0;
    this.radius = 1;
    this.mapSize = new Vector2(512, 512);
    this.map = null;
    this.matrix = new Matrix4();
  }
  Object.assign(LightShadow.prototype, {
    copy: function(source) {
      this.camera = source.camera.clone();
      this.bias = source.bias;
      this.radius = source.radius;
      this.mapSize.copy(source.mapSize);
      return this;
    },
    clone: function() {
      return new this.constructor().copy(this);
    },
    toJSON: function() {
      var object = {};
      if (this.bias !== 0)
        object.bias = this.bias;
      if (this.radius !== 1)
        object.radius = this.radius;
      if (this.mapSize.x !== 512 || this.mapSize.y !== 512)
        object.mapSize = this.mapSize.toArray();
      object.camera = this.camera.toJSON(false).object;
      delete object.camera.matrix;
      return object;
    }
  });
  function SpotLightShadow() {
    LightShadow.call(this, new PerspectiveCamera(50, 1, 0.5, 500));
  }
  SpotLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {
    constructor: SpotLightShadow,
    isSpotLightShadow: true,
    update: function(light) {
      var camera = this.camera;
      var fov = _Math.RAD2DEG * 2 * light.angle;
      var aspect = this.mapSize.width / this.mapSize.height;
      var far = light.distance || camera.far;
      if (fov !== camera.fov || aspect !== camera.aspect || far !== camera.far) {
        camera.fov = fov;
        camera.aspect = aspect;
        camera.far = far;
        camera.updateProjectionMatrix();
      }
    }
  });
  function SpotLight(color, intensity, distance, angle, penumbra, decay) {
    Light.call(this, color, intensity);
    this.type = 'SpotLight';
    this.position.copy(Object3D.DefaultUp);
    this.updateMatrix();
    this.target = new Object3D();
    Object.defineProperty(this, 'power', {
      get: function() {
        return this.intensity * Math.PI;
      },
      set: function(power) {
        this.intensity = power / Math.PI;
      }
    });
    this.distance = (distance !== undefined) ? distance : 0;
    this.angle = (angle !== undefined) ? angle : Math.PI / 3;
    this.penumbra = (penumbra !== undefined) ? penumbra : 0;
    this.decay = (decay !== undefined) ? decay : 1;
    this.shadow = new SpotLightShadow();
  }
  SpotLight.prototype = Object.assign(Object.create(Light.prototype), {
    constructor: SpotLight,
    isSpotLight: true,
    copy: function(source) {
      Light.prototype.copy.call(this, source);
      this.distance = source.distance;
      this.angle = source.angle;
      this.penumbra = source.penumbra;
      this.decay = source.decay;
      this.target = source.target.clone();
      this.shadow = source.shadow.clone();
      return this;
    }
  });
  function PointLight(color, intensity, distance, decay) {
    Light.call(this, color, intensity);
    this.type = 'PointLight';
    Object.defineProperty(this, 'power', {
      get: function() {
        return this.intensity * 4 * Math.PI;
      },
      set: function(power) {
        this.intensity = power / (4 * Math.PI);
      }
    });
    this.distance = (distance !== undefined) ? distance : 0;
    this.decay = (decay !== undefined) ? decay : 1;
    this.shadow = new LightShadow(new PerspectiveCamera(90, 1, 0.5, 500));
  }
  PointLight.prototype = Object.assign(Object.create(Light.prototype), {
    constructor: PointLight,
    isPointLight: true,
    copy: function(source) {
      Light.prototype.copy.call(this, source);
      this.distance = source.distance;
      this.decay = source.decay;
      this.shadow = source.shadow.clone();
      return this;
    }
  });
  function DirectionalLightShadow() {
    LightShadow.call(this, new OrthographicCamera(-5, 5, 5, -5, 0.5, 500));
  }
  DirectionalLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {constructor: DirectionalLightShadow});
  function DirectionalLight(color, intensity) {
    Light.call(this, color, intensity);
    this.type = 'DirectionalLight';
    this.position.copy(Object3D.DefaultUp);
    this.updateMatrix();
    this.target = new Object3D();
    this.shadow = new DirectionalLightShadow();
  }
  DirectionalLight.prototype = Object.assign(Object.create(Light.prototype), {
    constructor: DirectionalLight,
    isDirectionalLight: true,
    copy: function(source) {
      Light.prototype.copy.call(this, source);
      this.target = source.target.clone();
      this.shadow = source.shadow.clone();
      return this;
    }
  });
  function AmbientLight(color, intensity) {
    Light.call(this, color, intensity);
    this.type = 'AmbientLight';
    this.castShadow = undefined;
  }
  AmbientLight.prototype = Object.assign(Object.create(Light.prototype), {
    constructor: AmbientLight,
    isAmbientLight: true
  });
  function RectAreaLight(color, intensity, width, height) {
    Light.call(this, color, intensity);
    this.type = 'RectAreaLight';
    this.width = (width !== undefined) ? width : 10;
    this.height = (height !== undefined) ? height : 10;
  }
  RectAreaLight.prototype = Object.assign(Object.create(Light.prototype), {
    constructor: RectAreaLight,
    isRectAreaLight: true,
    copy: function(source) {
      Light.prototype.copy.call(this, source);
      this.width = source.width;
      this.height = source.height;
      return this;
    },
    toJSON: function(meta) {
      var data = Light.prototype.toJSON.call(this, meta);
      data.object.width = this.width;
      data.object.height = this.height;
      return data;
    }
  });
  function StringKeyframeTrack(name, times, values, interpolation) {
    KeyframeTrack.call(this, name, times, values, interpolation);
  }
  StringKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {
    constructor: StringKeyframeTrack,
    ValueTypeName: 'string',
    ValueBufferType: Array,
    DefaultInterpolation: InterpolateDiscrete,
    InterpolantFactoryMethodLinear: undefined,
    InterpolantFactoryMethodSmooth: undefined
  });
  function BooleanKeyframeTrack(name, times, values) {
    KeyframeTrack.call(this, name, times, values);
  }
  BooleanKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {
    constructor: BooleanKeyframeTrack,
    ValueTypeName: 'bool',
    ValueBufferType: Array,
    DefaultInterpolation: InterpolateDiscrete,
    InterpolantFactoryMethodLinear: undefined,
    InterpolantFactoryMethodSmooth: undefined
  });
  function Interpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {
    this.parameterPositions = parameterPositions;
    this._cachedIndex = 0;
    this.resultBuffer = resultBuffer !== undefined ? resultBuffer : new sampleValues.constructor(sampleSize);
    this.sampleValues = sampleValues;
    this.valueSize = sampleSize;
  }
  Object.assign(Interpolant.prototype, {
    evaluate: function(t) {
      var pp = this.parameterPositions,
          i1 = this._cachedIndex,
          t1 = pp[i1],
          t0 = pp[i1 - 1];
      validate_interval: {
        seek: {
          var right;
          linear_scan: {
            forward_scan: if (!(t < t1)) {
              for (var giveUpAt = i1 + 2; ; ) {
                if (t1 === undefined) {
                  if (t < t0)
                    break forward_scan;
                  i1 = pp.length;
                  this._cachedIndex = i1;
                  return this.afterEnd_(i1 - 1, t, t0);
                }
                if (i1 === giveUpAt)
                  break;
                t0 = t1;
                t1 = pp[++i1];
                if (t < t1) {
                  break seek;
                }
              }
              right = pp.length;
              break linear_scan;
            }
            if (!(t >= t0)) {
              var t1global = pp[1];
              if (t < t1global) {
                i1 = 2;
                t0 = t1global;
              }
              for (var giveUpAt = i1 - 2; ; ) {
                if (t0 === undefined) {
                  this._cachedIndex = 0;
                  return this.beforeStart_(0, t, t1);
                }
                if (i1 === giveUpAt)
                  break;
                t1 = t0;
                t0 = pp[--i1 - 1];
                if (t >= t0) {
                  break seek;
                }
              }
              right = i1;
              i1 = 0;
              break linear_scan;
            }
            break validate_interval;
          }
          while (i1 < right) {
            var mid = (i1 + right) >>> 1;
            if (t < pp[mid]) {
              right = mid;
            } else {
              i1 = mid + 1;
            }
          }
          t1 = pp[i1];
          t0 = pp[i1 - 1];
          if (t0 === undefined) {
            this._cachedIndex = 0;
            return this.beforeStart_(0, t, t1);
          }
          if (t1 === undefined) {
            i1 = pp.length;
            this._cachedIndex = i1;
            return this.afterEnd_(i1 - 1, t0, t);
          }
        }
        this._cachedIndex = i1;
        this.intervalChanged_(i1, t0, t1);
      }
      return this.interpolate_(i1, t0, t, t1);
    },
    settings: null,
    DefaultSettings_: {},
    getSettings_: function() {
      return this.settings || this.DefaultSettings_;
    },
    copySampleValue_: function(index) {
      var result = this.resultBuffer,
          values = this.sampleValues,
          stride = this.valueSize,
          offset = index * stride;
      for (var i = 0; i !== stride; ++i) {
        result[i] = values[offset + i];
      }
      return result;
    },
    interpolate_: function() {
      throw new Error('call to abstract method');
    },
    intervalChanged_: function() {}
  });
  Object.assign(Interpolant.prototype, {
    beforeStart_: Interpolant.prototype.copySampleValue_,
    afterEnd_: Interpolant.prototype.copySampleValue_
  });
  function QuaternionLinearInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {
    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);
  }
  QuaternionLinearInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {
    constructor: QuaternionLinearInterpolant,
    interpolate_: function(i1, t0, t, t1) {
      var result = this.resultBuffer,
          values = this.sampleValues,
          stride = this.valueSize,
          offset = i1 * stride,
          alpha = (t - t0) / (t1 - t0);
      for (var end = offset + stride; offset !== end; offset += 4) {
        Quaternion.slerpFlat(result, 0, values, offset - stride, values, offset, alpha);
      }
      return result;
    }
  });
  function QuaternionKeyframeTrack(name, times, values, interpolation) {
    KeyframeTrack.call(this, name, times, values, interpolation);
  }
  QuaternionKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {
    constructor: QuaternionKeyframeTrack,
    ValueTypeName: 'quaternion',
    DefaultInterpolation: InterpolateLinear,
    InterpolantFactoryMethodLinear: function(result) {
      return new QuaternionLinearInterpolant(this.times, this.values, this.getValueSize(), result);
    },
    InterpolantFactoryMethodSmooth: undefined
  });
  function ColorKeyframeTrack(name, times, values, interpolation) {
    KeyframeTrack.call(this, name, times, values, interpolation);
  }
  ColorKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {
    constructor: ColorKeyframeTrack,
    ValueTypeName: 'color'
  });
  function NumberKeyframeTrack(name, times, values, interpolation) {
    KeyframeTrack.call(this, name, times, values, interpolation);
  }
  NumberKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {
    constructor: NumberKeyframeTrack,
    ValueTypeName: 'number'
  });
  function CubicInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {
    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);
    this._weightPrev = -0;
    this._offsetPrev = -0;
    this._weightNext = -0;
    this._offsetNext = -0;
  }
  CubicInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {
    constructor: CubicInterpolant,
    DefaultSettings_: {
      endingStart: ZeroCurvatureEnding,
      endingEnd: ZeroCurvatureEnding
    },
    intervalChanged_: function(i1, t0, t1) {
      var pp = this.parameterPositions,
          iPrev = i1 - 2,
          iNext = i1 + 1,
          tPrev = pp[iPrev],
          tNext = pp[iNext];
      if (tPrev === undefined) {
        switch (this.getSettings_().endingStart) {
          case ZeroSlopeEnding:
            iPrev = i1;
            tPrev = 2 * t0 - t1;
            break;
          case WrapAroundEnding:
            iPrev = pp.length - 2;
            tPrev = t0 + pp[iPrev] - pp[iPrev + 1];
            break;
          default:
            iPrev = i1;
            tPrev = t1;
        }
      }
      if (tNext === undefined) {
        switch (this.getSettings_().endingEnd) {
          case ZeroSlopeEnding:
            iNext = i1;
            tNext = 2 * t1 - t0;
            break;
          case WrapAroundEnding:
            iNext = 1;
            tNext = t1 + pp[1] - pp[0];
            break;
          default:
            iNext = i1 - 1;
            tNext = t0;
        }
      }
      var halfDt = (t1 - t0) * 0.5,
          stride = this.valueSize;
      this._weightPrev = halfDt / (t0 - tPrev);
      this._weightNext = halfDt / (tNext - t1);
      this._offsetPrev = iPrev * stride;
      this._offsetNext = iNext * stride;
    },
    interpolate_: function(i1, t0, t, t1) {
      var result = this.resultBuffer,
          values = this.sampleValues,
          stride = this.valueSize,
          o1 = i1 * stride,
          o0 = o1 - stride,
          oP = this._offsetPrev,
          oN = this._offsetNext,
          wP = this._weightPrev,
          wN = this._weightNext,
          p = (t - t0) / (t1 - t0),
          pp = p * p,
          ppp = pp * p;
      var sP = -wP * ppp + 2 * wP * pp - wP * p;
      var s0 = (1 + wP) * ppp + (-1.5 - 2 * wP) * pp + (-0.5 + wP) * p + 1;
      var s1 = (-1 - wN) * ppp + (1.5 + wN) * pp + 0.5 * p;
      var sN = wN * ppp - wN * pp;
      for (var i = 0; i !== stride; ++i) {
        result[i] = sP * values[oP + i] + s0 * values[o0 + i] + s1 * values[o1 + i] + sN * values[oN + i];
      }
      return result;
    }
  });
  function LinearInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {
    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);
  }
  LinearInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {
    constructor: LinearInterpolant,
    interpolate_: function(i1, t0, t, t1) {
      var result = this.resultBuffer,
          values = this.sampleValues,
          stride = this.valueSize,
          offset1 = i1 * stride,
          offset0 = offset1 - stride,
          weight1 = (t - t0) / (t1 - t0),
          weight0 = 1 - weight1;
      for (var i = 0; i !== stride; ++i) {
        result[i] = values[offset0 + i] * weight0 + values[offset1 + i] * weight1;
      }
      return result;
    }
  });
  function DiscreteInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {
    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);
  }
  DiscreteInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {
    constructor: DiscreteInterpolant,
    interpolate_: function(i1) {
      return this.copySampleValue_(i1 - 1);
    }
  });
  var AnimationUtils = {
    arraySlice: function(array, from, to) {
      if (AnimationUtils.isTypedArray(array)) {
        return new array.constructor(array.subarray(from, to !== undefined ? to : array.length));
      }
      return array.slice(from, to);
    },
    convertArray: function(array, type, forceClone) {
      if (!array || !forceClone && array.constructor === type)
        return array;
      if (typeof type.BYTES_PER_ELEMENT === 'number') {
        return new type(array);
      }
      return Array.prototype.slice.call(array);
    },
    isTypedArray: function(object) {
      return ArrayBuffer.isView(object) && !(object instanceof DataView);
    },
    getKeyframeOrder: function(times) {
      function compareTime(i, j) {
        return times[i] - times[j];
      }
      var n = times.length;
      var result = new Array(n);
      for (var i = 0; i !== n; ++i)
        result[i] = i;
      result.sort(compareTime);
      return result;
    },
    sortedArray: function(values, stride, order) {
      var nValues = values.length;
      var result = new values.constructor(nValues);
      for (var i = 0,
          dstOffset = 0; dstOffset !== nValues; ++i) {
        var srcOffset = order[i] * stride;
        for (var j = 0; j !== stride; ++j) {
          result[dstOffset++] = values[srcOffset + j];
        }
      }
      return result;
    },
    flattenJSON: function(jsonKeys, times, values, valuePropertyName) {
      var i = 1,
          key = jsonKeys[0];
      while (key !== undefined && key[valuePropertyName] === undefined) {
        key = jsonKeys[i++];
      }
      if (key === undefined)
        return;
      var value = key[valuePropertyName];
      if (value === undefined)
        return;
      if (Array.isArray(value)) {
        do {
          value = key[valuePropertyName];
          if (value !== undefined) {
            times.push(key.time);
            values.push.apply(values, value);
          }
          key = jsonKeys[i++];
        } while (key !== undefined);
      } else if (value.toArray !== undefined) {
        do {
          value = key[valuePropertyName];
          if (value !== undefined) {
            times.push(key.time);
            value.toArray(values, values.length);
          }
          key = jsonKeys[i++];
        } while (key !== undefined);
      } else {
        do {
          value = key[valuePropertyName];
          if (value !== undefined) {
            times.push(key.time);
            values.push(value);
          }
          key = jsonKeys[i++];
        } while (key !== undefined);
      }
    }
  };
  function KeyframeTrack(name, times, values, interpolation) {
    if (name === undefined)
      throw new Error('THREE.KeyframeTrack: track name is undefined');
    if (times === undefined || times.length === 0)
      throw new Error('THREE.KeyframeTrack: no keyframes in track named ' + name);
    this.name = name;
    this.times = AnimationUtils.convertArray(times, this.TimeBufferType);
    this.values = AnimationUtils.convertArray(values, this.ValueBufferType);
    this.setInterpolation(interpolation || this.DefaultInterpolation);
    this.validate();
    this.optimize();
  }
  Object.assign(KeyframeTrack, {
    parse: function(json) {
      if (json.type === undefined) {
        throw new Error('THREE.KeyframeTrack: track type undefined, can not parse');
      }
      var trackType = KeyframeTrack._getTrackTypeForValueTypeName(json.type);
      if (json.times === undefined) {
        var times = [],
            values = [];
        AnimationUtils.flattenJSON(json.keys, times, values, 'value');
        json.times = times;
        json.values = values;
      }
      if (trackType.parse !== undefined) {
        return trackType.parse(json);
      } else {
        return new trackType(json.name, json.times, json.values, json.interpolation);
      }
    },
    toJSON: function(track) {
      var trackType = track.constructor;
      var json;
      if (trackType.toJSON !== undefined) {
        json = trackType.toJSON(track);
      } else {
        json = {
          'name': track.name,
          'times': AnimationUtils.convertArray(track.times, Array),
          'values': AnimationUtils.convertArray(track.values, Array)
        };
        var interpolation = track.getInterpolation();
        if (interpolation !== track.DefaultInterpolation) {
          json.interpolation = interpolation;
        }
      }
      json.type = track.ValueTypeName;
      return json;
    },
    _getTrackTypeForValueTypeName: function(typeName) {
      switch (typeName.toLowerCase()) {
        case 'scalar':
        case 'double':
        case 'float':
        case 'number':
        case 'integer':
          return NumberKeyframeTrack;
        case 'vector':
        case 'vector2':
        case 'vector3':
        case 'vector4':
          return VectorKeyframeTrack;
        case 'color':
          return ColorKeyframeTrack;
        case 'quaternion':
          return QuaternionKeyframeTrack;
        case 'bool':
        case 'boolean':
          return BooleanKeyframeTrack;
        case 'string':
          return StringKeyframeTrack;
      }
      throw new Error('THREE.KeyframeTrack: Unsupported typeName: ' + typeName);
    }
  });
  Object.assign(KeyframeTrack.prototype, {
    constructor: KeyframeTrack,
    TimeBufferType: Float32Array,
    ValueBufferType: Float32Array,
    DefaultInterpolation: InterpolateLinear,
    InterpolantFactoryMethodDiscrete: function(result) {
      return new DiscreteInterpolant(this.times, this.values, this.getValueSize(), result);
    },
    InterpolantFactoryMethodLinear: function(result) {
      return new LinearInterpolant(this.times, this.values, this.getValueSize(), result);
    },
    InterpolantFactoryMethodSmooth: function(result) {
      return new CubicInterpolant(this.times, this.values, this.getValueSize(), result);
    },
    setInterpolation: function(interpolation) {
      var factoryMethod;
      switch (interpolation) {
        case InterpolateDiscrete:
          factoryMethod = this.InterpolantFactoryMethodDiscrete;
          break;
        case InterpolateLinear:
          factoryMethod = this.InterpolantFactoryMethodLinear;
          break;
        case InterpolateSmooth:
          factoryMethod = this.InterpolantFactoryMethodSmooth;
          break;
      }
      if (factoryMethod === undefined) {
        var message = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
        if (this.createInterpolant === undefined) {
          if (interpolation !== this.DefaultInterpolation) {
            this.setInterpolation(this.DefaultInterpolation);
          } else {
            throw new Error(message);
          }
        }
        console.warn('THREE.KeyframeTrack:', message);
        return;
      }
      this.createInterpolant = factoryMethod;
    },
    getInterpolation: function() {
      switch (this.createInterpolant) {
        case this.InterpolantFactoryMethodDiscrete:
          return InterpolateDiscrete;
        case this.InterpolantFactoryMethodLinear:
          return InterpolateLinear;
        case this.InterpolantFactoryMethodSmooth:
          return InterpolateSmooth;
      }
    },
    getValueSize: function() {
      return this.values.length / this.times.length;
    },
    shift: function(timeOffset) {
      if (timeOffset !== 0.0) {
        var times = this.times;
        for (var i = 0,
            n = times.length; i !== n; ++i) {
          times[i] += timeOffset;
        }
      }
      return this;
    },
    scale: function(timeScale) {
      if (timeScale !== 1.0) {
        var times = this.times;
        for (var i = 0,
            n = times.length; i !== n; ++i) {
          times[i] *= timeScale;
        }
      }
      return this;
    },
    trim: function(startTime, endTime) {
      var times = this.times,
          nKeys = times.length,
          from = 0,
          to = nKeys - 1;
      while (from !== nKeys && times[from] < startTime) {
        ++from;
      }
      while (to !== -1 && times[to] > endTime) {
        --to;
      }
      ++to;
      if (from !== 0 || to !== nKeys) {
        if (from >= to)
          to = Math.max(to, 1), from = to - 1;
        var stride = this.getValueSize();
        this.times = AnimationUtils.arraySlice(times, from, to);
        this.values = AnimationUtils.arraySlice(this.values, from * stride, to * stride);
      }
      return this;
    },
    validate: function() {
      var valid = true;
      var valueSize = this.getValueSize();
      if (valueSize - Math.floor(valueSize) !== 0) {
        console.error('THREE.KeyframeTrack: Invalid value size in track.', this);
        valid = false;
      }
      var times = this.times,
          values = this.values,
          nKeys = times.length;
      if (nKeys === 0) {
        console.error('THREE.KeyframeTrack: Track is empty.', this);
        valid = false;
      }
      var prevTime = null;
      for (var i = 0; i !== nKeys; i++) {
        var currTime = times[i];
        if (typeof currTime === 'number' && isNaN(currTime)) {
          console.error('THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime);
          valid = false;
          break;
        }
        if (prevTime !== null && prevTime > currTime) {
          console.error('THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime);
          valid = false;
          break;
        }
        prevTime = currTime;
      }
      if (values !== undefined) {
        if (AnimationUtils.isTypedArray(values)) {
          for (var i = 0,
              n = values.length; i !== n; ++i) {
            var value = values[i];
            if (isNaN(value)) {
              console.error('THREE.KeyframeTrack: Value is not a valid number.', this, i, value);
              valid = false;
              break;
            }
          }
        }
      }
      return valid;
    },
    optimize: function() {
      var times = this.times,
          values = this.values,
          stride = this.getValueSize(),
          smoothInterpolation = this.getInterpolation() === InterpolateSmooth,
          writeIndex = 1,
          lastIndex = times.length - 1;
      for (var i = 1; i < lastIndex; ++i) {
        var keep = false;
        var time = times[i];
        var timeNext = times[i + 1];
        if (time !== timeNext && (i !== 1 || time !== time[0])) {
          if (!smoothInterpolation) {
            var offset = i * stride,
                offsetP = offset - stride,
                offsetN = offset + stride;
            for (var j = 0; j !== stride; ++j) {
              var value = values[offset + j];
              if (value !== values[offsetP + j] || value !== values[offsetN + j]) {
                keep = true;
                break;
              }
            }
          } else {
            keep = true;
          }
        }
        if (keep) {
          if (i !== writeIndex) {
            times[writeIndex] = times[i];
            var readOffset = i * stride,
                writeOffset = writeIndex * stride;
            for (var j = 0; j !== stride; ++j) {
              values[writeOffset + j] = values[readOffset + j];
            }
          }
          ++writeIndex;
        }
      }
      if (lastIndex > 0) {
        times[writeIndex] = times[lastIndex];
        for (var readOffset = lastIndex * stride,
            writeOffset = writeIndex * stride,
            j = 0; j !== stride; ++j) {
          values[writeOffset + j] = values[readOffset + j];
        }
        ++writeIndex;
      }
      if (writeIndex !== times.length) {
        this.times = AnimationUtils.arraySlice(times, 0, writeIndex);
        this.values = AnimationUtils.arraySlice(values, 0, writeIndex * stride);
      }
      return this;
    }
  });
  function VectorKeyframeTrack(name, times, values, interpolation) {
    KeyframeTrack.call(this, name, times, values, interpolation);
  }
  VectorKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {
    constructor: VectorKeyframeTrack,
    ValueTypeName: 'vector'
  });
  function AnimationClip(name, duration, tracks) {
    this.name = name;
    this.tracks = tracks;
    this.duration = (duration !== undefined) ? duration : -1;
    this.uuid = _Math.generateUUID();
    if (this.duration < 0) {
      this.resetDuration();
    }
    this.optimize();
  }
  Object.assign(AnimationClip, {
    parse: function(json) {
      var tracks = [],
          jsonTracks = json.tracks,
          frameTime = 1.0 / (json.fps || 1.0);
      for (var i = 0,
          n = jsonTracks.length; i !== n; ++i) {
        tracks.push(KeyframeTrack.parse(jsonTracks[i]).scale(frameTime));
      }
      return new AnimationClip(json.name, json.duration, tracks);
    },
    toJSON: function(clip) {
      var tracks = [],
          clipTracks = clip.tracks;
      var json = {
        'name': clip.name,
        'duration': clip.duration,
        'tracks': tracks,
        'uuid': clip.uuid
      };
      for (var i = 0,
          n = clipTracks.length; i !== n; ++i) {
        tracks.push(KeyframeTrack.toJSON(clipTracks[i]));
      }
      return json;
    },
    CreateFromMorphTargetSequence: function(name, morphTargetSequence, fps, noLoop) {
      var numMorphTargets = morphTargetSequence.length;
      var tracks = [];
      for (var i = 0; i < numMorphTargets; i++) {
        var times = [];
        var values = [];
        times.push((i + numMorphTargets - 1) % numMorphTargets, i, (i + 1) % numMorphTargets);
        values.push(0, 1, 0);
        var order = AnimationUtils.getKeyframeOrder(times);
        times = AnimationUtils.sortedArray(times, 1, order);
        values = AnimationUtils.sortedArray(values, 1, order);
        if (!noLoop && times[0] === 0) {
          times.push(numMorphTargets);
          values.push(values[0]);
        }
        tracks.push(new NumberKeyframeTrack('.morphTargetInfluences[' + morphTargetSequence[i].name + ']', times, values).scale(1.0 / fps));
      }
      return new AnimationClip(name, -1, tracks);
    },
    findByName: function(objectOrClipArray, name) {
      var clipArray = objectOrClipArray;
      if (!Array.isArray(objectOrClipArray)) {
        var o = objectOrClipArray;
        clipArray = o.geometry && o.geometry.animations || o.animations;
      }
      for (var i = 0; i < clipArray.length; i++) {
        if (clipArray[i].name === name) {
          return clipArray[i];
        }
      }
      return null;
    },
    CreateClipsFromMorphTargetSequences: function(morphTargets, fps, noLoop) {
      var animationToMorphTargets = {};
      var pattern = /^([\w-]*?)([\d]+)$/;
      for (var i = 0,
          il = morphTargets.length; i < il; i++) {
        var morphTarget = morphTargets[i];
        var parts = morphTarget.name.match(pattern);
        if (parts && parts.length > 1) {
          var name = parts[1];
          var animationMorphTargets = animationToMorphTargets[name];
          if (!animationMorphTargets) {
            animationToMorphTargets[name] = animationMorphTargets = [];
          }
          animationMorphTargets.push(morphTarget);
        }
      }
      var clips = [];
      for (var name in animationToMorphTargets) {
        clips.push(AnimationClip.CreateFromMorphTargetSequence(name, animationToMorphTargets[name], fps, noLoop));
      }
      return clips;
    },
    parseAnimation: function(animation, bones) {
      if (!animation) {
        console.error('THREE.AnimationClip: No animation in JSONLoader data.');
        return null;
      }
      var addNonemptyTrack = function(trackType, trackName, animationKeys, propertyName, destTracks) {
        if (animationKeys.length !== 0) {
          var times = [];
          var values = [];
          AnimationUtils.flattenJSON(animationKeys, times, values, propertyName);
          if (times.length !== 0) {
            destTracks.push(new trackType(trackName, times, values));
          }
        }
      };
      var tracks = [];
      var clipName = animation.name || 'default';
      var duration = animation.length || -1;
      var fps = animation.fps || 30;
      var hierarchyTracks = animation.hierarchy || [];
      for (var h = 0; h < hierarchyTracks.length; h++) {
        var animationKeys = hierarchyTracks[h].keys;
        if (!animationKeys || animationKeys.length === 0)
          continue;
        if (animationKeys[0].morphTargets) {
          var morphTargetNames = {};
          for (var k = 0; k < animationKeys.length; k++) {
            if (animationKeys[k].morphTargets) {
              for (var m = 0; m < animationKeys[k].morphTargets.length; m++) {
                morphTargetNames[animationKeys[k].morphTargets[m]] = -1;
              }
            }
          }
          for (var morphTargetName in morphTargetNames) {
            var times = [];
            var values = [];
            for (var m = 0; m !== animationKeys[k].morphTargets.length; ++m) {
              var animationKey = animationKeys[k];
              times.push(animationKey.time);
              values.push((animationKey.morphTarget === morphTargetName) ? 1 : 0);
            }
            tracks.push(new NumberKeyframeTrack('.morphTargetInfluence[' + morphTargetName + ']', times, values));
          }
          duration = morphTargetNames.length * (fps || 1.0);
        } else {
          var boneName = '.bones[' + bones[h].name + ']';
          addNonemptyTrack(VectorKeyframeTrack, boneName + '.position', animationKeys, 'pos', tracks);
          addNonemptyTrack(QuaternionKeyframeTrack, boneName + '.quaternion', animationKeys, 'rot', tracks);
          addNonemptyTrack(VectorKeyframeTrack, boneName + '.scale', animationKeys, 'scl', tracks);
        }
      }
      if (tracks.length === 0) {
        return null;
      }
      var clip = new AnimationClip(clipName, duration, tracks);
      return clip;
    }
  });
  Object.assign(AnimationClip.prototype, {
    resetDuration: function() {
      var tracks = this.tracks,
          duration = 0;
      for (var i = 0,
          n = tracks.length; i !== n; ++i) {
        var track = this.tracks[i];
        duration = Math.max(duration, track.times[track.times.length - 1]);
      }
      this.duration = duration;
    },
    trim: function() {
      for (var i = 0; i < this.tracks.length; i++) {
        this.tracks[i].trim(0, this.duration);
      }
      return this;
    },
    optimize: function() {
      for (var i = 0; i < this.tracks.length; i++) {
        this.tracks[i].optimize();
      }
      return this;
    }
  });
  function MaterialLoader(manager) {
    this.manager = (manager !== undefined) ? manager : DefaultLoadingManager;
    this.textures = {};
  }
  Object.assign(MaterialLoader.prototype, {
    load: function(url, onLoad, onProgress, onError) {
      var scope = this;
      var loader = new FileLoader(scope.manager);
      loader.load(url, function(text) {
        onLoad(scope.parse(JSON.parse(text)));
      }, onProgress, onError);
    },
    setTextures: function(value) {
      this.textures = value;
    },
    parse: function(json) {
      var textures = this.textures;
      function getTexture(name) {
        if (textures[name] === undefined) {
          console.warn('THREE.MaterialLoader: Undefined texture', name);
        }
        return textures[name];
      }
      var material = new Materials[json.type]();
      if (json.uuid !== undefined)
        material.uuid = json.uuid;
      if (json.name !== undefined)
        material.name = json.name;
      if (json.color !== undefined)
        material.color.setHex(json.color);
      if (json.roughness !== undefined)
        material.roughness = json.roughness;
      if (json.metalness !== undefined)
        material.metalness = json.metalness;
      if (json.emissive !== undefined)
        material.emissive.setHex(json.emissive);
      if (json.specular !== undefined)
        material.specular.setHex(json.specular);
      if (json.shininess !== undefined)
        material.shininess = json.shininess;
      if (json.clearCoat !== undefined)
        material.clearCoat = json.clearCoat;
      if (json.clearCoatRoughness !== undefined)
        material.clearCoatRoughness = json.clearCoatRoughness;
      if (json.uniforms !== undefined)
        material.uniforms = json.uniforms;
      if (json.vertexShader !== undefined)
        material.vertexShader = json.vertexShader;
      if (json.fragmentShader !== undefined)
        material.fragmentShader = json.fragmentShader;
      if (json.vertexColors !== undefined)
        material.vertexColors = json.vertexColors;
      if (json.fog !== undefined)
        material.fog = json.fog;
      if (json.flatShading !== undefined)
        material.flatShading = json.flatShading;
      if (json.blending !== undefined)
        material.blending = json.blending;
      if (json.side !== undefined)
        material.side = json.side;
      if (json.opacity !== undefined)
        material.opacity = json.opacity;
      if (json.transparent !== undefined)
        material.transparent = json.transparent;
      if (json.alphaTest !== undefined)
        material.alphaTest = json.alphaTest;
      if (json.depthTest !== undefined)
        material.depthTest = json.depthTest;
      if (json.depthWrite !== undefined)
        material.depthWrite = json.depthWrite;
      if (json.colorWrite !== undefined)
        material.colorWrite = json.colorWrite;
      if (json.wireframe !== undefined)
        material.wireframe = json.wireframe;
      if (json.wireframeLinewidth !== undefined)
        material.wireframeLinewidth = json.wireframeLinewidth;
      if (json.wireframeLinecap !== undefined)
        material.wireframeLinecap = json.wireframeLinecap;
      if (json.wireframeLinejoin !== undefined)
        material.wireframeLinejoin = json.wireframeLinejoin;
      if (json.rotation !== undefined)
        material.rotation = json.rotation;
      if (json.linewidth !== 1)
        material.linewidth = json.linewidth;
      if (json.dashSize !== undefined)
        material.dashSize = json.dashSize;
      if (json.gapSize !== undefined)
        material.gapSize = json.gapSize;
      if (json.scale !== undefined)
        material.scale = json.scale;
      if (json.polygonOffset !== undefined)
        material.polygonOffset = json.polygonOffset;
      if (json.polygonOffsetFactor !== undefined)
        material.polygonOffsetFactor = json.polygonOffsetFactor;
      if (json.polygonOffsetUnits !== undefined)
        material.polygonOffsetUnits = json.polygonOffsetUnits;
      if (json.skinning !== undefined)
        material.skinning = json.skinning;
      if (json.morphTargets !== undefined)
        material.morphTargets = json.morphTargets;
      if (json.dithering !== undefined)
        material.dithering = json.dithering;
      if (json.visible !== undefined)
        material.visible = json.visible;
      if (json.userData !== undefined)
        material.userData = json.userData;
      if (json.shading !== undefined)
        material.flatShading = json.shading === 1;
      if (json.size !== undefined)
        material.size = json.size;
      if (json.sizeAttenuation !== undefined)
        material.sizeAttenuation = json.sizeAttenuation;
      if (json.map !== undefined)
        material.map = getTexture(json.map);
      if (json.alphaMap !== undefined) {
        material.alphaMap = getTexture(json.alphaMap);
        material.transparent = true;
      }
      if (json.bumpMap !== undefined)
        material.bumpMap = getTexture(json.bumpMap);
      if (json.bumpScale !== undefined)
        material.bumpScale = json.bumpScale;
      if (json.normalMap !== undefined)
        material.normalMap = getTexture(json.normalMap);
      if (json.normalMapType !== undefined)
        material.normalMapType = json.normalMapType;
      if (json.normalScale !== undefined) {
        var normalScale = json.normalScale;
        if (Array.isArray(normalScale) === false) {
          normalScale = [normalScale, normalScale];
        }
        material.normalScale = new Vector2().fromArray(normalScale);
      }
      if (json.displacementMap !== undefined)
        material.displacementMap = getTexture(json.displacementMap);
      if (json.displacementScale !== undefined)
        material.displacementScale = json.displacementScale;
      if (json.displacementBias !== undefined)
        material.displacementBias = json.displacementBias;
      if (json.roughnessMap !== undefined)
        material.roughnessMap = getTexture(json.roughnessMap);
      if (json.metalnessMap !== undefined)
        material.metalnessMap = getTexture(json.metalnessMap);
      if (json.emissiveMap !== undefined)
        material.emissiveMap = getTexture(json.emissiveMap);
      if (json.emissiveIntensity !== undefined)
        material.emissiveIntensity = json.emissiveIntensity;
      if (json.specularMap !== undefined)
        material.specularMap = getTexture(json.specularMap);
      if (json.envMap !== undefined)
        material.envMap = getTexture(json.envMap);
      if (json.reflectivity !== undefined)
        material.reflectivity = json.reflectivity;
      if (json.lightMap !== undefined)
        material.lightMap = getTexture(json.lightMap);
      if (json.lightMapIntensity !== undefined)
        material.lightMapIntensity = json.lightMapIntensity;
      if (json.aoMap !== undefined)
        material.aoMap = getTexture(json.aoMap);
      if (json.aoMapIntensity !== undefined)
        material.aoMapIntensity = json.aoMapIntensity;
      if (json.gradientMap !== undefined)
        material.gradientMap = getTexture(json.gradientMap);
      return material;
    }
  });
  function BufferGeometryLoader(manager) {
    this.manager = (manager !== undefined) ? manager : DefaultLoadingManager;
  }
  Object.assign(BufferGeometryLoader.prototype, {
    load: function(url, onLoad, onProgress, onError) {
      var scope = this;
      var loader = new FileLoader(scope.manager);
      loader.load(url, function(text) {
        onLoad(scope.parse(JSON.parse(text)));
      }, onProgress, onError);
    },
    parse: function(json) {
      var geometry = new BufferGeometry();
      var index = json.data.index;
      if (index !== undefined) {
        var typedArray = new TYPED_ARRAYS[index.type](index.array);
        geometry.setIndex(new BufferAttribute(typedArray, 1));
      }
      var attributes = json.data.attributes;
      for (var key in attributes) {
        var attribute = attributes[key];
        var typedArray = new TYPED_ARRAYS[attribute.type](attribute.array);
        geometry.addAttribute(key, new BufferAttribute(typedArray, attribute.itemSize, attribute.normalized));
      }
      var groups = json.data.groups || json.data.drawcalls || json.data.offsets;
      if (groups !== undefined) {
        for (var i = 0,
            n = groups.length; i !== n; ++i) {
          var group = groups[i];
          geometry.addGroup(group.start, group.count, group.materialIndex);
        }
      }
      var boundingSphere = json.data.boundingSphere;
      if (boundingSphere !== undefined) {
        var center = new Vector3();
        if (boundingSphere.center !== undefined) {
          center.fromArray(boundingSphere.center);
        }
        geometry.boundingSphere = new Sphere(center, boundingSphere.radius);
      }
      return geometry;
    }
  });
  var TYPED_ARRAYS = {
    Int8Array: Int8Array,
    Uint8Array: Uint8Array,
    Uint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,
    Int16Array: Int16Array,
    Uint16Array: Uint16Array,
    Int32Array: Int32Array,
    Uint32Array: Uint32Array,
    Float32Array: Float32Array,
    Float64Array: Float64Array
  };
  function Loader() {}
  Loader.Handlers = {
    handlers: [],
    add: function(regex, loader) {
      this.handlers.push(regex, loader);
    },
    get: function(file) {
      var handlers = this.handlers;
      for (var i = 0,
          l = handlers.length; i < l; i += 2) {
        var regex = handlers[i];
        var loader = handlers[i + 1];
        if (regex.test(file)) {
          return loader;
        }
      }
      return null;
    }
  };
  Object.assign(Loader.prototype, {
    crossOrigin: 'anonymous',
    onLoadStart: function() {},
    onLoadProgress: function() {},
    onLoadComplete: function() {},
    initMaterials: function(materials, texturePath, crossOrigin) {
      var array = [];
      for (var i = 0; i < materials.length; ++i) {
        array[i] = this.createMaterial(materials[i], texturePath, crossOrigin);
      }
      return array;
    },
    createMaterial: (function() {
      var BlendingMode = {
        NoBlending: NoBlending,
        NormalBlending: NormalBlending,
        AdditiveBlending: AdditiveBlending,
        SubtractiveBlending: SubtractiveBlending,
        MultiplyBlending: MultiplyBlending,
        CustomBlending: CustomBlending
      };
      var color = new Color();
      var textureLoader = new TextureLoader();
      var materialLoader = new MaterialLoader();
      return function createMaterial(m, texturePath, crossOrigin) {
        var textures = {};
        function loadTexture(path, repeat, offset, wrap, anisotropy) {
          var fullPath = texturePath + path;
          var loader = Loader.Handlers.get(fullPath);
          var texture;
          if (loader !== null) {
            texture = loader.load(fullPath);
          } else {
            textureLoader.setCrossOrigin(crossOrigin);
            texture = textureLoader.load(fullPath);
          }
          if (repeat !== undefined) {
            texture.repeat.fromArray(repeat);
            if (repeat[0] !== 1)
              texture.wrapS = RepeatWrapping;
            if (repeat[1] !== 1)
              texture.wrapT = RepeatWrapping;
          }
          if (offset !== undefined) {
            texture.offset.fromArray(offset);
          }
          if (wrap !== undefined) {
            if (wrap[0] === 'repeat')
              texture.wrapS = RepeatWrapping;
            if (wrap[0] === 'mirror')
              texture.wrapS = MirroredRepeatWrapping;
            if (wrap[1] === 'repeat')
              texture.wrapT = RepeatWrapping;
            if (wrap[1] === 'mirror')
              texture.wrapT = MirroredRepeatWrapping;
          }
          if (anisotropy !== undefined) {
            texture.anisotropy = anisotropy;
          }
          var uuid = _Math.generateUUID();
          textures[uuid] = texture;
          return uuid;
        }
        var json = {
          uuid: _Math.generateUUID(),
          type: 'MeshLambertMaterial'
        };
        for (var name in m) {
          var value = m[name];
          switch (name) {
            case 'DbgColor':
            case 'DbgIndex':
            case 'opticalDensity':
            case 'illumination':
              break;
            case 'DbgName':
              json.name = value;
              break;
            case 'blending':
              json.blending = BlendingMode[value];
              break;
            case 'colorAmbient':
            case 'mapAmbient':
              console.warn('THREE.Loader.createMaterial:', name, 'is no longer supported.');
              break;
            case 'colorDiffuse':
              json.color = color.fromArray(value).getHex();
              break;
            case 'colorSpecular':
              json.specular = color.fromArray(value).getHex();
              break;
            case 'colorEmissive':
              json.emissive = color.fromArray(value).getHex();
              break;
            case 'specularCoef':
              json.shininess = value;
              break;
            case 'shading':
              if (value.toLowerCase() === 'basic')
                json.type = 'MeshBasicMaterial';
              if (value.toLowerCase() === 'phong')
                json.type = 'MeshPhongMaterial';
              if (value.toLowerCase() === 'standard')
                json.type = 'MeshStandardMaterial';
              break;
            case 'mapDiffuse':
              json.map = loadTexture(value, m.mapDiffuseRepeat, m.mapDiffuseOffset, m.mapDiffuseWrap, m.mapDiffuseAnisotropy);
              break;
            case 'mapDiffuseRepeat':
            case 'mapDiffuseOffset':
            case 'mapDiffuseWrap':
            case 'mapDiffuseAnisotropy':
              break;
            case 'mapEmissive':
              json.emissiveMap = loadTexture(value, m.mapEmissiveRepeat, m.mapEmissiveOffset, m.mapEmissiveWrap, m.mapEmissiveAnisotropy);
              break;
            case 'mapEmissiveRepeat':
            case 'mapEmissiveOffset':
            case 'mapEmissiveWrap':
            case 'mapEmissiveAnisotropy':
              break;
            case 'mapLight':
              json.lightMap = loadTexture(value, m.mapLightRepeat, m.mapLightOffset, m.mapLightWrap, m.mapLightAnisotropy);
              break;
            case 'mapLightRepeat':
            case 'mapLightOffset':
            case 'mapLightWrap':
            case 'mapLightAnisotropy':
              break;
            case 'mapAO':
              json.aoMap = loadTexture(value, m.mapAORepeat, m.mapAOOffset, m.mapAOWrap, m.mapAOAnisotropy);
              break;
            case 'mapAORepeat':
            case 'mapAOOffset':
            case 'mapAOWrap':
            case 'mapAOAnisotropy':
              break;
            case 'mapBump':
              json.bumpMap = loadTexture(value, m.mapBumpRepeat, m.mapBumpOffset, m.mapBumpWrap, m.mapBumpAnisotropy);
              break;
            case 'mapBumpScale':
              json.bumpScale = value;
              break;
            case 'mapBumpRepeat':
            case 'mapBumpOffset':
            case 'mapBumpWrap':
            case 'mapBumpAnisotropy':
              break;
            case 'mapNormal':
              json.normalMap = loadTexture(value, m.mapNormalRepeat, m.mapNormalOffset, m.mapNormalWrap, m.mapNormalAnisotropy);
              break;
            case 'mapNormalFactor':
              json.normalScale = value;
              break;
            case 'mapNormalRepeat':
            case 'mapNormalOffset':
            case 'mapNormalWrap':
            case 'mapNormalAnisotropy':
              break;
            case 'mapSpecular':
              json.specularMap = loadTexture(value, m.mapSpecularRepeat, m.mapSpecularOffset, m.mapSpecularWrap, m.mapSpecularAnisotropy);
              break;
            case 'mapSpecularRepeat':
            case 'mapSpecularOffset':
            case 'mapSpecularWrap':
            case 'mapSpecularAnisotropy':
              break;
            case 'mapMetalness':
              json.metalnessMap = loadTexture(value, m.mapMetalnessRepeat, m.mapMetalnessOffset, m.mapMetalnessWrap, m.mapMetalnessAnisotropy);
              break;
            case 'mapMetalnessRepeat':
            case 'mapMetalnessOffset':
            case 'mapMetalnessWrap':
            case 'mapMetalnessAnisotropy':
              break;
            case 'mapRoughness':
              json.roughnessMap = loadTexture(value, m.mapRoughnessRepeat, m.mapRoughnessOffset, m.mapRoughnessWrap, m.mapRoughnessAnisotropy);
              break;
            case 'mapRoughnessRepeat':
            case 'mapRoughnessOffset':
            case 'mapRoughnessWrap':
            case 'mapRoughnessAnisotropy':
              break;
            case 'mapAlpha':
              json.alphaMap = loadTexture(value, m.mapAlphaRepeat, m.mapAlphaOffset, m.mapAlphaWrap, m.mapAlphaAnisotropy);
              break;
            case 'mapAlphaRepeat':
            case 'mapAlphaOffset':
            case 'mapAlphaWrap':
            case 'mapAlphaAnisotropy':
              break;
            case 'flipSided':
              json.side = BackSide;
              break;
            case 'doubleSided':
              json.side = DoubleSide;
              break;
            case 'transparency':
              console.warn('THREE.Loader.createMaterial: transparency has been renamed to opacity');
              json.opacity = value;
              break;
            case 'depthTest':
            case 'depthWrite':
            case 'colorWrite':
            case 'opacity':
            case 'reflectivity':
            case 'transparent':
            case 'visible':
            case 'wireframe':
              json[name] = value;
              break;
            case 'vertexColors':
              if (value === true)
                json.vertexColors = VertexColors;
              if (value === 'face')
                json.vertexColors = FaceColors;
              break;
            default:
              console.error('THREE.Loader.createMaterial: Unsupported', name, value);
              break;
          }
        }
        if (json.type === 'MeshBasicMaterial')
          delete json.emissive;
        if (json.type !== 'MeshPhongMaterial')
          delete json.specular;
        if (json.opacity < 1)
          json.transparent = true;
        materialLoader.setTextures(textures);
        return materialLoader.parse(json);
      };
    })()
  });
  var LoaderUtils = {
    decodeText: function(array) {
      if (typeof TextDecoder !== 'undefined') {
        return new TextDecoder().decode(array);
      }
      var s = '';
      for (var i = 0,
          il = array.length; i < il; i++) {
        s += String.fromCharCode(array[i]);
      }
      return decodeURIComponent(escape(s));
    },
    extractUrlBase: function(url) {
      var index = url.lastIndexOf('/');
      if (index === -1)
        return './';
      return url.substr(0, index + 1);
    }
  };
  function JSONLoader(manager) {
    if (typeof manager === 'boolean') {
      console.warn('THREE.JSONLoader: showStatus parameter has been removed from constructor.');
      manager = undefined;
    }
    this.manager = (manager !== undefined) ? manager : DefaultLoadingManager;
    this.withCredentials = false;
  }
  Object.assign(JSONLoader.prototype, {
    crossOrigin: 'anonymous',
    load: function(url, onLoad, onProgress, onError) {
      var scope = this;
      var texturePath = this.texturePath && (typeof this.texturePath === 'string') ? this.texturePath : LoaderUtils.extractUrlBase(url);
      var loader = new FileLoader(this.manager);
      loader.setWithCredentials(this.withCredentials);
      loader.load(url, function(text) {
        var json = JSON.parse(text);
        var metadata = json.metadata;
        if (metadata !== undefined) {
          var type = metadata.type;
          if (type !== undefined) {
            if (type.toLowerCase() === 'object') {
              console.error('THREE.JSONLoader: ' + url + ' should be loaded with THREE.ObjectLoader instead.');
              return;
            }
          }
        }
        var object = scope.parse(json, texturePath);
        onLoad(object.geometry, object.materials);
      }, onProgress, onError);
    },
    setCrossOrigin: function(value) {
      this.crossOrigin = value;
      return this;
    },
    setTexturePath: function(value) {
      this.texturePath = value;
      return this;
    },
    parse: (function() {
      function parseModel(json, geometry) {
        function isBitSet(value, position) {
          return value & (1 << position);
        }
        var i,
            j,
            fi,
            offset,
            zLength,
            colorIndex,
            normalIndex,
            uvIndex,
            materialIndex,
            type,
            isQuad,
            hasMaterial,
            hasFaceVertexUv,
            hasFaceNormal,
            hasFaceVertexNormal,
            hasFaceColor,
            hasFaceVertexColor,
            vertex,
            face,
            faceA,
            faceB,
            hex,
            normal,
            uvLayer,
            uv,
            u,
            v,
            faces = json.faces,
            vertices = json.vertices,
            normals = json.normals,
            colors = json.colors,
            scale = json.scale,
            nUvLayers = 0;
        if (json.uvs !== undefined) {
          for (i = 0; i < json.uvs.length; i++) {
            if (json.uvs[i].length)
              nUvLayers++;
          }
          for (i = 0; i < nUvLayers; i++) {
            geometry.faceVertexUvs[i] = [];
          }
        }
        offset = 0;
        zLength = vertices.length;
        while (offset < zLength) {
          vertex = new Vector3();
          vertex.x = vertices[offset++] * scale;
          vertex.y = vertices[offset++] * scale;
          vertex.z = vertices[offset++] * scale;
          geometry.vertices.push(vertex);
        }
        offset = 0;
        zLength = faces.length;
        while (offset < zLength) {
          type = faces[offset++];
          isQuad = isBitSet(type, 0);
          hasMaterial = isBitSet(type, 1);
          hasFaceVertexUv = isBitSet(type, 3);
          hasFaceNormal = isBitSet(type, 4);
          hasFaceVertexNormal = isBitSet(type, 5);
          hasFaceColor = isBitSet(type, 6);
          hasFaceVertexColor = isBitSet(type, 7);
          if (isQuad) {
            faceA = new Face3();
            faceA.a = faces[offset];
            faceA.b = faces[offset + 1];
            faceA.c = faces[offset + 3];
            faceB = new Face3();
            faceB.a = faces[offset + 1];
            faceB.b = faces[offset + 2];
            faceB.c = faces[offset + 3];
            offset += 4;
            if (hasMaterial) {
              materialIndex = faces[offset++];
              faceA.materialIndex = materialIndex;
              faceB.materialIndex = materialIndex;
            }
            fi = geometry.faces.length;
            if (hasFaceVertexUv) {
              for (i = 0; i < nUvLayers; i++) {
                uvLayer = json.uvs[i];
                geometry.faceVertexUvs[i][fi] = [];
                geometry.faceVertexUvs[i][fi + 1] = [];
                for (j = 0; j < 4; j++) {
                  uvIndex = faces[offset++];
                  u = uvLayer[uvIndex * 2];
                  v = uvLayer[uvIndex * 2 + 1];
                  uv = new Vector2(u, v);
                  if (j !== 2)
                    geometry.faceVertexUvs[i][fi].push(uv);
                  if (j !== 0)
                    geometry.faceVertexUvs[i][fi + 1].push(uv);
                }
              }
            }
            if (hasFaceNormal) {
              normalIndex = faces[offset++] * 3;
              faceA.normal.set(normals[normalIndex++], normals[normalIndex++], normals[normalIndex]);
              faceB.normal.copy(faceA.normal);
            }
            if (hasFaceVertexNormal) {
              for (i = 0; i < 4; i++) {
                normalIndex = faces[offset++] * 3;
                normal = new Vector3(normals[normalIndex++], normals[normalIndex++], normals[normalIndex]);
                if (i !== 2)
                  faceA.vertexNormals.push(normal);
                if (i !== 0)
                  faceB.vertexNormals.push(normal);
              }
            }
            if (hasFaceColor) {
              colorIndex = faces[offset++];
              hex = colors[colorIndex];
              faceA.color.setHex(hex);
              faceB.color.setHex(hex);
            }
            if (hasFaceVertexColor) {
              for (i = 0; i < 4; i++) {
                colorIndex = faces[offset++];
                hex = colors[colorIndex];
                if (i !== 2)
                  faceA.vertexColors.push(new Color(hex));
                if (i !== 0)
                  faceB.vertexColors.push(new Color(hex));
              }
            }
            geometry.faces.push(faceA);
            geometry.faces.push(faceB);
          } else {
            face = new Face3();
            face.a = faces[offset++];
            face.b = faces[offset++];
            face.c = faces[offset++];
            if (hasMaterial) {
              materialIndex = faces[offset++];
              face.materialIndex = materialIndex;
            }
            fi = geometry.faces.length;
            if (hasFaceVertexUv) {
              for (i = 0; i < nUvLayers; i++) {
                uvLayer = json.uvs[i];
                geometry.faceVertexUvs[i][fi] = [];
                for (j = 0; j < 3; j++) {
                  uvIndex = faces[offset++];
                  u = uvLayer[uvIndex * 2];
                  v = uvLayer[uvIndex * 2 + 1];
                  uv = new Vector2(u, v);
                  geometry.faceVertexUvs[i][fi].push(uv);
                }
              }
            }
            if (hasFaceNormal) {
              normalIndex = faces[offset++] * 3;
              face.normal.set(normals[normalIndex++], normals[normalIndex++], normals[normalIndex]);
            }
            if (hasFaceVertexNormal) {
              for (i = 0; i < 3; i++) {
                normalIndex = faces[offset++] * 3;
                normal = new Vector3(normals[normalIndex++], normals[normalIndex++], normals[normalIndex]);
                face.vertexNormals.push(normal);
              }
            }
            if (hasFaceColor) {
              colorIndex = faces[offset++];
              face.color.setHex(colors[colorIndex]);
            }
            if (hasFaceVertexColor) {
              for (i = 0; i < 3; i++) {
                colorIndex = faces[offset++];
                face.vertexColors.push(new Color(colors[colorIndex]));
              }
            }
            geometry.faces.push(face);
          }
        }
      }
      function parseSkin(json, geometry) {
        var influencesPerVertex = (json.influencesPerVertex !== undefined) ? json.influencesPerVertex : 2;
        if (json.skinWeights) {
          for (var i = 0,
              l = json.skinWeights.length; i < l; i += influencesPerVertex) {
            var x = json.skinWeights[i];
            var y = (influencesPerVertex > 1) ? json.skinWeights[i + 1] : 0;
            var z = (influencesPerVertex > 2) ? json.skinWeights[i + 2] : 0;
            var w = (influencesPerVertex > 3) ? json.skinWeights[i + 3] : 0;
            geometry.skinWeights.push(new Vector4(x, y, z, w));
          }
        }
        if (json.skinIndices) {
          for (var i = 0,
              l = json.skinIndices.length; i < l; i += influencesPerVertex) {
            var a = json.skinIndices[i];
            var b = (influencesPerVertex > 1) ? json.skinIndices[i + 1] : 0;
            var c = (influencesPerVertex > 2) ? json.skinIndices[i + 2] : 0;
            var d = (influencesPerVertex > 3) ? json.skinIndices[i + 3] : 0;
            geometry.skinIndices.push(new Vector4(a, b, c, d));
          }
        }
        geometry.bones = json.bones;
        if (geometry.bones && geometry.bones.length > 0 && (geometry.skinWeights.length !== geometry.skinIndices.length || geometry.skinIndices.length !== geometry.vertices.length)) {
          console.warn('When skinning, number of vertices (' + geometry.vertices.length + '), skinIndices (' + geometry.skinIndices.length + '), and skinWeights (' + geometry.skinWeights.length + ') should match.');
        }
      }
      function parseMorphing(json, geometry) {
        var scale = json.scale;
        if (json.morphTargets !== undefined) {
          for (var i = 0,
              l = json.morphTargets.length; i < l; i++) {
            geometry.morphTargets[i] = {};
            geometry.morphTargets[i].name = json.morphTargets[i].name;
            geometry.morphTargets[i].vertices = [];
            var dstVertices = geometry.morphTargets[i].vertices;
            var srcVertices = json.morphTargets[i].vertices;
            for (var v = 0,
                vl = srcVertices.length; v < vl; v += 3) {
              var vertex = new Vector3();
              vertex.x = srcVertices[v] * scale;
              vertex.y = srcVertices[v + 1] * scale;
              vertex.z = srcVertices[v + 2] * scale;
              dstVertices.push(vertex);
            }
          }
        }
        if (json.morphColors !== undefined && json.morphColors.length > 0) {
          console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');
          var faces = geometry.faces;
          var morphColors = json.morphColors[0].colors;
          for (var i = 0,
              l = faces.length; i < l; i++) {
            faces[i].color.fromArray(morphColors, i * 3);
          }
        }
      }
      function parseAnimations(json, geometry) {
        var outputAnimations = [];
        var animations = [];
        if (json.animation !== undefined) {
          animations.push(json.animation);
        }
        if (json.animations !== undefined) {
          if (json.animations.length) {
            animations = animations.concat(json.animations);
          } else {
            animations.push(json.animations);
          }
        }
        for (var i = 0; i < animations.length; i++) {
          var clip = AnimationClip.parseAnimation(animations[i], geometry.bones);
          if (clip)
            outputAnimations.push(clip);
        }
        if (geometry.morphTargets) {
          var morphAnimationClips = AnimationClip.CreateClipsFromMorphTargetSequences(geometry.morphTargets, 10);
          outputAnimations = outputAnimations.concat(morphAnimationClips);
        }
        if (outputAnimations.length > 0)
          geometry.animations = outputAnimations;
      }
      return function parse(json, texturePath) {
        if (json.data !== undefined) {
          json = json.data;
        }
        if (json.scale !== undefined) {
          json.scale = 1.0 / json.scale;
        } else {
          json.scale = 1.0;
        }
        var geometry = new Geometry();
        parseModel(json, geometry);
        parseSkin(json, geometry);
        parseMorphing(json, geometry);
        parseAnimations(json, geometry);
        geometry.computeFaceNormals();
        geometry.computeBoundingSphere();
        if (json.materials === undefined || json.materials.length === 0) {
          return {geometry: geometry};
        } else {
          var materials = Loader.prototype.initMaterials(json.materials, texturePath, this.crossOrigin);
          return {
            geometry: geometry,
            materials: materials
          };
        }
      };
    })()
  });
  function ObjectLoader(manager) {
    this.manager = (manager !== undefined) ? manager : DefaultLoadingManager;
    this.texturePath = '';
  }
  Object.assign(ObjectLoader.prototype, {
    crossOrigin: 'anonymous',
    load: function(url, onLoad, onProgress, onError) {
      if (this.texturePath === '') {
        this.texturePath = url.substring(0, url.lastIndexOf('/') + 1);
      }
      var scope = this;
      var loader = new FileLoader(scope.manager);
      loader.load(url, function(text) {
        var json = null;
        try {
          json = JSON.parse(text);
        } catch (error) {
          if (onError !== undefined)
            onError(error);
          console.error('THREE:ObjectLoader: Can\'t parse ' + url + '.', error.message);
          return;
        }
        var metadata = json.metadata;
        if (metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry') {
          console.error('THREE.ObjectLoader: Can\'t load ' + url + '. Use THREE.JSONLoader instead.');
          return;
        }
        scope.parse(json, onLoad);
      }, onProgress, onError);
    },
    setTexturePath: function(value) {
      this.texturePath = value;
      return this;
    },
    setCrossOrigin: function(value) {
      this.crossOrigin = value;
      return this;
    },
    parse: function(json, onLoad) {
      var shapes = this.parseShape(json.shapes);
      var geometries = this.parseGeometries(json.geometries, shapes);
      var images = this.parseImages(json.images, function() {
        if (onLoad !== undefined)
          onLoad(object);
      });
      var textures = this.parseTextures(json.textures, images);
      var materials = this.parseMaterials(json.materials, textures);
      var object = this.parseObject(json.object, geometries, materials);
      if (json.animations) {
        object.animations = this.parseAnimations(json.animations);
      }
      if (json.images === undefined || json.images.length === 0) {
        if (onLoad !== undefined)
          onLoad(object);
      }
      return object;
    },
    parseShape: function(json) {
      var shapes = {};
      if (json !== undefined) {
        for (var i = 0,
            l = json.length; i < l; i++) {
          var shape = new Shape().fromJSON(json[i]);
          shapes[shape.uuid] = shape;
        }
      }
      return shapes;
    },
    parseGeometries: function(json, shapes) {
      var geometries = {};
      if (json !== undefined) {
        var geometryLoader = new JSONLoader();
        var bufferGeometryLoader = new BufferGeometryLoader();
        for (var i = 0,
            l = json.length; i < l; i++) {
          var geometry;
          var data = json[i];
          switch (data.type) {
            case 'PlaneGeometry':
            case 'PlaneBufferGeometry':
              geometry = new Geometries[data.type](data.width, data.height, data.widthSegments, data.heightSegments);
              break;
            case 'BoxGeometry':
            case 'BoxBufferGeometry':
            case 'CubeGeometry':
              geometry = new Geometries[data.type](data.width, data.height, data.depth, data.widthSegments, data.heightSegments, data.depthSegments);
              break;
            case 'CircleGeometry':
            case 'CircleBufferGeometry':
              geometry = new Geometries[data.type](data.radius, data.segments, data.thetaStart, data.thetaLength);
              break;
            case 'CylinderGeometry':
            case 'CylinderBufferGeometry':
              geometry = new Geometries[data.type](data.radiusTop, data.radiusBottom, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);
              break;
            case 'ConeGeometry':
            case 'ConeBufferGeometry':
              geometry = new Geometries[data.type](data.radius, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);
              break;
            case 'SphereGeometry':
            case 'SphereBufferGeometry':
              geometry = new Geometries[data.type](data.radius, data.widthSegments, data.heightSegments, data.phiStart, data.phiLength, data.thetaStart, data.thetaLength);
              break;
            case 'DodecahedronGeometry':
            case 'DodecahedronBufferGeometry':
            case 'IcosahedronGeometry':
            case 'IcosahedronBufferGeometry':
            case 'OctahedronGeometry':
            case 'OctahedronBufferGeometry':
            case 'TetrahedronGeometry':
            case 'TetrahedronBufferGeometry':
              geometry = new Geometries[data.type](data.radius, data.detail);
              break;
            case 'RingGeometry':
            case 'RingBufferGeometry':
              geometry = new Geometries[data.type](data.innerRadius, data.outerRadius, data.thetaSegments, data.phiSegments, data.thetaStart, data.thetaLength);
              break;
            case 'TorusGeometry':
            case 'TorusBufferGeometry':
              geometry = new Geometries[data.type](data.radius, data.tube, data.radialSegments, data.tubularSegments, data.arc);
              break;
            case 'TorusKnotGeometry':
            case 'TorusKnotBufferGeometry':
              geometry = new Geometries[data.type](data.radius, data.tube, data.tubularSegments, data.radialSegments, data.p, data.q);
              break;
            case 'LatheGeometry':
            case 'LatheBufferGeometry':
              geometry = new Geometries[data.type](data.points, data.segments, data.phiStart, data.phiLength);
              break;
            case 'PolyhedronGeometry':
            case 'PolyhedronBufferGeometry':
              geometry = new Geometries[data.type](data.vertices, data.indices, data.radius, data.details);
              break;
            case 'ShapeGeometry':
            case 'ShapeBufferGeometry':
              var geometryShapes = [];
              for (var j = 0,
                  jl = data.shapes.length; j < jl; j++) {
                var shape = shapes[data.shapes[j]];
                geometryShapes.push(shape);
              }
              geometry = new Geometries[data.type](geometryShapes, data.curveSegments);
              break;
            case 'ExtrudeGeometry':
            case 'ExtrudeBufferGeometry':
              var geometryShapes = [];
              for (var j = 0,
                  jl = data.shapes.length; j < jl; j++) {
                var shape = shapes[data.shapes[j]];
                geometryShapes.push(shape);
              }
              var extrudePath = data.options.extrudePath;
              if (extrudePath !== undefined) {
                data.options.extrudePath = new Curves[extrudePath.type]().fromJSON(extrudePath);
              }
              geometry = new Geometries[data.type](geometryShapes, data.options);
              break;
            case 'BufferGeometry':
              geometry = bufferGeometryLoader.parse(data);
              break;
            case 'Geometry':
              geometry = geometryLoader.parse(data, this.texturePath).geometry;
              break;
            default:
              console.warn('THREE.ObjectLoader: Unsupported geometry type "' + data.type + '"');
              continue;
          }
          geometry.uuid = data.uuid;
          if (data.name !== undefined)
            geometry.name = data.name;
          if (geometry.isBufferGeometry === true && data.userData !== undefined)
            geometry.userData = data.userData;
          geometries[data.uuid] = geometry;
        }
      }
      return geometries;
    },
    parseMaterials: function(json, textures) {
      var materials = {};
      if (json !== undefined) {
        var loader = new MaterialLoader();
        loader.setTextures(textures);
        for (var i = 0,
            l = json.length; i < l; i++) {
          var data = json[i];
          if (data.type === 'MultiMaterial') {
            var array = [];
            for (var j = 0; j < data.materials.length; j++) {
              array.push(loader.parse(data.materials[j]));
            }
            materials[data.uuid] = array;
          } else {
            materials[data.uuid] = loader.parse(data);
          }
        }
      }
      return materials;
    },
    parseAnimations: function(json) {
      var animations = [];
      for (var i = 0; i < json.length; i++) {
        var data = json[i];
        var clip = AnimationClip.parse(data);
        if (data.uuid !== undefined)
          clip.uuid = data.uuid;
        animations.push(clip);
      }
      return animations;
    },
    parseImages: function(json, onLoad) {
      var scope = this;
      var images = {};
      function loadImage(url) {
        scope.manager.itemStart(url);
        return loader.load(url, function() {
          scope.manager.itemEnd(url);
        }, undefined, function() {
          scope.manager.itemEnd(url);
          scope.manager.itemError(url);
        });
      }
      if (json !== undefined && json.length > 0) {
        var manager = new LoadingManager(onLoad);
        var loader = new ImageLoader(manager);
        loader.setCrossOrigin(this.crossOrigin);
        for (var i = 0,
            il = json.length; i < il; i++) {
          var image = json[i];
          var url = image.url;
          if (Array.isArray(url)) {
            images[image.uuid] = [];
            for (var j = 0,
                jl = url.length; j < jl; j++) {
              var currentUrl = url[j];
              var path = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(currentUrl) ? currentUrl : scope.texturePath + currentUrl;
              images[image.uuid].push(loadImage(path));
            }
          } else {
            var path = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(image.url) ? image.url : scope.texturePath + image.url;
            images[image.uuid] = loadImage(path);
          }
        }
      }
      return images;
    },
    parseTextures: function(json, images) {
      function parseConstant(value, type) {
        if (typeof value === 'number')
          return value;
        console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value);
        return type[value];
      }
      var textures = {};
      if (json !== undefined) {
        for (var i = 0,
            l = json.length; i < l; i++) {
          var data = json[i];
          if (data.image === undefined) {
            console.warn('THREE.ObjectLoader: No "image" specified for', data.uuid);
          }
          if (images[data.image] === undefined) {
            console.warn('THREE.ObjectLoader: Undefined image', data.image);
          }
          var texture;
          if (Array.isArray(images[data.image])) {
            texture = new CubeTexture(images[data.image]);
          } else {
            texture = new Texture(images[data.image]);
          }
          texture.needsUpdate = true;
          texture.uuid = data.uuid;
          if (data.name !== undefined)
            texture.name = data.name;
          if (data.mapping !== undefined)
            texture.mapping = parseConstant(data.mapping, TEXTURE_MAPPING);
          if (data.offset !== undefined)
            texture.offset.fromArray(data.offset);
          if (data.repeat !== undefined)
            texture.repeat.fromArray(data.repeat);
          if (data.center !== undefined)
            texture.center.fromArray(data.center);
          if (data.rotation !== undefined)
            texture.rotation = data.rotation;
          if (data.wrap !== undefined) {
            texture.wrapS = parseConstant(data.wrap[0], TEXTURE_WRAPPING);
            texture.wrapT = parseConstant(data.wrap[1], TEXTURE_WRAPPING);
          }
          if (data.format !== undefined)
            texture.format = data.format;
          if (data.minFilter !== undefined)
            texture.minFilter = parseConstant(data.minFilter, TEXTURE_FILTER);
          if (data.magFilter !== undefined)
            texture.magFilter = parseConstant(data.magFilter, TEXTURE_FILTER);
          if (data.anisotropy !== undefined)
            texture.anisotropy = data.anisotropy;
          if (data.flipY !== undefined)
            texture.flipY = data.flipY;
          textures[data.uuid] = texture;
        }
      }
      return textures;
    },
    parseObject: function(data, geometries, materials) {
      var object;
      function getGeometry(name) {
        if (geometries[name] === undefined) {
          console.warn('THREE.ObjectLoader: Undefined geometry', name);
        }
        return geometries[name];
      }
      function getMaterial(name) {
        if (name === undefined)
          return undefined;
        if (Array.isArray(name)) {
          var array = [];
          for (var i = 0,
              l = name.length; i < l; i++) {
            var uuid = name[i];
            if (materials[uuid] === undefined) {
              console.warn('THREE.ObjectLoader: Undefined material', uuid);
            }
            array.push(materials[uuid]);
          }
          return array;
        }
        if (materials[name] === undefined) {
          console.warn('THREE.ObjectLoader: Undefined material', name);
        }
        return materials[name];
      }
      switch (data.type) {
        case 'Scene':
          object = new Scene();
          if (data.background !== undefined) {
            if (Number.isInteger(data.background)) {
              object.background = new Color(data.background);
            }
          }
          if (data.fog !== undefined) {
            if (data.fog.type === 'Fog') {
              object.fog = new Fog(data.fog.color, data.fog.near, data.fog.far);
            } else if (data.fog.type === 'FogExp2') {
              object.fog = new FogExp2(data.fog.color, data.fog.density);
            }
          }
          break;
        case 'PerspectiveCamera':
          object = new PerspectiveCamera(data.fov, data.aspect, data.near, data.far);
          if (data.focus !== undefined)
            object.focus = data.focus;
          if (data.zoom !== undefined)
            object.zoom = data.zoom;
          if (data.filmGauge !== undefined)
            object.filmGauge = data.filmGauge;
          if (data.filmOffset !== undefined)
            object.filmOffset = data.filmOffset;
          if (data.view !== undefined)
            object.view = Object.assign({}, data.view);
          break;
        case 'OrthographicCamera':
          object = new OrthographicCamera(data.left, data.right, data.top, data.bottom, data.near, data.far);
          if (data.zoom !== undefined)
            object.zoom = data.zoom;
          if (data.view !== undefined)
            object.view = Object.assign({}, data.view);
          break;
        case 'AmbientLight':
          object = new AmbientLight(data.color, data.intensity);
          break;
        case 'DirectionalLight':
          object = new DirectionalLight(data.color, data.intensity);
          break;
        case 'PointLight':
          object = new PointLight(data.color, data.intensity, data.distance, data.decay);
          break;
        case 'RectAreaLight':
          object = new RectAreaLight(data.color, data.intensity, data.width, data.height);
          break;
        case 'SpotLight':
          object = new SpotLight(data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay);
          break;
        case 'HemisphereLight':
          object = new HemisphereLight(data.color, data.groundColor, data.intensity);
          break;
        case 'SkinnedMesh':
          console.warn('THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.');
        case 'Mesh':
          var geometry = getGeometry(data.geometry);
          var material = getMaterial(data.material);
          if (geometry.bones && geometry.bones.length > 0) {
            object = new SkinnedMesh(geometry, material);
          } else {
            object = new Mesh(geometry, material);
          }
          break;
        case 'LOD':
          object = new LOD();
          break;
        case 'Line':
          object = new Line(getGeometry(data.geometry), getMaterial(data.material), data.mode);
          break;
        case 'LineLoop':
          object = new LineLoop(getGeometry(data.geometry), getMaterial(data.material));
          break;
        case 'LineSegments':
          object = new LineSegments(getGeometry(data.geometry), getMaterial(data.material));
          break;
        case 'PointCloud':
        case 'Points':
          object = new Points(getGeometry(data.geometry), getMaterial(data.material));
          break;
        case 'Sprite':
          object = new Sprite(getMaterial(data.material));
          break;
        case 'Group':
          object = new Group();
          break;
        default:
          object = new Object3D();
      }
      object.uuid = data.uuid;
      if (data.name !== undefined)
        object.name = data.name;
      if (data.matrix !== undefined) {
        object.matrix.fromArray(data.matrix);
        if (data.matrixAutoUpdate !== undefined)
          object.matrixAutoUpdate = data.matrixAutoUpdate;
        if (object.matrixAutoUpdate)
          object.matrix.decompose(object.position, object.quaternion, object.scale);
      } else {
        if (data.position !== undefined)
          object.position.fromArray(data.position);
        if (data.rotation !== undefined)
          object.rotation.fromArray(data.rotation);
        if (data.quaternion !== undefined)
          object.quaternion.fromArray(data.quaternion);
        if (data.scale !== undefined)
          object.scale.fromArray(data.scale);
      }
      if (data.castShadow !== undefined)
        object.castShadow = data.castShadow;
      if (data.receiveShadow !== undefined)
        object.receiveShadow = data.receiveShadow;
      if (data.shadow) {
        if (data.shadow.bias !== undefined)
          object.shadow.bias = data.shadow.bias;
        if (data.shadow.radius !== undefined)
          object.shadow.radius = data.shadow.radius;
        if (data.shadow.mapSize !== undefined)
          object.shadow.mapSize.fromArray(data.shadow.mapSize);
        if (data.shadow.camera !== undefined)
          object.shadow.camera = this.parseObject(data.shadow.camera);
      }
      if (data.visible !== undefined)
        object.visible = data.visible;
      if (data.frustumCulled !== undefined)
        object.frustumCulled = data.frustumCulled;
      if (data.renderOrder !== undefined)
        object.renderOrder = data.renderOrder;
      if (data.userData !== undefined)
        object.userData = data.userData;
      if (data.layers !== undefined)
        object.layers.mask = data.layers;
      if (data.children !== undefined) {
        var children = data.children;
        for (var i = 0; i < children.length; i++) {
          object.add(this.parseObject(children[i], geometries, materials));
        }
      }
      if (data.type === 'LOD') {
        var levels = data.levels;
        for (var l = 0; l < levels.length; l++) {
          var level = levels[l];
          var child = object.getObjectByProperty('uuid', level.object);
          if (child !== undefined) {
            object.addLevel(child, level.distance);
          }
        }
      }
      return object;
    }
  });
  var TEXTURE_MAPPING = {
    UVMapping: UVMapping,
    CubeReflectionMapping: CubeReflectionMapping,
    CubeRefractionMapping: CubeRefractionMapping,
    EquirectangularReflectionMapping: EquirectangularReflectionMapping,
    EquirectangularRefractionMapping: EquirectangularRefractionMapping,
    SphericalReflectionMapping: SphericalReflectionMapping,
    CubeUVReflectionMapping: CubeUVReflectionMapping,
    CubeUVRefractionMapping: CubeUVRefractionMapping
  };
  var TEXTURE_WRAPPING = {
    RepeatWrapping: RepeatWrapping,
    ClampToEdgeWrapping: ClampToEdgeWrapping,
    MirroredRepeatWrapping: MirroredRepeatWrapping
  };
  var TEXTURE_FILTER = {
    NearestFilter: NearestFilter,
    NearestMipMapNearestFilter: NearestMipMapNearestFilter,
    NearestMipMapLinearFilter: NearestMipMapLinearFilter,
    LinearFilter: LinearFilter,
    LinearMipMapNearestFilter: LinearMipMapNearestFilter,
    LinearMipMapLinearFilter: LinearMipMapLinearFilter
  };
  function ImageBitmapLoader(manager) {
    if (typeof createImageBitmap === 'undefined') {
      console.warn('THREE.ImageBitmapLoader: createImageBitmap() not supported.');
    }
    if (typeof fetch === 'undefined') {
      console.warn('THREE.ImageBitmapLoader: fetch() not supported.');
    }
    this.manager = manager !== undefined ? manager : DefaultLoadingManager;
    this.options = undefined;
  }
  ImageBitmapLoader.prototype = {
    constructor: ImageBitmapLoader,
    setOptions: function setOptions(options) {
      this.options = options;
      return this;
    },
    load: function(url, onLoad, onProgress, onError) {
      if (url === undefined)
        url = '';
      if (this.path !== undefined)
        url = this.path + url;
      url = this.manager.resolveURL(url);
      var scope = this;
      var cached = Cache.get(url);
      if (cached !== undefined) {
        scope.manager.itemStart(url);
        setTimeout(function() {
          if (onLoad)
            onLoad(cached);
          scope.manager.itemEnd(url);
        }, 0);
        return cached;
      }
      fetch(url).then(function(res) {
        return res.blob();
      }).then(function(blob) {
        return createImageBitmap(blob, scope.options);
      }).then(function(imageBitmap) {
        Cache.add(url, imageBitmap);
        if (onLoad)
          onLoad(imageBitmap);
        scope.manager.itemEnd(url);
      }).catch(function(e) {
        if (onError)
          onError(e);
        scope.manager.itemEnd(url);
        scope.manager.itemError(url);
      });
    },
    setCrossOrigin: function() {
      return this;
    },
    setPath: function(value) {
      this.path = value;
      return this;
    }
  };
  function ShapePath() {
    this.type = 'ShapePath';
    this.color = new Color();
    this.subPaths = [];
    this.currentPath = null;
  }
  Object.assign(ShapePath.prototype, {
    moveTo: function(x, y) {
      this.currentPath = new Path();
      this.subPaths.push(this.currentPath);
      this.currentPath.moveTo(x, y);
    },
    lineTo: function(x, y) {
      this.currentPath.lineTo(x, y);
    },
    quadraticCurveTo: function(aCPx, aCPy, aX, aY) {
      this.currentPath.quadraticCurveTo(aCPx, aCPy, aX, aY);
    },
    bezierCurveTo: function(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {
      this.currentPath.bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY);
    },
    splineThru: function(pts) {
      this.currentPath.splineThru(pts);
    },
    toShapes: function(isCCW, noHoles) {
      function toShapesNoHoles(inSubpaths) {
        var shapes = [];
        for (var i = 0,
            l = inSubpaths.length; i < l; i++) {
          var tmpPath = inSubpaths[i];
          var tmpShape = new Shape();
          tmpShape.curves = tmpPath.curves;
          shapes.push(tmpShape);
        }
        return shapes;
      }
      function isPointInsidePolygon(inPt, inPolygon) {
        var polyLen = inPolygon.length;
        var inside = false;
        for (var p = polyLen - 1,
            q = 0; q < polyLen; p = q++) {
          var edgeLowPt = inPolygon[p];
          var edgeHighPt = inPolygon[q];
          var edgeDx = edgeHighPt.x - edgeLowPt.x;
          var edgeDy = edgeHighPt.y - edgeLowPt.y;
          if (Math.abs(edgeDy) > Number.EPSILON) {
            if (edgeDy < 0) {
              edgeLowPt = inPolygon[q];
              edgeDx = -edgeDx;
              edgeHighPt = inPolygon[p];
              edgeDy = -edgeDy;
            }
            if ((inPt.y < edgeLowPt.y) || (inPt.y > edgeHighPt.y))
              continue;
            if (inPt.y === edgeLowPt.y) {
              if (inPt.x === edgeLowPt.x)
                return true;
            } else {
              var perpEdge = edgeDy * (inPt.x - edgeLowPt.x) - edgeDx * (inPt.y - edgeLowPt.y);
              if (perpEdge === 0)
                return true;
              if (perpEdge < 0)
                continue;
              inside = !inside;
            }
          } else {
            if (inPt.y !== edgeLowPt.y)
              continue;
            if (((edgeHighPt.x <= inPt.x) && (inPt.x <= edgeLowPt.x)) || ((edgeLowPt.x <= inPt.x) && (inPt.x <= edgeHighPt.x)))
              return true;
          }
        }
        return inside;
      }
      var isClockWise = ShapeUtils.isClockWise;
      var subPaths = this.subPaths;
      if (subPaths.length === 0)
        return [];
      if (noHoles === true)
        return toShapesNoHoles(subPaths);
      var solid,
          tmpPath,
          tmpShape,
          shapes = [];
      if (subPaths.length === 1) {
        tmpPath = subPaths[0];
        tmpShape = new Shape();
        tmpShape.curves = tmpPath.curves;
        shapes.push(tmpShape);
        return shapes;
      }
      var holesFirst = !isClockWise(subPaths[0].getPoints());
      holesFirst = isCCW ? !holesFirst : holesFirst;
      var betterShapeHoles = [];
      var newShapes = [];
      var newShapeHoles = [];
      var mainIdx = 0;
      var tmpPoints;
      newShapes[mainIdx] = undefined;
      newShapeHoles[mainIdx] = [];
      for (var i = 0,
          l = subPaths.length; i < l; i++) {
        tmpPath = subPaths[i];
        tmpPoints = tmpPath.getPoints();
        solid = isClockWise(tmpPoints);
        solid = isCCW ? !solid : solid;
        if (solid) {
          if ((!holesFirst) && (newShapes[mainIdx]))
            mainIdx++;
          newShapes[mainIdx] = {
            s: new Shape(),
            p: tmpPoints
          };
          newShapes[mainIdx].s.curves = tmpPath.curves;
          if (holesFirst)
            mainIdx++;
          newShapeHoles[mainIdx] = [];
        } else {
          newShapeHoles[mainIdx].push({
            h: tmpPath,
            p: tmpPoints[0]
          });
        }
      }
      if (!newShapes[0])
        return toShapesNoHoles(subPaths);
      if (newShapes.length > 1) {
        var ambiguous = false;
        var toChange = [];
        for (var sIdx = 0,
            sLen = newShapes.length; sIdx < sLen; sIdx++) {
          betterShapeHoles[sIdx] = [];
        }
        for (var sIdx = 0,
            sLen = newShapes.length; sIdx < sLen; sIdx++) {
          var sho = newShapeHoles[sIdx];
          for (var hIdx = 0; hIdx < sho.length; hIdx++) {
            var ho = sho[hIdx];
            var hole_unassigned = true;
            for (var s2Idx = 0; s2Idx < newShapes.length; s2Idx++) {
              if (isPointInsidePolygon(ho.p, newShapes[s2Idx].p)) {
                if (sIdx !== s2Idx)
                  toChange.push({
                    froms: sIdx,
                    tos: s2Idx,
                    hole: hIdx
                  });
                if (hole_unassigned) {
                  hole_unassigned = false;
                  betterShapeHoles[s2Idx].push(ho);
                } else {
                  ambiguous = true;
                }
              }
            }
            if (hole_unassigned) {
              betterShapeHoles[sIdx].push(ho);
            }
          }
        }
        if (toChange.length > 0) {
          if (!ambiguous)
            newShapeHoles = betterShapeHoles;
        }
      }
      var tmpHoles;
      for (var i = 0,
          il = newShapes.length; i < il; i++) {
        tmpShape = newShapes[i].s;
        shapes.push(tmpShape);
        tmpHoles = newShapeHoles[i];
        for (var j = 0,
            jl = tmpHoles.length; j < jl; j++) {
          tmpShape.holes.push(tmpHoles[j].h);
        }
      }
      return shapes;
    }
  });
  function Font(data) {
    this.type = 'Font';
    this.data = data;
  }
  Object.assign(Font.prototype, {
    isFont: true,
    generateShapes: function(text, size) {
      if (size === undefined)
        size = 100;
      var shapes = [];
      var paths = createPaths(text, size, this.data);
      for (var p = 0,
          pl = paths.length; p < pl; p++) {
        Array.prototype.push.apply(shapes, paths[p].toShapes());
      }
      return shapes;
    }
  });
  function createPaths(text, size, data) {
    var chars = Array.from ? Array.from(text) : String(text).split('');
    var scale = size / data.resolution;
    var line_height = (data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness) * scale;
    var paths = [];
    var offsetX = 0,
        offsetY = 0;
    for (var i = 0; i < chars.length; i++) {
      var char = chars[i];
      if (char === '\n') {
        offsetX = 0;
        offsetY -= line_height;
      } else {
        var ret = createPath(char, scale, offsetX, offsetY, data);
        offsetX += ret.offsetX;
        paths.push(ret.path);
      }
    }
    return paths;
  }
  function createPath(char, scale, offsetX, offsetY, data) {
    var glyph = data.glyphs[char] || data.glyphs['?'];
    if (!glyph)
      return;
    var path = new ShapePath();
    var x,
        y,
        cpx,
        cpy,
        cpx1,
        cpy1,
        cpx2,
        cpy2;
    if (glyph.o) {
      var outline = glyph._cachedOutline || (glyph._cachedOutline = glyph.o.split(' '));
      for (var i = 0,
          l = outline.length; i < l; ) {
        var action = outline[i++];
        switch (action) {
          case 'm':
            x = outline[i++] * scale + offsetX;
            y = outline[i++] * scale + offsetY;
            path.moveTo(x, y);
            break;
          case 'l':
            x = outline[i++] * scale + offsetX;
            y = outline[i++] * scale + offsetY;
            path.lineTo(x, y);
            break;
          case 'q':
            cpx = outline[i++] * scale + offsetX;
            cpy = outline[i++] * scale + offsetY;
            cpx1 = outline[i++] * scale + offsetX;
            cpy1 = outline[i++] * scale + offsetY;
            path.quadraticCurveTo(cpx1, cpy1, cpx, cpy);
            break;
          case 'b':
            cpx = outline[i++] * scale + offsetX;
            cpy = outline[i++] * scale + offsetY;
            cpx1 = outline[i++] * scale + offsetX;
            cpy1 = outline[i++] * scale + offsetY;
            cpx2 = outline[i++] * scale + offsetX;
            cpy2 = outline[i++] * scale + offsetY;
            path.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, cpx, cpy);
            break;
        }
      }
    }
    return {
      offsetX: glyph.ha * scale,
      path: path
    };
  }
  function FontLoader(manager) {
    this.manager = (manager !== undefined) ? manager : DefaultLoadingManager;
  }
  Object.assign(FontLoader.prototype, {
    load: function(url, onLoad, onProgress, onError) {
      var scope = this;
      var loader = new FileLoader(this.manager);
      loader.setPath(this.path);
      loader.load(url, function(text) {
        var json;
        try {
          json = JSON.parse(text);
        } catch (e) {
          console.warn('THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.');
          json = JSON.parse(text.substring(65, text.length - 2));
        }
        var font = scope.parse(json);
        if (onLoad)
          onLoad(font);
      }, onProgress, onError);
    },
    parse: function(json) {
      return new Font(json);
    },
    setPath: function(value) {
      this.path = value;
      return this;
    }
  });
  var context;
  var AudioContext = {
    getContext: function() {
      if (context === undefined) {
        context = new (window.AudioContext || window.webkitAudioContext)();
      }
      return context;
    },
    setContext: function(value) {
      context = value;
    }
  };
  function AudioLoader(manager) {
    this.manager = (manager !== undefined) ? manager : DefaultLoadingManager;
  }
  Object.assign(AudioLoader.prototype, {load: function(url, onLoad, onProgress, onError) {
      var loader = new FileLoader(this.manager);
      loader.setResponseType('arraybuffer');
      loader.load(url, function(buffer) {
        var bufferCopy = buffer.slice(0);
        var context = AudioContext.getContext();
        context.decodeAudioData(bufferCopy, function(audioBuffer) {
          onLoad(audioBuffer);
        });
      }, onProgress, onError);
    }});
  function StereoCamera() {
    this.type = 'StereoCamera';
    this.aspect = 1;
    this.eyeSep = 0.064;
    this.cameraL = new PerspectiveCamera();
    this.cameraL.layers.enable(1);
    this.cameraL.matrixAutoUpdate = false;
    this.cameraR = new PerspectiveCamera();
    this.cameraR.layers.enable(2);
    this.cameraR.matrixAutoUpdate = false;
  }
  Object.assign(StereoCamera.prototype, {update: (function() {
      var instance,
          focus,
          fov,
          aspect,
          near,
          far,
          zoom,
          eyeSep;
      var eyeRight = new Matrix4();
      var eyeLeft = new Matrix4();
      return function update(camera) {
        var needsUpdate = instance !== this || focus !== camera.focus || fov !== camera.fov || aspect !== camera.aspect * this.aspect || near !== camera.near || far !== camera.far || zoom !== camera.zoom || eyeSep !== this.eyeSep;
        if (needsUpdate) {
          instance = this;
          focus = camera.focus;
          fov = camera.fov;
          aspect = camera.aspect * this.aspect;
          near = camera.near;
          far = camera.far;
          zoom = camera.zoom;
          var projectionMatrix = camera.projectionMatrix.clone();
          eyeSep = this.eyeSep / 2;
          var eyeSepOnProjection = eyeSep * near / focus;
          var ymax = (near * Math.tan(_Math.DEG2RAD * fov * 0.5)) / zoom;
          var xmin,
              xmax;
          eyeLeft.elements[12] = -eyeSep;
          eyeRight.elements[12] = eyeSep;
          xmin = -ymax * aspect + eyeSepOnProjection;
          xmax = ymax * aspect + eyeSepOnProjection;
          projectionMatrix.elements[0] = 2 * near / (xmax - xmin);
          projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);
          this.cameraL.projectionMatrix.copy(projectionMatrix);
          xmin = -ymax * aspect - eyeSepOnProjection;
          xmax = ymax * aspect - eyeSepOnProjection;
          projectionMatrix.elements[0] = 2 * near / (xmax - xmin);
          projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);
          this.cameraR.projectionMatrix.copy(projectionMatrix);
        }
        this.cameraL.matrixWorld.copy(camera.matrixWorld).multiply(eyeLeft);
        this.cameraR.matrixWorld.copy(camera.matrixWorld).multiply(eyeRight);
      };
    })()});
  function CubeCamera(near, far, cubeResolution) {
    Object3D.call(this);
    this.type = 'CubeCamera';
    var fov = 90,
        aspect = 1;
    var cameraPX = new PerspectiveCamera(fov, aspect, near, far);
    cameraPX.up.set(0, -1, 0);
    cameraPX.lookAt(new Vector3(1, 0, 0));
    this.add(cameraPX);
    var cameraNX = new PerspectiveCamera(fov, aspect, near, far);
    cameraNX.up.set(0, -1, 0);
    cameraNX.lookAt(new Vector3(-1, 0, 0));
    this.add(cameraNX);
    var cameraPY = new PerspectiveCamera(fov, aspect, near, far);
    cameraPY.up.set(0, 0, 1);
    cameraPY.lookAt(new Vector3(0, 1, 0));
    this.add(cameraPY);
    var cameraNY = new PerspectiveCamera(fov, aspect, near, far);
    cameraNY.up.set(0, 0, -1);
    cameraNY.lookAt(new Vector3(0, -1, 0));
    this.add(cameraNY);
    var cameraPZ = new PerspectiveCamera(fov, aspect, near, far);
    cameraPZ.up.set(0, -1, 0);
    cameraPZ.lookAt(new Vector3(0, 0, 1));
    this.add(cameraPZ);
    var cameraNZ = new PerspectiveCamera(fov, aspect, near, far);
    cameraNZ.up.set(0, -1, 0);
    cameraNZ.lookAt(new Vector3(0, 0, -1));
    this.add(cameraNZ);
    var options = {
      format: RGBFormat,
      magFilter: LinearFilter,
      minFilter: LinearFilter
    };
    this.renderTarget = new WebGLRenderTargetCube(cubeResolution, cubeResolution, options);
    this.renderTarget.texture.name = "CubeCamera";
    this.update = function(renderer, scene) {
      if (this.parent === null)
        this.updateMatrixWorld();
      var renderTarget = this.renderTarget;
      var generateMipmaps = renderTarget.texture.generateMipmaps;
      renderTarget.texture.generateMipmaps = false;
      renderTarget.activeCubeFace = 0;
      renderer.render(scene, cameraPX, renderTarget);
      renderTarget.activeCubeFace = 1;
      renderer.render(scene, cameraNX, renderTarget);
      renderTarget.activeCubeFace = 2;
      renderer.render(scene, cameraPY, renderTarget);
      renderTarget.activeCubeFace = 3;
      renderer.render(scene, cameraNY, renderTarget);
      renderTarget.activeCubeFace = 4;
      renderer.render(scene, cameraPZ, renderTarget);
      renderTarget.texture.generateMipmaps = generateMipmaps;
      renderTarget.activeCubeFace = 5;
      renderer.render(scene, cameraNZ, renderTarget);
      renderer.setRenderTarget(null);
    };
    this.clear = function(renderer, color, depth, stencil) {
      var renderTarget = this.renderTarget;
      for (var i = 0; i < 6; i++) {
        renderTarget.activeCubeFace = i;
        renderer.setRenderTarget(renderTarget);
        renderer.clear(color, depth, stencil);
      }
      renderer.setRenderTarget(null);
    };
  }
  CubeCamera.prototype = Object.create(Object3D.prototype);
  CubeCamera.prototype.constructor = CubeCamera;
  function AudioListener() {
    Object3D.call(this);
    this.type = 'AudioListener';
    this.context = AudioContext.getContext();
    this.gain = this.context.createGain();
    this.gain.connect(this.context.destination);
    this.filter = null;
  }
  AudioListener.prototype = Object.assign(Object.create(Object3D.prototype), {
    constructor: AudioListener,
    getInput: function() {
      return this.gain;
    },
    removeFilter: function() {
      if (this.filter !== null) {
        this.gain.disconnect(this.filter);
        this.filter.disconnect(this.context.destination);
        this.gain.connect(this.context.destination);
        this.filter = null;
      }
      return this;
    },
    getFilter: function() {
      return this.filter;
    },
    setFilter: function(value) {
      if (this.filter !== null) {
        this.gain.disconnect(this.filter);
        this.filter.disconnect(this.context.destination);
      } else {
        this.gain.disconnect(this.context.destination);
      }
      this.filter = value;
      this.gain.connect(this.filter);
      this.filter.connect(this.context.destination);
      return this;
    },
    getMasterVolume: function() {
      return this.gain.gain.value;
    },
    setMasterVolume: function(value) {
      this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);
      return this;
    },
    updateMatrixWorld: (function() {
      var position = new Vector3();
      var quaternion = new Quaternion();
      var scale = new Vector3();
      var orientation = new Vector3();
      return function updateMatrixWorld(force) {
        Object3D.prototype.updateMatrixWorld.call(this, force);
        var listener = this.context.listener;
        var up = this.up;
        this.matrixWorld.decompose(position, quaternion, scale);
        orientation.set(0, 0, -1).applyQuaternion(quaternion);
        if (listener.positionX) {
          listener.positionX.setValueAtTime(position.x, this.context.currentTime);
          listener.positionY.setValueAtTime(position.y, this.context.currentTime);
          listener.positionZ.setValueAtTime(position.z, this.context.currentTime);
          listener.forwardX.setValueAtTime(orientation.x, this.context.currentTime);
          listener.forwardY.setValueAtTime(orientation.y, this.context.currentTime);
          listener.forwardZ.setValueAtTime(orientation.z, this.context.currentTime);
          listener.upX.setValueAtTime(up.x, this.context.currentTime);
          listener.upY.setValueAtTime(up.y, this.context.currentTime);
          listener.upZ.setValueAtTime(up.z, this.context.currentTime);
        } else {
          listener.setPosition(position.x, position.y, position.z);
          listener.setOrientation(orientation.x, orientation.y, orientation.z, up.x, up.y, up.z);
        }
      };
    })()
  });
  function Audio(listener) {
    Object3D.call(this);
    this.type = 'Audio';
    this.context = listener.context;
    this.gain = this.context.createGain();
    this.gain.connect(listener.getInput());
    this.autoplay = false;
    this.buffer = null;
    this.loop = false;
    this.startTime = 0;
    this.offset = 0;
    this.playbackRate = 1;
    this.isPlaying = false;
    this.hasPlaybackControl = true;
    this.sourceType = 'empty';
    this.filters = [];
  }
  Audio.prototype = Object.assign(Object.create(Object3D.prototype), {
    constructor: Audio,
    getOutput: function() {
      return this.gain;
    },
    setNodeSource: function(audioNode) {
      this.hasPlaybackControl = false;
      this.sourceType = 'audioNode';
      this.source = audioNode;
      this.connect();
      return this;
    },
    setMediaElementSource: function(mediaElement) {
      this.hasPlaybackControl = false;
      this.sourceType = 'mediaNode';
      this.source = this.context.createMediaElementSource(mediaElement);
      this.connect();
      return this;
    },
    setBuffer: function(audioBuffer) {
      this.buffer = audioBuffer;
      this.sourceType = 'buffer';
      if (this.autoplay)
        this.play();
      return this;
    },
    play: function() {
      if (this.isPlaying === true) {
        console.warn('THREE.Audio: Audio is already playing.');
        return;
      }
      if (this.hasPlaybackControl === false) {
        console.warn('THREE.Audio: this Audio has no playback control.');
        return;
      }
      var source = this.context.createBufferSource();
      source.buffer = this.buffer;
      source.loop = this.loop;
      source.onended = this.onEnded.bind(this);
      source.playbackRate.setValueAtTime(this.playbackRate, this.startTime);
      this.startTime = this.context.currentTime;
      source.start(this.startTime, this.offset);
      this.isPlaying = true;
      this.source = source;
      return this.connect();
    },
    pause: function() {
      if (this.hasPlaybackControl === false) {
        console.warn('THREE.Audio: this Audio has no playback control.');
        return;
      }
      if (this.isPlaying === true) {
        this.source.stop();
        this.offset += (this.context.currentTime - this.startTime) * this.playbackRate;
        this.isPlaying = false;
      }
      return this;
    },
    stop: function() {
      if (this.hasPlaybackControl === false) {
        console.warn('THREE.Audio: this Audio has no playback control.');
        return;
      }
      this.source.stop();
      this.offset = 0;
      this.isPlaying = false;
      return this;
    },
    connect: function() {
      if (this.filters.length > 0) {
        this.source.connect(this.filters[0]);
        for (var i = 1,
            l = this.filters.length; i < l; i++) {
          this.filters[i - 1].connect(this.filters[i]);
        }
        this.filters[this.filters.length - 1].connect(this.getOutput());
      } else {
        this.source.connect(this.getOutput());
      }
      return this;
    },
    disconnect: function() {
      if (this.filters.length > 0) {
        this.source.disconnect(this.filters[0]);
        for (var i = 1,
            l = this.filters.length; i < l; i++) {
          this.filters[i - 1].disconnect(this.filters[i]);
        }
        this.filters[this.filters.length - 1].disconnect(this.getOutput());
      } else {
        this.source.disconnect(this.getOutput());
      }
      return this;
    },
    getFilters: function() {
      return this.filters;
    },
    setFilters: function(value) {
      if (!value)
        value = [];
      if (this.isPlaying === true) {
        this.disconnect();
        this.filters = value;
        this.connect();
      } else {
        this.filters = value;
      }
      return this;
    },
    getFilter: function() {
      return this.getFilters()[0];
    },
    setFilter: function(filter) {
      return this.setFilters(filter ? [filter] : []);
    },
    setPlaybackRate: function(value) {
      if (this.hasPlaybackControl === false) {
        console.warn('THREE.Audio: this Audio has no playback control.');
        return;
      }
      this.playbackRate = value;
      if (this.isPlaying === true) {
        this.source.playbackRate.setValueAtTime(this.playbackRate, this.context.currentTime);
      }
      return this;
    },
    getPlaybackRate: function() {
      return this.playbackRate;
    },
    onEnded: function() {
      this.isPlaying = false;
    },
    getLoop: function() {
      if (this.hasPlaybackControl === false) {
        console.warn('THREE.Audio: this Audio has no playback control.');
        return false;
      }
      return this.loop;
    },
    setLoop: function(value) {
      if (this.hasPlaybackControl === false) {
        console.warn('THREE.Audio: this Audio has no playback control.');
        return;
      }
      this.loop = value;
      if (this.isPlaying === true) {
        this.source.loop = this.loop;
      }
      return this;
    },
    getVolume: function() {
      return this.gain.gain.value;
    },
    setVolume: function(value) {
      this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);
      return this;
    }
  });
  function PositionalAudio(listener) {
    Audio.call(this, listener);
    this.panner = this.context.createPanner();
    this.panner.connect(this.gain);
  }
  PositionalAudio.prototype = Object.assign(Object.create(Audio.prototype), {
    constructor: PositionalAudio,
    getOutput: function() {
      return this.panner;
    },
    getRefDistance: function() {
      return this.panner.refDistance;
    },
    setRefDistance: function(value) {
      this.panner.refDistance = value;
      return this;
    },
    getRolloffFactor: function() {
      return this.panner.rolloffFactor;
    },
    setRolloffFactor: function(value) {
      this.panner.rolloffFactor = value;
      return this;
    },
    getDistanceModel: function() {
      return this.panner.distanceModel;
    },
    setDistanceModel: function(value) {
      this.panner.distanceModel = value;
      return this;
    },
    getMaxDistance: function() {
      return this.panner.maxDistance;
    },
    setMaxDistance: function(value) {
      this.panner.maxDistance = value;
      return this;
    },
    setDirectionalCone: function(coneInnerAngle, coneOuterAngle, coneOuterGain) {
      this.panner.coneInnerAngle = coneInnerAngle;
      this.panner.coneOuterAngle = coneOuterAngle;
      this.panner.coneOuterGain = coneOuterGain;
      return this;
    },
    updateMatrixWorld: (function() {
      var position = new Vector3();
      var quaternion = new Quaternion();
      var scale = new Vector3();
      var orientation = new Vector3();
      return function updateMatrixWorld(force) {
        Object3D.prototype.updateMatrixWorld.call(this, force);
        var panner = this.panner;
        this.matrixWorld.decompose(position, quaternion, scale);
        orientation.set(0, 0, 1).applyQuaternion(quaternion);
        panner.setPosition(position.x, position.y, position.z);
        panner.setOrientation(orientation.x, orientation.y, orientation.z);
      };
    })()
  });
  function AudioAnalyser(audio, fftSize) {
    this.analyser = audio.context.createAnalyser();
    this.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;
    this.data = new Uint8Array(this.analyser.frequencyBinCount);
    audio.getOutput().connect(this.analyser);
  }
  Object.assign(AudioAnalyser.prototype, {
    getFrequencyData: function() {
      this.analyser.getByteFrequencyData(this.data);
      return this.data;
    },
    getAverageFrequency: function() {
      var value = 0,
          data = this.getFrequencyData();
      for (var i = 0; i < data.length; i++) {
        value += data[i];
      }
      return value / data.length;
    }
  });
  function PropertyMixer(binding, typeName, valueSize) {
    this.binding = binding;
    this.valueSize = valueSize;
    var bufferType = Float64Array,
        mixFunction;
    switch (typeName) {
      case 'quaternion':
        mixFunction = this._slerp;
        break;
      case 'string':
      case 'bool':
        bufferType = Array;
        mixFunction = this._select;
        break;
      default:
        mixFunction = this._lerp;
    }
    this.buffer = new bufferType(valueSize * 4);
    this._mixBufferRegion = mixFunction;
    this.cumulativeWeight = 0;
    this.useCount = 0;
    this.referenceCount = 0;
  }
  Object.assign(PropertyMixer.prototype, {
    accumulate: function(accuIndex, weight) {
      var buffer = this.buffer,
          stride = this.valueSize,
          offset = accuIndex * stride + stride,
          currentWeight = this.cumulativeWeight;
      if (currentWeight === 0) {
        for (var i = 0; i !== stride; ++i) {
          buffer[offset + i] = buffer[i];
        }
        currentWeight = weight;
      } else {
        currentWeight += weight;
        var mix = weight / currentWeight;
        this._mixBufferRegion(buffer, offset, 0, mix, stride);
      }
      this.cumulativeWeight = currentWeight;
    },
    apply: function(accuIndex) {
      var stride = this.valueSize,
          buffer = this.buffer,
          offset = accuIndex * stride + stride,
          weight = this.cumulativeWeight,
          binding = this.binding;
      this.cumulativeWeight = 0;
      if (weight < 1) {
        var originalValueOffset = stride * 3;
        this._mixBufferRegion(buffer, offset, originalValueOffset, 1 - weight, stride);
      }
      for (var i = stride,
          e = stride + stride; i !== e; ++i) {
        if (buffer[i] !== buffer[i + stride]) {
          binding.setValue(buffer, offset);
          break;
        }
      }
    },
    saveOriginalState: function() {
      var binding = this.binding;
      var buffer = this.buffer,
          stride = this.valueSize,
          originalValueOffset = stride * 3;
      binding.getValue(buffer, originalValueOffset);
      for (var i = stride,
          e = originalValueOffset; i !== e; ++i) {
        buffer[i] = buffer[originalValueOffset + (i % stride)];
      }
      this.cumulativeWeight = 0;
    },
    restoreOriginalState: function() {
      var originalValueOffset = this.valueSize * 3;
      this.binding.setValue(this.buffer, originalValueOffset);
    },
    _select: function(buffer, dstOffset, srcOffset, t, stride) {
      if (t >= 0.5) {
        for (var i = 0; i !== stride; ++i) {
          buffer[dstOffset + i] = buffer[srcOffset + i];
        }
      }
    },
    _slerp: function(buffer, dstOffset, srcOffset, t) {
      Quaternion.slerpFlat(buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t);
    },
    _lerp: function(buffer, dstOffset, srcOffset, t, stride) {
      var s = 1 - t;
      for (var i = 0; i !== stride; ++i) {
        var j = dstOffset + i;
        buffer[j] = buffer[j] * s + buffer[srcOffset + i] * t;
      }
    }
  });
  var RESERVED_CHARS_RE = '\\[\\]\\.:\\/';
  function Composite(targetGroup, path, optionalParsedPath) {
    var parsedPath = optionalParsedPath || PropertyBinding.parseTrackName(path);
    this._targetGroup = targetGroup;
    this._bindings = targetGroup.subscribe_(path, parsedPath);
  }
  Object.assign(Composite.prototype, {
    getValue: function(array, offset) {
      this.bind();
      var firstValidIndex = this._targetGroup.nCachedObjects_,
          binding = this._bindings[firstValidIndex];
      if (binding !== undefined)
        binding.getValue(array, offset);
    },
    setValue: function(array, offset) {
      var bindings = this._bindings;
      for (var i = this._targetGroup.nCachedObjects_,
          n = bindings.length; i !== n; ++i) {
        bindings[i].setValue(array, offset);
      }
    },
    bind: function() {
      var bindings = this._bindings;
      for (var i = this._targetGroup.nCachedObjects_,
          n = bindings.length; i !== n; ++i) {
        bindings[i].bind();
      }
    },
    unbind: function() {
      var bindings = this._bindings;
      for (var i = this._targetGroup.nCachedObjects_,
          n = bindings.length; i !== n; ++i) {
        bindings[i].unbind();
      }
    }
  });
  function PropertyBinding(rootNode, path, parsedPath) {
    this.path = path;
    this.parsedPath = parsedPath || PropertyBinding.parseTrackName(path);
    this.node = PropertyBinding.findNode(rootNode, this.parsedPath.nodeName) || rootNode;
    this.rootNode = rootNode;
  }
  Object.assign(PropertyBinding, {
    Composite: Composite,
    create: function(root, path, parsedPath) {
      if (!(root && root.isAnimationObjectGroup)) {
        return new PropertyBinding(root, path, parsedPath);
      } else {
        return new PropertyBinding.Composite(root, path, parsedPath);
      }
    },
    sanitizeNodeName: (function() {
      var reservedRe = new RegExp('[' + RESERVED_CHARS_RE + ']', 'g');
      return function sanitizeNodeName(name) {
        return name.replace(/\s/g, '_').replace(reservedRe, '');
      };
    }()),
    parseTrackName: function() {
      var wordChar = '[^' + RESERVED_CHARS_RE + ']';
      var wordCharOrDot = '[^' + RESERVED_CHARS_RE.replace('\\.', '') + ']';
      var directoryRe = /((?:WC+[\/:])*)/.source.replace('WC', wordChar);
      var nodeRe = /(WCOD+)?/.source.replace('WCOD', wordCharOrDot);
      var objectRe = /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace('WC', wordChar);
      var propertyRe = /\.(WC+)(?:\[(.+)\])?/.source.replace('WC', wordChar);
      var trackRe = new RegExp('' + '^' + directoryRe + nodeRe + objectRe + propertyRe + '$');
      var supportedObjectNames = ['material', 'materials', 'bones'];
      return function parseTrackName(trackName) {
        var matches = trackRe.exec(trackName);
        if (!matches) {
          throw new Error('PropertyBinding: Cannot parse trackName: ' + trackName);
        }
        var results = {
          nodeName: matches[2],
          objectName: matches[3],
          objectIndex: matches[4],
          propertyName: matches[5],
          propertyIndex: matches[6]
        };
        var lastDot = results.nodeName && results.nodeName.lastIndexOf('.');
        if (lastDot !== undefined && lastDot !== -1) {
          var objectName = results.nodeName.substring(lastDot + 1);
          if (supportedObjectNames.indexOf(objectName) !== -1) {
            results.nodeName = results.nodeName.substring(0, lastDot);
            results.objectName = objectName;
          }
        }
        if (results.propertyName === null || results.propertyName.length === 0) {
          throw new Error('PropertyBinding: can not parse propertyName from trackName: ' + trackName);
        }
        return results;
      };
    }(),
    findNode: function(root, nodeName) {
      if (!nodeName || nodeName === "" || nodeName === "root" || nodeName === "." || nodeName === -1 || nodeName === root.name || nodeName === root.uuid) {
        return root;
      }
      if (root.skeleton) {
        var bone = root.skeleton.getBoneByName(nodeName);
        if (bone !== undefined) {
          return bone;
        }
      }
      if (root.children) {
        var searchNodeSubtree = function(children) {
          for (var i = 0; i < children.length; i++) {
            var childNode = children[i];
            if (childNode.name === nodeName || childNode.uuid === nodeName) {
              return childNode;
            }
            var result = searchNodeSubtree(childNode.children);
            if (result)
              return result;
          }
          return null;
        };
        var subTreeNode = searchNodeSubtree(root.children);
        if (subTreeNode) {
          return subTreeNode;
        }
      }
      return null;
    }
  });
  Object.assign(PropertyBinding.prototype, {
    _getValue_unavailable: function() {},
    _setValue_unavailable: function() {},
    BindingType: {
      Direct: 0,
      EntireArray: 1,
      ArrayElement: 2,
      HasFromToArray: 3
    },
    Versioning: {
      None: 0,
      NeedsUpdate: 1,
      MatrixWorldNeedsUpdate: 2
    },
    GetterByBindingType: [function getValue_direct(buffer, offset) {
      buffer[offset] = this.node[this.propertyName];
    }, function getValue_array(buffer, offset) {
      var source = this.resolvedProperty;
      for (var i = 0,
          n = source.length; i !== n; ++i) {
        buffer[offset++] = source[i];
      }
    }, function getValue_arrayElement(buffer, offset) {
      buffer[offset] = this.resolvedProperty[this.propertyIndex];
    }, function getValue_toArray(buffer, offset) {
      this.resolvedProperty.toArray(buffer, offset);
    }],
    SetterByBindingTypeAndVersioning: [[function setValue_direct(buffer, offset) {
      this.targetObject[this.propertyName] = buffer[offset];
    }, function setValue_direct_setNeedsUpdate(buffer, offset) {
      this.targetObject[this.propertyName] = buffer[offset];
      this.targetObject.needsUpdate = true;
    }, function setValue_direct_setMatrixWorldNeedsUpdate(buffer, offset) {
      this.targetObject[this.propertyName] = buffer[offset];
      this.targetObject.matrixWorldNeedsUpdate = true;
    }], [function setValue_array(buffer, offset) {
      var dest = this.resolvedProperty;
      for (var i = 0,
          n = dest.length; i !== n; ++i) {
        dest[i] = buffer[offset++];
      }
    }, function setValue_array_setNeedsUpdate(buffer, offset) {
      var dest = this.resolvedProperty;
      for (var i = 0,
          n = dest.length; i !== n; ++i) {
        dest[i] = buffer[offset++];
      }
      this.targetObject.needsUpdate = true;
    }, function setValue_array_setMatrixWorldNeedsUpdate(buffer, offset) {
      var dest = this.resolvedProperty;
      for (var i = 0,
          n = dest.length; i !== n; ++i) {
        dest[i] = buffer[offset++];
      }
      this.targetObject.matrixWorldNeedsUpdate = true;
    }], [function setValue_arrayElement(buffer, offset) {
      this.resolvedProperty[this.propertyIndex] = buffer[offset];
    }, function setValue_arrayElement_setNeedsUpdate(buffer, offset) {
      this.resolvedProperty[this.propertyIndex] = buffer[offset];
      this.targetObject.needsUpdate = true;
    }, function setValue_arrayElement_setMatrixWorldNeedsUpdate(buffer, offset) {
      this.resolvedProperty[this.propertyIndex] = buffer[offset];
      this.targetObject.matrixWorldNeedsUpdate = true;
    }], [function setValue_fromArray(buffer, offset) {
      this.resolvedProperty.fromArray(buffer, offset);
    }, function setValue_fromArray_setNeedsUpdate(buffer, offset) {
      this.resolvedProperty.fromArray(buffer, offset);
      this.targetObject.needsUpdate = true;
    }, function setValue_fromArray_setMatrixWorldNeedsUpdate(buffer, offset) {
      this.resolvedProperty.fromArray(buffer, offset);
      this.targetObject.matrixWorldNeedsUpdate = true;
    }]],
    getValue: function getValue_unbound(targetArray, offset) {
      this.bind();
      this.getValue(targetArray, offset);
    },
    setValue: function getValue_unbound(sourceArray, offset) {
      this.bind();
      this.setValue(sourceArray, offset);
    },
    bind: function() {
      var targetObject = this.node,
          parsedPath = this.parsedPath,
          objectName = parsedPath.objectName,
          propertyName = parsedPath.propertyName,
          propertyIndex = parsedPath.propertyIndex;
      if (!targetObject) {
        targetObject = PropertyBinding.findNode(this.rootNode, parsedPath.nodeName) || this.rootNode;
        this.node = targetObject;
      }
      this.getValue = this._getValue_unavailable;
      this.setValue = this._setValue_unavailable;
      if (!targetObject) {
        console.error('THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\'t found.');
        return;
      }
      if (objectName) {
        var objectIndex = parsedPath.objectIndex;
        switch (objectName) {
          case 'materials':
            if (!targetObject.material) {
              console.error('THREE.PropertyBinding: Can not bind to material as node does not have a material.', this);
              return;
            }
            if (!targetObject.material.materials) {
              console.error('THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this);
              return;
            }
            targetObject = targetObject.material.materials;
            break;
          case 'bones':
            if (!targetObject.skeleton) {
              console.error('THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this);
              return;
            }
            targetObject = targetObject.skeleton.bones;
            for (var i = 0; i < targetObject.length; i++) {
              if (targetObject[i].name === objectIndex) {
                objectIndex = i;
                break;
              }
            }
            break;
          default:
            if (targetObject[objectName] === undefined) {
              console.error('THREE.PropertyBinding: Can not bind to objectName of node undefined.', this);
              return;
            }
            targetObject = targetObject[objectName];
        }
        if (objectIndex !== undefined) {
          if (targetObject[objectIndex] === undefined) {
            console.error('THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject);
            return;
          }
          targetObject = targetObject[objectIndex];
        }
      }
      var nodeProperty = targetObject[propertyName];
      if (nodeProperty === undefined) {
        var nodeName = parsedPath.nodeName;
        console.error('THREE.PropertyBinding: Trying to update property for track: ' + nodeName + '.' + propertyName + ' but it wasn\'t found.', targetObject);
        return;
      }
      var versioning = this.Versioning.None;
      if (targetObject.needsUpdate !== undefined) {
        versioning = this.Versioning.NeedsUpdate;
        this.targetObject = targetObject;
      } else if (targetObject.matrixWorldNeedsUpdate !== undefined) {
        versioning = this.Versioning.MatrixWorldNeedsUpdate;
        this.targetObject = targetObject;
      }
      var bindingType = this.BindingType.Direct;
      if (propertyIndex !== undefined) {
        if (propertyName === "morphTargetInfluences") {
          if (!targetObject.geometry) {
            console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this);
            return;
          }
          if (targetObject.geometry.isBufferGeometry) {
            if (!targetObject.geometry.morphAttributes) {
              console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this);
              return;
            }
            for (var i = 0; i < this.node.geometry.morphAttributes.position.length; i++) {
              if (targetObject.geometry.morphAttributes.position[i].name === propertyIndex) {
                propertyIndex = i;
                break;
              }
            }
          } else {
            if (!targetObject.geometry.morphTargets) {
              console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this);
              return;
            }
            for (var i = 0; i < this.node.geometry.morphTargets.length; i++) {
              if (targetObject.geometry.morphTargets[i].name === propertyIndex) {
                propertyIndex = i;
                break;
              }
            }
          }
        }
        bindingType = this.BindingType.ArrayElement;
        this.resolvedProperty = nodeProperty;
        this.propertyIndex = propertyIndex;
      } else if (nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined) {
        bindingType = this.BindingType.HasFromToArray;
        this.resolvedProperty = nodeProperty;
      } else if (Array.isArray(nodeProperty)) {
        bindingType = this.BindingType.EntireArray;
        this.resolvedProperty = nodeProperty;
      } else {
        this.propertyName = propertyName;
      }
      this.getValue = this.GetterByBindingType[bindingType];
      this.setValue = this.SetterByBindingTypeAndVersioning[bindingType][versioning];
    },
    unbind: function() {
      this.node = null;
      this.getValue = this._getValue_unbound;
      this.setValue = this._setValue_unbound;
    }
  });
  Object.assign(PropertyBinding.prototype, {
    _getValue_unbound: PropertyBinding.prototype.getValue,
    _setValue_unbound: PropertyBinding.prototype.setValue
  });
  function AnimationObjectGroup() {
    this.uuid = _Math.generateUUID();
    this._objects = Array.prototype.slice.call(arguments);
    this.nCachedObjects_ = 0;
    var indices = {};
    this._indicesByUUID = indices;
    for (var i = 0,
        n = arguments.length; i !== n; ++i) {
      indices[arguments[i].uuid] = i;
    }
    this._paths = [];
    this._parsedPaths = [];
    this._bindings = [];
    this._bindingsIndicesByPath = {};
    var scope = this;
    this.stats = {
      objects: {
        get total() {
          return scope._objects.length;
        },
        get inUse() {
          return this.total - scope.nCachedObjects_;
        }
      },
      get bindingsPerObject() {
        return scope._bindings.length;
      }
    };
  }
  Object.assign(AnimationObjectGroup.prototype, {
    isAnimationObjectGroup: true,
    add: function() {
      var objects = this._objects,
          nObjects = objects.length,
          nCachedObjects = this.nCachedObjects_,
          indicesByUUID = this._indicesByUUID,
          paths = this._paths,
          parsedPaths = this._parsedPaths,
          bindings = this._bindings,
          nBindings = bindings.length,
          knownObject = undefined;
      for (var i = 0,
          n = arguments.length; i !== n; ++i) {
        var object = arguments[i],
            uuid = object.uuid,
            index = indicesByUUID[uuid];
        if (index === undefined) {
          index = nObjects++;
          indicesByUUID[uuid] = index;
          objects.push(object);
          for (var j = 0,
              m = nBindings; j !== m; ++j) {
            bindings[j].push(new PropertyBinding(object, paths[j], parsedPaths[j]));
          }
        } else if (index < nCachedObjects) {
          knownObject = objects[index];
          var firstActiveIndex = --nCachedObjects,
              lastCachedObject = objects[firstActiveIndex];
          indicesByUUID[lastCachedObject.uuid] = index;
          objects[index] = lastCachedObject;
          indicesByUUID[uuid] = firstActiveIndex;
          objects[firstActiveIndex] = object;
          for (var j = 0,
              m = nBindings; j !== m; ++j) {
            var bindingsForPath = bindings[j],
                lastCached = bindingsForPath[firstActiveIndex],
                binding = bindingsForPath[index];
            bindingsForPath[index] = lastCached;
            if (binding === undefined) {
              binding = new PropertyBinding(object, paths[j], parsedPaths[j]);
            }
            bindingsForPath[firstActiveIndex] = binding;
          }
        } else if (objects[index] !== knownObject) {
          console.error('THREE.AnimationObjectGroup: Different objects with the same UUID ' + 'detected. Clean the caches or recreate your infrastructure when reloading scenes.');
        }
      }
      this.nCachedObjects_ = nCachedObjects;
    },
    remove: function() {
      var objects = this._objects,
          nCachedObjects = this.nCachedObjects_,
          indicesByUUID = this._indicesByUUID,
          bindings = this._bindings,
          nBindings = bindings.length;
      for (var i = 0,
          n = arguments.length; i !== n; ++i) {
        var object = arguments[i],
            uuid = object.uuid,
            index = indicesByUUID[uuid];
        if (index !== undefined && index >= nCachedObjects) {
          var lastCachedIndex = nCachedObjects++,
              firstActiveObject = objects[lastCachedIndex];
          indicesByUUID[firstActiveObject.uuid] = index;
          objects[index] = firstActiveObject;
          indicesByUUID[uuid] = lastCachedIndex;
          objects[lastCachedIndex] = object;
          for (var j = 0,
              m = nBindings; j !== m; ++j) {
            var bindingsForPath = bindings[j],
                firstActive = bindingsForPath[lastCachedIndex],
                binding = bindingsForPath[index];
            bindingsForPath[index] = firstActive;
            bindingsForPath[lastCachedIndex] = binding;
          }
        }
      }
      this.nCachedObjects_ = nCachedObjects;
    },
    uncache: function() {
      var objects = this._objects,
          nObjects = objects.length,
          nCachedObjects = this.nCachedObjects_,
          indicesByUUID = this._indicesByUUID,
          bindings = this._bindings,
          nBindings = bindings.length;
      for (var i = 0,
          n = arguments.length; i !== n; ++i) {
        var object = arguments[i],
            uuid = object.uuid,
            index = indicesByUUID[uuid];
        if (index !== undefined) {
          delete indicesByUUID[uuid];
          if (index < nCachedObjects) {
            var firstActiveIndex = --nCachedObjects,
                lastCachedObject = objects[firstActiveIndex],
                lastIndex = --nObjects,
                lastObject = objects[lastIndex];
            indicesByUUID[lastCachedObject.uuid] = index;
            objects[index] = lastCachedObject;
            indicesByUUID[lastObject.uuid] = firstActiveIndex;
            objects[firstActiveIndex] = lastObject;
            objects.pop();
            for (var j = 0,
                m = nBindings; j !== m; ++j) {
              var bindingsForPath = bindings[j],
                  lastCached = bindingsForPath[firstActiveIndex],
                  last = bindingsForPath[lastIndex];
              bindingsForPath[index] = lastCached;
              bindingsForPath[firstActiveIndex] = last;
              bindingsForPath.pop();
            }
          } else {
            var lastIndex = --nObjects,
                lastObject = objects[lastIndex];
            indicesByUUID[lastObject.uuid] = index;
            objects[index] = lastObject;
            objects.pop();
            for (var j = 0,
                m = nBindings; j !== m; ++j) {
              var bindingsForPath = bindings[j];
              bindingsForPath[index] = bindingsForPath[lastIndex];
              bindingsForPath.pop();
            }
          }
        }
      }
      this.nCachedObjects_ = nCachedObjects;
    },
    subscribe_: function(path, parsedPath) {
      var indicesByPath = this._bindingsIndicesByPath,
          index = indicesByPath[path],
          bindings = this._bindings;
      if (index !== undefined)
        return bindings[index];
      var paths = this._paths,
          parsedPaths = this._parsedPaths,
          objects = this._objects,
          nObjects = objects.length,
          nCachedObjects = this.nCachedObjects_,
          bindingsForPath = new Array(nObjects);
      index = bindings.length;
      indicesByPath[path] = index;
      paths.push(path);
      parsedPaths.push(parsedPath);
      bindings.push(bindingsForPath);
      for (var i = nCachedObjects,
          n = objects.length; i !== n; ++i) {
        var object = objects[i];
        bindingsForPath[i] = new PropertyBinding(object, path, parsedPath);
      }
      return bindingsForPath;
    },
    unsubscribe_: function(path) {
      var indicesByPath = this._bindingsIndicesByPath,
          index = indicesByPath[path];
      if (index !== undefined) {
        var paths = this._paths,
            parsedPaths = this._parsedPaths,
            bindings = this._bindings,
            lastBindingsIndex = bindings.length - 1,
            lastBindings = bindings[lastBindingsIndex],
            lastBindingsPath = path[lastBindingsIndex];
        indicesByPath[lastBindingsPath] = index;
        bindings[index] = lastBindings;
        bindings.pop();
        parsedPaths[index] = parsedPaths[lastBindingsIndex];
        parsedPaths.pop();
        paths[index] = paths[lastBindingsIndex];
        paths.pop();
      }
    }
  });
  function AnimationAction(mixer, clip, localRoot) {
    this._mixer = mixer;
    this._clip = clip;
    this._localRoot = localRoot || null;
    var tracks = clip.tracks,
        nTracks = tracks.length,
        interpolants = new Array(nTracks);
    var interpolantSettings = {
      endingStart: ZeroCurvatureEnding,
      endingEnd: ZeroCurvatureEnding
    };
    for (var i = 0; i !== nTracks; ++i) {
      var interpolant = tracks[i].createInterpolant(null);
      interpolants[i] = interpolant;
      interpolant.settings = interpolantSettings;
    }
    this._interpolantSettings = interpolantSettings;
    this._interpolants = interpolants;
    this._propertyBindings = new Array(nTracks);
    this._cacheIndex = null;
    this._byClipCacheIndex = null;
    this._timeScaleInterpolant = null;
    this._weightInterpolant = null;
    this.loop = LoopRepeat;
    this._loopCount = -1;
    this._startTime = null;
    this.time = 0;
    this.timeScale = 1;
    this._effectiveTimeScale = 1;
    this.weight = 1;
    this._effectiveWeight = 1;
    this.repetitions = Infinity;
    this.paused = false;
    this.enabled = true;
    this.clampWhenFinished = false;
    this.zeroSlopeAtStart = true;
    this.zeroSlopeAtEnd = true;
  }
  Object.assign(AnimationAction.prototype, {
    play: function() {
      this._mixer._activateAction(this);
      return this;
    },
    stop: function() {
      this._mixer._deactivateAction(this);
      return this.reset();
    },
    reset: function() {
      this.paused = false;
      this.enabled = true;
      this.time = 0;
      this._loopCount = -1;
      this._startTime = null;
      return this.stopFading().stopWarping();
    },
    isRunning: function() {
      return this.enabled && !this.paused && this.timeScale !== 0 && this._startTime === null && this._mixer._isActiveAction(this);
    },
    isScheduled: function() {
      return this._mixer._isActiveAction(this);
    },
    startAt: function(time) {
      this._startTime = time;
      return this;
    },
    setLoop: function(mode, repetitions) {
      this.loop = mode;
      this.repetitions = repetitions;
      return this;
    },
    setEffectiveWeight: function(weight) {
      this.weight = weight;
      this._effectiveWeight = this.enabled ? weight : 0;
      return this.stopFading();
    },
    getEffectiveWeight: function() {
      return this._effectiveWeight;
    },
    fadeIn: function(duration) {
      return this._scheduleFading(duration, 0, 1);
    },
    fadeOut: function(duration) {
      return this._scheduleFading(duration, 1, 0);
    },
    crossFadeFrom: function(fadeOutAction, duration, warp) {
      fadeOutAction.fadeOut(duration);
      this.fadeIn(duration);
      if (warp) {
        var fadeInDuration = this._clip.duration,
            fadeOutDuration = fadeOutAction._clip.duration,
            startEndRatio = fadeOutDuration / fadeInDuration,
            endStartRatio = fadeInDuration / fadeOutDuration;
        fadeOutAction.warp(1.0, startEndRatio, duration);
        this.warp(endStartRatio, 1.0, duration);
      }
      return this;
    },
    crossFadeTo: function(fadeInAction, duration, warp) {
      return fadeInAction.crossFadeFrom(this, duration, warp);
    },
    stopFading: function() {
      var weightInterpolant = this._weightInterpolant;
      if (weightInterpolant !== null) {
        this._weightInterpolant = null;
        this._mixer._takeBackControlInterpolant(weightInterpolant);
      }
      return this;
    },
    setEffectiveTimeScale: function(timeScale) {
      this.timeScale = timeScale;
      this._effectiveTimeScale = this.paused ? 0 : timeScale;
      return this.stopWarping();
    },
    getEffectiveTimeScale: function() {
      return this._effectiveTimeScale;
    },
    setDuration: function(duration) {
      this.timeScale = this._clip.duration / duration;
      return this.stopWarping();
    },
    syncWith: function(action) {
      this.time = action.time;
      this.timeScale = action.timeScale;
      return this.stopWarping();
    },
    halt: function(duration) {
      return this.warp(this._effectiveTimeScale, 0, duration);
    },
    warp: function(startTimeScale, endTimeScale, duration) {
      var mixer = this._mixer,
          now = mixer.time,
          interpolant = this._timeScaleInterpolant,
          timeScale = this.timeScale;
      if (interpolant === null) {
        interpolant = mixer._lendControlInterpolant();
        this._timeScaleInterpolant = interpolant;
      }
      var times = interpolant.parameterPositions,
          values = interpolant.sampleValues;
      times[0] = now;
      times[1] = now + duration;
      values[0] = startTimeScale / timeScale;
      values[1] = endTimeScale / timeScale;
      return this;
    },
    stopWarping: function() {
      var timeScaleInterpolant = this._timeScaleInterpolant;
      if (timeScaleInterpolant !== null) {
        this._timeScaleInterpolant = null;
        this._mixer._takeBackControlInterpolant(timeScaleInterpolant);
      }
      return this;
    },
    getMixer: function() {
      return this._mixer;
    },
    getClip: function() {
      return this._clip;
    },
    getRoot: function() {
      return this._localRoot || this._mixer._root;
    },
    _update: function(time, deltaTime, timeDirection, accuIndex) {
      if (!this.enabled) {
        this._updateWeight(time);
        return;
      }
      var startTime = this._startTime;
      if (startTime !== null) {
        var timeRunning = (time - startTime) * timeDirection;
        if (timeRunning < 0 || timeDirection === 0) {
          return;
        }
        this._startTime = null;
        deltaTime = timeDirection * timeRunning;
      }
      deltaTime *= this._updateTimeScale(time);
      var clipTime = this._updateTime(deltaTime);
      var weight = this._updateWeight(time);
      if (weight > 0) {
        var interpolants = this._interpolants;
        var propertyMixers = this._propertyBindings;
        for (var j = 0,
            m = interpolants.length; j !== m; ++j) {
          interpolants[j].evaluate(clipTime);
          propertyMixers[j].accumulate(accuIndex, weight);
        }
      }
    },
    _updateWeight: function(time) {
      var weight = 0;
      if (this.enabled) {
        weight = this.weight;
        var interpolant = this._weightInterpolant;
        if (interpolant !== null) {
          var interpolantValue = interpolant.evaluate(time)[0];
          weight *= interpolantValue;
          if (time > interpolant.parameterPositions[1]) {
            this.stopFading();
            if (interpolantValue === 0) {
              this.enabled = false;
            }
          }
        }
      }
      this._effectiveWeight = weight;
      return weight;
    },
    _updateTimeScale: function(time) {
      var timeScale = 0;
      if (!this.paused) {
        timeScale = this.timeScale;
        var interpolant = this._timeScaleInterpolant;
        if (interpolant !== null) {
          var interpolantValue = interpolant.evaluate(time)[0];
          timeScale *= interpolantValue;
          if (time > interpolant.parameterPositions[1]) {
            this.stopWarping();
            if (timeScale === 0) {
              this.paused = true;
            } else {
              this.timeScale = timeScale;
            }
          }
        }
      }
      this._effectiveTimeScale = timeScale;
      return timeScale;
    },
    _updateTime: function(deltaTime) {
      var time = this.time + deltaTime;
      if (deltaTime === 0)
        return time;
      var duration = this._clip.duration,
          loop = this.loop,
          loopCount = this._loopCount;
      if (loop === LoopOnce) {
        if (loopCount === -1) {
          this._loopCount = 0;
          this._setEndings(true, true, false);
        }
        handle_stop: {
          if (time >= duration) {
            time = duration;
          } else if (time < 0) {
            time = 0;
          } else
            break handle_stop;
          if (this.clampWhenFinished)
            this.paused = true;
          else
            this.enabled = false;
          this._mixer.dispatchEvent({
            type: 'finished',
            action: this,
            direction: deltaTime < 0 ? -1 : 1
          });
        }
      } else {
        var pingPong = (loop === LoopPingPong);
        if (loopCount === -1) {
          if (deltaTime >= 0) {
            loopCount = 0;
            this._setEndings(true, this.repetitions === 0, pingPong);
          } else {
            this._setEndings(this.repetitions === 0, true, pingPong);
          }
        }
        if (time >= duration || time < 0) {
          var loopDelta = Math.floor(time / duration);
          time -= duration * loopDelta;
          loopCount += Math.abs(loopDelta);
          var pending = this.repetitions - loopCount;
          if (pending <= 0) {
            if (this.clampWhenFinished)
              this.paused = true;
            else
              this.enabled = false;
            time = deltaTime > 0 ? duration : 0;
            this._mixer.dispatchEvent({
              type: 'finished',
              action: this,
              direction: deltaTime > 0 ? 1 : -1
            });
          } else {
            if (pending === 1) {
              var atStart = deltaTime < 0;
              this._setEndings(atStart, !atStart, pingPong);
            } else {
              this._setEndings(false, false, pingPong);
            }
            this._loopCount = loopCount;
            this._mixer.dispatchEvent({
              type: 'loop',
              action: this,
              loopDelta: loopDelta
            });
          }
        }
        if (pingPong && (loopCount & 1) === 1) {
          this.time = time;
          return duration - time;
        }
      }
      this.time = time;
      return time;
    },
    _setEndings: function(atStart, atEnd, pingPong) {
      var settings = this._interpolantSettings;
      if (pingPong) {
        settings.endingStart = ZeroSlopeEnding;
        settings.endingEnd = ZeroSlopeEnding;
      } else {
        if (atStart) {
          settings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;
        } else {
          settings.endingStart = WrapAroundEnding;
        }
        if (atEnd) {
          settings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;
        } else {
          settings.endingEnd = WrapAroundEnding;
        }
      }
    },
    _scheduleFading: function(duration, weightNow, weightThen) {
      var mixer = this._mixer,
          now = mixer.time,
          interpolant = this._weightInterpolant;
      if (interpolant === null) {
        interpolant = mixer._lendControlInterpolant();
        this._weightInterpolant = interpolant;
      }
      var times = interpolant.parameterPositions,
          values = interpolant.sampleValues;
      times[0] = now;
      values[0] = weightNow;
      times[1] = now + duration;
      values[1] = weightThen;
      return this;
    }
  });
  function AnimationMixer(root) {
    this._root = root;
    this._initMemoryManager();
    this._accuIndex = 0;
    this.time = 0;
    this.timeScale = 1.0;
  }
  AnimationMixer.prototype = Object.assign(Object.create(EventDispatcher.prototype), {
    constructor: AnimationMixer,
    _bindAction: function(action, prototypeAction) {
      var root = action._localRoot || this._root,
          tracks = action._clip.tracks,
          nTracks = tracks.length,
          bindings = action._propertyBindings,
          interpolants = action._interpolants,
          rootUuid = root.uuid,
          bindingsByRoot = this._bindingsByRootAndName,
          bindingsByName = bindingsByRoot[rootUuid];
      if (bindingsByName === undefined) {
        bindingsByName = {};
        bindingsByRoot[rootUuid] = bindingsByName;
      }
      for (var i = 0; i !== nTracks; ++i) {
        var track = tracks[i],
            trackName = track.name,
            binding = bindingsByName[trackName];
        if (binding !== undefined) {
          bindings[i] = binding;
        } else {
          binding = bindings[i];
          if (binding !== undefined) {
            if (binding._cacheIndex === null) {
              ++binding.referenceCount;
              this._addInactiveBinding(binding, rootUuid, trackName);
            }
            continue;
          }
          var path = prototypeAction && prototypeAction._propertyBindings[i].binding.parsedPath;
          binding = new PropertyMixer(PropertyBinding.create(root, trackName, path), track.ValueTypeName, track.getValueSize());
          ++binding.referenceCount;
          this._addInactiveBinding(binding, rootUuid, trackName);
          bindings[i] = binding;
        }
        interpolants[i].resultBuffer = binding.buffer;
      }
    },
    _activateAction: function(action) {
      if (!this._isActiveAction(action)) {
        if (action._cacheIndex === null) {
          var rootUuid = (action._localRoot || this._root).uuid,
              clipUuid = action._clip.uuid,
              actionsForClip = this._actionsByClip[clipUuid];
          this._bindAction(action, actionsForClip && actionsForClip.knownActions[0]);
          this._addInactiveAction(action, clipUuid, rootUuid);
        }
        var bindings = action._propertyBindings;
        for (var i = 0,
            n = bindings.length; i !== n; ++i) {
          var binding = bindings[i];
          if (binding.useCount++ === 0) {
            this._lendBinding(binding);
            binding.saveOriginalState();
          }
        }
        this._lendAction(action);
      }
    },
    _deactivateAction: function(action) {
      if (this._isActiveAction(action)) {
        var bindings = action._propertyBindings;
        for (var i = 0,
            n = bindings.length; i !== n; ++i) {
          var binding = bindings[i];
          if (--binding.useCount === 0) {
            binding.restoreOriginalState();
            this._takeBackBinding(binding);
          }
        }
        this._takeBackAction(action);
      }
    },
    _initMemoryManager: function() {
      this._actions = [];
      this._nActiveActions = 0;
      this._actionsByClip = {};
      this._bindings = [];
      this._nActiveBindings = 0;
      this._bindingsByRootAndName = {};
      this._controlInterpolants = [];
      this._nActiveControlInterpolants = 0;
      var scope = this;
      this.stats = {
        actions: {
          get total() {
            return scope._actions.length;
          },
          get inUse() {
            return scope._nActiveActions;
          }
        },
        bindings: {
          get total() {
            return scope._bindings.length;
          },
          get inUse() {
            return scope._nActiveBindings;
          }
        },
        controlInterpolants: {
          get total() {
            return scope._controlInterpolants.length;
          },
          get inUse() {
            return scope._nActiveControlInterpolants;
          }
        }
      };
    },
    _isActiveAction: function(action) {
      var index = action._cacheIndex;
      return index !== null && index < this._nActiveActions;
    },
    _addInactiveAction: function(action, clipUuid, rootUuid) {
      var actions = this._actions,
          actionsByClip = this._actionsByClip,
          actionsForClip = actionsByClip[clipUuid];
      if (actionsForClip === undefined) {
        actionsForClip = {
          knownActions: [action],
          actionByRoot: {}
        };
        action._byClipCacheIndex = 0;
        actionsByClip[clipUuid] = actionsForClip;
      } else {
        var knownActions = actionsForClip.knownActions;
        action._byClipCacheIndex = knownActions.length;
        knownActions.push(action);
      }
      action._cacheIndex = actions.length;
      actions.push(action);
      actionsForClip.actionByRoot[rootUuid] = action;
    },
    _removeInactiveAction: function(action) {
      var actions = this._actions,
          lastInactiveAction = actions[actions.length - 1],
          cacheIndex = action._cacheIndex;
      lastInactiveAction._cacheIndex = cacheIndex;
      actions[cacheIndex] = lastInactiveAction;
      actions.pop();
      action._cacheIndex = null;
      var clipUuid = action._clip.uuid,
          actionsByClip = this._actionsByClip,
          actionsForClip = actionsByClip[clipUuid],
          knownActionsForClip = actionsForClip.knownActions,
          lastKnownAction = knownActionsForClip[knownActionsForClip.length - 1],
          byClipCacheIndex = action._byClipCacheIndex;
      lastKnownAction._byClipCacheIndex = byClipCacheIndex;
      knownActionsForClip[byClipCacheIndex] = lastKnownAction;
      knownActionsForClip.pop();
      action._byClipCacheIndex = null;
      var actionByRoot = actionsForClip.actionByRoot,
          rootUuid = (action._localRoot || this._root).uuid;
      delete actionByRoot[rootUuid];
      if (knownActionsForClip.length === 0) {
        delete actionsByClip[clipUuid];
      }
      this._removeInactiveBindingsForAction(action);
    },
    _removeInactiveBindingsForAction: function(action) {
      var bindings = action._propertyBindings;
      for (var i = 0,
          n = bindings.length; i !== n; ++i) {
        var binding = bindings[i];
        if (--binding.referenceCount === 0) {
          this._removeInactiveBinding(binding);
        }
      }
    },
    _lendAction: function(action) {
      var actions = this._actions,
          prevIndex = action._cacheIndex,
          lastActiveIndex = this._nActiveActions++,
          firstInactiveAction = actions[lastActiveIndex];
      action._cacheIndex = lastActiveIndex;
      actions[lastActiveIndex] = action;
      firstInactiveAction._cacheIndex = prevIndex;
      actions[prevIndex] = firstInactiveAction;
    },
    _takeBackAction: function(action) {
      var actions = this._actions,
          prevIndex = action._cacheIndex,
          firstInactiveIndex = --this._nActiveActions,
          lastActiveAction = actions[firstInactiveIndex];
      action._cacheIndex = firstInactiveIndex;
      actions[firstInactiveIndex] = action;
      lastActiveAction._cacheIndex = prevIndex;
      actions[prevIndex] = lastActiveAction;
    },
    _addInactiveBinding: function(binding, rootUuid, trackName) {
      var bindingsByRoot = this._bindingsByRootAndName,
          bindingByName = bindingsByRoot[rootUuid],
          bindings = this._bindings;
      if (bindingByName === undefined) {
        bindingByName = {};
        bindingsByRoot[rootUuid] = bindingByName;
      }
      bindingByName[trackName] = binding;
      binding._cacheIndex = bindings.length;
      bindings.push(binding);
    },
    _removeInactiveBinding: function(binding) {
      var bindings = this._bindings,
          propBinding = binding.binding,
          rootUuid = propBinding.rootNode.uuid,
          trackName = propBinding.path,
          bindingsByRoot = this._bindingsByRootAndName,
          bindingByName = bindingsByRoot[rootUuid],
          lastInactiveBinding = bindings[bindings.length - 1],
          cacheIndex = binding._cacheIndex;
      lastInactiveBinding._cacheIndex = cacheIndex;
      bindings[cacheIndex] = lastInactiveBinding;
      bindings.pop();
      delete bindingByName[trackName];
      remove_empty_map: {
        for (var _ in bindingByName)
          break remove_empty_map;
        delete bindingsByRoot[rootUuid];
      }
    },
    _lendBinding: function(binding) {
      var bindings = this._bindings,
          prevIndex = binding._cacheIndex,
          lastActiveIndex = this._nActiveBindings++,
          firstInactiveBinding = bindings[lastActiveIndex];
      binding._cacheIndex = lastActiveIndex;
      bindings[lastActiveIndex] = binding;
      firstInactiveBinding._cacheIndex = prevIndex;
      bindings[prevIndex] = firstInactiveBinding;
    },
    _takeBackBinding: function(binding) {
      var bindings = this._bindings,
          prevIndex = binding._cacheIndex,
          firstInactiveIndex = --this._nActiveBindings,
          lastActiveBinding = bindings[firstInactiveIndex];
      binding._cacheIndex = firstInactiveIndex;
      bindings[firstInactiveIndex] = binding;
      lastActiveBinding._cacheIndex = prevIndex;
      bindings[prevIndex] = lastActiveBinding;
    },
    _lendControlInterpolant: function() {
      var interpolants = this._controlInterpolants,
          lastActiveIndex = this._nActiveControlInterpolants++,
          interpolant = interpolants[lastActiveIndex];
      if (interpolant === undefined) {
        interpolant = new LinearInterpolant(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer);
        interpolant.__cacheIndex = lastActiveIndex;
        interpolants[lastActiveIndex] = interpolant;
      }
      return interpolant;
    },
    _takeBackControlInterpolant: function(interpolant) {
      var interpolants = this._controlInterpolants,
          prevIndex = interpolant.__cacheIndex,
          firstInactiveIndex = --this._nActiveControlInterpolants,
          lastActiveInterpolant = interpolants[firstInactiveIndex];
      interpolant.__cacheIndex = firstInactiveIndex;
      interpolants[firstInactiveIndex] = interpolant;
      lastActiveInterpolant.__cacheIndex = prevIndex;
      interpolants[prevIndex] = lastActiveInterpolant;
    },
    _controlInterpolantsResultBuffer: new Float32Array(1),
    clipAction: function(clip, optionalRoot) {
      var root = optionalRoot || this._root,
          rootUuid = root.uuid,
          clipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip,
          clipUuid = clipObject !== null ? clipObject.uuid : clip,
          actionsForClip = this._actionsByClip[clipUuid],
          prototypeAction = null;
      if (actionsForClip !== undefined) {
        var existingAction = actionsForClip.actionByRoot[rootUuid];
        if (existingAction !== undefined) {
          return existingAction;
        }
        prototypeAction = actionsForClip.knownActions[0];
        if (clipObject === null)
          clipObject = prototypeAction._clip;
      }
      if (clipObject === null)
        return null;
      var newAction = new AnimationAction(this, clipObject, optionalRoot);
      this._bindAction(newAction, prototypeAction);
      this._addInactiveAction(newAction, clipUuid, rootUuid);
      return newAction;
    },
    existingAction: function(clip, optionalRoot) {
      var root = optionalRoot || this._root,
          rootUuid = root.uuid,
          clipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip,
          clipUuid = clipObject ? clipObject.uuid : clip,
          actionsForClip = this._actionsByClip[clipUuid];
      if (actionsForClip !== undefined) {
        return actionsForClip.actionByRoot[rootUuid] || null;
      }
      return null;
    },
    stopAllAction: function() {
      var actions = this._actions,
          nActions = this._nActiveActions,
          bindings = this._bindings,
          nBindings = this._nActiveBindings;
      this._nActiveActions = 0;
      this._nActiveBindings = 0;
      for (var i = 0; i !== nActions; ++i) {
        actions[i].reset();
      }
      for (var i = 0; i !== nBindings; ++i) {
        bindings[i].useCount = 0;
      }
      return this;
    },
    update: function(deltaTime) {
      deltaTime *= this.timeScale;
      var actions = this._actions,
          nActions = this._nActiveActions,
          time = this.time += deltaTime,
          timeDirection = Math.sign(deltaTime),
          accuIndex = this._accuIndex ^= 1;
      for (var i = 0; i !== nActions; ++i) {
        var action = actions[i];
        action._update(time, deltaTime, timeDirection, accuIndex);
      }
      var bindings = this._bindings,
          nBindings = this._nActiveBindings;
      for (var i = 0; i !== nBindings; ++i) {
        bindings[i].apply(accuIndex);
      }
      return this;
    },
    getRoot: function() {
      return this._root;
    },
    uncacheClip: function(clip) {
      var actions = this._actions,
          clipUuid = clip.uuid,
          actionsByClip = this._actionsByClip,
          actionsForClip = actionsByClip[clipUuid];
      if (actionsForClip !== undefined) {
        var actionsToRemove = actionsForClip.knownActions;
        for (var i = 0,
            n = actionsToRemove.length; i !== n; ++i) {
          var action = actionsToRemove[i];
          this._deactivateAction(action);
          var cacheIndex = action._cacheIndex,
              lastInactiveAction = actions[actions.length - 1];
          action._cacheIndex = null;
          action._byClipCacheIndex = null;
          lastInactiveAction._cacheIndex = cacheIndex;
          actions[cacheIndex] = lastInactiveAction;
          actions.pop();
          this._removeInactiveBindingsForAction(action);
        }
        delete actionsByClip[clipUuid];
      }
    },
    uncacheRoot: function(root) {
      var rootUuid = root.uuid,
          actionsByClip = this._actionsByClip;
      for (var clipUuid in actionsByClip) {
        var actionByRoot = actionsByClip[clipUuid].actionByRoot,
            action = actionByRoot[rootUuid];
        if (action !== undefined) {
          this._deactivateAction(action);
          this._removeInactiveAction(action);
        }
      }
      var bindingsByRoot = this._bindingsByRootAndName,
          bindingByName = bindingsByRoot[rootUuid];
      if (bindingByName !== undefined) {
        for (var trackName in bindingByName) {
          var binding = bindingByName[trackName];
          binding.restoreOriginalState();
          this._removeInactiveBinding(binding);
        }
      }
    },
    uncacheAction: function(clip, optionalRoot) {
      var action = this.existingAction(clip, optionalRoot);
      if (action !== null) {
        this._deactivateAction(action);
        this._removeInactiveAction(action);
      }
    }
  });
  function Uniform(value) {
    if (typeof value === 'string') {
      console.warn('THREE.Uniform: Type parameter is no longer needed.');
      value = arguments[1];
    }
    this.value = value;
  }
  Uniform.prototype.clone = function() {
    return new Uniform(this.value.clone === undefined ? this.value : this.value.clone());
  };
  function InstancedBufferGeometry() {
    BufferGeometry.call(this);
    this.type = 'InstancedBufferGeometry';
    this.maxInstancedCount = undefined;
  }
  InstancedBufferGeometry.prototype = Object.assign(Object.create(BufferGeometry.prototype), {
    constructor: InstancedBufferGeometry,
    isInstancedBufferGeometry: true,
    copy: function(source) {
      BufferGeometry.prototype.copy.call(this, source);
      this.maxInstancedCount = source.maxInstancedCount;
      return this;
    },
    clone: function() {
      return new this.constructor().copy(this);
    }
  });
  function InterleavedBufferAttribute(interleavedBuffer, itemSize, offset, normalized) {
    this.data = interleavedBuffer;
    this.itemSize = itemSize;
    this.offset = offset;
    this.normalized = normalized === true;
  }
  Object.defineProperties(InterleavedBufferAttribute.prototype, {
    count: {get: function() {
        return this.data.count;
      }},
    array: {get: function() {
        return this.data.array;
      }}
  });
  Object.assign(InterleavedBufferAttribute.prototype, {
    isInterleavedBufferAttribute: true,
    setX: function(index, x) {
      this.data.array[index * this.data.stride + this.offset] = x;
      return this;
    },
    setY: function(index, y) {
      this.data.array[index * this.data.stride + this.offset + 1] = y;
      return this;
    },
    setZ: function(index, z) {
      this.data.array[index * this.data.stride + this.offset + 2] = z;
      return this;
    },
    setW: function(index, w) {
      this.data.array[index * this.data.stride + this.offset + 3] = w;
      return this;
    },
    getX: function(index) {
      return this.data.array[index * this.data.stride + this.offset];
    },
    getY: function(index) {
      return this.data.array[index * this.data.stride + this.offset + 1];
    },
    getZ: function(index) {
      return this.data.array[index * this.data.stride + this.offset + 2];
    },
    getW: function(index) {
      return this.data.array[index * this.data.stride + this.offset + 3];
    },
    setXY: function(index, x, y) {
      index = index * this.data.stride + this.offset;
      this.data.array[index + 0] = x;
      this.data.array[index + 1] = y;
      return this;
    },
    setXYZ: function(index, x, y, z) {
      index = index * this.data.stride + this.offset;
      this.data.array[index + 0] = x;
      this.data.array[index + 1] = y;
      this.data.array[index + 2] = z;
      return this;
    },
    setXYZW: function(index, x, y, z, w) {
      index = index * this.data.stride + this.offset;
      this.data.array[index + 0] = x;
      this.data.array[index + 1] = y;
      this.data.array[index + 2] = z;
      this.data.array[index + 3] = w;
      return this;
    }
  });
  function InterleavedBuffer(array, stride) {
    this.array = array;
    this.stride = stride;
    this.count = array !== undefined ? array.length / stride : 0;
    this.dynamic = false;
    this.updateRange = {
      offset: 0,
      count: -1
    };
    this.version = 0;
  }
  Object.defineProperty(InterleavedBuffer.prototype, 'needsUpdate', {set: function(value) {
      if (value === true)
        this.version++;
    }});
  Object.assign(InterleavedBuffer.prototype, {
    isInterleavedBuffer: true,
    onUploadCallback: function() {},
    setArray: function(array) {
      if (Array.isArray(array)) {
        throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');
      }
      this.count = array !== undefined ? array.length / this.stride : 0;
      this.array = array;
      return this;
    },
    setDynamic: function(value) {
      this.dynamic = value;
      return this;
    },
    copy: function(source) {
      this.array = new source.array.constructor(source.array);
      this.count = source.count;
      this.stride = source.stride;
      this.dynamic = source.dynamic;
      return this;
    },
    copyAt: function(index1, attribute, index2) {
      index1 *= this.stride;
      index2 *= attribute.stride;
      for (var i = 0,
          l = this.stride; i < l; i++) {
        this.array[index1 + i] = attribute.array[index2 + i];
      }
      return this;
    },
    set: function(value, offset) {
      if (offset === undefined)
        offset = 0;
      this.array.set(value, offset);
      return this;
    },
    clone: function() {
      return new this.constructor().copy(this);
    },
    onUpload: function(callback) {
      this.onUploadCallback = callback;
      return this;
    }
  });
  function InstancedInterleavedBuffer(array, stride, meshPerAttribute) {
    InterleavedBuffer.call(this, array, stride);
    this.meshPerAttribute = meshPerAttribute || 1;
  }
  InstancedInterleavedBuffer.prototype = Object.assign(Object.create(InterleavedBuffer.prototype), {
    constructor: InstancedInterleavedBuffer,
    isInstancedInterleavedBuffer: true,
    copy: function(source) {
      InterleavedBuffer.prototype.copy.call(this, source);
      this.meshPerAttribute = source.meshPerAttribute;
      return this;
    }
  });
  function InstancedBufferAttribute(array, itemSize, meshPerAttribute) {
    BufferAttribute.call(this, array, itemSize);
    this.meshPerAttribute = meshPerAttribute || 1;
  }
  InstancedBufferAttribute.prototype = Object.assign(Object.create(BufferAttribute.prototype), {
    constructor: InstancedBufferAttribute,
    isInstancedBufferAttribute: true,
    copy: function(source) {
      BufferAttribute.prototype.copy.call(this, source);
      this.meshPerAttribute = source.meshPerAttribute;
      return this;
    }
  });
  function Raycaster(origin, direction, near, far) {
    this.ray = new Ray(origin, direction);
    this.near = near || 0;
    this.far = far || Infinity;
    this.params = {
      Mesh: {},
      Line: {},
      LOD: {},
      Points: {threshold: 1},
      Sprite: {}
    };
    Object.defineProperties(this.params, {PointCloud: {get: function() {
          console.warn('THREE.Raycaster: params.PointCloud has been renamed to params.Points.');
          return this.Points;
        }}});
  }
  function ascSort(a, b) {
    return a.distance - b.distance;
  }
  function intersectObject(object, raycaster, intersects, recursive) {
    if (object.visible === false)
      return;
    object.raycast(raycaster, intersects);
    if (recursive === true) {
      var children = object.children;
      for (var i = 0,
          l = children.length; i < l; i++) {
        intersectObject(children[i], raycaster, intersects, true);
      }
    }
  }
  Object.assign(Raycaster.prototype, {
    linePrecision: 1,
    set: function(origin, direction) {
      this.ray.set(origin, direction);
    },
    setFromCamera: function(coords, camera) {
      if ((camera && camera.isPerspectiveCamera)) {
        this.ray.origin.setFromMatrixPosition(camera.matrixWorld);
        this.ray.direction.set(coords.x, coords.y, 0.5).unproject(camera).sub(this.ray.origin).normalize();
      } else if ((camera && camera.isOrthographicCamera)) {
        this.ray.origin.set(coords.x, coords.y, (camera.near + camera.far) / (camera.near - camera.far)).unproject(camera);
        this.ray.direction.set(0, 0, -1).transformDirection(camera.matrixWorld);
      } else {
        console.error('THREE.Raycaster: Unsupported camera type.');
      }
    },
    intersectObject: function(object, recursive, optionalTarget) {
      var intersects = optionalTarget || [];
      intersectObject(object, this, intersects, recursive);
      intersects.sort(ascSort);
      return intersects;
    },
    intersectObjects: function(objects, recursive, optionalTarget) {
      var intersects = optionalTarget || [];
      if (Array.isArray(objects) === false) {
        console.warn('THREE.Raycaster.intersectObjects: objects is not an Array.');
        return intersects;
      }
      for (var i = 0,
          l = objects.length; i < l; i++) {
        intersectObject(objects[i], this, intersects, recursive);
      }
      intersects.sort(ascSort);
      return intersects;
    }
  });
  function Clock(autoStart) {
    this.autoStart = (autoStart !== undefined) ? autoStart : true;
    this.startTime = 0;
    this.oldTime = 0;
    this.elapsedTime = 0;
    this.running = false;
  }
  Object.assign(Clock.prototype, {
    start: function() {
      this.startTime = (typeof performance === 'undefined' ? Date : performance).now();
      this.oldTime = this.startTime;
      this.elapsedTime = 0;
      this.running = true;
    },
    stop: function() {
      this.getElapsedTime();
      this.running = false;
      this.autoStart = false;
    },
    getElapsedTime: function() {
      this.getDelta();
      return this.elapsedTime;
    },
    getDelta: function() {
      var diff = 0;
      if (this.autoStart && !this.running) {
        this.start();
        return 0;
      }
      if (this.running) {
        var newTime = (typeof performance === 'undefined' ? Date : performance).now();
        diff = (newTime - this.oldTime) / 1000;
        this.oldTime = newTime;
        this.elapsedTime += diff;
      }
      return diff;
    }
  });
  function Spherical(radius, phi, theta) {
    this.radius = (radius !== undefined) ? radius : 1.0;
    this.phi = (phi !== undefined) ? phi : 0;
    this.theta = (theta !== undefined) ? theta : 0;
    return this;
  }
  Object.assign(Spherical.prototype, {
    set: function(radius, phi, theta) {
      this.radius = radius;
      this.phi = phi;
      this.theta = theta;
      return this;
    },
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(other) {
      this.radius = other.radius;
      this.phi = other.phi;
      this.theta = other.theta;
      return this;
    },
    makeSafe: function() {
      var EPS = 0.000001;
      this.phi = Math.max(EPS, Math.min(Math.PI - EPS, this.phi));
      return this;
    },
    setFromVector3: function(vec3) {
      this.radius = vec3.length();
      if (this.radius === 0) {
        this.theta = 0;
        this.phi = 0;
      } else {
        this.theta = Math.atan2(vec3.x, vec3.z);
        this.phi = Math.acos(_Math.clamp(vec3.y / this.radius, -1, 1));
      }
      return this;
    }
  });
  function Cylindrical(radius, theta, y) {
    this.radius = (radius !== undefined) ? radius : 1.0;
    this.theta = (theta !== undefined) ? theta : 0;
    this.y = (y !== undefined) ? y : 0;
    return this;
  }
  Object.assign(Cylindrical.prototype, {
    set: function(radius, theta, y) {
      this.radius = radius;
      this.theta = theta;
      this.y = y;
      return this;
    },
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(other) {
      this.radius = other.radius;
      this.theta = other.theta;
      this.y = other.y;
      return this;
    },
    setFromVector3: function(vec3) {
      this.radius = Math.sqrt(vec3.x * vec3.x + vec3.z * vec3.z);
      this.theta = Math.atan2(vec3.x, vec3.z);
      this.y = vec3.y;
      return this;
    }
  });
  function Box2(min, max) {
    this.min = (min !== undefined) ? min : new Vector2(+Infinity, +Infinity);
    this.max = (max !== undefined) ? max : new Vector2(-Infinity, -Infinity);
  }
  Object.assign(Box2.prototype, {
    set: function(min, max) {
      this.min.copy(min);
      this.max.copy(max);
      return this;
    },
    setFromPoints: function(points) {
      this.makeEmpty();
      for (var i = 0,
          il = points.length; i < il; i++) {
        this.expandByPoint(points[i]);
      }
      return this;
    },
    setFromCenterAndSize: function() {
      var v1 = new Vector2();
      return function setFromCenterAndSize(center, size) {
        var halfSize = v1.copy(size).multiplyScalar(0.5);
        this.min.copy(center).sub(halfSize);
        this.max.copy(center).add(halfSize);
        return this;
      };
    }(),
    clone: function() {
      return new this.constructor().copy(this);
    },
    copy: function(box) {
      this.min.copy(box.min);
      this.max.copy(box.max);
      return this;
    },
    makeEmpty: function() {
      this.min.x = this.min.y = +Infinity;
      this.max.x = this.max.y = -Infinity;
      return this;
    },
    isEmpty: function() {
      return (this.max.x < this.min.x) || (this.max.y < this.min.y);
    },
    getCenter: function(target) {
      if (target === undefined) {
        console.warn('THREE.Box2: .getCenter() target is now required');
        target = new Vector2();
      }
      return this.isEmpty() ? target.set(0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);
    },
    getSize: function(target) {
      if (target === undefined) {
        console.warn('THREE.Box2: .getSize() target is now required');
        target = new Vector2();
      }
      return this.isEmpty() ? target.set(0, 0) : target.subVectors(this.max, this.min);
    },
    expandByPoint: function(point) {
      this.min.min(point);
      this.max.max(point);
      return this;
    },
    expandByVector: function(vector) {
      this.min.sub(vector);
      this.max.add(vector);
      return this;
    },
    expandByScalar: function(scalar) {
      this.min.addScalar(-scalar);
      this.max.addScalar(scalar);
      return this;
    },
    containsPoint: function(point) {
      return point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y ? false : true;
    },
    containsBox: function(box) {
      return this.min.x <= box.min.x && box.max.x <= this.max.x && this.min.y <= box.min.y && box.max.y <= this.max.y;
    },
    getParameter: function(point, target) {
      if (target === undefined) {
        console.warn('THREE.Box2: .getParameter() target is now required');
        target = new Vector2();
      }
      return target.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y));
    },
    intersectsBox: function(box) {
      return box.max.x < this.min.x || box.min.x > this.max.x || box.max.y < this.min.y || box.min.y > this.max.y ? false : true;
    },
    clampPoint: function(point, target) {
      if (target === undefined) {
        console.warn('THREE.Box2: .clampPoint() target is now required');
        target = new Vector2();
      }
      return target.copy(point).clamp(this.min, this.max);
    },
    distanceToPoint: function() {
      var v1 = new Vector2();
      return function distanceToPoint(point) {
        var clampedPoint = v1.copy(point).clamp(this.min, this.max);
        return clampedPoint.sub(point).length();
      };
    }(),
    intersect: function(box) {
      this.min.max(box.min);
      this.max.min(box.max);
      return this;
    },
    union: function(box) {
      this.min.min(box.min);
      this.max.max(box.max);
      return this;
    },
    translate: function(offset) {
      this.min.add(offset);
      this.max.add(offset);
      return this;
    },
    equals: function(box) {
      return box.min.equals(this.min) && box.max.equals(this.max);
    }
  });
  function ImmediateRenderObject(material) {
    Object3D.call(this);
    this.material = material;
    this.render = function() {};
  }
  ImmediateRenderObject.prototype = Object.create(Object3D.prototype);
  ImmediateRenderObject.prototype.constructor = ImmediateRenderObject;
  ImmediateRenderObject.prototype.isImmediateRenderObject = true;
  function VertexNormalsHelper(object, size, hex, linewidth) {
    this.object = object;
    this.size = (size !== undefined) ? size : 1;
    var color = (hex !== undefined) ? hex : 0xff0000;
    var width = (linewidth !== undefined) ? linewidth : 1;
    var nNormals = 0;
    var objGeometry = this.object.geometry;
    if (objGeometry && objGeometry.isGeometry) {
      nNormals = objGeometry.faces.length * 3;
    } else if (objGeometry && objGeometry.isBufferGeometry) {
      nNormals = objGeometry.attributes.normal.count;
    }
    var geometry = new BufferGeometry();
    var positions = new Float32BufferAttribute(nNormals * 2 * 3, 3);
    geometry.addAttribute('position', positions);
    LineSegments.call(this, geometry, new LineBasicMaterial({
      color: color,
      linewidth: width
    }));
    this.matrixAutoUpdate = false;
    this.update();
  }
  VertexNormalsHelper.prototype = Object.create(LineSegments.prototype);
  VertexNormalsHelper.prototype.constructor = VertexNormalsHelper;
  VertexNormalsHelper.prototype.update = (function() {
    var v1 = new Vector3();
    var v2 = new Vector3();
    var normalMatrix = new Matrix3();
    return function update() {
      var keys = ['a', 'b', 'c'];
      this.object.updateMatrixWorld(true);
      normalMatrix.getNormalMatrix(this.object.matrixWorld);
      var matrixWorld = this.object.matrixWorld;
      var position = this.geometry.attributes.position;
      var objGeometry = this.object.geometry;
      if (objGeometry && objGeometry.isGeometry) {
        var vertices = objGeometry.vertices;
        var faces = objGeometry.faces;
        var idx = 0;
        for (var i = 0,
            l = faces.length; i < l; i++) {
          var face = faces[i];
          for (var j = 0,
              jl = face.vertexNormals.length; j < jl; j++) {
            var vertex = vertices[face[keys[j]]];
            var normal = face.vertexNormals[j];
            v1.copy(vertex).applyMatrix4(matrixWorld);
            v2.copy(normal).applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);
            position.setXYZ(idx, v1.x, v1.y, v1.z);
            idx = idx + 1;
            position.setXYZ(idx, v2.x, v2.y, v2.z);
            idx = idx + 1;
          }
        }
      } else if (objGeometry && objGeometry.isBufferGeometry) {
        var objPos = objGeometry.attributes.position;
        var objNorm = objGeometry.attributes.normal;
        var idx = 0;
        for (var j = 0,
            jl = objPos.count; j < jl; j++) {
          v1.set(objPos.getX(j), objPos.getY(j), objPos.getZ(j)).applyMatrix4(matrixWorld);
          v2.set(objNorm.getX(j), objNorm.getY(j), objNorm.getZ(j));
          v2.applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);
          position.setXYZ(idx, v1.x, v1.y, v1.z);
          idx = idx + 1;
          position.setXYZ(idx, v2.x, v2.y, v2.z);
          idx = idx + 1;
        }
      }
      position.needsUpdate = true;
    };
  }());
  function SpotLightHelper(light, color) {
    Object3D.call(this);
    this.light = light;
    this.light.updateMatrixWorld();
    this.matrix = light.matrixWorld;
    this.matrixAutoUpdate = false;
    this.color = color;
    var geometry = new BufferGeometry();
    var positions = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1];
    for (var i = 0,
        j = 1,
        l = 32; i < l; i++, j++) {
      var p1 = (i / l) * Math.PI * 2;
      var p2 = (j / l) * Math.PI * 2;
      positions.push(Math.cos(p1), Math.sin(p1), 1, Math.cos(p2), Math.sin(p2), 1);
    }
    geometry.addAttribute('position', new Float32BufferAttribute(positions, 3));
    var material = new LineBasicMaterial({fog: false});
    this.cone = new LineSegments(geometry, material);
    this.add(this.cone);
    this.update();
  }
  SpotLightHelper.prototype = Object.create(Object3D.prototype);
  SpotLightHelper.prototype.constructor = SpotLightHelper;
  SpotLightHelper.prototype.dispose = function() {
    this.cone.geometry.dispose();
    this.cone.material.dispose();
  };
  SpotLightHelper.prototype.update = function() {
    var vector = new Vector3();
    var vector2 = new Vector3();
    return function update() {
      this.light.updateMatrixWorld();
      var coneLength = this.light.distance ? this.light.distance : 1000;
      var coneWidth = coneLength * Math.tan(this.light.angle);
      this.cone.scale.set(coneWidth, coneWidth, coneLength);
      vector.setFromMatrixPosition(this.light.matrixWorld);
      vector2.setFromMatrixPosition(this.light.target.matrixWorld);
      this.cone.lookAt(vector2.sub(vector));
      if (this.color !== undefined) {
        this.cone.material.color.set(this.color);
      } else {
        this.cone.material.color.copy(this.light.color);
      }
    };
  }();
  function getBoneList(object) {
    var boneList = [];
    if (object && object.isBone) {
      boneList.push(object);
    }
    for (var i = 0; i < object.children.length; i++) {
      boneList.push.apply(boneList, getBoneList(object.children[i]));
    }
    return boneList;
  }
  function SkeletonHelper(object) {
    var bones = getBoneList(object);
    var geometry = new BufferGeometry();
    var vertices = [];
    var colors = [];
    var color1 = new Color(0, 0, 1);
    var color2 = new Color(0, 1, 0);
    for (var i = 0; i < bones.length; i++) {
      var bone = bones[i];
      if (bone.parent && bone.parent.isBone) {
        vertices.push(0, 0, 0);
        vertices.push(0, 0, 0);
        colors.push(color1.r, color1.g, color1.b);
        colors.push(color2.r, color2.g, color2.b);
      }
    }
    geometry.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    geometry.addAttribute('color', new Float32BufferAttribute(colors, 3));
    var material = new LineBasicMaterial({
      vertexColors: VertexColors,
      depthTest: false,
      depthWrite: false,
      transparent: true
    });
    LineSegments.call(this, geometry, material);
    this.root = object;
    this.bones = bones;
    this.matrix = object.matrixWorld;
    this.matrixAutoUpdate = false;
  }
  SkeletonHelper.prototype = Object.create(LineSegments.prototype);
  SkeletonHelper.prototype.constructor = SkeletonHelper;
  SkeletonHelper.prototype.updateMatrixWorld = function() {
    var vector = new Vector3();
    var boneMatrix = new Matrix4();
    var matrixWorldInv = new Matrix4();
    return function updateMatrixWorld(force) {
      var bones = this.bones;
      var geometry = this.geometry;
      var position = geometry.getAttribute('position');
      matrixWorldInv.getInverse(this.root.matrixWorld);
      for (var i = 0,
          j = 0; i < bones.length; i++) {
        var bone = bones[i];
        if (bone.parent && bone.parent.isBone) {
          boneMatrix.multiplyMatrices(matrixWorldInv, bone.matrixWorld);
          vector.setFromMatrixPosition(boneMatrix);
          position.setXYZ(j, vector.x, vector.y, vector.z);
          boneMatrix.multiplyMatrices(matrixWorldInv, bone.parent.matrixWorld);
          vector.setFromMatrixPosition(boneMatrix);
          position.setXYZ(j + 1, vector.x, vector.y, vector.z);
          j += 2;
        }
      }
      geometry.getAttribute('position').needsUpdate = true;
      Object3D.prototype.updateMatrixWorld.call(this, force);
    };
  }();
  function PointLightHelper(light, sphereSize, color) {
    this.light = light;
    this.light.updateMatrixWorld();
    this.color = color;
    var geometry = new SphereBufferGeometry(sphereSize, 4, 2);
    var material = new MeshBasicMaterial({
      wireframe: true,
      fog: false
    });
    Mesh.call(this, geometry, material);
    this.matrix = this.light.matrixWorld;
    this.matrixAutoUpdate = false;
    this.update();
  }
  PointLightHelper.prototype = Object.create(Mesh.prototype);
  PointLightHelper.prototype.constructor = PointLightHelper;
  PointLightHelper.prototype.dispose = function() {
    this.geometry.dispose();
    this.material.dispose();
  };
  PointLightHelper.prototype.update = function() {
    if (this.color !== undefined) {
      this.material.color.set(this.color);
    } else {
      this.material.color.copy(this.light.color);
    }
  };
  function RectAreaLightHelper(light, color) {
    Object3D.call(this);
    this.light = light;
    this.light.updateMatrixWorld();
    this.matrix = light.matrixWorld;
    this.matrixAutoUpdate = false;
    this.color = color;
    var material = new LineBasicMaterial({fog: false});
    var geometry = new BufferGeometry();
    geometry.addAttribute('position', new BufferAttribute(new Float32Array(5 * 3), 3));
    this.line = new Line(geometry, material);
    this.add(this.line);
    this.update();
  }
  RectAreaLightHelper.prototype = Object.create(Object3D.prototype);
  RectAreaLightHelper.prototype.constructor = RectAreaLightHelper;
  RectAreaLightHelper.prototype.dispose = function() {
    this.children[0].geometry.dispose();
    this.children[0].material.dispose();
  };
  RectAreaLightHelper.prototype.update = function() {
    var hx = this.light.width * 0.5;
    var hy = this.light.height * 0.5;
    var position = this.line.geometry.attributes.position;
    var array = position.array;
    array[0] = hx;
    array[1] = -hy;
    array[2] = 0;
    array[3] = hx;
    array[4] = hy;
    array[5] = 0;
    array[6] = -hx;
    array[7] = hy;
    array[8] = 0;
    array[9] = -hx;
    array[10] = -hy;
    array[11] = 0;
    array[12] = hx;
    array[13] = -hy;
    array[14] = 0;
    position.needsUpdate = true;
    if (this.color !== undefined) {
      this.line.material.color.set(this.color);
    } else {
      this.line.material.color.copy(this.light.color);
    }
  };
  function HemisphereLightHelper(light, size, color) {
    Object3D.call(this);
    this.light = light;
    this.light.updateMatrixWorld();
    this.matrix = light.matrixWorld;
    this.matrixAutoUpdate = false;
    this.color = color;
    var geometry = new OctahedronBufferGeometry(size);
    geometry.rotateY(Math.PI * 0.5);
    this.material = new MeshBasicMaterial({
      wireframe: true,
      fog: false
    });
    if (this.color === undefined)
      this.material.vertexColors = VertexColors;
    var position = geometry.getAttribute('position');
    var colors = new Float32Array(position.count * 3);
    geometry.addAttribute('color', new BufferAttribute(colors, 3));
    this.add(new Mesh(geometry, this.material));
    this.update();
  }
  HemisphereLightHelper.prototype = Object.create(Object3D.prototype);
  HemisphereLightHelper.prototype.constructor = HemisphereLightHelper;
  HemisphereLightHelper.prototype.dispose = function() {
    this.children[0].geometry.dispose();
    this.children[0].material.dispose();
  };
  HemisphereLightHelper.prototype.update = function() {
    var vector = new Vector3();
    var color1 = new Color();
    var color2 = new Color();
    return function update() {
      var mesh = this.children[0];
      if (this.color !== undefined) {
        this.material.color.set(this.color);
      } else {
        var colors = mesh.geometry.getAttribute('color');
        color1.copy(this.light.color);
        color2.copy(this.light.groundColor);
        for (var i = 0,
            l = colors.count; i < l; i++) {
          var color = (i < (l / 2)) ? color1 : color2;
          colors.setXYZ(i, color.r, color.g, color.b);
        }
        colors.needsUpdate = true;
      }
      mesh.lookAt(vector.setFromMatrixPosition(this.light.matrixWorld).negate());
    };
  }();
  function GridHelper(size, divisions, color1, color2) {
    size = size || 10;
    divisions = divisions || 10;
    color1 = new Color(color1 !== undefined ? color1 : 0x444444);
    color2 = new Color(color2 !== undefined ? color2 : 0x888888);
    var center = divisions / 2;
    var step = size / divisions;
    var halfSize = size / 2;
    var vertices = [],
        colors = [];
    for (var i = 0,
        j = 0,
        k = -halfSize; i <= divisions; i++, k += step) {
      vertices.push(-halfSize, 0, k, halfSize, 0, k);
      vertices.push(k, 0, -halfSize, k, 0, halfSize);
      var color = i === center ? color1 : color2;
      color.toArray(colors, j);
      j += 3;
      color.toArray(colors, j);
      j += 3;
      color.toArray(colors, j);
      j += 3;
      color.toArray(colors, j);
      j += 3;
    }
    var geometry = new BufferGeometry();
    geometry.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    geometry.addAttribute('color', new Float32BufferAttribute(colors, 3));
    var material = new LineBasicMaterial({vertexColors: VertexColors});
    LineSegments.call(this, geometry, material);
  }
  GridHelper.prototype = Object.create(LineSegments.prototype);
  GridHelper.prototype.constructor = GridHelper;
  function PolarGridHelper(radius, radials, circles, divisions, color1, color2) {
    radius = radius || 10;
    radials = radials || 16;
    circles = circles || 8;
    divisions = divisions || 64;
    color1 = new Color(color1 !== undefined ? color1 : 0x444444);
    color2 = new Color(color2 !== undefined ? color2 : 0x888888);
    var vertices = [];
    var colors = [];
    var x,
        z;
    var v,
        i,
        j,
        r,
        color;
    for (i = 0; i <= radials; i++) {
      v = (i / radials) * (Math.PI * 2);
      x = Math.sin(v) * radius;
      z = Math.cos(v) * radius;
      vertices.push(0, 0, 0);
      vertices.push(x, 0, z);
      color = (i & 1) ? color1 : color2;
      colors.push(color.r, color.g, color.b);
      colors.push(color.r, color.g, color.b);
    }
    for (i = 0; i <= circles; i++) {
      color = (i & 1) ? color1 : color2;
      r = radius - (radius / circles * i);
      for (j = 0; j < divisions; j++) {
        v = (j / divisions) * (Math.PI * 2);
        x = Math.sin(v) * r;
        z = Math.cos(v) * r;
        vertices.push(x, 0, z);
        colors.push(color.r, color.g, color.b);
        v = ((j + 1) / divisions) * (Math.PI * 2);
        x = Math.sin(v) * r;
        z = Math.cos(v) * r;
        vertices.push(x, 0, z);
        colors.push(color.r, color.g, color.b);
      }
    }
    var geometry = new BufferGeometry();
    geometry.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    geometry.addAttribute('color', new Float32BufferAttribute(colors, 3));
    var material = new LineBasicMaterial({vertexColors: VertexColors});
    LineSegments.call(this, geometry, material);
  }
  PolarGridHelper.prototype = Object.create(LineSegments.prototype);
  PolarGridHelper.prototype.constructor = PolarGridHelper;
  function FaceNormalsHelper(object, size, hex, linewidth) {
    this.object = object;
    this.size = (size !== undefined) ? size : 1;
    var color = (hex !== undefined) ? hex : 0xffff00;
    var width = (linewidth !== undefined) ? linewidth : 1;
    var nNormals = 0;
    var objGeometry = this.object.geometry;
    if (objGeometry && objGeometry.isGeometry) {
      nNormals = objGeometry.faces.length;
    } else {
      console.warn('THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.');
    }
    var geometry = new BufferGeometry();
    var positions = new Float32BufferAttribute(nNormals * 2 * 3, 3);
    geometry.addAttribute('position', positions);
    LineSegments.call(this, geometry, new LineBasicMaterial({
      color: color,
      linewidth: width
    }));
    this.matrixAutoUpdate = false;
    this.update();
  }
  FaceNormalsHelper.prototype = Object.create(LineSegments.prototype);
  FaceNormalsHelper.prototype.constructor = FaceNormalsHelper;
  FaceNormalsHelper.prototype.update = (function() {
    var v1 = new Vector3();
    var v2 = new Vector3();
    var normalMatrix = new Matrix3();
    return function update() {
      this.object.updateMatrixWorld(true);
      normalMatrix.getNormalMatrix(this.object.matrixWorld);
      var matrixWorld = this.object.matrixWorld;
      var position = this.geometry.attributes.position;
      var objGeometry = this.object.geometry;
      var vertices = objGeometry.vertices;
      var faces = objGeometry.faces;
      var idx = 0;
      for (var i = 0,
          l = faces.length; i < l; i++) {
        var face = faces[i];
        var normal = face.normal;
        v1.copy(vertices[face.a]).add(vertices[face.b]).add(vertices[face.c]).divideScalar(3).applyMatrix4(matrixWorld);
        v2.copy(normal).applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);
        position.setXYZ(idx, v1.x, v1.y, v1.z);
        idx = idx + 1;
        position.setXYZ(idx, v2.x, v2.y, v2.z);
        idx = idx + 1;
      }
      position.needsUpdate = true;
    };
  }());
  function DirectionalLightHelper(light, size, color) {
    Object3D.call(this);
    this.light = light;
    this.light.updateMatrixWorld();
    this.matrix = light.matrixWorld;
    this.matrixAutoUpdate = false;
    this.color = color;
    if (size === undefined)
      size = 1;
    var geometry = new BufferGeometry();
    geometry.addAttribute('position', new Float32BufferAttribute([-size, size, 0, size, size, 0, size, -size, 0, -size, -size, 0, -size, size, 0], 3));
    var material = new LineBasicMaterial({fog: false});
    this.lightPlane = new Line(geometry, material);
    this.add(this.lightPlane);
    geometry = new BufferGeometry();
    geometry.addAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3));
    this.targetLine = new Line(geometry, material);
    this.add(this.targetLine);
    this.update();
  }
  DirectionalLightHelper.prototype = Object.create(Object3D.prototype);
  DirectionalLightHelper.prototype.constructor = DirectionalLightHelper;
  DirectionalLightHelper.prototype.dispose = function() {
    this.lightPlane.geometry.dispose();
    this.lightPlane.material.dispose();
    this.targetLine.geometry.dispose();
    this.targetLine.material.dispose();
  };
  DirectionalLightHelper.prototype.update = function() {
    var v1 = new Vector3();
    var v2 = new Vector3();
    var v3 = new Vector3();
    return function update() {
      v1.setFromMatrixPosition(this.light.matrixWorld);
      v2.setFromMatrixPosition(this.light.target.matrixWorld);
      v3.subVectors(v2, v1);
      this.lightPlane.lookAt(v3);
      if (this.color !== undefined) {
        this.lightPlane.material.color.set(this.color);
        this.targetLine.material.color.set(this.color);
      } else {
        this.lightPlane.material.color.copy(this.light.color);
        this.targetLine.material.color.copy(this.light.color);
      }
      this.targetLine.lookAt(v3);
      this.targetLine.scale.z = v3.length();
    };
  }();
  function CameraHelper(camera) {
    var geometry = new BufferGeometry();
    var material = new LineBasicMaterial({
      color: 0xffffff,
      vertexColors: FaceColors
    });
    var vertices = [];
    var colors = [];
    var pointMap = {};
    var colorFrustum = new Color(0xffaa00);
    var colorCone = new Color(0xff0000);
    var colorUp = new Color(0x00aaff);
    var colorTarget = new Color(0xffffff);
    var colorCross = new Color(0x333333);
    addLine('n1', 'n2', colorFrustum);
    addLine('n2', 'n4', colorFrustum);
    addLine('n4', 'n3', colorFrustum);
    addLine('n3', 'n1', colorFrustum);
    addLine('f1', 'f2', colorFrustum);
    addLine('f2', 'f4', colorFrustum);
    addLine('f4', 'f3', colorFrustum);
    addLine('f3', 'f1', colorFrustum);
    addLine('n1', 'f1', colorFrustum);
    addLine('n2', 'f2', colorFrustum);
    addLine('n3', 'f3', colorFrustum);
    addLine('n4', 'f4', colorFrustum);
    addLine('p', 'n1', colorCone);
    addLine('p', 'n2', colorCone);
    addLine('p', 'n3', colorCone);
    addLine('p', 'n4', colorCone);
    addLine('u1', 'u2', colorUp);
    addLine('u2', 'u3', colorUp);
    addLine('u3', 'u1', colorUp);
    addLine('c', 't', colorTarget);
    addLine('p', 'c', colorCross);
    addLine('cn1', 'cn2', colorCross);
    addLine('cn3', 'cn4', colorCross);
    addLine('cf1', 'cf2', colorCross);
    addLine('cf3', 'cf4', colorCross);
    function addLine(a, b, color) {
      addPoint(a, color);
      addPoint(b, color);
    }
    function addPoint(id, color) {
      vertices.push(0, 0, 0);
      colors.push(color.r, color.g, color.b);
      if (pointMap[id] === undefined) {
        pointMap[id] = [];
      }
      pointMap[id].push((vertices.length / 3) - 1);
    }
    geometry.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    geometry.addAttribute('color', new Float32BufferAttribute(colors, 3));
    LineSegments.call(this, geometry, material);
    this.camera = camera;
    if (this.camera.updateProjectionMatrix)
      this.camera.updateProjectionMatrix();
    this.matrix = camera.matrixWorld;
    this.matrixAutoUpdate = false;
    this.pointMap = pointMap;
    this.update();
  }
  CameraHelper.prototype = Object.create(LineSegments.prototype);
  CameraHelper.prototype.constructor = CameraHelper;
  CameraHelper.prototype.update = function() {
    var geometry,
        pointMap;
    var vector = new Vector3();
    var camera = new Camera();
    function setPoint(point, x, y, z) {
      vector.set(x, y, z).unproject(camera);
      var points = pointMap[point];
      if (points !== undefined) {
        var position = geometry.getAttribute('position');
        for (var i = 0,
            l = points.length; i < l; i++) {
          position.setXYZ(points[i], vector.x, vector.y, vector.z);
        }
      }
    }
    return function update() {
      geometry = this.geometry;
      pointMap = this.pointMap;
      var w = 1,
          h = 1;
      camera.projectionMatrix.copy(this.camera.projectionMatrix);
      setPoint('c', 0, 0, -1);
      setPoint('t', 0, 0, 1);
      setPoint('n1', -w, -h, -1);
      setPoint('n2', w, -h, -1);
      setPoint('n3', -w, h, -1);
      setPoint('n4', w, h, -1);
      setPoint('f1', -w, -h, 1);
      setPoint('f2', w, -h, 1);
      setPoint('f3', -w, h, 1);
      setPoint('f4', w, h, 1);
      setPoint('u1', w * 0.7, h * 1.1, -1);
      setPoint('u2', -w * 0.7, h * 1.1, -1);
      setPoint('u3', 0, h * 2, -1);
      setPoint('cf1', -w, 0, 1);
      setPoint('cf2', w, 0, 1);
      setPoint('cf3', 0, -h, 1);
      setPoint('cf4', 0, h, 1);
      setPoint('cn1', -w, 0, -1);
      setPoint('cn2', w, 0, -1);
      setPoint('cn3', 0, -h, -1);
      setPoint('cn4', 0, h, -1);
      geometry.getAttribute('position').needsUpdate = true;
    };
  }();
  function BoxHelper(object, color) {
    this.object = object;
    if (color === undefined)
      color = 0xffff00;
    var indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);
    var positions = new Float32Array(8 * 3);
    var geometry = new BufferGeometry();
    geometry.setIndex(new BufferAttribute(indices, 1));
    geometry.addAttribute('position', new BufferAttribute(positions, 3));
    LineSegments.call(this, geometry, new LineBasicMaterial({color: color}));
    this.matrixAutoUpdate = false;
    this.update();
  }
  BoxHelper.prototype = Object.create(LineSegments.prototype);
  BoxHelper.prototype.constructor = BoxHelper;
  BoxHelper.prototype.update = (function() {
    var box = new Box3();
    return function update(object) {
      if (object !== undefined) {
        console.warn('THREE.BoxHelper: .update() has no longer arguments.');
      }
      if (this.object !== undefined) {
        box.setFromObject(this.object);
      }
      if (box.isEmpty())
        return;
      var min = box.min;
      var max = box.max;
      var position = this.geometry.attributes.position;
      var array = position.array;
      array[0] = max.x;
      array[1] = max.y;
      array[2] = max.z;
      array[3] = min.x;
      array[4] = max.y;
      array[5] = max.z;
      array[6] = min.x;
      array[7] = min.y;
      array[8] = max.z;
      array[9] = max.x;
      array[10] = min.y;
      array[11] = max.z;
      array[12] = max.x;
      array[13] = max.y;
      array[14] = min.z;
      array[15] = min.x;
      array[16] = max.y;
      array[17] = min.z;
      array[18] = min.x;
      array[19] = min.y;
      array[20] = min.z;
      array[21] = max.x;
      array[22] = min.y;
      array[23] = min.z;
      position.needsUpdate = true;
      this.geometry.computeBoundingSphere();
    };
  })();
  BoxHelper.prototype.setFromObject = function(object) {
    this.object = object;
    this.update();
    return this;
  };
  function Box3Helper(box, hex) {
    this.type = 'Box3Helper';
    this.box = box;
    var color = (hex !== undefined) ? hex : 0xffff00;
    var indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);
    var positions = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1];
    var geometry = new BufferGeometry();
    geometry.setIndex(new BufferAttribute(indices, 1));
    geometry.addAttribute('position', new Float32BufferAttribute(positions, 3));
    LineSegments.call(this, geometry, new LineBasicMaterial({color: color}));
    this.geometry.computeBoundingSphere();
  }
  Box3Helper.prototype = Object.create(LineSegments.prototype);
  Box3Helper.prototype.constructor = Box3Helper;
  Box3Helper.prototype.updateMatrixWorld = function(force) {
    var box = this.box;
    if (box.isEmpty())
      return;
    box.getCenter(this.position);
    box.getSize(this.scale);
    this.scale.multiplyScalar(0.5);
    Object3D.prototype.updateMatrixWorld.call(this, force);
  };
  function PlaneHelper(plane, size, hex) {
    this.type = 'PlaneHelper';
    this.plane = plane;
    this.size = (size === undefined) ? 1 : size;
    var color = (hex !== undefined) ? hex : 0xffff00;
    var positions = [1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0];
    var geometry = new BufferGeometry();
    geometry.addAttribute('position', new Float32BufferAttribute(positions, 3));
    geometry.computeBoundingSphere();
    Line.call(this, geometry, new LineBasicMaterial({color: color}));
    var positions2 = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1];
    var geometry2 = new BufferGeometry();
    geometry2.addAttribute('position', new Float32BufferAttribute(positions2, 3));
    geometry2.computeBoundingSphere();
    this.add(new Mesh(geometry2, new MeshBasicMaterial({
      color: color,
      opacity: 0.2,
      transparent: true,
      depthWrite: false
    })));
  }
  PlaneHelper.prototype = Object.create(Line.prototype);
  PlaneHelper.prototype.constructor = PlaneHelper;
  PlaneHelper.prototype.updateMatrixWorld = function(force) {
    var scale = -this.plane.constant;
    if (Math.abs(scale) < 1e-8)
      scale = 1e-8;
    this.scale.set(0.5 * this.size, 0.5 * this.size, scale);
    this.children[0].material.side = (scale < 0) ? BackSide : FrontSide;
    this.lookAt(this.plane.normal);
    Object3D.prototype.updateMatrixWorld.call(this, force);
  };
  var lineGeometry,
      coneGeometry;
  function ArrowHelper(dir, origin, length, color, headLength, headWidth) {
    Object3D.call(this);
    if (color === undefined)
      color = 0xffff00;
    if (length === undefined)
      length = 1;
    if (headLength === undefined)
      headLength = 0.2 * length;
    if (headWidth === undefined)
      headWidth = 0.2 * headLength;
    if (lineGeometry === undefined) {
      lineGeometry = new BufferGeometry();
      lineGeometry.addAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));
      coneGeometry = new CylinderBufferGeometry(0, 0.5, 1, 5, 1);
      coneGeometry.translate(0, -0.5, 0);
    }
    this.position.copy(origin);
    this.line = new Line(lineGeometry, new LineBasicMaterial({color: color}));
    this.line.matrixAutoUpdate = false;
    this.add(this.line);
    this.cone = new Mesh(coneGeometry, new MeshBasicMaterial({color: color}));
    this.cone.matrixAutoUpdate = false;
    this.add(this.cone);
    this.setDirection(dir);
    this.setLength(length, headLength, headWidth);
  }
  ArrowHelper.prototype = Object.create(Object3D.prototype);
  ArrowHelper.prototype.constructor = ArrowHelper;
  ArrowHelper.prototype.setDirection = (function() {
    var axis = new Vector3();
    var radians;
    return function setDirection(dir) {
      if (dir.y > 0.99999) {
        this.quaternion.set(0, 0, 0, 1);
      } else if (dir.y < -0.99999) {
        this.quaternion.set(1, 0, 0, 0);
      } else {
        axis.set(dir.z, 0, -dir.x).normalize();
        radians = Math.acos(dir.y);
        this.quaternion.setFromAxisAngle(axis, radians);
      }
    };
  }());
  ArrowHelper.prototype.setLength = function(length, headLength, headWidth) {
    if (headLength === undefined)
      headLength = 0.2 * length;
    if (headWidth === undefined)
      headWidth = 0.2 * headLength;
    this.line.scale.set(1, Math.max(0, length - headLength), 1);
    this.line.updateMatrix();
    this.cone.scale.set(headWidth, headLength, headWidth);
    this.cone.position.y = length;
    this.cone.updateMatrix();
  };
  ArrowHelper.prototype.setColor = function(color) {
    this.line.material.color.copy(color);
    this.cone.material.color.copy(color);
  };
  function AxesHelper(size) {
    size = size || 1;
    var vertices = [0, 0, 0, size, 0, 0, 0, 0, 0, 0, size, 0, 0, 0, 0, 0, 0, size];
    var colors = [1, 0, 0, 1, 0.6, 0, 0, 1, 0, 0.6, 1, 0, 0, 0, 1, 0, 0.6, 1];
    var geometry = new BufferGeometry();
    geometry.addAttribute('position', new Float32BufferAttribute(vertices, 3));
    geometry.addAttribute('color', new Float32BufferAttribute(colors, 3));
    var material = new LineBasicMaterial({vertexColors: VertexColors});
    LineSegments.call(this, geometry, material);
  }
  AxesHelper.prototype = Object.create(LineSegments.prototype);
  AxesHelper.prototype.constructor = AxesHelper;
  function Face4(a, b, c, d, normal, color, materialIndex) {
    console.warn('THREE.Face4 has been removed. A THREE.Face3 will be created instead.');
    return new Face3(a, b, c, normal, color, materialIndex);
  }
  var LineStrip = 0;
  var LinePieces = 1;
  function MeshFaceMaterial(materials) {
    console.warn('THREE.MeshFaceMaterial has been removed. Use an Array instead.');
    return materials;
  }
  function MultiMaterial(materials) {
    if (materials === undefined)
      materials = [];
    console.warn('THREE.MultiMaterial has been removed. Use an Array instead.');
    materials.isMultiMaterial = true;
    materials.materials = materials;
    materials.clone = function() {
      return materials.slice();
    };
    return materials;
  }
  function PointCloud(geometry, material) {
    console.warn('THREE.PointCloud has been renamed to THREE.Points.');
    return new Points(geometry, material);
  }
  function Particle(material) {
    console.warn('THREE.Particle has been renamed to THREE.Sprite.');
    return new Sprite(material);
  }
  function ParticleSystem(geometry, material) {
    console.warn('THREE.ParticleSystem has been renamed to THREE.Points.');
    return new Points(geometry, material);
  }
  function PointCloudMaterial(parameters) {
    console.warn('THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.');
    return new PointsMaterial(parameters);
  }
  function ParticleBasicMaterial(parameters) {
    console.warn('THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.');
    return new PointsMaterial(parameters);
  }
  function ParticleSystemMaterial(parameters) {
    console.warn('THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.');
    return new PointsMaterial(parameters);
  }
  function Vertex(x, y, z) {
    console.warn('THREE.Vertex has been removed. Use THREE.Vector3 instead.');
    return new Vector3(x, y, z);
  }
  function DynamicBufferAttribute(array, itemSize) {
    console.warn('THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.');
    return new BufferAttribute(array, itemSize).setDynamic(true);
  }
  function Int8Attribute(array, itemSize) {
    console.warn('THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.');
    return new Int8BufferAttribute(array, itemSize);
  }
  function Uint8Attribute(array, itemSize) {
    console.warn('THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.');
    return new Uint8BufferAttribute(array, itemSize);
  }
  function Uint8ClampedAttribute(array, itemSize) {
    console.warn('THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.');
    return new Uint8ClampedBufferAttribute(array, itemSize);
  }
  function Int16Attribute(array, itemSize) {
    console.warn('THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.');
    return new Int16BufferAttribute(array, itemSize);
  }
  function Uint16Attribute(array, itemSize) {
    console.warn('THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.');
    return new Uint16BufferAttribute(array, itemSize);
  }
  function Int32Attribute(array, itemSize) {
    console.warn('THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.');
    return new Int32BufferAttribute(array, itemSize);
  }
  function Uint32Attribute(array, itemSize) {
    console.warn('THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.');
    return new Uint32BufferAttribute(array, itemSize);
  }
  function Float32Attribute(array, itemSize) {
    console.warn('THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.');
    return new Float32BufferAttribute(array, itemSize);
  }
  function Float64Attribute(array, itemSize) {
    console.warn('THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.');
    return new Float64BufferAttribute(array, itemSize);
  }
  Curve.create = function(construct, getPoint) {
    console.log('THREE.Curve.create() has been deprecated');
    construct.prototype = Object.create(Curve.prototype);
    construct.prototype.constructor = construct;
    construct.prototype.getPoint = getPoint;
    return construct;
  };
  Object.assign(CurvePath.prototype, {
    createPointsGeometry: function(divisions) {
      console.warn('THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');
      var pts = this.getPoints(divisions);
      return this.createGeometry(pts);
    },
    createSpacedPointsGeometry: function(divisions) {
      console.warn('THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');
      var pts = this.getSpacedPoints(divisions);
      return this.createGeometry(pts);
    },
    createGeometry: function(points) {
      console.warn('THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');
      var geometry = new Geometry();
      for (var i = 0,
          l = points.length; i < l; i++) {
        var point = points[i];
        geometry.vertices.push(new Vector3(point.x, point.y, point.z || 0));
      }
      return geometry;
    }
  });
  Object.assign(Path.prototype, {fromPoints: function(points) {
      console.warn('THREE.Path: .fromPoints() has been renamed to .setFromPoints().');
      this.setFromPoints(points);
    }});
  function ClosedSplineCurve3(points) {
    console.warn('THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.');
    CatmullRomCurve3.call(this, points);
    this.type = 'catmullrom';
    this.closed = true;
  }
  ClosedSplineCurve3.prototype = Object.create(CatmullRomCurve3.prototype);
  function SplineCurve3(points) {
    console.warn('THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.');
    CatmullRomCurve3.call(this, points);
    this.type = 'catmullrom';
  }
  SplineCurve3.prototype = Object.create(CatmullRomCurve3.prototype);
  function Spline(points) {
    console.warn('THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.');
    CatmullRomCurve3.call(this, points);
    this.type = 'catmullrom';
  }
  Spline.prototype = Object.create(CatmullRomCurve3.prototype);
  Object.assign(Spline.prototype, {
    initFromArray: function() {
      console.error('THREE.Spline: .initFromArray() has been removed.');
    },
    getControlPointsArray: function() {
      console.error('THREE.Spline: .getControlPointsArray() has been removed.');
    },
    reparametrizeByArcLength: function() {
      console.error('THREE.Spline: .reparametrizeByArcLength() has been removed.');
    }
  });
  function AxisHelper(size) {
    console.warn('THREE.AxisHelper has been renamed to THREE.AxesHelper.');
    return new AxesHelper(size);
  }
  function BoundingBoxHelper(object, color) {
    console.warn('THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.');
    return new BoxHelper(object, color);
  }
  function EdgesHelper(object, hex) {
    console.warn('THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.');
    return new LineSegments(new EdgesGeometry(object.geometry), new LineBasicMaterial({color: hex !== undefined ? hex : 0xffffff}));
  }
  GridHelper.prototype.setColors = function() {
    console.error('THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.');
  };
  SkeletonHelper.prototype.update = function() {
    console.error('THREE.SkeletonHelper: update() no longer needs to be called.');
  };
  function WireframeHelper(object, hex) {
    console.warn('THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.');
    return new LineSegments(new WireframeGeometry(object.geometry), new LineBasicMaterial({color: hex !== undefined ? hex : 0xffffff}));
  }
  Object.assign(Loader.prototype, {extractUrlBase: function(url) {
      console.warn('THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.');
      return LoaderUtils.extractUrlBase(url);
    }});
  function XHRLoader(manager) {
    console.warn('THREE.XHRLoader has been renamed to THREE.FileLoader.');
    return new FileLoader(manager);
  }
  function BinaryTextureLoader(manager) {
    console.warn('THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.');
    return new DataTextureLoader(manager);
  }
  Object.assign(Box2.prototype, {
    center: function(optionalTarget) {
      console.warn('THREE.Box2: .center() has been renamed to .getCenter().');
      return this.getCenter(optionalTarget);
    },
    empty: function() {
      console.warn('THREE.Box2: .empty() has been renamed to .isEmpty().');
      return this.isEmpty();
    },
    isIntersectionBox: function(box) {
      console.warn('THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().');
      return this.intersectsBox(box);
    },
    size: function(optionalTarget) {
      console.warn('THREE.Box2: .size() has been renamed to .getSize().');
      return this.getSize(optionalTarget);
    }
  });
  Object.assign(Box3.prototype, {
    center: function(optionalTarget) {
      console.warn('THREE.Box3: .center() has been renamed to .getCenter().');
      return this.getCenter(optionalTarget);
    },
    empty: function() {
      console.warn('THREE.Box3: .empty() has been renamed to .isEmpty().');
      return this.isEmpty();
    },
    isIntersectionBox: function(box) {
      console.warn('THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().');
      return this.intersectsBox(box);
    },
    isIntersectionSphere: function(sphere) {
      console.warn('THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().');
      return this.intersectsSphere(sphere);
    },
    size: function(optionalTarget) {
      console.warn('THREE.Box3: .size() has been renamed to .getSize().');
      return this.getSize(optionalTarget);
    }
  });
  Line3.prototype.center = function(optionalTarget) {
    console.warn('THREE.Line3: .center() has been renamed to .getCenter().');
    return this.getCenter(optionalTarget);
  };
  Object.assign(_Math, {
    random16: function() {
      console.warn('THREE.Math: .random16() has been deprecated. Use Math.random() instead.');
      return Math.random();
    },
    nearestPowerOfTwo: function(value) {
      console.warn('THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().');
      return _Math.floorPowerOfTwo(value);
    },
    nextPowerOfTwo: function(value) {
      console.warn('THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().');
      return _Math.ceilPowerOfTwo(value);
    }
  });
  Object.assign(Matrix3.prototype, {
    flattenToArrayOffset: function(array, offset) {
      console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");
      return this.toArray(array, offset);
    },
    multiplyVector3: function(vector) {
      console.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.');
      return vector.applyMatrix3(this);
    },
    multiplyVector3Array: function() {
      console.error('THREE.Matrix3: .multiplyVector3Array() has been removed.');
    },
    applyToBuffer: function(buffer) {
      console.warn('THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.');
      return this.applyToBufferAttribute(buffer);
    },
    applyToVector3Array: function() {
      console.error('THREE.Matrix3: .applyToVector3Array() has been removed.');
    }
  });
  Object.assign(Matrix4.prototype, {
    extractPosition: function(m) {
      console.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().');
      return this.copyPosition(m);
    },
    flattenToArrayOffset: function(array, offset) {
      console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");
      return this.toArray(array, offset);
    },
    getPosition: function() {
      var v1;
      return function getPosition() {
        if (v1 === undefined)
          v1 = new Vector3();
        console.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.');
        return v1.setFromMatrixColumn(this, 3);
      };
    }(),
    setRotationFromQuaternion: function(q) {
      console.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().');
      return this.makeRotationFromQuaternion(q);
    },
    multiplyToArray: function() {
      console.warn('THREE.Matrix4: .multiplyToArray() has been removed.');
    },
    multiplyVector3: function(vector) {
      console.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.');
      return vector.applyMatrix4(this);
    },
    multiplyVector4: function(vector) {
      console.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.');
      return vector.applyMatrix4(this);
    },
    multiplyVector3Array: function() {
      console.error('THREE.Matrix4: .multiplyVector3Array() has been removed.');
    },
    rotateAxis: function(v) {
      console.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.');
      v.transformDirection(this);
    },
    crossVector: function(vector) {
      console.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.');
      return vector.applyMatrix4(this);
    },
    translate: function() {
      console.error('THREE.Matrix4: .translate() has been removed.');
    },
    rotateX: function() {
      console.error('THREE.Matrix4: .rotateX() has been removed.');
    },
    rotateY: function() {
      console.error('THREE.Matrix4: .rotateY() has been removed.');
    },
    rotateZ: function() {
      console.error('THREE.Matrix4: .rotateZ() has been removed.');
    },
    rotateByAxis: function() {
      console.error('THREE.Matrix4: .rotateByAxis() has been removed.');
    },
    applyToBuffer: function(buffer) {
      console.warn('THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.');
      return this.applyToBufferAttribute(buffer);
    },
    applyToVector3Array: function() {
      console.error('THREE.Matrix4: .applyToVector3Array() has been removed.');
    },
    makeFrustum: function(left, right, bottom, top, near, far) {
      console.warn('THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.');
      return this.makePerspective(left, right, top, bottom, near, far);
    }
  });
  Plane.prototype.isIntersectionLine = function(line) {
    console.warn('THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().');
    return this.intersectsLine(line);
  };
  Quaternion.prototype.multiplyVector3 = function(vector) {
    console.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.');
    return vector.applyQuaternion(this);
  };
  Object.assign(Ray.prototype, {
    isIntersectionBox: function(box) {
      console.warn('THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().');
      return this.intersectsBox(box);
    },
    isIntersectionPlane: function(plane) {
      console.warn('THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().');
      return this.intersectsPlane(plane);
    },
    isIntersectionSphere: function(sphere) {
      console.warn('THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().');
      return this.intersectsSphere(sphere);
    }
  });
  Object.assign(Triangle.prototype, {
    area: function() {
      console.warn('THREE.Triangle: .area() has been renamed to .getArea().');
      return this.getArea();
    },
    barycoordFromPoint: function(point, target) {
      console.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');
      return this.getBarycoord(point, target);
    },
    midpoint: function(target) {
      console.warn('THREE.Triangle: .midpoint() has been renamed to .getMidpoint().');
      return this.getMidpoint(target);
    },
    normal: function(target) {
      console.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');
      return this.getNormal(target);
    },
    plane: function(target) {
      console.warn('THREE.Triangle: .plane() has been renamed to .getPlane().');
      return this.getPlane(target);
    }
  });
  Object.assign(Triangle, {
    barycoordFromPoint: function(point, a, b, c, target) {
      console.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');
      return Triangle.getBarycoord(point, a, b, c, target);
    },
    normal: function(a, b, c, target) {
      console.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');
      return Triangle.getNormal(a, b, c, target);
    }
  });
  Object.assign(Shape.prototype, {
    extractAllPoints: function(divisions) {
      console.warn('THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.');
      return this.extractPoints(divisions);
    },
    extrude: function(options) {
      console.warn('THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.');
      return new ExtrudeGeometry(this, options);
    },
    makeGeometry: function(options) {
      console.warn('THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.');
      return new ShapeGeometry(this, options);
    }
  });
  Object.assign(Vector2.prototype, {
    fromAttribute: function(attribute, index, offset) {
      console.warn('THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().');
      return this.fromBufferAttribute(attribute, index, offset);
    },
    distanceToManhattan: function(v) {
      console.warn('THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');
      return this.manhattanDistanceTo(v);
    },
    lengthManhattan: function() {
      console.warn('THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().');
      return this.manhattanLength();
    }
  });
  Object.assign(Vector3.prototype, {
    setEulerFromRotationMatrix: function() {
      console.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.');
    },
    setEulerFromQuaternion: function() {
      console.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.');
    },
    getPositionFromMatrix: function(m) {
      console.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().');
      return this.setFromMatrixPosition(m);
    },
    getScaleFromMatrix: function(m) {
      console.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().');
      return this.setFromMatrixScale(m);
    },
    getColumnFromMatrix: function(index, matrix) {
      console.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().');
      return this.setFromMatrixColumn(matrix, index);
    },
    applyProjection: function(m) {
      console.warn('THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.');
      return this.applyMatrix4(m);
    },
    fromAttribute: function(attribute, index, offset) {
      console.warn('THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().');
      return this.fromBufferAttribute(attribute, index, offset);
    },
    distanceToManhattan: function(v) {
      console.warn('THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');
      return this.manhattanDistanceTo(v);
    },
    lengthManhattan: function() {
      console.warn('THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().');
      return this.manhattanLength();
    }
  });
  Object.assign(Vector4.prototype, {
    fromAttribute: function(attribute, index, offset) {
      console.warn('THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().');
      return this.fromBufferAttribute(attribute, index, offset);
    },
    lengthManhattan: function() {
      console.warn('THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().');
      return this.manhattanLength();
    }
  });
  Object.assign(Geometry.prototype, {
    computeTangents: function() {
      console.error('THREE.Geometry: .computeTangents() has been removed.');
    },
    computeLineDistances: function() {
      console.error('THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.');
    }
  });
  Object.assign(Object3D.prototype, {
    getChildByName: function(name) {
      console.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().');
      return this.getObjectByName(name);
    },
    renderDepth: function() {
      console.warn('THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.');
    },
    translate: function(distance, axis) {
      console.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.');
      return this.translateOnAxis(axis, distance);
    },
    getWorldRotation: function() {
      console.error('THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.');
    }
  });
  Object.defineProperties(Object3D.prototype, {
    eulerOrder: {
      get: function() {
        console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');
        return this.rotation.order;
      },
      set: function(value) {
        console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');
        this.rotation.order = value;
      }
    },
    useQuaternion: {
      get: function() {
        console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');
      },
      set: function() {
        console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');
      }
    }
  });
  Object.defineProperties(LOD.prototype, {objects: {get: function() {
        console.warn('THREE.LOD: .objects has been renamed to .levels.');
        return this.levels;
      }}});
  Object.defineProperty(Skeleton.prototype, 'useVertexTexture', {
    get: function() {
      console.warn('THREE.Skeleton: useVertexTexture has been removed.');
    },
    set: function() {
      console.warn('THREE.Skeleton: useVertexTexture has been removed.');
    }
  });
  Object.defineProperty(Curve.prototype, '__arcLengthDivisions', {
    get: function() {
      console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.');
      return this.arcLengthDivisions;
    },
    set: function(value) {
      console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.');
      this.arcLengthDivisions = value;
    }
  });
  PerspectiveCamera.prototype.setLens = function(focalLength, filmGauge) {
    console.warn("THREE.PerspectiveCamera.setLens is deprecated. " + "Use .setFocalLength and .filmGauge for a photographic setup.");
    if (filmGauge !== undefined)
      this.filmGauge = filmGauge;
    this.setFocalLength(focalLength);
  };
  Object.defineProperties(Light.prototype, {
    onlyShadow: {set: function() {
        console.warn('THREE.Light: .onlyShadow has been removed.');
      }},
    shadowCameraFov: {set: function(value) {
        console.warn('THREE.Light: .shadowCameraFov is now .shadow.camera.fov.');
        this.shadow.camera.fov = value;
      }},
    shadowCameraLeft: {set: function(value) {
        console.warn('THREE.Light: .shadowCameraLeft is now .shadow.camera.left.');
        this.shadow.camera.left = value;
      }},
    shadowCameraRight: {set: function(value) {
        console.warn('THREE.Light: .shadowCameraRight is now .shadow.camera.right.');
        this.shadow.camera.right = value;
      }},
    shadowCameraTop: {set: function(value) {
        console.warn('THREE.Light: .shadowCameraTop is now .shadow.camera.top.');
        this.shadow.camera.top = value;
      }},
    shadowCameraBottom: {set: function(value) {
        console.warn('THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.');
        this.shadow.camera.bottom = value;
      }},
    shadowCameraNear: {set: function(value) {
        console.warn('THREE.Light: .shadowCameraNear is now .shadow.camera.near.');
        this.shadow.camera.near = value;
      }},
    shadowCameraFar: {set: function(value) {
        console.warn('THREE.Light: .shadowCameraFar is now .shadow.camera.far.');
        this.shadow.camera.far = value;
      }},
    shadowCameraVisible: {set: function() {
        console.warn('THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.');
      }},
    shadowBias: {set: function(value) {
        console.warn('THREE.Light: .shadowBias is now .shadow.bias.');
        this.shadow.bias = value;
      }},
    shadowDarkness: {set: function() {
        console.warn('THREE.Light: .shadowDarkness has been removed.');
      }},
    shadowMapWidth: {set: function(value) {
        console.warn('THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.');
        this.shadow.mapSize.width = value;
      }},
    shadowMapHeight: {set: function(value) {
        console.warn('THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.');
        this.shadow.mapSize.height = value;
      }}
  });
  Object.defineProperties(BufferAttribute.prototype, {
    length: {get: function() {
        console.warn('THREE.BufferAttribute: .length has been deprecated. Use .count instead.');
        return this.array.length;
      }},
    copyIndicesArray: function() {
      console.error('THREE.BufferAttribute: .copyIndicesArray() has been removed.');
    }
  });
  Object.assign(BufferGeometry.prototype, {
    addIndex: function(index) {
      console.warn('THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().');
      this.setIndex(index);
    },
    addDrawCall: function(start, count, indexOffset) {
      if (indexOffset !== undefined) {
        console.warn('THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.');
      }
      console.warn('THREE.BufferGeometry: .addDrawCall() is now .addGroup().');
      this.addGroup(start, count);
    },
    clearDrawCalls: function() {
      console.warn('THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().');
      this.clearGroups();
    },
    computeTangents: function() {
      console.warn('THREE.BufferGeometry: .computeTangents() has been removed.');
    },
    computeOffsets: function() {
      console.warn('THREE.BufferGeometry: .computeOffsets() has been removed.');
    }
  });
  Object.defineProperties(BufferGeometry.prototype, {
    drawcalls: {get: function() {
        console.error('THREE.BufferGeometry: .drawcalls has been renamed to .groups.');
        return this.groups;
      }},
    offsets: {get: function() {
        console.warn('THREE.BufferGeometry: .offsets has been renamed to .groups.');
        return this.groups;
      }}
  });
  Object.assign(ExtrudeBufferGeometry.prototype, {
    getArrays: function() {
      console.error('THREE.ExtrudeBufferGeometry: .getArrays() has been removed.');
    },
    addShapeList: function() {
      console.error('THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.');
    },
    addShape: function() {
      console.error('THREE.ExtrudeBufferGeometry: .addShape() has been removed.');
    }
  });
  Object.defineProperties(Uniform.prototype, {
    dynamic: {set: function() {
        console.warn('THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.');
      }},
    onUpdate: {value: function() {
        console.warn('THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.');
        return this;
      }}
  });
  Object.defineProperties(Material.prototype, {
    wrapAround: {
      get: function() {
        console.warn('THREE.Material: .wrapAround has been removed.');
      },
      set: function() {
        console.warn('THREE.Material: .wrapAround has been removed.');
      }
    },
    wrapRGB: {get: function() {
        console.warn('THREE.Material: .wrapRGB has been removed.');
        return new Color();
      }},
    shading: {
      get: function() {
        console.error('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');
      },
      set: function(value) {
        console.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');
        this.flatShading = (value === FlatShading);
      }
    }
  });
  Object.defineProperties(MeshPhongMaterial.prototype, {metal: {
      get: function() {
        console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.');
        return false;
      },
      set: function() {
        console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead');
      }
    }});
  Object.defineProperties(ShaderMaterial.prototype, {derivatives: {
      get: function() {
        console.warn('THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');
        return this.extensions.derivatives;
      },
      set: function(value) {
        console.warn('THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');
        this.extensions.derivatives = value;
      }
    }});
  Object.assign(WebGLRenderer.prototype, {
    animate: function(callback) {
      console.warn('THREE.WebGLRenderer: .animate() is now .setAnimationLoop().');
      this.setAnimationLoop(callback);
    },
    getCurrentRenderTarget: function() {
      console.warn('THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().');
      return this.getRenderTarget();
    },
    getMaxAnisotropy: function() {
      console.warn('THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().');
      return this.capabilities.getMaxAnisotropy();
    },
    getPrecision: function() {
      console.warn('THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.');
      return this.capabilities.precision;
    },
    resetGLState: function() {
      console.warn('THREE.WebGLRenderer: .resetGLState() is now .state.reset().');
      return this.state.reset();
    },
    supportsFloatTextures: function() {
      console.warn('THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \'OES_texture_float\' ).');
      return this.extensions.get('OES_texture_float');
    },
    supportsHalfFloatTextures: function() {
      console.warn('THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \'OES_texture_half_float\' ).');
      return this.extensions.get('OES_texture_half_float');
    },
    supportsStandardDerivatives: function() {
      console.warn('THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \'OES_standard_derivatives\' ).');
      return this.extensions.get('OES_standard_derivatives');
    },
    supportsCompressedTextureS3TC: function() {
      console.warn('THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \'WEBGL_compressed_texture_s3tc\' ).');
      return this.extensions.get('WEBGL_compressed_texture_s3tc');
    },
    supportsCompressedTexturePVRTC: function() {
      console.warn('THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \'WEBGL_compressed_texture_pvrtc\' ).');
      return this.extensions.get('WEBGL_compressed_texture_pvrtc');
    },
    supportsBlendMinMax: function() {
      console.warn('THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \'EXT_blend_minmax\' ).');
      return this.extensions.get('EXT_blend_minmax');
    },
    supportsVertexTextures: function() {
      console.warn('THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.');
      return this.capabilities.vertexTextures;
    },
    supportsInstancedArrays: function() {
      console.warn('THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \'ANGLE_instanced_arrays\' ).');
      return this.extensions.get('ANGLE_instanced_arrays');
    },
    enableScissorTest: function(boolean) {
      console.warn('THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().');
      this.setScissorTest(boolean);
    },
    initMaterial: function() {
      console.warn('THREE.WebGLRenderer: .initMaterial() has been removed.');
    },
    addPrePlugin: function() {
      console.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.');
    },
    addPostPlugin: function() {
      console.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.');
    },
    updateShadowMap: function() {
      console.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.');
    },
    setFaceCulling: function() {
      console.warn('THREE.WebGLRenderer: .setFaceCulling() has been removed.');
    }
  });
  Object.defineProperties(WebGLRenderer.prototype, {
    shadowMapEnabled: {
      get: function() {
        return this.shadowMap.enabled;
      },
      set: function(value) {
        console.warn('THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.');
        this.shadowMap.enabled = value;
      }
    },
    shadowMapType: {
      get: function() {
        return this.shadowMap.type;
      },
      set: function(value) {
        console.warn('THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.');
        this.shadowMap.type = value;
      }
    },
    shadowMapCullFace: {
      get: function() {
        console.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');
        return undefined;
      },
      set: function() {
        console.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');
      }
    }
  });
  Object.defineProperties(WebGLShadowMap.prototype, {
    cullFace: {
      get: function() {
        console.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');
        return undefined;
      },
      set: function() {
        console.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');
      }
    },
    renderReverseSided: {
      get: function() {
        console.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');
        return undefined;
      },
      set: function() {
        console.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');
      }
    },
    renderSingleSided: {
      get: function() {
        console.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');
        return undefined;
      },
      set: function() {
        console.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');
      }
    }
  });
  Object.defineProperties(WebGLRenderTarget.prototype, {
    wrapS: {
      get: function() {
        console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');
        return this.texture.wrapS;
      },
      set: function(value) {
        console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');
        this.texture.wrapS = value;
      }
    },
    wrapT: {
      get: function() {
        console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');
        return this.texture.wrapT;
      },
      set: function(value) {
        console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');
        this.texture.wrapT = value;
      }
    },
    magFilter: {
      get: function() {
        console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');
        return this.texture.magFilter;
      },
      set: function(value) {
        console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');
        this.texture.magFilter = value;
      }
    },
    minFilter: {
      get: function() {
        console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');
        return this.texture.minFilter;
      },
      set: function(value) {
        console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');
        this.texture.minFilter = value;
      }
    },
    anisotropy: {
      get: function() {
        console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');
        return this.texture.anisotropy;
      },
      set: function(value) {
        console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');
        this.texture.anisotropy = value;
      }
    },
    offset: {
      get: function() {
        console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');
        return this.texture.offset;
      },
      set: function(value) {
        console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');
        this.texture.offset = value;
      }
    },
    repeat: {
      get: function() {
        console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');
        return this.texture.repeat;
      },
      set: function(value) {
        console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');
        this.texture.repeat = value;
      }
    },
    format: {
      get: function() {
        console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');
        return this.texture.format;
      },
      set: function(value) {
        console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');
        this.texture.format = value;
      }
    },
    type: {
      get: function() {
        console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');
        return this.texture.type;
      },
      set: function(value) {
        console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');
        this.texture.type = value;
      }
    },
    generateMipmaps: {
      get: function() {
        console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');
        return this.texture.generateMipmaps;
      },
      set: function(value) {
        console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');
        this.texture.generateMipmaps = value;
      }
    }
  });
  Object.defineProperties(WebVRManager.prototype, {standing: {set: function() {
        console.warn('THREE.WebVRManager: .standing has been removed.');
      }}});
  Audio.prototype.load = function(file) {
    console.warn('THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.');
    var scope = this;
    var audioLoader = new AudioLoader();
    audioLoader.load(file, function(buffer) {
      scope.setBuffer(buffer);
    });
    return this;
  };
  AudioAnalyser.prototype.getData = function() {
    console.warn('THREE.AudioAnalyser: .getData() is now .getFrequencyData().');
    return this.getFrequencyData();
  };
  CubeCamera.prototype.updateCubeMap = function(renderer, scene) {
    console.warn('THREE.CubeCamera: .updateCubeMap() is now .update().');
    return this.update(renderer, scene);
  };
  var GeometryUtils = {
    merge: function(geometry1, geometry2, materialIndexOffset) {
      console.warn('THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.');
      var matrix;
      if (geometry2.isMesh) {
        geometry2.matrixAutoUpdate && geometry2.updateMatrix();
        matrix = geometry2.matrix;
        geometry2 = geometry2.geometry;
      }
      geometry1.merge(geometry2, matrix, materialIndexOffset);
    },
    center: function(geometry) {
      console.warn('THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.');
      return geometry.center();
    }
  };
  var ImageUtils = {
    crossOrigin: undefined,
    loadTexture: function(url, mapping, onLoad, onError) {
      console.warn('THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.');
      var loader = new TextureLoader();
      loader.setCrossOrigin(this.crossOrigin);
      var texture = loader.load(url, onLoad, undefined, onError);
      if (mapping)
        texture.mapping = mapping;
      return texture;
    },
    loadTextureCube: function(urls, mapping, onLoad, onError) {
      console.warn('THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.');
      var loader = new CubeTextureLoader();
      loader.setCrossOrigin(this.crossOrigin);
      var texture = loader.load(urls, onLoad, undefined, onError);
      if (mapping)
        texture.mapping = mapping;
      return texture;
    },
    loadCompressedTexture: function() {
      console.error('THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.');
    },
    loadCompressedTextureCube: function() {
      console.error('THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.');
    }
  };
  function Projector() {
    console.error('THREE.Projector has been moved to /examples/js/renderers/Projector.js.');
    this.projectVector = function(vector, camera) {
      console.warn('THREE.Projector: .projectVector() is now vector.project().');
      vector.project(camera);
    };
    this.unprojectVector = function(vector, camera) {
      console.warn('THREE.Projector: .unprojectVector() is now vector.unproject().');
      vector.unproject(camera);
    };
    this.pickingRay = function() {
      console.error('THREE.Projector: .pickingRay() is now raycaster.setFromCamera().');
    };
  }
  function CanvasRenderer() {
    console.error('THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js');
    this.domElement = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');
    this.clear = function() {};
    this.render = function() {};
    this.setClearColor = function() {};
    this.setSize = function() {};
  }
  var SceneUtils = {
    createMultiMaterialObject: function() {
      console.error('THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js');
    },
    detach: function() {
      console.error('THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js');
    },
    attach: function() {
      console.error('THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js');
    }
  };
  function LensFlare() {
    console.error('THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js');
  }
  exports.WebGLRenderTargetCube = WebGLRenderTargetCube;
  exports.WebGLRenderTarget = WebGLRenderTarget;
  exports.WebGLRenderer = WebGLRenderer;
  exports.ShaderLib = ShaderLib;
  exports.UniformsLib = UniformsLib;
  exports.UniformsUtils = UniformsUtils;
  exports.ShaderChunk = ShaderChunk;
  exports.FogExp2 = FogExp2;
  exports.Fog = Fog;
  exports.Scene = Scene;
  exports.Sprite = Sprite;
  exports.LOD = LOD;
  exports.SkinnedMesh = SkinnedMesh;
  exports.Skeleton = Skeleton;
  exports.Bone = Bone;
  exports.Mesh = Mesh;
  exports.LineSegments = LineSegments;
  exports.LineLoop = LineLoop;
  exports.Line = Line;
  exports.Points = Points;
  exports.Group = Group;
  exports.VideoTexture = VideoTexture;
  exports.DataTexture = DataTexture;
  exports.CompressedTexture = CompressedTexture;
  exports.CubeTexture = CubeTexture;
  exports.CanvasTexture = CanvasTexture;
  exports.DepthTexture = DepthTexture;
  exports.Texture = Texture;
  exports.CompressedTextureLoader = CompressedTextureLoader;
  exports.DataTextureLoader = DataTextureLoader;
  exports.CubeTextureLoader = CubeTextureLoader;
  exports.TextureLoader = TextureLoader;
  exports.ObjectLoader = ObjectLoader;
  exports.MaterialLoader = MaterialLoader;
  exports.BufferGeometryLoader = BufferGeometryLoader;
  exports.DefaultLoadingManager = DefaultLoadingManager;
  exports.LoadingManager = LoadingManager;
  exports.JSONLoader = JSONLoader;
  exports.ImageLoader = ImageLoader;
  exports.ImageBitmapLoader = ImageBitmapLoader;
  exports.FontLoader = FontLoader;
  exports.FileLoader = FileLoader;
  exports.Loader = Loader;
  exports.LoaderUtils = LoaderUtils;
  exports.Cache = Cache;
  exports.AudioLoader = AudioLoader;
  exports.SpotLightShadow = SpotLightShadow;
  exports.SpotLight = SpotLight;
  exports.PointLight = PointLight;
  exports.RectAreaLight = RectAreaLight;
  exports.HemisphereLight = HemisphereLight;
  exports.DirectionalLightShadow = DirectionalLightShadow;
  exports.DirectionalLight = DirectionalLight;
  exports.AmbientLight = AmbientLight;
  exports.LightShadow = LightShadow;
  exports.Light = Light;
  exports.StereoCamera = StereoCamera;
  exports.PerspectiveCamera = PerspectiveCamera;
  exports.OrthographicCamera = OrthographicCamera;
  exports.CubeCamera = CubeCamera;
  exports.ArrayCamera = ArrayCamera;
  exports.Camera = Camera;
  exports.AudioListener = AudioListener;
  exports.PositionalAudio = PositionalAudio;
  exports.AudioContext = AudioContext;
  exports.AudioAnalyser = AudioAnalyser;
  exports.Audio = Audio;
  exports.VectorKeyframeTrack = VectorKeyframeTrack;
  exports.StringKeyframeTrack = StringKeyframeTrack;
  exports.QuaternionKeyframeTrack = QuaternionKeyframeTrack;
  exports.NumberKeyframeTrack = NumberKeyframeTrack;
  exports.ColorKeyframeTrack = ColorKeyframeTrack;
  exports.BooleanKeyframeTrack = BooleanKeyframeTrack;
  exports.PropertyMixer = PropertyMixer;
  exports.PropertyBinding = PropertyBinding;
  exports.KeyframeTrack = KeyframeTrack;
  exports.AnimationUtils = AnimationUtils;
  exports.AnimationObjectGroup = AnimationObjectGroup;
  exports.AnimationMixer = AnimationMixer;
  exports.AnimationClip = AnimationClip;
  exports.Uniform = Uniform;
  exports.InstancedBufferGeometry = InstancedBufferGeometry;
  exports.BufferGeometry = BufferGeometry;
  exports.Geometry = Geometry;
  exports.InterleavedBufferAttribute = InterleavedBufferAttribute;
  exports.InstancedInterleavedBuffer = InstancedInterleavedBuffer;
  exports.InterleavedBuffer = InterleavedBuffer;
  exports.InstancedBufferAttribute = InstancedBufferAttribute;
  exports.Face3 = Face3;
  exports.Object3D = Object3D;
  exports.Raycaster = Raycaster;
  exports.Layers = Layers;
  exports.EventDispatcher = EventDispatcher;
  exports.Clock = Clock;
  exports.QuaternionLinearInterpolant = QuaternionLinearInterpolant;
  exports.LinearInterpolant = LinearInterpolant;
  exports.DiscreteInterpolant = DiscreteInterpolant;
  exports.CubicInterpolant = CubicInterpolant;
  exports.Interpolant = Interpolant;
  exports.Triangle = Triangle;
  exports.Math = _Math;
  exports.Spherical = Spherical;
  exports.Cylindrical = Cylindrical;
  exports.Plane = Plane;
  exports.Frustum = Frustum;
  exports.Sphere = Sphere;
  exports.Ray = Ray;
  exports.Matrix4 = Matrix4;
  exports.Matrix3 = Matrix3;
  exports.Box3 = Box3;
  exports.Box2 = Box2;
  exports.Line3 = Line3;
  exports.Euler = Euler;
  exports.Vector4 = Vector4;
  exports.Vector3 = Vector3;
  exports.Vector2 = Vector2;
  exports.Quaternion = Quaternion;
  exports.Color = Color;
  exports.ImmediateRenderObject = ImmediateRenderObject;
  exports.VertexNormalsHelper = VertexNormalsHelper;
  exports.SpotLightHelper = SpotLightHelper;
  exports.SkeletonHelper = SkeletonHelper;
  exports.PointLightHelper = PointLightHelper;
  exports.RectAreaLightHelper = RectAreaLightHelper;
  exports.HemisphereLightHelper = HemisphereLightHelper;
  exports.GridHelper = GridHelper;
  exports.PolarGridHelper = PolarGridHelper;
  exports.FaceNormalsHelper = FaceNormalsHelper;
  exports.DirectionalLightHelper = DirectionalLightHelper;
  exports.CameraHelper = CameraHelper;
  exports.BoxHelper = BoxHelper;
  exports.Box3Helper = Box3Helper;
  exports.PlaneHelper = PlaneHelper;
  exports.ArrowHelper = ArrowHelper;
  exports.AxesHelper = AxesHelper;
  exports.Shape = Shape;
  exports.Path = Path;
  exports.ShapePath = ShapePath;
  exports.Font = Font;
  exports.CurvePath = CurvePath;
  exports.Curve = Curve;
  exports.ShapeUtils = ShapeUtils;
  exports.WebGLUtils = WebGLUtils;
  exports.WireframeGeometry = WireframeGeometry;
  exports.ParametricGeometry = ParametricGeometry;
  exports.ParametricBufferGeometry = ParametricBufferGeometry;
  exports.TetrahedronGeometry = TetrahedronGeometry;
  exports.TetrahedronBufferGeometry = TetrahedronBufferGeometry;
  exports.OctahedronGeometry = OctahedronGeometry;
  exports.OctahedronBufferGeometry = OctahedronBufferGeometry;
  exports.IcosahedronGeometry = IcosahedronGeometry;
  exports.IcosahedronBufferGeometry = IcosahedronBufferGeometry;
  exports.DodecahedronGeometry = DodecahedronGeometry;
  exports.DodecahedronBufferGeometry = DodecahedronBufferGeometry;
  exports.PolyhedronGeometry = PolyhedronGeometry;
  exports.PolyhedronBufferGeometry = PolyhedronBufferGeometry;
  exports.TubeGeometry = TubeGeometry;
  exports.TubeBufferGeometry = TubeBufferGeometry;
  exports.TorusKnotGeometry = TorusKnotGeometry;
  exports.TorusKnotBufferGeometry = TorusKnotBufferGeometry;
  exports.TorusGeometry = TorusGeometry;
  exports.TorusBufferGeometry = TorusBufferGeometry;
  exports.TextGeometry = TextGeometry;
  exports.TextBufferGeometry = TextBufferGeometry;
  exports.SphereGeometry = SphereGeometry;
  exports.SphereBufferGeometry = SphereBufferGeometry;
  exports.RingGeometry = RingGeometry;
  exports.RingBufferGeometry = RingBufferGeometry;
  exports.PlaneGeometry = PlaneGeometry;
  exports.PlaneBufferGeometry = PlaneBufferGeometry;
  exports.LatheGeometry = LatheGeometry;
  exports.LatheBufferGeometry = LatheBufferGeometry;
  exports.ShapeGeometry = ShapeGeometry;
  exports.ShapeBufferGeometry = ShapeBufferGeometry;
  exports.ExtrudeGeometry = ExtrudeGeometry;
  exports.ExtrudeBufferGeometry = ExtrudeBufferGeometry;
  exports.EdgesGeometry = EdgesGeometry;
  exports.ConeGeometry = ConeGeometry;
  exports.ConeBufferGeometry = ConeBufferGeometry;
  exports.CylinderGeometry = CylinderGeometry;
  exports.CylinderBufferGeometry = CylinderBufferGeometry;
  exports.CircleGeometry = CircleGeometry;
  exports.CircleBufferGeometry = CircleBufferGeometry;
  exports.BoxGeometry = BoxGeometry;
  exports.BoxBufferGeometry = BoxBufferGeometry;
  exports.ShadowMaterial = ShadowMaterial;
  exports.SpriteMaterial = SpriteMaterial;
  exports.RawShaderMaterial = RawShaderMaterial;
  exports.ShaderMaterial = ShaderMaterial;
  exports.PointsMaterial = PointsMaterial;
  exports.MeshPhysicalMaterial = MeshPhysicalMaterial;
  exports.MeshStandardMaterial = MeshStandardMaterial;
  exports.MeshPhongMaterial = MeshPhongMaterial;
  exports.MeshToonMaterial = MeshToonMaterial;
  exports.MeshNormalMaterial = MeshNormalMaterial;
  exports.MeshLambertMaterial = MeshLambertMaterial;
  exports.MeshDepthMaterial = MeshDepthMaterial;
  exports.MeshDistanceMaterial = MeshDistanceMaterial;
  exports.MeshBasicMaterial = MeshBasicMaterial;
  exports.LineDashedMaterial = LineDashedMaterial;
  exports.LineBasicMaterial = LineBasicMaterial;
  exports.Material = Material;
  exports.Float64BufferAttribute = Float64BufferAttribute;
  exports.Float32BufferAttribute = Float32BufferAttribute;
  exports.Uint32BufferAttribute = Uint32BufferAttribute;
  exports.Int32BufferAttribute = Int32BufferAttribute;
  exports.Uint16BufferAttribute = Uint16BufferAttribute;
  exports.Int16BufferAttribute = Int16BufferAttribute;
  exports.Uint8ClampedBufferAttribute = Uint8ClampedBufferAttribute;
  exports.Uint8BufferAttribute = Uint8BufferAttribute;
  exports.Int8BufferAttribute = Int8BufferAttribute;
  exports.BufferAttribute = BufferAttribute;
  exports.ArcCurve = ArcCurve;
  exports.CatmullRomCurve3 = CatmullRomCurve3;
  exports.CubicBezierCurve = CubicBezierCurve;
  exports.CubicBezierCurve3 = CubicBezierCurve3;
  exports.EllipseCurve = EllipseCurve;
  exports.LineCurve = LineCurve;
  exports.LineCurve3 = LineCurve3;
  exports.QuadraticBezierCurve = QuadraticBezierCurve;
  exports.QuadraticBezierCurve3 = QuadraticBezierCurve3;
  exports.SplineCurve = SplineCurve;
  exports.REVISION = REVISION;
  exports.MOUSE = MOUSE;
  exports.CullFaceNone = CullFaceNone;
  exports.CullFaceBack = CullFaceBack;
  exports.CullFaceFront = CullFaceFront;
  exports.CullFaceFrontBack = CullFaceFrontBack;
  exports.FrontFaceDirectionCW = FrontFaceDirectionCW;
  exports.FrontFaceDirectionCCW = FrontFaceDirectionCCW;
  exports.BasicShadowMap = BasicShadowMap;
  exports.PCFShadowMap = PCFShadowMap;
  exports.PCFSoftShadowMap = PCFSoftShadowMap;
  exports.FrontSide = FrontSide;
  exports.BackSide = BackSide;
  exports.DoubleSide = DoubleSide;
  exports.FlatShading = FlatShading;
  exports.SmoothShading = SmoothShading;
  exports.NoColors = NoColors;
  exports.FaceColors = FaceColors;
  exports.VertexColors = VertexColors;
  exports.NoBlending = NoBlending;
  exports.NormalBlending = NormalBlending;
  exports.AdditiveBlending = AdditiveBlending;
  exports.SubtractiveBlending = SubtractiveBlending;
  exports.MultiplyBlending = MultiplyBlending;
  exports.CustomBlending = CustomBlending;
  exports.AddEquation = AddEquation;
  exports.SubtractEquation = SubtractEquation;
  exports.ReverseSubtractEquation = ReverseSubtractEquation;
  exports.MinEquation = MinEquation;
  exports.MaxEquation = MaxEquation;
  exports.ZeroFactor = ZeroFactor;
  exports.OneFactor = OneFactor;
  exports.SrcColorFactor = SrcColorFactor;
  exports.OneMinusSrcColorFactor = OneMinusSrcColorFactor;
  exports.SrcAlphaFactor = SrcAlphaFactor;
  exports.OneMinusSrcAlphaFactor = OneMinusSrcAlphaFactor;
  exports.DstAlphaFactor = DstAlphaFactor;
  exports.OneMinusDstAlphaFactor = OneMinusDstAlphaFactor;
  exports.DstColorFactor = DstColorFactor;
  exports.OneMinusDstColorFactor = OneMinusDstColorFactor;
  exports.SrcAlphaSaturateFactor = SrcAlphaSaturateFactor;
  exports.NeverDepth = NeverDepth;
  exports.AlwaysDepth = AlwaysDepth;
  exports.LessDepth = LessDepth;
  exports.LessEqualDepth = LessEqualDepth;
  exports.EqualDepth = EqualDepth;
  exports.GreaterEqualDepth = GreaterEqualDepth;
  exports.GreaterDepth = GreaterDepth;
  exports.NotEqualDepth = NotEqualDepth;
  exports.MultiplyOperation = MultiplyOperation;
  exports.MixOperation = MixOperation;
  exports.AddOperation = AddOperation;
  exports.NoToneMapping = NoToneMapping;
  exports.LinearToneMapping = LinearToneMapping;
  exports.ReinhardToneMapping = ReinhardToneMapping;
  exports.Uncharted2ToneMapping = Uncharted2ToneMapping;
  exports.CineonToneMapping = CineonToneMapping;
  exports.UVMapping = UVMapping;
  exports.CubeReflectionMapping = CubeReflectionMapping;
  exports.CubeRefractionMapping = CubeRefractionMapping;
  exports.EquirectangularReflectionMapping = EquirectangularReflectionMapping;
  exports.EquirectangularRefractionMapping = EquirectangularRefractionMapping;
  exports.SphericalReflectionMapping = SphericalReflectionMapping;
  exports.CubeUVReflectionMapping = CubeUVReflectionMapping;
  exports.CubeUVRefractionMapping = CubeUVRefractionMapping;
  exports.RepeatWrapping = RepeatWrapping;
  exports.ClampToEdgeWrapping = ClampToEdgeWrapping;
  exports.MirroredRepeatWrapping = MirroredRepeatWrapping;
  exports.NearestFilter = NearestFilter;
  exports.NearestMipMapNearestFilter = NearestMipMapNearestFilter;
  exports.NearestMipMapLinearFilter = NearestMipMapLinearFilter;
  exports.LinearFilter = LinearFilter;
  exports.LinearMipMapNearestFilter = LinearMipMapNearestFilter;
  exports.LinearMipMapLinearFilter = LinearMipMapLinearFilter;
  exports.UnsignedByteType = UnsignedByteType;
  exports.ByteType = ByteType;
  exports.ShortType = ShortType;
  exports.UnsignedShortType = UnsignedShortType;
  exports.IntType = IntType;
  exports.UnsignedIntType = UnsignedIntType;
  exports.FloatType = FloatType;
  exports.HalfFloatType = HalfFloatType;
  exports.UnsignedShort4444Type = UnsignedShort4444Type;
  exports.UnsignedShort5551Type = UnsignedShort5551Type;
  exports.UnsignedShort565Type = UnsignedShort565Type;
  exports.UnsignedInt248Type = UnsignedInt248Type;
  exports.AlphaFormat = AlphaFormat;
  exports.RGBFormat = RGBFormat;
  exports.RGBAFormat = RGBAFormat;
  exports.LuminanceFormat = LuminanceFormat;
  exports.LuminanceAlphaFormat = LuminanceAlphaFormat;
  exports.RGBEFormat = RGBEFormat;
  exports.DepthFormat = DepthFormat;
  exports.DepthStencilFormat = DepthStencilFormat;
  exports.RGB_S3TC_DXT1_Format = RGB_S3TC_DXT1_Format;
  exports.RGBA_S3TC_DXT1_Format = RGBA_S3TC_DXT1_Format;
  exports.RGBA_S3TC_DXT3_Format = RGBA_S3TC_DXT3_Format;
  exports.RGBA_S3TC_DXT5_Format = RGBA_S3TC_DXT5_Format;
  exports.RGB_PVRTC_4BPPV1_Format = RGB_PVRTC_4BPPV1_Format;
  exports.RGB_PVRTC_2BPPV1_Format = RGB_PVRTC_2BPPV1_Format;
  exports.RGBA_PVRTC_4BPPV1_Format = RGBA_PVRTC_4BPPV1_Format;
  exports.RGBA_PVRTC_2BPPV1_Format = RGBA_PVRTC_2BPPV1_Format;
  exports.RGB_ETC1_Format = RGB_ETC1_Format;
  exports.RGBA_ASTC_4x4_Format = RGBA_ASTC_4x4_Format;
  exports.RGBA_ASTC_5x4_Format = RGBA_ASTC_5x4_Format;
  exports.RGBA_ASTC_5x5_Format = RGBA_ASTC_5x5_Format;
  exports.RGBA_ASTC_6x5_Format = RGBA_ASTC_6x5_Format;
  exports.RGBA_ASTC_6x6_Format = RGBA_ASTC_6x6_Format;
  exports.RGBA_ASTC_8x5_Format = RGBA_ASTC_8x5_Format;
  exports.RGBA_ASTC_8x6_Format = RGBA_ASTC_8x6_Format;
  exports.RGBA_ASTC_8x8_Format = RGBA_ASTC_8x8_Format;
  exports.RGBA_ASTC_10x5_Format = RGBA_ASTC_10x5_Format;
  exports.RGBA_ASTC_10x6_Format = RGBA_ASTC_10x6_Format;
  exports.RGBA_ASTC_10x8_Format = RGBA_ASTC_10x8_Format;
  exports.RGBA_ASTC_10x10_Format = RGBA_ASTC_10x10_Format;
  exports.RGBA_ASTC_12x10_Format = RGBA_ASTC_12x10_Format;
  exports.RGBA_ASTC_12x12_Format = RGBA_ASTC_12x12_Format;
  exports.LoopOnce = LoopOnce;
  exports.LoopRepeat = LoopRepeat;
  exports.LoopPingPong = LoopPingPong;
  exports.InterpolateDiscrete = InterpolateDiscrete;
  exports.InterpolateLinear = InterpolateLinear;
  exports.InterpolateSmooth = InterpolateSmooth;
  exports.ZeroCurvatureEnding = ZeroCurvatureEnding;
  exports.ZeroSlopeEnding = ZeroSlopeEnding;
  exports.WrapAroundEnding = WrapAroundEnding;
  exports.TrianglesDrawMode = TrianglesDrawMode;
  exports.TriangleStripDrawMode = TriangleStripDrawMode;
  exports.TriangleFanDrawMode = TriangleFanDrawMode;
  exports.LinearEncoding = LinearEncoding;
  exports.sRGBEncoding = sRGBEncoding;
  exports.GammaEncoding = GammaEncoding;
  exports.RGBEEncoding = RGBEEncoding;
  exports.LogLuvEncoding = LogLuvEncoding;
  exports.RGBM7Encoding = RGBM7Encoding;
  exports.RGBM16Encoding = RGBM16Encoding;
  exports.RGBDEncoding = RGBDEncoding;
  exports.BasicDepthPacking = BasicDepthPacking;
  exports.RGBADepthPacking = RGBADepthPacking;
  exports.TangentSpaceNormalMap = TangentSpaceNormalMap;
  exports.ObjectSpaceNormalMap = ObjectSpaceNormalMap;
  exports.CubeGeometry = BoxGeometry;
  exports.Face4 = Face4;
  exports.LineStrip = LineStrip;
  exports.LinePieces = LinePieces;
  exports.MeshFaceMaterial = MeshFaceMaterial;
  exports.MultiMaterial = MultiMaterial;
  exports.PointCloud = PointCloud;
  exports.Particle = Particle;
  exports.ParticleSystem = ParticleSystem;
  exports.PointCloudMaterial = PointCloudMaterial;
  exports.ParticleBasicMaterial = ParticleBasicMaterial;
  exports.ParticleSystemMaterial = ParticleSystemMaterial;
  exports.Vertex = Vertex;
  exports.DynamicBufferAttribute = DynamicBufferAttribute;
  exports.Int8Attribute = Int8Attribute;
  exports.Uint8Attribute = Uint8Attribute;
  exports.Uint8ClampedAttribute = Uint8ClampedAttribute;
  exports.Int16Attribute = Int16Attribute;
  exports.Uint16Attribute = Uint16Attribute;
  exports.Int32Attribute = Int32Attribute;
  exports.Uint32Attribute = Uint32Attribute;
  exports.Float32Attribute = Float32Attribute;
  exports.Float64Attribute = Float64Attribute;
  exports.ClosedSplineCurve3 = ClosedSplineCurve3;
  exports.SplineCurve3 = SplineCurve3;
  exports.Spline = Spline;
  exports.AxisHelper = AxisHelper;
  exports.BoundingBoxHelper = BoundingBoxHelper;
  exports.EdgesHelper = EdgesHelper;
  exports.WireframeHelper = WireframeHelper;
  exports.XHRLoader = XHRLoader;
  exports.BinaryTextureLoader = BinaryTextureLoader;
  exports.GeometryUtils = GeometryUtils;
  exports.ImageUtils = ImageUtils;
  exports.Projector = Projector;
  exports.CanvasRenderer = CanvasRenderer;
  exports.SceneUtils = SceneUtils;
  exports.LensFlare = LensFlare;
  Object.defineProperty(exports, '__esModule', {value: true});
})));

})();
(function() {
var define = $__System.amdDefine;
define("3", ["44"], function(main) {
  return main;
});

})();
$__System.register('7', ['3', 'a'], function (_export) {
	var BufferAttribute, Vector3, _Object$keys, sqrt3;

	function arrayVec3Distance(array, index, nextIndex) {
		return distance2(array[index], array[index + 1], array[index + 2], array[nextIndex], array[nextIndex + 1], array[nextIndex + 2]);
	}

	function getRandomPoints(count) {
		var points = [];
		for (var i = 0; i < count * 3; ++i) points.push(randomRange(-1, 1));
		return points;
	}

	function decimateAttributes(attributes, step) {
		step = step || 1;
		var att = {};
		var keys = _Object$keys(attributes);
		keys.forEach(function (name) {
			var size = attributes[name].itemSize;
			att[name] = { array: [], itemSize: size };
			for (var i = 0; i < attributes[name].array.length / size; i += step) {
				for (var x = 0; x < size; ++x) {
					var item = attributes[name].array[i * size + x];
					att[name].array.push(item);
				}
			}
		});
		return att;
	}

	function randomRange(min, max) {
		return min + Math.random() * (max - min);
	}

	function clamp(value, min, max) {
		return Math.max(min, Math.min(max, value));
	}

	function saturate(value) {
		return Math.max(0, Math.min(1, value));
	}

	//https://github.com/mattdesl/lerp/blob/master/index.js

	function lerp(v0, v1, t) {
		return v0 * (1 - t) + v1 * t;
	}

	function lerpArray(a0, a1, t) {
		for (var i = 0; i < a0.length; ++i) {
			a0[i] = lerp(a0[i], a1[i], t);
		}
		return a0;
	}

	function lerpVector(a0, a1, t) {
		a0.x = lerp(a0.x, a1.x, t);
		a0.y = lerp(a0.y, a1.y, t);
		a0.z = lerp(a0.z, a1.z, t);
		return a0;
	}

	function lerpVectorArray(a0, a1, t) {
		a0.x = lerp(a0.x, a1[0], t);
		a0.y = lerp(a0.y, a1[1], t);
		a0.z = lerp(a0.z, a1[2], t);
		return a0;
	}

	// Find the closest power of 2

	function closestPowerOfTwo(num) {
		return Math.pow(2, Math.ceil(Math.log(num) / Math.log(2)));
	}

	// Used to calculate length of vector from center of box to corner of box

	//

	function distance1(a, b) {
		return Math.sqrt((a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y) + (a.z - b.z) * (a.z - b.z));
	}

	//

	function distance2(x, y, z, xx, yy, zz) {
		return Math.sqrt((x - xx) * (x - xx) + (y - yy) * (y - yy) + (z - zz) * (z - zz));
	}

	// Thank to Tomas Akenine-Möller
	// For sharing his Triangle Box Overlaping algorithm
	// http://fileadmin.cs.lth.se/cs/Personal/Tomas_Akenine-Moller/code/tribox3.txt

	function planeBoxOverlap(normal, vert, maxbox) {
		var vmin = new Vector3(0, 0, 0);
		var vmax = new Vector3(0, 0, 0);
		if (normal.x > 0) {
			vmin.x = -maxbox.x - vert.x;vmax.x = maxbox.x - vert.x;
		} else {
			vmin.x = maxbox.x - vert.x;vmax.x = -maxbox.x - vert.x;
		}
		if (normal.y > 0) {
			vmin.y = -maxbox.y - vert.y;vmax.y = maxbox.y - vert.y;
		} else {
			vmin.y = maxbox.y - vert.y;vmax.y = -maxbox.y - vert.y;
		}
		if (normal.z > 0) {
			vmin.z = -maxbox.z - vert.z;vmax.z = maxbox.z - vert.z;
		} else {
			vmin.z = maxbox.z - vert.z;vmax.z = -maxbox.z - vert.z;
		}
		var min = new Vector3(normal.x, normal.y, normal.z);
		var max = new Vector3(normal.x, normal.y, normal.z);
		if (min.dot(vmin) > 0) return 0;
		if (max.dot(vmax) >= 0) return 1;
		return 0;
	}

	function triangleArea(a, b, c) {
		var ab = new Vector3(a.x, a.y, a.z).sub(b);
		var ac = new Vector3(a.x, a.y, a.z).sub(c);
		return ab.cross(ac).length() / 2;
	}

	function triBoxOverlap(boxcenter, boxhalfsize, a, b, c) {
		var v0 = { x: 0, y: 0, z: 0 };
		var v1 = { x: 0, y: 0, z: 0 };
		var v2 = { x: 0, y: 0, z: 0 };
		var min, max, p0, p1, p2, rad, fex, fey, fez;
		var normal = new Vector3(0, 0, 0);
		var e0 = new Vector3(0, 0, 0);
		var e1 = new Vector3(0, 0, 0);
		var e2 = new Vector3(0, 0, 0);

		/* This is the fastest branch on Sun */
		/* move everything so that the boxcenter is in (0,0,0) */
		v0.x = a.x - boxcenter.x;v0.y = a.y - boxcenter.y;v0.z = a.z - boxcenter.z;
		v1.x = b.x - boxcenter.x;v1.y = b.y - boxcenter.y;v1.z = b.z - boxcenter.z;
		v2.x = c.x - boxcenter.x;v2.y = c.y - boxcenter.y;v2.z = c.z - boxcenter.z;
		/* compute triangle edges */
		e0.x = v1.x - v0.x;e0.y = v1.y - v0.y;e0.z = v1.z - v0.z;
		e1.x = v2.x - v1.x;e1.y = v2.y - v1.y;e1.z = v2.z - v1.z;
		e2.x = v0.x - v2.x;e2.y = v0.y - v2.y;e2.z = v0.z - v2.z;

		/* Bullet 3:  */
		/*  test the 9 tests first (this was faster) */
		fex = Math.abs(e0.x);
		fey = Math.abs(e0.y);
		fez = Math.abs(e0.z);
		//
		p0 = e0.z * v0.y - e0.y * v0.z;
		p2 = e0.z * v2.y - e0.y * v2.z;
		if (p0 < p2) {
			min = p0;max = p2;
		} else {
			min = p2;max = p0;
		}
		rad = fez * boxhalfsize.y + fey * boxhalfsize.z;
		if (min > rad || max < -rad) return 0;
		//
		p0 = -e0.z * v0.x + e0.x * v0.z;
		p2 = -e0.z * v2.x + e0.x * v2.z;
		if (p0 < p2) {
			min = p0;max = p2;
		} else {
			min = p2;max = p0;
		}
		rad = fez * boxhalfsize.x + fex * boxhalfsize.z;
		if (min > rad || max < -rad) return 0;
		//
		p1 = e0.y * v1.x - e0.x * v1.y;
		p2 = e0.y * v2.x - e0.x * v2.y;
		if (p2 < p1) {
			min = p2;max = p1;
		} else {
			min = p1;max = p2;
		}
		rad = fey * boxhalfsize.x + fex * boxhalfsize.y;
		if (min > rad || max < -rad) return 0;
		//
		fex = Math.abs(e1.x);
		fey = Math.abs(e1.y);
		fez = Math.abs(e1.z);
		//
		p0 = e1.z * v0.y - e1.y * v0.z;
		p2 = e1.z * v2.y - e1.y * v2.z;
		if (p0 < p2) {
			min = p0;max = p2;
		} else {
			min = p2;max = p0;
		}
		rad = fez * boxhalfsize.y + fey * boxhalfsize.z;
		if (min > rad || max < -rad) return 0;
		//
		p0 = -e1.z * v0.x + e1.x * v0.z;
		p2 = -e1.z * v2.x + e1.x * v2.z;
		if (p0 < p2) {
			min = p0;max = p2;
		} else {
			min = p2;max = p0;
		}
		rad = fez * boxhalfsize.x + fex * boxhalfsize.z;
		if (min > rad || max < -rad) return 0;
		//
		p0 = e1.y * v0.x - e1.x * v0.y;
		p1 = e1.y * v1.x - e1.x * v1.y;
		if (p0 < p1) {
			min = p0;max = p1;
		} else {
			min = p1;max = p0;
		}
		rad = fey * boxhalfsize.x + fex * boxhalfsize.y;
		if (min > rad || max < -rad) return 0;
		//
		fex = Math.abs(e2.x);
		fey = Math.abs(e2.y);
		fez = Math.abs(e2.z);
		//
		p0 = e2.z * v0.y - e2.y * v0.z;
		p1 = e2.z * v1.y - e2.y * v1.z;
		if (p0 < p1) {
			min = p0;max = p1;
		} else {
			min = p1;max = p0;
		}
		rad = fez * boxhalfsize.y + fey * boxhalfsize.z;
		if (min > rad || max < -rad) return 0;
		//
		p0 = -e2.z * v0.x + e2.x * v0.z;
		p1 = -e2.z * v1.x + e2.x * v1.z;
		if (p0 < p1) {
			min = p0;max = p1;
		} else {
			min = p1;max = p0;
		}
		rad = fez * boxhalfsize.x + fex * boxhalfsize.z;
		if (min > rad || max < -rad) return 0;
		//
		p1 = e2.y * v1.x - e2.x * v1.y;
		p2 = e2.y * v2.x - e2.x * v2.y;
		if (p2 < p1) {
			min = p2;max = p1;
		} else {
			min = p1;max = p2;
		}
		rad = fey * boxhalfsize.x + fex * boxhalfsize.y;
		if (min > rad || max < -rad) return 0;

		/* Bullet 1: */
		/*  first test overlap in the {x,y,z}-directions */
		/*  find min, max of the triangle each direction, and test for overlap in */
		/*  that direction -- this is equivalent to testing a minimal AABB around */
		/*  the triangle against the AABB */
		/* test in X-direction */
		min = Math.min(v0.x, Math.min(v1.x, v2.x));
		max = Math.max(v0.x, Math.max(v1.x, v2.x));
		if (min > boxhalfsize.x || max < -boxhalfsize.x) return 0;
		/* test in Y-direction */
		min = Math.min(v0.y, Math.min(v1.y, v2.y));
		max = Math.max(v0.y, Math.max(v1.y, v2.y));
		if (min > boxhalfsize.y || max < -boxhalfsize.y) return 0;
		/* test in Z-direction */
		min = Math.min(v0.z, Math.min(v1.z, v2.z));
		max = Math.max(v0.z, Math.max(v1.z, v2.z));
		if (min > boxhalfsize.z || max < -boxhalfsize.z) return 0;
		/* Bullet 2: */
		/*  test if the box intersects the plane of the triangle */
		/*  compute plane equation of triangle: normal*x+d=0 */
		normal.crossVectors(e0, e1);
		if (0 == planeBoxOverlap(normal, v0, boxhalfsize)) return 0;
		return 1; /* box and triangle overlaps */
	}

	return {
		setters: [function (_) {
			BufferAttribute = _.BufferAttribute;
			Vector3 = _.Vector3;
		}, function (_a) {
			_Object$keys = _a['default'];
		}],
		execute: function () {
			'use strict';

			_export('arrayVec3Distance', arrayVec3Distance);

			_export('getRandomPoints', getRandomPoints);

			_export('decimateAttributes', decimateAttributes);

			_export('randomRange', randomRange);

			_export('clamp', clamp);

			_export('saturate', saturate);

			_export('lerp', lerp);

			_export('lerpArray', lerpArray);

			_export('lerpVector', lerpVector);

			_export('lerpVectorArray', lerpVectorArray);

			_export('closestPowerOfTwo', closestPowerOfTwo);

			_export('distance1', distance1);

			_export('distance2', distance2);

			_export('planeBoxOverlap', planeBoxOverlap);

			_export('triangleArea', triangleArea);

			_export('triBoxOverlap', triBoxOverlap);

			sqrt3 = Math.sqrt(3);

			_export('sqrt3', sqrt3);
		}
	};
});

$__System.register('40', ['3', '5', '6', '7', 'a'], function (_export) {
	var THREE, _createClass, _classCallCheck, closestPowerOfTwo, lerp, getRandomPoints, _Object$keys, Geometry;

	return {
		setters: [function (_3) {
			THREE = _3;
		}, function (_) {
			_createClass = _['default'];
		}, function (_2) {
			_classCallCheck = _2['default'];
		}, function (_4) {
			closestPowerOfTwo = _4.closestPowerOfTwo;
			lerp = _4.lerp;
			getRandomPoints = _4.getRandomPoints;
		}, function (_a) {
			_Object$keys = _a['default'];
		}],
		execute: function () {
			'use strict';

			Geometry = (function () {
				function Geometry() {
					_classCallCheck(this, Geometry);
				}

				_createClass(Geometry, null, [{
					key: 'create',
					value: function create(attributes, subdivisions) {
						subdivisions = subdivisions || [1, 1];
						var count = attributes.position.array.length / attributes.position.itemSize;
						var geometries = [];
						var verticesMax = 65000;
						var dimension = closestPowerOfTwo(Math.sqrt(count));
						var geometryCount = 1 + Math.floor(count / verticesMax);
						var faces = [subdivisions[0] + 1, subdivisions[1] + 1];
						var quadCount = subdivisions[0] * subdivisions[1];
						var numberIndex = 0;
						for (var m = 0; m < geometryCount; ++m) {

							var vertexCount = count;
							if (geometryCount > 1) {
								if (m == geometryCount - 1) count = count % verticesMax;else vertexCount = verticesMax;
							}

							var arrays = {};
							var anchors = [];
							var quantities = [];
							var indexMap = [];
							var indices = [];
							var vIndex = 0;
							var attributeNames = _Object$keys(attributes);
							attributeNames.forEach(function (name) {
								arrays[name] = [];
							});

							for (var index = 0; index < vertexCount; ++index) {
								var u = index % dimension / dimension;
								var v = Math.floor(index / dimension) / dimension;
								for (var y = 0; y < faces[1]; ++y) {
									for (var x = 0; x < faces[0]; ++x) {
										attributeNames.forEach(function (name) {
											var itemSize = attributes[name].itemSize;
											var array = attributes[name].array;
											for (var i = 0; i < itemSize; i++) {
												arrays[name].push(array[index * itemSize + i]);
											}
										});
										var anchorX = x / subdivisions[0];
										var anchorY = y / subdivisions[1];
										anchors.push(anchorX * 2. - 1., anchorY * 2. - 1.);
										indexMap.push(u, v);
										quantities.push(numberIndex / (count - 1), numberIndex);
									}
								}
								for (var y = 0; y < subdivisions[1]; ++y) {
									for (var x = 0; x < subdivisions[0]; ++x) {
										indices.push(vIndex, vIndex + 1, vIndex + 1 + subdivisions[0]);
										indices.push(vIndex + 1 + subdivisions[0], vIndex + 1, vIndex + 2 + subdivisions[0]);
										vIndex += 1;
									}
									vIndex += 1;
								}
								vIndex += faces[0];
								numberIndex++;
							}

							var geometry = new THREE.BufferGeometry();
							attributeNames.forEach(function (name) {
								var array = new Float32Array(arrays[name]);
								geometry.addAttribute(name, new THREE.BufferAttribute(array, attributes[name].itemSize));
							});
							geometry.addAttribute('anchor', new THREE.BufferAttribute(new Float32Array(anchors), 2));
							geometry.addAttribute('quantity', new THREE.BufferAttribute(new Float32Array(quantities), 2));
							// geometry.addAttribute( 'indexMap', new THREE.BufferAttribute( new Float32Array(indexMap), 2 ) );
							geometry.setIndex(new THREE.BufferAttribute(new Uint32Array(indices), 1));
							geometries.push(geometry);
						}
						return geometries;
					}
				}, {
					key: 'clone',
					value: function clone(geometryToClone, instances) {
						var geometries = [];
						var numberIndex = 0;
						var arrays = {};
						var quantities = [];
						var indices = [];
						var attributes = geometryToClone.attributes;
						var vertexCount = attributes.position.array.length / 3;
						var triCount;
						if (geometryToClone.index != null) triCount = geometryToClone.index.array.length;
						var attributeNames = _Object$keys(attributes);
						attributeNames.forEach(function (name) {
							arrays[name] = [];
						});
						for (var index = 0; index < instances; ++index) {
							attributeNames.forEach(function (name) {
								var array = attributes[name].array;
								for (var i = 0; i < array.length; i++) {
									arrays[name].push(array[i]);
								}
							});

							if (geometryToClone.index != null) {
								for (var v = 0; v < triCount; ++v) {
									indices.push(numberIndex * vertexCount + geometryToClone.index.array[v]);
								}
							}
							for (var v = 0; v < vertexCount; ++v) {
								quantities.push(numberIndex / (instances - 1), numberIndex);
							}
							numberIndex++;
						}

						var geometry = new THREE.BufferGeometry();
						attributeNames.forEach(function (name) {
							geometry.addAttribute(name, new THREE.BufferAttribute(new Float32Array(arrays[name]), attributes[name].itemSize));
						});
						geometry.addAttribute('quantity', new THREE.BufferAttribute(new Float32Array(quantities), 2));
						if (geometryToClone.index != null) {
							geometry.setIndex(new THREE.BufferAttribute(new Uint32Array(indices), 1));
						}
						geometries.push(geometry);

						return geometries;
					}
				}, {
					key: 'random',
					value: function random(count) {
						return {
							position: {
								array: getRandomPoints(count),
								itemSize: 3
							}
						};
					}
				}, {
					key: 'parsePointCloud',
					value: function parsePointCloud(data, step) {
						var cloud = {};
						cloud.points = [];

						cloud.middle = [0, 0, 0];
						cloud.top = -9000;
						cloud.ground = 9000;

						step = step || 10;
						var lines = data.split("\n");
						for (var l = 17; l < lines.length; l += step) {
							var column = lines[l].split(" ");
							if (column.length > 8) {
								var point = { x: parseFloat(column[0]), y: parseFloat(column[1]), z: parseFloat(column[2]) };
								point.normal = { x: parseFloat(column[3]), y: parseFloat(column[4]), z: parseFloat(column[5]) };
								point.color = { r: parseInt(column[6]) / 255, g: parseInt(column[7]) / 255, b: parseInt(column[8]) / 255, a: parseInt(column[9]) / 255 };
								cloud.points.push(point);

								cloud.middle[0] += point.x;
								cloud.middle[1] += point.y;
								cloud.middle[2] += point.z;

								cloud.top = Math.max(cloud.top, point.y);
								cloud.ground = Math.min(cloud.ground, point.y);
							}
						}

						cloud.middle[0] /= cloud.points.length;
						cloud.middle[1] /= cloud.points.length;
						cloud.middle[2] /= cloud.points.length;

						cloud.ground = cloud.ground;

						return cloud;
					}
				}]);

				return Geometry;
			})();

			_export('default', Geometry);
		}
	};
});

$__System.register("e", [], function (_export) {
  "use strict";

  var Mouse;
  return {
    setters: [],
    execute: function () {
      Mouse = {};

      Mouse.x = 0;
      Mouse.y = 0;
      Mouse.down = false;

      // Pan
      Mouse.panX = 0;
      Mouse.panY = 0;
      Mouse.panStartX = 0;
      Mouse.panStartY = 0;
      Mouse.panStarted = false;

      Mouse.onMove = function (event) {
        Mouse.x = event.clientX;
        Mouse.y = event.clientY;
        if (Mouse.panStarted) {
          Mouse.panX = Mouse.x - Mouse.panStartX;
          Mouse.panY = Mouse.y - Mouse.panStartY;
        }
      };

      Mouse.onClic = function (event) {
        Mouse.x = event.clientX;
        Mouse.y = event.clientY;
        Mouse.down = true;

        // Pan
        Mouse.panStartX = Mouse.x - Mouse.panX;
        Mouse.panStartY = Mouse.y - Mouse.panY;
        Mouse.panStarted = true;
      };

      Mouse.onMouseUp = function (event) {
        Mouse.down = false;
        Mouse.panStarted = false;
      };

      _export("default", Mouse);
    }
  };
});

$__System.register('45', ['3', '7', '8', '9', '40', '41', '46', 'c', 'b', '3f', 'd', 'e'], function (_export) {
	'use strict';

	var THREE, clamp, lerp, lerpArray, lerpVector, lerpVectorArray, saturate, renderer, uniforms, initUniforms, updateUniforms, resizeUniforms, Geometry, addText, gui, assets, parameters, generateCurve, add, addWireframe, addShape2D, engine, initEngine, Mouse;
	return {
		setters: [function (_) {
			THREE = _;
		}, function (_3) {
			clamp = _3.clamp;
			lerp = _3.lerp;
			lerpArray = _3.lerpArray;
			lerpVector = _3.lerpVector;
			lerpVectorArray = _3.lerpVectorArray;
			saturate = _3.saturate;
		}, function (_2) {
			renderer = _2['default'];
		}, function (_4) {
			uniforms = _4.uniforms;
			initUniforms = _4.initUniforms;
			updateUniforms = _4.updateUniforms;
			resizeUniforms = _4.resizeUniforms;
		}, function (_7) {
			Geometry = _7['default'];
		}, function (_5) {
			addText = _5.addText;
		}, function (_6) {
			gui = _6.gui;
		}, function (_c) {
			assets = _c['default'];
		}, function (_b) {
			parameters = _b['default'];
		}, function (_f) {
			generateCurve = _f.generateCurve;
			add = _f.add;
			addWireframe = _f.addWireframe;
			addShape2D = _f.addShape2D;
		}, function (_d) {
			engine = _d.engine;
			initEngine = _d.initEngine;
		}, function (_e) {
			Mouse = _e['default'];
		}],
		execute: function () {
			_export('default', function () {

				assets.load(function () {
					initEngine();
					initUniforms();

					engine.camera.position.x = 5;
					engine.camera.position.y = 3;
					engine.camera.position.z = 0;

					engine.controls.enableDamping = true;
					engine.controls.dampingFactor = 0.01;
					engine.controls.rotateSpeed = 0.01;
					engine.controls.target.y = 3;
					engine.controls.enablePan = false;
					engine.controls.minDistance = 2.;
					engine.controls.maxDistance = 5.;
					engine.controls.minPolarAngle = -Math.PI / 8. + Math.PI / 2.;
					engine.controls.maxPolarAngle = Math.PI / 8. + Math.PI / 2.;

					// add(assets.shaders.raymarching);

					var cookie = assets.geometries.cookie;
					add(assets.shaders.star, Geometry.create(Geometry.random(1000)));
					addWireframe(assets.shaders.wireframe, [cookie]);
					add(assets.shaders.desert, [new THREE.PlaneGeometry(20, 20, 100, 100)]);
					add(assets.shaders.chocolat, Geometry.clone(new THREE.DodecahedronBufferGeometry(1, 0), 50));
					addText();

					onWindowResize();
					window.addEventListener('resize', onWindowResize, false);
					window.addEventListener('mousemove', Mouse.onMove, false);
					requestAnimationFrame(animate);
				});

				function animate(elapsed) {
					requestAnimationFrame(animate);
					elapsed /= 1000.;
					engine.controls.update();

					updateUniforms(elapsed);

					renderer.render(engine.scene, engine.camera, engine.frametarget, true);
					engine.bloom.render(renderer);
					renderer.render(engine.framerender, engine.camera);
				}

				function onWindowResize() {
					var w = window.innerWidth / renderer.scale;
					var h = window.innerHeight / renderer.scale;
					renderer.setSize(window.innerWidth, window.innerHeight);
					engine.bloom.resize();
					engine.frametarget.setSize(w, h);
					engine.camera.aspect = w / h;
					engine.camera.updateProjectionMatrix();
					resizeUniforms(w, h);
				}
			});
		}
	};
});

$__System.registerDynamic("47", [], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  // 7.2.1 RequireObjectCoercible(argument)
  module.exports = function (it) {
    if (it == undefined) throw TypeError("Can't call method on  " + it);
    return it;
  };
});
$__System.registerDynamic('1a', ['47'], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  var defined = $__require('47');
  module.exports = function (it) {
    return Object(defined(it));
  };
});
$__System.registerDynamic('48', [], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
  var global = module.exports = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();
  if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef
});
$__System.registerDynamic('49', [], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  module.exports = function (it) {
    if (typeof it != 'function') throw TypeError(it + ' is not a function!');
    return it;
  };
});
$__System.registerDynamic('4a', ['49'], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  var aFunction = $__require('49');
  module.exports = function (fn, that, length) {
    aFunction(fn);
    if (that === undefined) return fn;
    switch (length) {
      case 1:
        return function (a) {
          return fn.call(that, a);
        };
      case 2:
        return function (a, b) {
          return fn.call(that, a, b);
        };
      case 3:
        return function (a, b, c) {
          return fn.call(that, a, b, c);
        };
    }
    return function () {
      return fn.apply(that, arguments);
    };
  };
});
$__System.registerDynamic('1d', ['48', '1f', '4a'], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  var global = $__require('48'),
      core = $__require('1f'),
      ctx = $__require('4a'),
      PROTOTYPE = 'prototype';
  var $export = function (type, name, source) {
    var IS_FORCED = type & $export.F,
        IS_GLOBAL = type & $export.G,
        IS_STATIC = type & $export.S,
        IS_PROTO = type & $export.P,
        IS_BIND = type & $export.B,
        IS_WRAP = type & $export.W,
        exports = IS_GLOBAL ? core : core[name] || (core[name] = {}),
        target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE],
        key,
        own,
        out;
    if (IS_GLOBAL) source = name;
    for (key in source) {
      own = !IS_FORCED && target && key in target;
      if (own && key in exports) continue;
      out = own ? target[key] : source[key];
      exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key] : IS_BIND && own ? ctx(out, global) : IS_WRAP && target[key] == out ? function (C) {
        var F = function (param) {
          return this instanceof C ? new C(param) : C(param);
        };
        F[PROTOTYPE] = C[PROTOTYPE];
        return F;
      }(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
      if (IS_PROTO) (exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;
    }
  };
  $export.F = 1;
  $export.G = 2;
  $export.S = 4;
  $export.P = 8;
  $export.B = 16;
  $export.W = 32;
  module.exports = $export;
});
$__System.registerDynamic("1b", [], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  module.exports = function (exec) {
    try {
      return !!exec();
    } catch (e) {
      return true;
    }
  };
});
$__System.registerDynamic('4b', ['1d', '1f', '1b'], true, function ($__require, exports, module) {
    var global = this || self,
        GLOBAL = global;
    /* */
    var $export = $__require('1d'),
        core = $__require('1f'),
        fails = $__require('1b');
    module.exports = function (KEY, exec) {
        var fn = (core.Object || {})[KEY] || Object[KEY],
            exp = {};
        exp[KEY] = exec(fn);
        $export($export.S + $export.F * fails(function () {
            fn(1);
        }), 'Object', exp);
    };
});
$__System.registerDynamic('4c', ['1a', '4b'], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  var toObject = $__require('1a');
  $__require('4b')('keys', function ($keys) {
    return function keys(it) {
      return $keys(toObject(it));
    };
  });
});
$__System.registerDynamic('1f', [], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  var core = module.exports = { version: '1.2.6' };
  if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef
});
$__System.registerDynamic('4d', ['4c', '1f'], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  $__require('4c');
  module.exports = $__require('1f').Object.keys;
});
$__System.registerDynamic("a", ["4d"], true, function ($__require, exports, module) {
  var global = this || self,
      GLOBAL = global;
  /* */
  module.exports = { "default": $__require("4d"), __esModule: true };
});
(function() {
var define = $__System.amdDefine;
(function webpackUniversalModuleDefinition(root, factory) {
  if (typeof exports === 'object' && typeof module === 'object')
    module.exports = factory();
  else if (typeof define === 'function' && define.amd)
    define("4e", [], factory);
  else if (typeof exports === 'object')
    exports["dat"] = factory();
  else
    root["dat"] = factory();
})(this, function() {
  return (function(modules) {
    var installedModules = {};
    function __webpack_require__(moduleId) {
      if (installedModules[moduleId])
        return installedModules[moduleId].exports;
      var module = installedModules[moduleId] = {
        exports: {},
        id: moduleId,
        loaded: false
      };
      modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
      module.loaded = true;
      return module.exports;
    }
    __webpack_require__.m = modules;
    __webpack_require__.c = installedModules;
    __webpack_require__.p = "";
    return __webpack_require__(0);
  })([function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _index = __webpack_require__(1);
    var _index2 = _interopRequireDefault(_index);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    exports.default = _index2.default;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _Color = __webpack_require__(2);
    var _Color2 = _interopRequireDefault(_Color);
    var _math = __webpack_require__(6);
    var _math2 = _interopRequireDefault(_math);
    var _interpret = __webpack_require__(3);
    var _interpret2 = _interopRequireDefault(_interpret);
    var _Controller = __webpack_require__(7);
    var _Controller2 = _interopRequireDefault(_Controller);
    var _BooleanController = __webpack_require__(8);
    var _BooleanController2 = _interopRequireDefault(_BooleanController);
    var _OptionController = __webpack_require__(10);
    var _OptionController2 = _interopRequireDefault(_OptionController);
    var _StringController = __webpack_require__(11);
    var _StringController2 = _interopRequireDefault(_StringController);
    var _NumberController = __webpack_require__(12);
    var _NumberController2 = _interopRequireDefault(_NumberController);
    var _NumberControllerBox = __webpack_require__(13);
    var _NumberControllerBox2 = _interopRequireDefault(_NumberControllerBox);
    var _NumberControllerSlider = __webpack_require__(14);
    var _NumberControllerSlider2 = _interopRequireDefault(_NumberControllerSlider);
    var _FunctionController = __webpack_require__(15);
    var _FunctionController2 = _interopRequireDefault(_FunctionController);
    var _ColorController = __webpack_require__(16);
    var _ColorController2 = _interopRequireDefault(_ColorController);
    var _dom = __webpack_require__(9);
    var _dom2 = _interopRequireDefault(_dom);
    var _GUI = __webpack_require__(17);
    var _GUI2 = _interopRequireDefault(_GUI);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    exports.default = {
      color: {
        Color: _Color2.default,
        math: _math2.default,
        interpret: _interpret2.default
      },
      controllers: {
        Controller: _Controller2.default,
        BooleanController: _BooleanController2.default,
        OptionController: _OptionController2.default,
        StringController: _StringController2.default,
        NumberController: _NumberController2.default,
        NumberControllerBox: _NumberControllerBox2.default,
        NumberControllerSlider: _NumberControllerSlider2.default,
        FunctionController: _FunctionController2.default,
        ColorController: _ColorController2.default
      },
      dom: {dom: _dom2.default},
      gui: {GUI: _GUI2.default},
      GUI: _GUI2.default
    };
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _interpret = __webpack_require__(3);
    var _interpret2 = _interopRequireDefault(_interpret);
    var _math = __webpack_require__(6);
    var _math2 = _interopRequireDefault(_math);
    var _toString = __webpack_require__(4);
    var _toString2 = _interopRequireDefault(_toString);
    var _common = __webpack_require__(5);
    var _common2 = _interopRequireDefault(_common);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    var Color = function() {
      function Color() {
        _classCallCheck(this, Color);
        this.__state = _interpret2.default.apply(this, arguments);
        if (this.__state === false) {
          throw new Error('Failed to interpret color arguments');
        }
        this.__state.a = this.__state.a || 1;
      }
      Color.prototype.toString = function toString() {
        return (0, _toString2.default)(this);
      };
      Color.prototype.toHexString = function toHexString() {
        return (0, _toString2.default)(this, true);
      };
      Color.prototype.toOriginal = function toOriginal() {
        return this.__state.conversion.write(this);
      };
      return Color;
    }();
    function defineRGBComponent(target, component, componentHexIndex) {
      Object.defineProperty(target, component, {
        get: function get() {
          if (this.__state.space === 'RGB') {
            return this.__state[component];
          }
          Color.recalculateRGB(this, component, componentHexIndex);
          return this.__state[component];
        },
        set: function set(v) {
          if (this.__state.space !== 'RGB') {
            Color.recalculateRGB(this, component, componentHexIndex);
            this.__state.space = 'RGB';
          }
          this.__state[component] = v;
        }
      });
    }
    function defineHSVComponent(target, component) {
      Object.defineProperty(target, component, {
        get: function get() {
          if (this.__state.space === 'HSV') {
            return this.__state[component];
          }
          Color.recalculateHSV(this);
          return this.__state[component];
        },
        set: function set(v) {
          if (this.__state.space !== 'HSV') {
            Color.recalculateHSV(this);
            this.__state.space = 'HSV';
          }
          this.__state[component] = v;
        }
      });
    }
    Color.recalculateRGB = function(color, component, componentHexIndex) {
      if (color.__state.space === 'HEX') {
        color.__state[component] = _math2.default.component_from_hex(color.__state.hex, componentHexIndex);
      } else if (color.__state.space === 'HSV') {
        _common2.default.extend(color.__state, _math2.default.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));
      } else {
        throw new Error('Corrupted color state');
      }
    };
    Color.recalculateHSV = function(color) {
      var result = _math2.default.rgb_to_hsv(color.r, color.g, color.b);
      _common2.default.extend(color.__state, {
        s: result.s,
        v: result.v
      });
      if (!_common2.default.isNaN(result.h)) {
        color.__state.h = result.h;
      } else if (_common2.default.isUndefined(color.__state.h)) {
        color.__state.h = 0;
      }
    };
    Color.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];
    defineRGBComponent(Color.prototype, 'r', 2);
    defineRGBComponent(Color.prototype, 'g', 1);
    defineRGBComponent(Color.prototype, 'b', 0);
    defineHSVComponent(Color.prototype, 'h');
    defineHSVComponent(Color.prototype, 's');
    defineHSVComponent(Color.prototype, 'v');
    Object.defineProperty(Color.prototype, 'a', {
      get: function get() {
        return this.__state.a;
      },
      set: function set(v) {
        this.__state.a = v;
      }
    });
    Object.defineProperty(Color.prototype, 'hex', {
      get: function get() {
        if (!this.__state.space !== 'HEX') {
          this.__state.hex = _math2.default.rgb_to_hex(this.r, this.g, this.b);
        }
        return this.__state.hex;
      },
      set: function set(v) {
        this.__state.space = 'HEX';
        this.__state.hex = v;
      }
    });
    exports.default = Color;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _toString = __webpack_require__(4);
    var _toString2 = _interopRequireDefault(_toString);
    var _common = __webpack_require__(5);
    var _common2 = _interopRequireDefault(_common);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    var INTERPRETATIONS = [{
      litmus: _common2.default.isString,
      conversions: {
        THREE_CHAR_HEX: {
          read: function read(original) {
            var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);
            if (test === null) {
              return false;
            }
            return {
              space: 'HEX',
              hex: parseInt('0x' + test[1].toString() + test[1].toString() + test[2].toString() + test[2].toString() + test[3].toString() + test[3].toString(), 0)
            };
          },
          write: _toString2.default
        },
        SIX_CHAR_HEX: {
          read: function read(original) {
            var test = original.match(/^#([A-F0-9]{6})$/i);
            if (test === null) {
              return false;
            }
            return {
              space: 'HEX',
              hex: parseInt('0x' + test[1].toString(), 0)
            };
          },
          write: _toString2.default
        },
        CSS_RGB: {
          read: function read(original) {
            var test = original.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
            if (test === null) {
              return false;
            }
            return {
              space: 'RGB',
              r: parseFloat(test[1]),
              g: parseFloat(test[2]),
              b: parseFloat(test[3])
            };
          },
          write: _toString2.default
        },
        CSS_RGBA: {
          read: function read(original) {
            var test = original.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
            if (test === null) {
              return false;
            }
            return {
              space: 'RGB',
              r: parseFloat(test[1]),
              g: parseFloat(test[2]),
              b: parseFloat(test[3]),
              a: parseFloat(test[4])
            };
          },
          write: _toString2.default
        }
      }
    }, {
      litmus: _common2.default.isNumber,
      conversions: {HEX: {
          read: function read(original) {
            return {
              space: 'HEX',
              hex: original,
              conversionName: 'HEX'
            };
          },
          write: function write(color) {
            return color.hex;
          }
        }}
    }, {
      litmus: _common2.default.isArray,
      conversions: {
        RGB_ARRAY: {
          read: function read(original) {
            if (original.length !== 3) {
              return false;
            }
            return {
              space: 'RGB',
              r: original[0],
              g: original[1],
              b: original[2]
            };
          },
          write: function write(color) {
            return [color.r, color.g, color.b];
          }
        },
        RGBA_ARRAY: {
          read: function read(original) {
            if (original.length !== 4)
              return false;
            return {
              space: 'RGB',
              r: original[0],
              g: original[1],
              b: original[2],
              a: original[3]
            };
          },
          write: function write(color) {
            return [color.r, color.g, color.b, color.a];
          }
        }
      }
    }, {
      litmus: _common2.default.isObject,
      conversions: {
        RGBA_OBJ: {
          read: function read(original) {
            if (_common2.default.isNumber(original.r) && _common2.default.isNumber(original.g) && _common2.default.isNumber(original.b) && _common2.default.isNumber(original.a)) {
              return {
                space: 'RGB',
                r: original.r,
                g: original.g,
                b: original.b,
                a: original.a
              };
            }
            return false;
          },
          write: function write(color) {
            return {
              r: color.r,
              g: color.g,
              b: color.b,
              a: color.a
            };
          }
        },
        RGB_OBJ: {
          read: function read(original) {
            if (_common2.default.isNumber(original.r) && _common2.default.isNumber(original.g) && _common2.default.isNumber(original.b)) {
              return {
                space: 'RGB',
                r: original.r,
                g: original.g,
                b: original.b
              };
            }
            return false;
          },
          write: function write(color) {
            return {
              r: color.r,
              g: color.g,
              b: color.b
            };
          }
        },
        HSVA_OBJ: {
          read: function read(original) {
            if (_common2.default.isNumber(original.h) && _common2.default.isNumber(original.s) && _common2.default.isNumber(original.v) && _common2.default.isNumber(original.a)) {
              return {
                space: 'HSV',
                h: original.h,
                s: original.s,
                v: original.v,
                a: original.a
              };
            }
            return false;
          },
          write: function write(color) {
            return {
              h: color.h,
              s: color.s,
              v: color.v,
              a: color.a
            };
          }
        },
        HSV_OBJ: {
          read: function read(original) {
            if (_common2.default.isNumber(original.h) && _common2.default.isNumber(original.s) && _common2.default.isNumber(original.v)) {
              return {
                space: 'HSV',
                h: original.h,
                s: original.s,
                v: original.v
              };
            }
            return false;
          },
          write: function write(color) {
            return {
              h: color.h,
              s: color.s,
              v: color.v
            };
          }
        }
      }
    }];
    var result = void 0;
    var toReturn = void 0;
    var interpret = function interpret() {
      toReturn = false;
      var original = arguments.length > 1 ? _common2.default.toArray(arguments) : arguments[0];
      _common2.default.each(INTERPRETATIONS, function(family) {
        if (family.litmus(original)) {
          _common2.default.each(family.conversions, function(conversion, conversionName) {
            result = conversion.read(original);
            if (toReturn === false && result !== false) {
              toReturn = result;
              result.conversionName = conversionName;
              result.conversion = conversion;
              return _common2.default.BREAK;
            }
          });
          return _common2.default.BREAK;
        }
      });
      return toReturn;
    };
    exports.default = interpret;
    module.exports = exports['default'];
  }, function(module, exports) {
    'use strict';
    exports.__esModule = true;
    exports.default = function(color, forceCSSHex) {
      var colorFormat = color.__state.conversionName.toString();
      var r = Math.round(color.r);
      var g = Math.round(color.g);
      var b = Math.round(color.b);
      var a = color.a;
      var h = Math.round(color.h);
      var s = color.s.toFixed(1);
      var v = color.v.toFixed(1);
      if (forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX') {
        var str = color.hex.toString(16);
        while (str.length < 6) {
          str = '0' + str;
        }
        return '#' + str;
      } else if (colorFormat === 'CSS_RGB') {
        return 'rgb(' + r + ',' + g + ',' + b + ')';
      } else if (colorFormat === 'CSS_RGBA') {
        return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';
      } else if (colorFormat === 'HEX') {
        return '0x' + color.hex.toString(16);
      } else if (colorFormat === 'RGB_ARRAY') {
        return '[' + r + ',' + g + ',' + b + ']';
      } else if (colorFormat === 'RGBA_ARRAY') {
        return '[' + r + ',' + g + ',' + b + ',' + a + ']';
      } else if (colorFormat === 'RGB_OBJ') {
        return '{r:' + r + ',g:' + g + ',b:' + b + '}';
      } else if (colorFormat === 'RGBA_OBJ') {
        return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';
      } else if (colorFormat === 'HSV_OBJ') {
        return '{h:' + h + ',s:' + s + ',v:' + v + '}';
      } else if (colorFormat === 'HSVA_OBJ') {
        return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';
      }
      return 'unknown format';
    };
    module.exports = exports['default'];
  }, function(module, exports) {
    'use strict';
    exports.__esModule = true;
    var ARR_EACH = Array.prototype.forEach;
    var ARR_SLICE = Array.prototype.slice;
    var Common = {
      BREAK: {},
      extend: function extend(target) {
        this.each(ARR_SLICE.call(arguments, 1), function(obj) {
          var keys = this.isObject(obj) ? Object.keys(obj) : [];
          keys.forEach(function(key) {
            if (!this.isUndefined(obj[key])) {
              target[key] = obj[key];
            }
          }.bind(this));
        }, this);
        return target;
      },
      defaults: function defaults(target) {
        this.each(ARR_SLICE.call(arguments, 1), function(obj) {
          var keys = this.isObject(obj) ? Object.keys(obj) : [];
          keys.forEach(function(key) {
            if (this.isUndefined(target[key])) {
              target[key] = obj[key];
            }
          }.bind(this));
        }, this);
        return target;
      },
      compose: function compose() {
        var toCall = ARR_SLICE.call(arguments);
        return function() {
          var args = ARR_SLICE.call(arguments);
          for (var i = toCall.length - 1; i >= 0; i--) {
            args = [toCall[i].apply(this, args)];
          }
          return args[0];
        };
      },
      each: function each(obj, itr, scope) {
        if (!obj) {
          return;
        }
        if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {
          obj.forEach(itr, scope);
        } else if (obj.length === obj.length + 0) {
          var key = void 0;
          var l = void 0;
          for (key = 0, l = obj.length; key < l; key++) {
            if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {
              return;
            }
          }
        } else {
          for (var _key in obj) {
            if (itr.call(scope, obj[_key], _key) === this.BREAK) {
              return;
            }
          }
        }
      },
      defer: function defer(fnc) {
        setTimeout(fnc, 0);
      },
      debounce: function debounce(func, threshold, callImmediately) {
        var timeout = void 0;
        return function() {
          var obj = this;
          var args = arguments;
          function delayed() {
            timeout = null;
            if (!callImmediately)
              func.apply(obj, args);
          }
          var callNow = callImmediately || !timeout;
          clearTimeout(timeout);
          timeout = setTimeout(delayed, threshold);
          if (callNow) {
            func.apply(obj, args);
          }
        };
      },
      toArray: function toArray(obj) {
        if (obj.toArray)
          return obj.toArray();
        return ARR_SLICE.call(obj);
      },
      isUndefined: function isUndefined(obj) {
        return obj === undefined;
      },
      isNull: function isNull(obj) {
        return obj === null;
      },
      isNaN: function(_isNaN) {
        function isNaN(_x) {
          return _isNaN.apply(this, arguments);
        }
        isNaN.toString = function() {
          return _isNaN.toString();
        };
        return isNaN;
      }(function(obj) {
        return isNaN(obj);
      }),
      isArray: Array.isArray || function(obj) {
        return obj.constructor === Array;
      },
      isObject: function isObject(obj) {
        return obj === Object(obj);
      },
      isNumber: function isNumber(obj) {
        return obj === obj + 0;
      },
      isString: function isString(obj) {
        return obj === obj + '';
      },
      isBoolean: function isBoolean(obj) {
        return obj === false || obj === true;
      },
      isFunction: function isFunction(obj) {
        return Object.prototype.toString.call(obj) === '[object Function]';
      }
    };
    exports.default = Common;
    module.exports = exports['default'];
  }, function(module, exports) {
    "use strict";
    exports.__esModule = true;
    var tmpComponent = void 0;
    var ColorMath = {
      hsv_to_rgb: function hsv_to_rgb(h, s, v) {
        var hi = Math.floor(h / 60) % 6;
        var f = h / 60 - Math.floor(h / 60);
        var p = v * (1.0 - s);
        var q = v * (1.0 - f * s);
        var t = v * (1.0 - (1.0 - f) * s);
        var c = [[v, t, p], [q, v, p], [p, v, t], [p, q, v], [t, p, v], [v, p, q]][hi];
        return {
          r: c[0] * 255,
          g: c[1] * 255,
          b: c[2] * 255
        };
      },
      rgb_to_hsv: function rgb_to_hsv(r, g, b) {
        var min = Math.min(r, g, b);
        var max = Math.max(r, g, b);
        var delta = max - min;
        var h = void 0;
        var s = void 0;
        if (max !== 0) {
          s = delta / max;
        } else {
          return {
            h: NaN,
            s: 0,
            v: 0
          };
        }
        if (r === max) {
          h = (g - b) / delta;
        } else if (g === max) {
          h = 2 + (b - r) / delta;
        } else {
          h = 4 + (r - g) / delta;
        }
        h /= 6;
        if (h < 0) {
          h += 1;
        }
        return {
          h: h * 360,
          s: s,
          v: max / 255
        };
      },
      rgb_to_hex: function rgb_to_hex(r, g, b) {
        var hex = this.hex_with_component(0, 2, r);
        hex = this.hex_with_component(hex, 1, g);
        hex = this.hex_with_component(hex, 0, b);
        return hex;
      },
      component_from_hex: function component_from_hex(hex, componentIndex) {
        return hex >> componentIndex * 8 & 0xFF;
      },
      hex_with_component: function hex_with_component(hex, componentIndex, value) {
        return value << (tmpComponent = componentIndex * 8) | hex & ~(0xFF << tmpComponent);
      }
    };
    exports.default = ColorMath;
    module.exports = exports["default"];
  }, function(module, exports) {
    'use strict';
    exports.__esModule = true;
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    var Controller = function() {
      function Controller(object, property) {
        _classCallCheck(this, Controller);
        this.initialValue = object[property];
        this.domElement = document.createElement('div');
        this.object = object;
        this.property = property;
        this.__onChange = undefined;
        this.__onFinishChange = undefined;
      }
      Controller.prototype.onChange = function onChange(fnc) {
        this.__onChange = fnc;
        return this;
      };
      Controller.prototype.onFinishChange = function onFinishChange(fnc) {
        this.__onFinishChange = fnc;
        return this;
      };
      Controller.prototype.setValue = function setValue(newValue) {
        this.object[this.property] = newValue;
        if (this.__onChange) {
          this.__onChange.call(this, newValue);
        }
        this.updateDisplay();
        return this;
      };
      Controller.prototype.getValue = function getValue() {
        return this.object[this.property];
      };
      Controller.prototype.updateDisplay = function updateDisplay() {
        return this;
      };
      Controller.prototype.isModified = function isModified() {
        return this.initialValue !== this.getValue();
      };
      return Controller;
    }();
    exports.default = Controller;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _Controller2 = __webpack_require__(7);
    var _Controller3 = _interopRequireDefault(_Controller2);
    var _dom = __webpack_require__(9);
    var _dom2 = _interopRequireDefault(_dom);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _possibleConstructorReturn(self, call) {
      if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, {constructor: {
          value: subClass,
          enumerable: false,
          writable: true,
          configurable: true
        }});
      if (superClass)
        Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }
    var BooleanController = function(_Controller) {
      _inherits(BooleanController, _Controller);
      function BooleanController(object, property) {
        _classCallCheck(this, BooleanController);
        var _this2 = _possibleConstructorReturn(this, _Controller.call(this, object, property));
        var _this = _this2;
        _this2.__prev = _this2.getValue();
        _this2.__checkbox = document.createElement('input');
        _this2.__checkbox.setAttribute('type', 'checkbox');
        function onChange() {
          _this.setValue(!_this.__prev);
        }
        _dom2.default.bind(_this2.__checkbox, 'change', onChange, false);
        _this2.domElement.appendChild(_this2.__checkbox);
        _this2.updateDisplay();
        return _this2;
      }
      BooleanController.prototype.setValue = function setValue(v) {
        var toReturn = _Controller.prototype.setValue.call(this, v);
        if (this.__onFinishChange) {
          this.__onFinishChange.call(this, this.getValue());
        }
        this.__prev = this.getValue();
        return toReturn;
      };
      BooleanController.prototype.updateDisplay = function updateDisplay() {
        if (this.getValue() === true) {
          this.__checkbox.setAttribute('checked', 'checked');
          this.__checkbox.checked = true;
          this.__prev = true;
        } else {
          this.__checkbox.checked = false;
          this.__prev = false;
        }
        return _Controller.prototype.updateDisplay.call(this);
      };
      return BooleanController;
    }(_Controller3.default);
    exports.default = BooleanController;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _common = __webpack_require__(5);
    var _common2 = _interopRequireDefault(_common);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    var EVENT_MAP = {
      HTMLEvents: ['change'],
      MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],
      KeyboardEvents: ['keydown']
    };
    var EVENT_MAP_INV = {};
    _common2.default.each(EVENT_MAP, function(v, k) {
      _common2.default.each(v, function(e) {
        EVENT_MAP_INV[e] = k;
      });
    });
    var CSS_VALUE_PIXELS = /(\d+(\.\d+)?)px/;
    function cssValueToPixels(val) {
      if (val === '0' || _common2.default.isUndefined(val)) {
        return 0;
      }
      var match = val.match(CSS_VALUE_PIXELS);
      if (!_common2.default.isNull(match)) {
        return parseFloat(match[1]);
      }
      return 0;
    }
    var dom = {
      makeSelectable: function makeSelectable(elem, selectable) {
        if (elem === undefined || elem.style === undefined)
          return;
        elem.onselectstart = selectable ? function() {
          return false;
        } : function() {};
        elem.style.MozUserSelect = selectable ? 'auto' : 'none';
        elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';
        elem.unselectable = selectable ? 'on' : 'off';
      },
      makeFullscreen: function makeFullscreen(elem, hor, vert) {
        var vertical = vert;
        var horizontal = hor;
        if (_common2.default.isUndefined(horizontal)) {
          horizontal = true;
        }
        if (_common2.default.isUndefined(vertical)) {
          vertical = true;
        }
        elem.style.position = 'absolute';
        if (horizontal) {
          elem.style.left = 0;
          elem.style.right = 0;
        }
        if (vertical) {
          elem.style.top = 0;
          elem.style.bottom = 0;
        }
      },
      fakeEvent: function fakeEvent(elem, eventType, pars, aux) {
        var params = pars || {};
        var className = EVENT_MAP_INV[eventType];
        if (!className) {
          throw new Error('Event type ' + eventType + ' not supported.');
        }
        var evt = document.createEvent(className);
        switch (className) {
          case 'MouseEvents':
            {
              var clientX = params.x || params.clientX || 0;
              var clientY = params.y || params.clientY || 0;
              evt.initMouseEvent(eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0, 0, clientX, clientY, false, false, false, false, 0, null);
              break;
            }
          case 'KeyboardEvents':
            {
              var init = evt.initKeyboardEvent || evt.initKeyEvent;
              _common2.default.defaults(params, {
                cancelable: true,
                ctrlKey: false,
                altKey: false,
                shiftKey: false,
                metaKey: false,
                keyCode: undefined,
                charCode: undefined
              });
              init(eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode);
              break;
            }
          default:
            {
              evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);
              break;
            }
        }
        _common2.default.defaults(evt, aux);
        elem.dispatchEvent(evt);
      },
      bind: function bind(elem, event, func, newBool) {
        var bool = newBool || false;
        if (elem.addEventListener) {
          elem.addEventListener(event, func, bool);
        } else if (elem.attachEvent) {
          elem.attachEvent('on' + event, func);
        }
        return dom;
      },
      unbind: function unbind(elem, event, func, newBool) {
        var bool = newBool || false;
        if (elem.removeEventListener) {
          elem.removeEventListener(event, func, bool);
        } else if (elem.detachEvent) {
          elem.detachEvent('on' + event, func);
        }
        return dom;
      },
      addClass: function addClass(elem, className) {
        if (elem.className === undefined) {
          elem.className = className;
        } else if (elem.className !== className) {
          var classes = elem.className.split(/ +/);
          if (classes.indexOf(className) === -1) {
            classes.push(className);
            elem.className = classes.join(' ').replace(/^\s+/, '').replace(/\s+$/, '');
          }
        }
        return dom;
      },
      removeClass: function removeClass(elem, className) {
        if (className) {
          if (elem.className === className) {
            elem.removeAttribute('class');
          } else {
            var classes = elem.className.split(/ +/);
            var index = classes.indexOf(className);
            if (index !== -1) {
              classes.splice(index, 1);
              elem.className = classes.join(' ');
            }
          }
        } else {
          elem.className = undefined;
        }
        return dom;
      },
      hasClass: function hasClass(elem, className) {
        return new RegExp('(?:^|\\s+)' + className + '(?:\\s+|$)').test(elem.className) || false;
      },
      getWidth: function getWidth(elem) {
        var style = getComputedStyle(elem);
        return cssValueToPixels(style['border-left-width']) + cssValueToPixels(style['border-right-width']) + cssValueToPixels(style['padding-left']) + cssValueToPixels(style['padding-right']) + cssValueToPixels(style.width);
      },
      getHeight: function getHeight(elem) {
        var style = getComputedStyle(elem);
        return cssValueToPixels(style['border-top-width']) + cssValueToPixels(style['border-bottom-width']) + cssValueToPixels(style['padding-top']) + cssValueToPixels(style['padding-bottom']) + cssValueToPixels(style.height);
      },
      getOffset: function getOffset(el) {
        var elem = el;
        var offset = {
          left: 0,
          top: 0
        };
        if (elem.offsetParent) {
          do {
            offset.left += elem.offsetLeft;
            offset.top += elem.offsetTop;
            elem = elem.offsetParent;
          } while (elem);
        }
        return offset;
      },
      isActive: function isActive(elem) {
        return elem === document.activeElement && (elem.type || elem.href);
      }
    };
    exports.default = dom;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _Controller2 = __webpack_require__(7);
    var _Controller3 = _interopRequireDefault(_Controller2);
    var _dom = __webpack_require__(9);
    var _dom2 = _interopRequireDefault(_dom);
    var _common = __webpack_require__(5);
    var _common2 = _interopRequireDefault(_common);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _possibleConstructorReturn(self, call) {
      if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, {constructor: {
          value: subClass,
          enumerable: false,
          writable: true,
          configurable: true
        }});
      if (superClass)
        Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }
    var OptionController = function(_Controller) {
      _inherits(OptionController, _Controller);
      function OptionController(object, property, opts) {
        _classCallCheck(this, OptionController);
        var _this2 = _possibleConstructorReturn(this, _Controller.call(this, object, property));
        var options = opts;
        var _this = _this2;
        _this2.__select = document.createElement('select');
        if (_common2.default.isArray(options)) {
          var map = {};
          _common2.default.each(options, function(element) {
            map[element] = element;
          });
          options = map;
        }
        _common2.default.each(options, function(value, key) {
          var opt = document.createElement('option');
          opt.innerHTML = key;
          opt.setAttribute('value', value);
          _this.__select.appendChild(opt);
        });
        _this2.updateDisplay();
        _dom2.default.bind(_this2.__select, 'change', function() {
          var desiredValue = this.options[this.selectedIndex].value;
          _this.setValue(desiredValue);
        });
        _this2.domElement.appendChild(_this2.__select);
        return _this2;
      }
      OptionController.prototype.setValue = function setValue(v) {
        var toReturn = _Controller.prototype.setValue.call(this, v);
        if (this.__onFinishChange) {
          this.__onFinishChange.call(this, this.getValue());
        }
        return toReturn;
      };
      OptionController.prototype.updateDisplay = function updateDisplay() {
        if (_dom2.default.isActive(this.__select))
          return this;
        this.__select.value = this.getValue();
        return _Controller.prototype.updateDisplay.call(this);
      };
      return OptionController;
    }(_Controller3.default);
    exports.default = OptionController;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _Controller2 = __webpack_require__(7);
    var _Controller3 = _interopRequireDefault(_Controller2);
    var _dom = __webpack_require__(9);
    var _dom2 = _interopRequireDefault(_dom);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _possibleConstructorReturn(self, call) {
      if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, {constructor: {
          value: subClass,
          enumerable: false,
          writable: true,
          configurable: true
        }});
      if (superClass)
        Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }
    var StringController = function(_Controller) {
      _inherits(StringController, _Controller);
      function StringController(object, property) {
        _classCallCheck(this, StringController);
        var _this2 = _possibleConstructorReturn(this, _Controller.call(this, object, property));
        var _this = _this2;
        function onChange() {
          _this.setValue(_this.__input.value);
        }
        function onBlur() {
          if (_this.__onFinishChange) {
            _this.__onFinishChange.call(_this, _this.getValue());
          }
        }
        _this2.__input = document.createElement('input');
        _this2.__input.setAttribute('type', 'text');
        _dom2.default.bind(_this2.__input, 'keyup', onChange);
        _dom2.default.bind(_this2.__input, 'change', onChange);
        _dom2.default.bind(_this2.__input, 'blur', onBlur);
        _dom2.default.bind(_this2.__input, 'keydown', function(e) {
          if (e.keyCode === 13) {
            this.blur();
          }
        });
        _this2.updateDisplay();
        _this2.domElement.appendChild(_this2.__input);
        return _this2;
      }
      StringController.prototype.updateDisplay = function updateDisplay() {
        if (!_dom2.default.isActive(this.__input)) {
          this.__input.value = this.getValue();
        }
        return _Controller.prototype.updateDisplay.call(this);
      };
      return StringController;
    }(_Controller3.default);
    exports.default = StringController;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _Controller2 = __webpack_require__(7);
    var _Controller3 = _interopRequireDefault(_Controller2);
    var _common = __webpack_require__(5);
    var _common2 = _interopRequireDefault(_common);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _possibleConstructorReturn(self, call) {
      if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, {constructor: {
          value: subClass,
          enumerable: false,
          writable: true,
          configurable: true
        }});
      if (superClass)
        Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }
    function numDecimals(x) {
      var _x = x.toString();
      if (_x.indexOf('.') > -1) {
        return _x.length - _x.indexOf('.') - 1;
      }
      return 0;
    }
    var NumberController = function(_Controller) {
      _inherits(NumberController, _Controller);
      function NumberController(object, property, params) {
        _classCallCheck(this, NumberController);
        var _this = _possibleConstructorReturn(this, _Controller.call(this, object, property));
        var _params = params || {};
        _this.__min = _params.min;
        _this.__max = _params.max;
        _this.__step = _params.step;
        if (_common2.default.isUndefined(_this.__step)) {
          if (_this.initialValue === 0) {
            _this.__impliedStep = 1;
          } else {
            _this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(_this.initialValue)) / Math.LN10)) / 10;
          }
        } else {
          _this.__impliedStep = _this.__step;
        }
        _this.__precision = numDecimals(_this.__impliedStep);
        return _this;
      }
      NumberController.prototype.setValue = function setValue(v) {
        var _v = v;
        if (this.__min !== undefined && _v < this.__min) {
          _v = this.__min;
        } else if (this.__max !== undefined && _v > this.__max) {
          _v = this.__max;
        }
        if (this.__step !== undefined && _v % this.__step !== 0) {
          _v = Math.round(_v / this.__step) * this.__step;
        }
        return _Controller.prototype.setValue.call(this, _v);
      };
      NumberController.prototype.min = function min(v) {
        this.__min = v;
        return this;
      };
      NumberController.prototype.max = function max(v) {
        this.__max = v;
        return this;
      };
      NumberController.prototype.step = function step(v) {
        this.__step = v;
        this.__impliedStep = v;
        this.__precision = numDecimals(v);
        return this;
      };
      return NumberController;
    }(_Controller3.default);
    exports.default = NumberController;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _NumberController2 = __webpack_require__(12);
    var _NumberController3 = _interopRequireDefault(_NumberController2);
    var _dom = __webpack_require__(9);
    var _dom2 = _interopRequireDefault(_dom);
    var _common = __webpack_require__(5);
    var _common2 = _interopRequireDefault(_common);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _possibleConstructorReturn(self, call) {
      if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, {constructor: {
          value: subClass,
          enumerable: false,
          writable: true,
          configurable: true
        }});
      if (superClass)
        Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }
    function roundToDecimal(value, decimals) {
      var tenTo = Math.pow(10, decimals);
      return Math.round(value * tenTo) / tenTo;
    }
    var NumberControllerBox = function(_NumberController) {
      _inherits(NumberControllerBox, _NumberController);
      function NumberControllerBox(object, property, params) {
        _classCallCheck(this, NumberControllerBox);
        var _this2 = _possibleConstructorReturn(this, _NumberController.call(this, object, property, params));
        _this2.__truncationSuspended = false;
        var _this = _this2;
        var prevY = void 0;
        function onChange() {
          var attempted = parseFloat(_this.__input.value);
          if (!_common2.default.isNaN(attempted)) {
            _this.setValue(attempted);
          }
        }
        function onFinish() {
          if (_this.__onFinishChange) {
            _this.__onFinishChange.call(_this, _this.getValue());
          }
        }
        function onBlur() {
          onFinish();
        }
        function onMouseDrag(e) {
          var diff = prevY - e.clientY;
          _this.setValue(_this.getValue() + diff * _this.__impliedStep);
          prevY = e.clientY;
        }
        function onMouseUp() {
          _dom2.default.unbind(window, 'mousemove', onMouseDrag);
          _dom2.default.unbind(window, 'mouseup', onMouseUp);
          onFinish();
        }
        function onMouseDown(e) {
          _dom2.default.bind(window, 'mousemove', onMouseDrag);
          _dom2.default.bind(window, 'mouseup', onMouseUp);
          prevY = e.clientY;
        }
        _this2.__input = document.createElement('input');
        _this2.__input.setAttribute('type', 'text');
        _dom2.default.bind(_this2.__input, 'change', onChange);
        _dom2.default.bind(_this2.__input, 'blur', onBlur);
        _dom2.default.bind(_this2.__input, 'mousedown', onMouseDown);
        _dom2.default.bind(_this2.__input, 'keydown', function(e) {
          if (e.keyCode === 13) {
            _this.__truncationSuspended = true;
            this.blur();
            _this.__truncationSuspended = false;
            onFinish();
          }
        });
        _this2.updateDisplay();
        _this2.domElement.appendChild(_this2.__input);
        return _this2;
      }
      NumberControllerBox.prototype.updateDisplay = function updateDisplay() {
        this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);
        return _NumberController.prototype.updateDisplay.call(this);
      };
      return NumberControllerBox;
    }(_NumberController3.default);
    exports.default = NumberControllerBox;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _NumberController2 = __webpack_require__(12);
    var _NumberController3 = _interopRequireDefault(_NumberController2);
    var _dom = __webpack_require__(9);
    var _dom2 = _interopRequireDefault(_dom);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _possibleConstructorReturn(self, call) {
      if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, {constructor: {
          value: subClass,
          enumerable: false,
          writable: true,
          configurable: true
        }});
      if (superClass)
        Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }
    function map(v, i1, i2, o1, o2) {
      return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));
    }
    var NumberControllerSlider = function(_NumberController) {
      _inherits(NumberControllerSlider, _NumberController);
      function NumberControllerSlider(object, property, min, max, step) {
        _classCallCheck(this, NumberControllerSlider);
        var _this2 = _possibleConstructorReturn(this, _NumberController.call(this, object, property, {
          min: min,
          max: max,
          step: step
        }));
        var _this = _this2;
        _this2.__background = document.createElement('div');
        _this2.__foreground = document.createElement('div');
        _dom2.default.bind(_this2.__background, 'mousedown', onMouseDown);
        _dom2.default.addClass(_this2.__background, 'slider');
        _dom2.default.addClass(_this2.__foreground, 'slider-fg');
        function onMouseDown(e) {
          document.activeElement.blur();
          _dom2.default.bind(window, 'mousemove', onMouseDrag);
          _dom2.default.bind(window, 'mouseup', onMouseUp);
          onMouseDrag(e);
        }
        function onMouseDrag(e) {
          e.preventDefault();
          var bgRect = _this.__background.getBoundingClientRect();
          _this.setValue(map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));
          return false;
        }
        function onMouseUp() {
          _dom2.default.unbind(window, 'mousemove', onMouseDrag);
          _dom2.default.unbind(window, 'mouseup', onMouseUp);
          if (_this.__onFinishChange) {
            _this.__onFinishChange.call(_this, _this.getValue());
          }
        }
        _this2.updateDisplay();
        _this2.__background.appendChild(_this2.__foreground);
        _this2.domElement.appendChild(_this2.__background);
        return _this2;
      }
      NumberControllerSlider.prototype.updateDisplay = function updateDisplay() {
        var pct = (this.getValue() - this.__min) / (this.__max - this.__min);
        this.__foreground.style.width = pct * 100 + '%';
        return _NumberController.prototype.updateDisplay.call(this);
      };
      return NumberControllerSlider;
    }(_NumberController3.default);
    exports.default = NumberControllerSlider;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _Controller2 = __webpack_require__(7);
    var _Controller3 = _interopRequireDefault(_Controller2);
    var _dom = __webpack_require__(9);
    var _dom2 = _interopRequireDefault(_dom);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _possibleConstructorReturn(self, call) {
      if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, {constructor: {
          value: subClass,
          enumerable: false,
          writable: true,
          configurable: true
        }});
      if (superClass)
        Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }
    var FunctionController = function(_Controller) {
      _inherits(FunctionController, _Controller);
      function FunctionController(object, property, text) {
        _classCallCheck(this, FunctionController);
        var _this2 = _possibleConstructorReturn(this, _Controller.call(this, object, property));
        var _this = _this2;
        _this2.__button = document.createElement('div');
        _this2.__button.innerHTML = text === undefined ? 'Fire' : text;
        _dom2.default.bind(_this2.__button, 'click', function(e) {
          e.preventDefault();
          _this.fire();
          return false;
        });
        _dom2.default.addClass(_this2.__button, 'button');
        _this2.domElement.appendChild(_this2.__button);
        return _this2;
      }
      FunctionController.prototype.fire = function fire() {
        if (this.__onChange) {
          this.__onChange.call(this);
        }
        this.getValue().call(this.object);
        if (this.__onFinishChange) {
          this.__onFinishChange.call(this, this.getValue());
        }
      };
      return FunctionController;
    }(_Controller3.default);
    exports.default = FunctionController;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _Controller2 = __webpack_require__(7);
    var _Controller3 = _interopRequireDefault(_Controller2);
    var _dom = __webpack_require__(9);
    var _dom2 = _interopRequireDefault(_dom);
    var _Color = __webpack_require__(2);
    var _Color2 = _interopRequireDefault(_Color);
    var _interpret = __webpack_require__(3);
    var _interpret2 = _interopRequireDefault(_interpret);
    var _common = __webpack_require__(5);
    var _common2 = _interopRequireDefault(_common);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _possibleConstructorReturn(self, call) {
      if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, {constructor: {
          value: subClass,
          enumerable: false,
          writable: true,
          configurable: true
        }});
      if (superClass)
        Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }
    var ColorController = function(_Controller) {
      _inherits(ColorController, _Controller);
      function ColorController(object, property) {
        _classCallCheck(this, ColorController);
        var _this2 = _possibleConstructorReturn(this, _Controller.call(this, object, property));
        _this2.__color = new _Color2.default(_this2.getValue());
        _this2.__temp = new _Color2.default(0);
        var _this = _this2;
        _this2.domElement = document.createElement('div');
        _dom2.default.makeSelectable(_this2.domElement, false);
        _this2.__selector = document.createElement('div');
        _this2.__selector.className = 'selector';
        _this2.__saturation_field = document.createElement('div');
        _this2.__saturation_field.className = 'saturation-field';
        _this2.__field_knob = document.createElement('div');
        _this2.__field_knob.className = 'field-knob';
        _this2.__field_knob_border = '2px solid ';
        _this2.__hue_knob = document.createElement('div');
        _this2.__hue_knob.className = 'hue-knob';
        _this2.__hue_field = document.createElement('div');
        _this2.__hue_field.className = 'hue-field';
        _this2.__input = document.createElement('input');
        _this2.__input.type = 'text';
        _this2.__input_textShadow = '0 1px 1px ';
        _dom2.default.bind(_this2.__input, 'keydown', function(e) {
          if (e.keyCode === 13) {
            onBlur.call(this);
          }
        });
        _dom2.default.bind(_this2.__input, 'blur', onBlur);
        _dom2.default.bind(_this2.__selector, 'mousedown', function() {
          _dom2.default.addClass(this, 'drag').bind(window, 'mouseup', function() {
            _dom2.default.removeClass(_this.__selector, 'drag');
          });
        });
        var valueField = document.createElement('div');
        _common2.default.extend(_this2.__selector.style, {
          width: '122px',
          height: '102px',
          padding: '3px',
          backgroundColor: '#222',
          boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'
        });
        _common2.default.extend(_this2.__field_knob.style, {
          position: 'absolute',
          width: '12px',
          height: '12px',
          border: _this2.__field_knob_border + (_this2.__color.v < 0.5 ? '#fff' : '#000'),
          boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',
          borderRadius: '12px',
          zIndex: 1
        });
        _common2.default.extend(_this2.__hue_knob.style, {
          position: 'absolute',
          width: '15px',
          height: '2px',
          borderRight: '4px solid #fff',
          zIndex: 1
        });
        _common2.default.extend(_this2.__saturation_field.style, {
          width: '100px',
          height: '100px',
          border: '1px solid #555',
          marginRight: '3px',
          display: 'inline-block',
          cursor: 'pointer'
        });
        _common2.default.extend(valueField.style, {
          width: '100%',
          height: '100%',
          background: 'none'
        });
        linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');
        _common2.default.extend(_this2.__hue_field.style, {
          width: '15px',
          height: '100px',
          border: '1px solid #555',
          cursor: 'ns-resize',
          position: 'absolute',
          top: '3px',
          right: '3px'
        });
        hueGradient(_this2.__hue_field);
        _common2.default.extend(_this2.__input.style, {
          outline: 'none',
          textAlign: 'center',
          color: '#fff',
          border: 0,
          fontWeight: 'bold',
          textShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'
        });
        _dom2.default.bind(_this2.__saturation_field, 'mousedown', fieldDown);
        _dom2.default.bind(_this2.__field_knob, 'mousedown', fieldDown);
        _dom2.default.bind(_this2.__hue_field, 'mousedown', function(e) {
          setH(e);
          _dom2.default.bind(window, 'mousemove', setH);
          _dom2.default.bind(window, 'mouseup', fieldUpH);
        });
        function fieldDown(e) {
          setSV(e);
          _dom2.default.bind(window, 'mousemove', setSV);
          _dom2.default.bind(window, 'mouseup', fieldUpSV);
        }
        function fieldUpSV() {
          _dom2.default.unbind(window, 'mousemove', setSV);
          _dom2.default.unbind(window, 'mouseup', fieldUpSV);
          onFinish();
        }
        function onBlur() {
          var i = (0, _interpret2.default)(this.value);
          if (i !== false) {
            _this.__color.__state = i;
            _this.setValue(_this.__color.toOriginal());
          } else {
            this.value = _this.__color.toString();
          }
        }
        function fieldUpH() {
          _dom2.default.unbind(window, 'mousemove', setH);
          _dom2.default.unbind(window, 'mouseup', fieldUpH);
          onFinish();
        }
        function onFinish() {
          if (_this.__onFinishChange) {
            _this.__onFinishChange.call(_this, _this.__color.toOriginal());
          }
        }
        _this2.__saturation_field.appendChild(valueField);
        _this2.__selector.appendChild(_this2.__field_knob);
        _this2.__selector.appendChild(_this2.__saturation_field);
        _this2.__selector.appendChild(_this2.__hue_field);
        _this2.__hue_field.appendChild(_this2.__hue_knob);
        _this2.domElement.appendChild(_this2.__input);
        _this2.domElement.appendChild(_this2.__selector);
        _this2.updateDisplay();
        function setSV(e) {
          e.preventDefault();
          var fieldRect = _this.__saturation_field.getBoundingClientRect();
          var s = (e.clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);
          var v = 1 - (e.clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);
          if (v > 1) {
            v = 1;
          } else if (v < 0) {
            v = 0;
          }
          if (s > 1) {
            s = 1;
          } else if (s < 0) {
            s = 0;
          }
          _this.__color.v = v;
          _this.__color.s = s;
          _this.setValue(_this.__color.toOriginal());
          return false;
        }
        function setH(e) {
          e.preventDefault();
          var fieldRect = _this.__hue_field.getBoundingClientRect();
          var h = 1 - (e.clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);
          if (h > 1) {
            h = 1;
          } else if (h < 0) {
            h = 0;
          }
          _this.__color.h = h * 360;
          _this.setValue(_this.__color.toOriginal());
          return false;
        }
        return _this2;
      }
      ColorController.prototype.updateDisplay = function updateDisplay() {
        var i = (0, _interpret2.default)(this.getValue());
        if (i !== false) {
          var mismatch = false;
          _common2.default.each(_Color2.default.COMPONENTS, function(component) {
            if (!_common2.default.isUndefined(i[component]) && !_common2.default.isUndefined(this.__color.__state[component]) && i[component] !== this.__color.__state[component]) {
              mismatch = true;
              return {};
            }
          }, this);
          if (mismatch) {
            _common2.default.extend(this.__color.__state, i);
          }
        }
        _common2.default.extend(this.__temp.__state, this.__color.__state);
        this.__temp.a = 1;
        var flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;
        var _flip = 255 - flip;
        _common2.default.extend(this.__field_knob.style, {
          marginLeft: 100 * this.__color.s - 7 + 'px',
          marginTop: 100 * (1 - this.__color.v) - 7 + 'px',
          backgroundColor: this.__temp.toHexString(),
          border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'
        });
        this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';
        this.__temp.s = 1;
        this.__temp.v = 1;
        linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());
        this.__input.value = this.__color.toString();
        _common2.default.extend(this.__input.style, {
          backgroundColor: this.__color.toHexString(),
          color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',
          textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'
        });
      };
      return ColorController;
    }(_Controller3.default);
    var vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];
    function linearGradient(elem, x, a, b) {
      elem.style.background = '';
      _common2.default.each(vendors, function(vendor) {
        elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';
      });
    }
    function hueGradient(elem) {
      elem.style.background = '';
      elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';
      elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';
      elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';
      elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';
      elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';
    }
    exports.default = ColorController;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
      return typeof obj;
    } : function(obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
    var _css = __webpack_require__(18);
    var _css2 = _interopRequireDefault(_css);
    var _saveDialogue = __webpack_require__(19);
    var _saveDialogue2 = _interopRequireDefault(_saveDialogue);
    var _ControllerFactory = __webpack_require__(20);
    var _ControllerFactory2 = _interopRequireDefault(_ControllerFactory);
    var _Controller = __webpack_require__(7);
    var _Controller2 = _interopRequireDefault(_Controller);
    var _BooleanController = __webpack_require__(8);
    var _BooleanController2 = _interopRequireDefault(_BooleanController);
    var _FunctionController = __webpack_require__(15);
    var _FunctionController2 = _interopRequireDefault(_FunctionController);
    var _NumberControllerBox = __webpack_require__(13);
    var _NumberControllerBox2 = _interopRequireDefault(_NumberControllerBox);
    var _NumberControllerSlider = __webpack_require__(14);
    var _NumberControllerSlider2 = _interopRequireDefault(_NumberControllerSlider);
    var _ColorController = __webpack_require__(16);
    var _ColorController2 = _interopRequireDefault(_ColorController);
    var _requestAnimationFrame = __webpack_require__(21);
    var _requestAnimationFrame2 = _interopRequireDefault(_requestAnimationFrame);
    var _CenteredDiv = __webpack_require__(22);
    var _CenteredDiv2 = _interopRequireDefault(_CenteredDiv);
    var _dom = __webpack_require__(9);
    var _dom2 = _interopRequireDefault(_dom);
    var _common = __webpack_require__(5);
    var _common2 = _interopRequireDefault(_common);
    var _style = __webpack_require__(23);
    var _style2 = _interopRequireDefault(_style);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    _css2.default.inject(_style2.default);
    var CSS_NAMESPACE = 'dg';
    var HIDE_KEY_CODE = 72;
    var CLOSE_BUTTON_HEIGHT = 20;
    var DEFAULT_DEFAULT_PRESET_NAME = 'Default';
    var SUPPORTS_LOCAL_STORAGE = function() {
      try {
        return 'localStorage' in window && window.localStorage !== null;
      } catch (e) {
        return false;
      }
    }();
    var SAVE_DIALOGUE = void 0;
    var autoPlaceVirgin = true;
    var autoPlaceContainer = void 0;
    var hide = false;
    var hideableGuis = [];
    var GUI = function GUI(pars) {
      var _this = this;
      var params = pars || {};
      this.domElement = document.createElement('div');
      this.__ul = document.createElement('ul');
      this.domElement.appendChild(this.__ul);
      _dom2.default.addClass(this.domElement, CSS_NAMESPACE);
      this.__folders = {};
      this.__controllers = [];
      this.__rememberedObjects = [];
      this.__rememberedObjectIndecesToControllers = [];
      this.__listening = [];
      params = _common2.default.defaults(params, {
        closeOnTop: false,
        autoPlace: true,
        width: GUI.DEFAULT_WIDTH
      });
      params = _common2.default.defaults(params, {
        resizable: params.autoPlace,
        hideable: params.autoPlace
      });
      if (!_common2.default.isUndefined(params.load)) {
        if (params.preset) {
          params.load.preset = params.preset;
        }
      } else {
        params.load = {preset: DEFAULT_DEFAULT_PRESET_NAME};
      }
      if (_common2.default.isUndefined(params.parent) && params.hideable) {
        hideableGuis.push(this);
      }
      params.resizable = _common2.default.isUndefined(params.parent) && params.resizable;
      if (params.autoPlace && _common2.default.isUndefined(params.scrollable)) {
        params.scrollable = true;
      }
      var useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';
      var saveToLocalStorage = void 0;
      Object.defineProperties(this, {
        parent: {get: function get() {
            return params.parent;
          }},
        scrollable: {get: function get() {
            return params.scrollable;
          }},
        autoPlace: {get: function get() {
            return params.autoPlace;
          }},
        closeOnTop: {get: function get() {
            return params.closeOnTop;
          }},
        preset: {
          get: function get() {
            if (_this.parent) {
              return _this.getRoot().preset;
            }
            return params.load.preset;
          },
          set: function set(v) {
            if (_this.parent) {
              _this.getRoot().preset = v;
            } else {
              params.load.preset = v;
            }
            setPresetSelectIndex(this);
            _this.revert();
          }
        },
        width: {
          get: function get() {
            return params.width;
          },
          set: function set(v) {
            params.width = v;
            setWidth(_this, v);
          }
        },
        name: {
          get: function get() {
            return params.name;
          },
          set: function set(v) {
            params.name = v;
            if (titleRowName) {
              titleRowName.innerHTML = params.name;
            }
          }
        },
        closed: {
          get: function get() {
            return params.closed;
          },
          set: function set(v) {
            params.closed = v;
            if (params.closed) {
              _dom2.default.addClass(_this.__ul, GUI.CLASS_CLOSED);
            } else {
              _dom2.default.removeClass(_this.__ul, GUI.CLASS_CLOSED);
            }
            this.onResize();
            if (_this.__closeButton) {
              _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;
            }
          }
        },
        load: {get: function get() {
            return params.load;
          }},
        useLocalStorage: {
          get: function get() {
            return useLocalStorage;
          },
          set: function set(bool) {
            if (SUPPORTS_LOCAL_STORAGE) {
              useLocalStorage = bool;
              if (bool) {
                _dom2.default.bind(window, 'unload', saveToLocalStorage);
              } else {
                _dom2.default.unbind(window, 'unload', saveToLocalStorage);
              }
              localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);
            }
          }
        }
      });
      if (_common2.default.isUndefined(params.parent)) {
        params.closed = false;
        _dom2.default.addClass(this.domElement, GUI.CLASS_MAIN);
        _dom2.default.makeSelectable(this.domElement, false);
        if (SUPPORTS_LOCAL_STORAGE) {
          if (useLocalStorage) {
            _this.useLocalStorage = true;
            var savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));
            if (savedGui) {
              params.load = JSON.parse(savedGui);
            }
          }
        }
        this.__closeButton = document.createElement('div');
        this.__closeButton.innerHTML = GUI.TEXT_CLOSED;
        _dom2.default.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);
        if (params.closeOnTop) {
          _dom2.default.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);
          this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);
        } else {
          _dom2.default.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);
          this.domElement.appendChild(this.__closeButton);
        }
        _dom2.default.bind(this.__closeButton, 'click', function() {
          _this.closed = !_this.closed;
        });
      } else {
        if (params.closed === undefined) {
          params.closed = true;
        }
        var _titleRowName = document.createTextNode(params.name);
        _dom2.default.addClass(_titleRowName, 'controller-name');
        var titleRow = addRow(_this, _titleRowName);
        var onClickTitle = function onClickTitle(e) {
          e.preventDefault();
          _this.closed = !_this.closed;
          return false;
        };
        _dom2.default.addClass(this.__ul, GUI.CLASS_CLOSED);
        _dom2.default.addClass(titleRow, 'title');
        _dom2.default.bind(titleRow, 'click', onClickTitle);
        if (!params.closed) {
          this.closed = false;
        }
      }
      if (params.autoPlace) {
        if (_common2.default.isUndefined(params.parent)) {
          if (autoPlaceVirgin) {
            autoPlaceContainer = document.createElement('div');
            _dom2.default.addClass(autoPlaceContainer, CSS_NAMESPACE);
            _dom2.default.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);
            document.body.appendChild(autoPlaceContainer);
            autoPlaceVirgin = false;
          }
          autoPlaceContainer.appendChild(this.domElement);
          _dom2.default.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);
        }
        if (!this.parent) {
          setWidth(_this, params.width);
        }
      }
      this.__resizeHandler = function() {
        _this.onResizeDebounced();
      };
      _dom2.default.bind(window, 'resize', this.__resizeHandler);
      _dom2.default.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);
      _dom2.default.bind(this.__ul, 'transitionend', this.__resizeHandler);
      _dom2.default.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);
      this.onResize();
      if (params.resizable) {
        addResizeHandle(this);
      }
      saveToLocalStorage = function saveToLocalStorage() {
        if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {
          localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));
        }
      };
      this.saveToLocalStorageIfPossible = saveToLocalStorage;
      function resetWidth() {
        var root = _this.getRoot();
        root.width += 1;
        _common2.default.defer(function() {
          root.width -= 1;
        });
      }
      if (!params.parent) {
        resetWidth();
      }
    };
    GUI.toggleHide = function() {
      hide = !hide;
      _common2.default.each(hideableGuis, function(gui) {
        gui.domElement.style.display = hide ? 'none' : '';
      });
    };
    GUI.CLASS_AUTO_PLACE = 'a';
    GUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';
    GUI.CLASS_MAIN = 'main';
    GUI.CLASS_CONTROLLER_ROW = 'cr';
    GUI.CLASS_TOO_TALL = 'taller-than-window';
    GUI.CLASS_CLOSED = 'closed';
    GUI.CLASS_CLOSE_BUTTON = 'close-button';
    GUI.CLASS_CLOSE_TOP = 'close-top';
    GUI.CLASS_CLOSE_BOTTOM = 'close-bottom';
    GUI.CLASS_DRAG = 'drag';
    GUI.DEFAULT_WIDTH = 245;
    GUI.TEXT_CLOSED = 'Close Controls';
    GUI.TEXT_OPEN = 'Open Controls';
    GUI._keydownHandler = function(e) {
      if (document.activeElement.type !== 'text' && (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {
        GUI.toggleHide();
      }
    };
    _dom2.default.bind(window, 'keydown', GUI._keydownHandler, false);
    _common2.default.extend(GUI.prototype, {
      add: function add(object, property) {
        return _add(this, object, property, {factoryArgs: Array.prototype.slice.call(arguments, 2)});
      },
      addColor: function addColor(object, property) {
        return _add(this, object, property, {color: true});
      },
      remove: function remove(controller) {
        this.__ul.removeChild(controller.__li);
        this.__controllers.splice(this.__controllers.indexOf(controller), 1);
        var _this = this;
        _common2.default.defer(function() {
          _this.onResize();
        });
      },
      destroy: function destroy() {
        if (this.autoPlace) {
          autoPlaceContainer.removeChild(this.domElement);
        }
        _dom2.default.unbind(window, 'keydown', GUI._keydownHandler, false);
        _dom2.default.unbind(window, 'resize', this.__resizeHandler);
        if (this.saveToLocalStorageIfPossible) {
          _dom2.default.unbind(window, 'unload', this.saveToLocalStorageIfPossible);
        }
      },
      addFolder: function addFolder(name) {
        if (this.__folders[name] !== undefined) {
          throw new Error('You already have a folder in this GUI by the' + ' name "' + name + '"');
        }
        var newGuiParams = {
          name: name,
          parent: this
        };
        newGuiParams.autoPlace = this.autoPlace;
        if (this.load && this.load.folders && this.load.folders[name]) {
          newGuiParams.closed = this.load.folders[name].closed;
          newGuiParams.load = this.load.folders[name];
        }
        var gui = new GUI(newGuiParams);
        this.__folders[name] = gui;
        var li = addRow(this, gui.domElement);
        _dom2.default.addClass(li, 'folder');
        return gui;
      },
      open: function open() {
        this.closed = false;
      },
      close: function close() {
        this.closed = true;
      },
      onResize: function onResize() {
        var root = this.getRoot();
        if (root.scrollable) {
          var top = _dom2.default.getOffset(root.__ul).top;
          var h = 0;
          _common2.default.each(root.__ul.childNodes, function(node) {
            if (!(root.autoPlace && node === root.__save_row)) {
              h += _dom2.default.getHeight(node);
            }
          });
          if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {
            _dom2.default.addClass(root.domElement, GUI.CLASS_TOO_TALL);
            root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';
          } else {
            _dom2.default.removeClass(root.domElement, GUI.CLASS_TOO_TALL);
            root.__ul.style.height = 'auto';
          }
        }
        if (root.__resize_handle) {
          _common2.default.defer(function() {
            root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';
          });
        }
        if (root.__closeButton) {
          root.__closeButton.style.width = root.width + 'px';
        }
      },
      onResizeDebounced: _common2.default.debounce(function() {
        this.onResize();
      }, 50),
      remember: function remember() {
        if (_common2.default.isUndefined(SAVE_DIALOGUE)) {
          SAVE_DIALOGUE = new _CenteredDiv2.default();
          SAVE_DIALOGUE.domElement.innerHTML = _saveDialogue2.default;
        }
        if (this.parent) {
          throw new Error('You can only call remember on a top level GUI.');
        }
        var _this = this;
        _common2.default.each(Array.prototype.slice.call(arguments), function(object) {
          if (_this.__rememberedObjects.length === 0) {
            addSaveMenu(_this);
          }
          if (_this.__rememberedObjects.indexOf(object) === -1) {
            _this.__rememberedObjects.push(object);
          }
        });
        if (this.autoPlace) {
          setWidth(this, this.width);
        }
      },
      getRoot: function getRoot() {
        var gui = this;
        while (gui.parent) {
          gui = gui.parent;
        }
        return gui;
      },
      getSaveObject: function getSaveObject() {
        var toReturn = this.load;
        toReturn.closed = this.closed;
        if (this.__rememberedObjects.length > 0) {
          toReturn.preset = this.preset;
          if (!toReturn.remembered) {
            toReturn.remembered = {};
          }
          toReturn.remembered[this.preset] = getCurrentPreset(this);
        }
        toReturn.folders = {};
        _common2.default.each(this.__folders, function(element, key) {
          toReturn.folders[key] = element.getSaveObject();
        });
        return toReturn;
      },
      save: function save() {
        if (!this.load.remembered) {
          this.load.remembered = {};
        }
        this.load.remembered[this.preset] = getCurrentPreset(this);
        markPresetModified(this, false);
        this.saveToLocalStorageIfPossible();
      },
      saveAs: function saveAs(presetName) {
        if (!this.load.remembered) {
          this.load.remembered = {};
          this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);
        }
        this.load.remembered[presetName] = getCurrentPreset(this);
        this.preset = presetName;
        addPresetOption(this, presetName, true);
        this.saveToLocalStorageIfPossible();
      },
      revert: function revert(gui) {
        _common2.default.each(this.__controllers, function(controller) {
          if (!this.getRoot().load.remembered) {
            controller.setValue(controller.initialValue);
          } else {
            recallSavedValue(gui || this.getRoot(), controller);
          }
          if (controller.__onFinishChange) {
            controller.__onFinishChange.call(controller, controller.getValue());
          }
        }, this);
        _common2.default.each(this.__folders, function(folder) {
          folder.revert(folder);
        });
        if (!gui) {
          markPresetModified(this.getRoot(), false);
        }
      },
      listen: function listen(controller) {
        var init = this.__listening.length === 0;
        this.__listening.push(controller);
        if (init) {
          updateDisplays(this.__listening);
        }
      },
      updateDisplay: function updateDisplay() {
        _common2.default.each(this.__controllers, function(controller) {
          controller.updateDisplay();
        });
        _common2.default.each(this.__folders, function(folder) {
          folder.updateDisplay();
        });
      }
    });
    function addRow(gui, newDom, liBefore) {
      var li = document.createElement('li');
      if (newDom) {
        li.appendChild(newDom);
      }
      if (liBefore) {
        gui.__ul.insertBefore(li, liBefore);
      } else {
        gui.__ul.appendChild(li);
      }
      gui.onResize();
      return li;
    }
    function markPresetModified(gui, modified) {
      var opt = gui.__preset_select[gui.__preset_select.selectedIndex];
      if (modified) {
        opt.innerHTML = opt.value + '*';
      } else {
        opt.innerHTML = opt.value;
      }
    }
    function augmentController(gui, li, controller) {
      controller.__li = li;
      controller.__gui = gui;
      _common2.default.extend(controller, {
        options: function options(_options) {
          if (arguments.length > 1) {
            var nextSibling = controller.__li.nextElementSibling;
            controller.remove();
            return _add(gui, controller.object, controller.property, {
              before: nextSibling,
              factoryArgs: [_common2.default.toArray(arguments)]
            });
          }
          if (_common2.default.isArray(_options) || _common2.default.isObject(_options)) {
            var _nextSibling = controller.__li.nextElementSibling;
            controller.remove();
            return _add(gui, controller.object, controller.property, {
              before: _nextSibling,
              factoryArgs: [_options]
            });
          }
        },
        name: function name(v) {
          controller.__li.firstElementChild.firstElementChild.innerHTML = v;
          return controller;
        },
        listen: function listen() {
          controller.__gui.listen(controller);
          return controller;
        },
        remove: function remove() {
          controller.__gui.remove(controller);
          return controller;
        }
      });
      if (controller instanceof _NumberControllerSlider2.default) {
        var box = new _NumberControllerBox2.default(controller.object, controller.property, {
          min: controller.__min,
          max: controller.__max,
          step: controller.__step
        });
        _common2.default.each(['updateDisplay', 'onChange', 'onFinishChange', 'step'], function(method) {
          var pc = controller[method];
          var pb = box[method];
          controller[method] = box[method] = function() {
            var args = Array.prototype.slice.call(arguments);
            pb.apply(box, args);
            return pc.apply(controller, args);
          };
        });
        _dom2.default.addClass(li, 'has-slider');
        controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);
      } else if (controller instanceof _NumberControllerBox2.default) {
        var r = function r(returned) {
          if (_common2.default.isNumber(controller.__min) && _common2.default.isNumber(controller.__max)) {
            var oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;
            var wasListening = controller.__gui.__listening.indexOf(controller) > -1;
            controller.remove();
            var newController = _add(gui, controller.object, controller.property, {
              before: controller.__li.nextElementSibling,
              factoryArgs: [controller.__min, controller.__max, controller.__step]
            });
            newController.name(oldName);
            if (wasListening)
              newController.listen();
            return newController;
          }
          return returned;
        };
        controller.min = _common2.default.compose(r, controller.min);
        controller.max = _common2.default.compose(r, controller.max);
      } else if (controller instanceof _BooleanController2.default) {
        _dom2.default.bind(li, 'click', function() {
          _dom2.default.fakeEvent(controller.__checkbox, 'click');
        });
        _dom2.default.bind(controller.__checkbox, 'click', function(e) {
          e.stopPropagation();
        });
      } else if (controller instanceof _FunctionController2.default) {
        _dom2.default.bind(li, 'click', function() {
          _dom2.default.fakeEvent(controller.__button, 'click');
        });
        _dom2.default.bind(li, 'mouseover', function() {
          _dom2.default.addClass(controller.__button, 'hover');
        });
        _dom2.default.bind(li, 'mouseout', function() {
          _dom2.default.removeClass(controller.__button, 'hover');
        });
      } else if (controller instanceof _ColorController2.default) {
        _dom2.default.addClass(li, 'color');
        controller.updateDisplay = _common2.default.compose(function(val) {
          li.style.borderLeftColor = controller.__color.toString();
          return val;
        }, controller.updateDisplay);
        controller.updateDisplay();
      }
      controller.setValue = _common2.default.compose(function(val) {
        if (gui.getRoot().__preset_select && controller.isModified()) {
          markPresetModified(gui.getRoot(), true);
        }
        return val;
      }, controller.setValue);
    }
    function recallSavedValue(gui, controller) {
      var root = gui.getRoot();
      var matchedIndex = root.__rememberedObjects.indexOf(controller.object);
      if (matchedIndex !== -1) {
        var controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];
        if (controllerMap === undefined) {
          controllerMap = {};
          root.__rememberedObjectIndecesToControllers[matchedIndex] = controllerMap;
        }
        controllerMap[controller.property] = controller;
        if (root.load && root.load.remembered) {
          var presetMap = root.load.remembered;
          var preset = void 0;
          if (presetMap[gui.preset]) {
            preset = presetMap[gui.preset];
          } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {
            preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];
          } else {
            return;
          }
          if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {
            var value = preset[matchedIndex][controller.property];
            controller.initialValue = value;
            controller.setValue(value);
          }
        }
      }
    }
    function _add(gui, object, property, params) {
      if (object[property] === undefined) {
        throw new Error('Object "' + object + '" has no property "' + property + '"');
      }
      var controller = void 0;
      if (params.color) {
        controller = new _ColorController2.default(object, property);
      } else {
        var factoryArgs = [object, property].concat(params.factoryArgs);
        controller = _ControllerFactory2.default.apply(gui, factoryArgs);
      }
      if (params.before instanceof _Controller2.default) {
        params.before = params.before.__li;
      }
      recallSavedValue(gui, controller);
      _dom2.default.addClass(controller.domElement, 'c');
      var name = document.createElement('span');
      _dom2.default.addClass(name, 'property-name');
      name.innerHTML = controller.property;
      var container = document.createElement('div');
      container.appendChild(name);
      container.appendChild(controller.domElement);
      var li = addRow(gui, container, params.before);
      _dom2.default.addClass(li, GUI.CLASS_CONTROLLER_ROW);
      if (controller instanceof _ColorController2.default) {
        _dom2.default.addClass(li, 'color');
      } else {
        _dom2.default.addClass(li, _typeof(controller.getValue()));
      }
      augmentController(gui, li, controller);
      gui.__controllers.push(controller);
      return controller;
    }
    function getLocalStorageHash(gui, key) {
      return document.location.href + '.' + key;
    }
    function addPresetOption(gui, name, setSelected) {
      var opt = document.createElement('option');
      opt.innerHTML = name;
      opt.value = name;
      gui.__preset_select.appendChild(opt);
      if (setSelected) {
        gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;
      }
    }
    function showHideExplain(gui, explain) {
      explain.style.display = gui.useLocalStorage ? 'block' : 'none';
    }
    function addSaveMenu(gui) {
      var div = gui.__save_row = document.createElement('li');
      _dom2.default.addClass(gui.domElement, 'has-save');
      gui.__ul.insertBefore(div, gui.__ul.firstChild);
      _dom2.default.addClass(div, 'save-row');
      var gears = document.createElement('span');
      gears.innerHTML = '&nbsp;';
      _dom2.default.addClass(gears, 'button gears');
      var button = document.createElement('span');
      button.innerHTML = 'Save';
      _dom2.default.addClass(button, 'button');
      _dom2.default.addClass(button, 'save');
      var button2 = document.createElement('span');
      button2.innerHTML = 'New';
      _dom2.default.addClass(button2, 'button');
      _dom2.default.addClass(button2, 'save-as');
      var button3 = document.createElement('span');
      button3.innerHTML = 'Revert';
      _dom2.default.addClass(button3, 'button');
      _dom2.default.addClass(button3, 'revert');
      var select = gui.__preset_select = document.createElement('select');
      if (gui.load && gui.load.remembered) {
        _common2.default.each(gui.load.remembered, function(value, key) {
          addPresetOption(gui, key, key === gui.preset);
        });
      } else {
        addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);
      }
      _dom2.default.bind(select, 'change', function() {
        for (var index = 0; index < gui.__preset_select.length; index++) {
          gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;
        }
        gui.preset = this.value;
      });
      div.appendChild(select);
      div.appendChild(gears);
      div.appendChild(button);
      div.appendChild(button2);
      div.appendChild(button3);
      if (SUPPORTS_LOCAL_STORAGE) {
        var explain = document.getElementById('dg-local-explain');
        var localStorageCheckBox = document.getElementById('dg-local-storage');
        var saveLocally = document.getElementById('dg-save-locally');
        saveLocally.style.display = 'block';
        if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {
          localStorageCheckBox.setAttribute('checked', 'checked');
        }
        showHideExplain(gui, explain);
        _dom2.default.bind(localStorageCheckBox, 'change', function() {
          gui.useLocalStorage = !gui.useLocalStorage;
          showHideExplain(gui, explain);
        });
      }
      var newConstructorTextArea = document.getElementById('dg-new-constructor');
      _dom2.default.bind(newConstructorTextArea, 'keydown', function(e) {
        if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {
          SAVE_DIALOGUE.hide();
        }
      });
      _dom2.default.bind(gears, 'click', function() {
        newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);
        SAVE_DIALOGUE.show();
        newConstructorTextArea.focus();
        newConstructorTextArea.select();
      });
      _dom2.default.bind(button, 'click', function() {
        gui.save();
      });
      _dom2.default.bind(button2, 'click', function() {
        var presetName = prompt('Enter a new preset name.');
        if (presetName) {
          gui.saveAs(presetName);
        }
      });
      _dom2.default.bind(button3, 'click', function() {
        gui.revert();
      });
    }
    function addResizeHandle(gui) {
      var pmouseX = void 0;
      gui.__resize_handle = document.createElement('div');
      _common2.default.extend(gui.__resize_handle.style, {
        width: '6px',
        marginLeft: '-3px',
        height: '200px',
        cursor: 'ew-resize',
        position: 'absolute'
      });
      function drag(e) {
        e.preventDefault();
        gui.width += pmouseX - e.clientX;
        gui.onResize();
        pmouseX = e.clientX;
        return false;
      }
      function dragStop() {
        _dom2.default.removeClass(gui.__closeButton, GUI.CLASS_DRAG);
        _dom2.default.unbind(window, 'mousemove', drag);
        _dom2.default.unbind(window, 'mouseup', dragStop);
      }
      function dragStart(e) {
        e.preventDefault();
        pmouseX = e.clientX;
        _dom2.default.addClass(gui.__closeButton, GUI.CLASS_DRAG);
        _dom2.default.bind(window, 'mousemove', drag);
        _dom2.default.bind(window, 'mouseup', dragStop);
        return false;
      }
      _dom2.default.bind(gui.__resize_handle, 'mousedown', dragStart);
      _dom2.default.bind(gui.__closeButton, 'mousedown', dragStart);
      gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);
    }
    function setWidth(gui, w) {
      gui.domElement.style.width = w + 'px';
      if (gui.__save_row && gui.autoPlace) {
        gui.__save_row.style.width = w + 'px';
      }
      if (gui.__closeButton) {
        gui.__closeButton.style.width = w + 'px';
      }
    }
    function getCurrentPreset(gui, useInitialValues) {
      var toReturn = {};
      _common2.default.each(gui.__rememberedObjects, function(val, index) {
        var savedValues = {};
        var controllerMap = gui.__rememberedObjectIndecesToControllers[index];
        _common2.default.each(controllerMap, function(controller, property) {
          savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();
        });
        toReturn[index] = savedValues;
      });
      return toReturn;
    }
    function setPresetSelectIndex(gui) {
      for (var index = 0; index < gui.__preset_select.length; index++) {
        if (gui.__preset_select[index].value === gui.preset) {
          gui.__preset_select.selectedIndex = index;
        }
      }
    }
    function updateDisplays(controllerArray) {
      if (controllerArray.length !== 0) {
        _requestAnimationFrame2.default.call(window, function() {
          updateDisplays(controllerArray);
        });
      }
      _common2.default.each(controllerArray, function(c) {
        c.updateDisplay();
      });
    }
    exports.default = GUI;
    module.exports = exports['default'];
  }, function(module, exports) {
    'use strict';
    module.exports = {
      load: function load(url, indoc) {
        var doc = indoc || document;
        var link = doc.createElement('link');
        link.type = 'text/css';
        link.rel = 'stylesheet';
        link.href = url;
        doc.getElementsByTagName('head')[0].appendChild(link);
      },
      inject: function inject(css, indoc) {
        var doc = indoc || document;
        var injected = document.createElement('style');
        injected.type = 'text/css';
        injected.innerHTML = css;
        var head = doc.getElementsByTagName('head')[0];
        try {
          head.appendChild(injected);
        } catch (e) {}
      }
    };
  }, function(module, exports) {
    module.exports = "<div id=\"dg-save\" class=\"dg dialogue\">\n\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\n\n  <textarea id=\"dg-new-constructor\"></textarea>\n\n  <div id=\"dg-save-locally\">\n\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>";
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _OptionController = __webpack_require__(10);
    var _OptionController2 = _interopRequireDefault(_OptionController);
    var _NumberControllerBox = __webpack_require__(13);
    var _NumberControllerBox2 = _interopRequireDefault(_NumberControllerBox);
    var _NumberControllerSlider = __webpack_require__(14);
    var _NumberControllerSlider2 = _interopRequireDefault(_NumberControllerSlider);
    var _StringController = __webpack_require__(11);
    var _StringController2 = _interopRequireDefault(_StringController);
    var _FunctionController = __webpack_require__(15);
    var _FunctionController2 = _interopRequireDefault(_FunctionController);
    var _BooleanController = __webpack_require__(8);
    var _BooleanController2 = _interopRequireDefault(_BooleanController);
    var _common = __webpack_require__(5);
    var _common2 = _interopRequireDefault(_common);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    var ControllerFactory = function ControllerFactory(object, property) {
      var initialValue = object[property];
      if (_common2.default.isArray(arguments[2]) || _common2.default.isObject(arguments[2])) {
        return new _OptionController2.default(object, property, arguments[2]);
      }
      if (_common2.default.isNumber(initialValue)) {
        if (_common2.default.isNumber(arguments[2]) && _common2.default.isNumber(arguments[3])) {
          if (_common2.default.isNumber(arguments[4])) {
            return new _NumberControllerSlider2.default(object, property, arguments[2], arguments[3], arguments[4]);
          }
          return new _NumberControllerSlider2.default(object, property, arguments[2], arguments[3]);
        }
        if (_common2.default.isNumber(arguments[4])) {
          return new _NumberControllerBox2.default(object, property, {
            min: arguments[2],
            max: arguments[3],
            step: arguments[4]
          });
        }
        return new _NumberControllerBox2.default(object, property, {
          min: arguments[2],
          max: arguments[3]
        });
      }
      if (_common2.default.isString(initialValue)) {
        return new _StringController2.default(object, property);
      }
      if (_common2.default.isFunction(initialValue)) {
        return new _FunctionController2.default(object, property, '');
      }
      if (_common2.default.isBoolean(initialValue)) {
        return new _BooleanController2.default(object, property);
      }
      return null;
    };
    exports.default = ControllerFactory;
    module.exports = exports['default'];
  }, function(module, exports) {
    "use strict";
    exports.__esModule = true;
    function requestAnimationFrame(callback) {
      setTimeout(callback, 1000 / 60);
    }
    exports.default = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;
    module.exports = exports["default"];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _dom = __webpack_require__(9);
    var _dom2 = _interopRequireDefault(_dom);
    var _common = __webpack_require__(5);
    var _common2 = _interopRequireDefault(_common);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {default: obj};
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    var CenteredDiv = function() {
      function CenteredDiv() {
        _classCallCheck(this, CenteredDiv);
        this.backgroundElement = document.createElement('div');
        _common2.default.extend(this.backgroundElement.style, {
          backgroundColor: 'rgba(0,0,0,0.8)',
          top: 0,
          left: 0,
          display: 'none',
          zIndex: '1000',
          opacity: 0,
          WebkitTransition: 'opacity 0.2s linear',
          transition: 'opacity 0.2s linear'
        });
        _dom2.default.makeFullscreen(this.backgroundElement);
        this.backgroundElement.style.position = 'fixed';
        this.domElement = document.createElement('div');
        _common2.default.extend(this.domElement.style, {
          position: 'fixed',
          display: 'none',
          zIndex: '1001',
          opacity: 0,
          WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',
          transition: 'transform 0.2s ease-out, opacity 0.2s linear'
        });
        document.body.appendChild(this.backgroundElement);
        document.body.appendChild(this.domElement);
        var _this = this;
        _dom2.default.bind(this.backgroundElement, 'click', function() {
          _this.hide();
        });
      }
      CenteredDiv.prototype.show = function show() {
        var _this = this;
        this.backgroundElement.style.display = 'block';
        this.domElement.style.display = 'block';
        this.domElement.style.opacity = 0;
        this.domElement.style.webkitTransform = 'scale(1.1)';
        this.layout();
        _common2.default.defer(function() {
          _this.backgroundElement.style.opacity = 1;
          _this.domElement.style.opacity = 1;
          _this.domElement.style.webkitTransform = 'scale(1)';
        });
      };
      CenteredDiv.prototype.hide = function hide() {
        var _this = this;
        var hide = function hide() {
          _this.domElement.style.display = 'none';
          _this.backgroundElement.style.display = 'none';
          _dom2.default.unbind(_this.domElement, 'webkitTransitionEnd', hide);
          _dom2.default.unbind(_this.domElement, 'transitionend', hide);
          _dom2.default.unbind(_this.domElement, 'oTransitionEnd', hide);
        };
        _dom2.default.bind(this.domElement, 'webkitTransitionEnd', hide);
        _dom2.default.bind(this.domElement, 'transitionend', hide);
        _dom2.default.bind(this.domElement, 'oTransitionEnd', hide);
        this.backgroundElement.style.opacity = 0;
        this.domElement.style.opacity = 0;
        this.domElement.style.webkitTransform = 'scale(1.1)';
      };
      CenteredDiv.prototype.layout = function layout() {
        this.domElement.style.left = window.innerWidth / 2 - _dom2.default.getWidth(this.domElement) / 2 + 'px';
        this.domElement.style.top = window.innerHeight / 2 - _dom2.default.getHeight(this.domElement) / 2 + 'px';
      };
      return CenteredDiv;
    }();
    exports.default = CenteredDiv;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    exports = module.exports = __webpack_require__(24)();
    exports.push([module.id, ".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */\n  /** allow overflow for color selector */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button.close-top {\n        position: relative; }\n      .dg.main .close-button.close-bottom {\n        position: absolute; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-y: visible; }\n    .dg.a.has-save > ul.close-top {\n      margin-top: 0; }\n    .dg.a.has-save > ul.close-bottom {\n      margin-top: 27px; }\n    .dg.a.has-save > ul.closed {\n      margin-top: 0; }\n    .dg.a .save-row {\n      top: 0;\n      z-index: 1002; }\n      .dg.a .save-row.close-top {\n        position: relative; }\n      .dg.a .save-row.close-bottom {\n        position: fixed; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out;\n    -webkit-transition: overflow 0.1s linear;\n    -o-transition: overflow 0.1s linear;\n    -moz-transition: overflow 0.1s linear;\n    transition: overflow 0.1s linear; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid transparent; }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px;\n    overflow: hidden; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%;\n    position: relative; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 7px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .cr.color {\n    overflow: visible; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: #000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.color {\n    border-left: 3px solid; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2FA1D6; }\n    .dg .cr.number input[type=text] {\n      color: #2FA1D6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2FA1D6;\n    max-width: 100%; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n", ""]);
  }, function(module, exports) {
    module.exports = function() {
      var list = [];
      list.toString = function toString() {
        var result = [];
        for (var i = 0; i < this.length; i++) {
          var item = this[i];
          if (item[2]) {
            result.push("@media " + item[2] + "{" + item[1] + "}");
          } else {
            result.push(item[1]);
          }
        }
        return result.join("");
      };
      list.i = function(modules, mediaQuery) {
        if (typeof modules === "string")
          modules = [[null, modules, ""]];
        var alreadyImportedModules = {};
        for (var i = 0; i < this.length; i++) {
          var id = this[i][0];
          if (typeof id === "number")
            alreadyImportedModules[id] = true;
        }
        for (i = 0; i < modules.length; i++) {
          var item = modules[i];
          if (typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {
            if (mediaQuery && !item[2]) {
              item[2] = mediaQuery;
            } else if (mediaQuery) {
              item[2] = "(" + item[2] + ") and (" + mediaQuery + ")";
            }
            list.push(item);
          }
        }
      };
      return list;
    };
  }]);
});
;

})();
$__System.register("b", [], function (_export) {
	"use strict";

	return {
		setters: [],
		execute: function () {
			_export("default", {
				debug: {
					count: 12.,
					range: .8,
					radius: .4,
					height: .001,
					thin: .27,
					blend: .1,
					rotation1: 0,
					rotation2: 0,
					rotation3: 0,
					rotation4: 0,
					rotation5: 0,
					rotation6: 0,
					kaleidoX: true,
					kaleidoY: true,
					kaleidoZ: true
				}
			});
		}
	};
});

$__System.register('46', ['a', '4e', 'b'], function (_export) {
	var _Object$keys, dat, parameters, gui;

	return {
		setters: [function (_a) {
			_Object$keys = _a['default'];
		}, function (_e) {
			dat = _e;
		}, function (_b) {
			parameters = _b['default'];
		}],
		execute: function () {
			'use strict';

			gui = {};

			_export('gui', gui);

			gui.gone = false;
			gui.go = function () {
				_export('gui', gui = new dat.gui.GUI());
				gui.remember(parameters);
				_Object$keys(parameters).forEach(function (keyRoot) {
					var folder = gui.addFolder(keyRoot);
					var keys = _Object$keys(parameters[keyRoot]);
					if (keys.length > 0) {
						keys.forEach(function (key) {
							var param = parameters[keyRoot][key];
							var item = folder.add(parameters[keyRoot], key);
							var type = typeof param;
							if (type == 'number') {
								item.step(0.01);
							}
						});
					} else {}
					folder.open();
				});
				// gui.close();
				gui.gone = true;
			};
		}
	};
});

$__System.register('1', ['45', '46'], function (_export) {
	'use strict';

	var demo, gui;
	return {
		setters: [function (_) {
			demo = _['default'];
		}, function (_2) {
			gui = _2.gui;
		}],
		execute: function () {

			window.onload = function () {
				demo();
			};
		}
	};
});

})
(function(factory) {
  factory();
});